import{r as d,u as n,j as e,L as c}from"./index-0LaFy2cp.js";import{u as x}from"./useCurrentTournament-Dp40AeN5.js";import{a as h}from"./match.service-BrE1O46H.js";function i({player:a}){var r,t;return e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("div",{className:"h-10 aspect-square p-1",style:{backgroundColor:a.color.primary},children:e.jsx("img",{src:(r=a.image.logo)==null?void 0:r.default.url,className:"aspect-square",alt:""})}),e.jsx("img",{src:(t=a.image.portrait)==null?void 0:t.default.url,className:"h-10 aspect-[18/25]",alt:""}),e.jsxs("div",{children:[e.jsx("p",{children:a.name.display.third}),e.jsx("p",{className:"text-sm leading-4 opacity-50",children:a.name.display.primary})]})]})}function j(){const{data:{tournament:a,playersMap:r}}=x(),[t,o]=d.useState("recent"),{data:l=[]}=n({queryKey:["v2-tournaments",a==null?void 0:a.id,"matches",t],queryFn:({queryKey:s})=>h(s[1]),enabled:!!(a!=null&&a.id)});return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl",children:"近期賽事"}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"對局"}),e.jsx("th",{children:"東"}),e.jsx("th",{children:"南"}),e.jsx("th",{children:"西"}),e.jsx("th",{children:"北"}),e.jsx("th",{children:"操作"})]})}),e.jsx("tbody",{children:l.map(s=>e.jsxs("tr",{children:[e.jsx("th",{children:s.data.name}),e.jsx("td",{children:e.jsx(i,{player:r[s.data.players[0].id]??s.data.players[0]})}),e.jsx("td",{children:e.jsx(i,{player:r[s.data.players[1].id]??s.data.players[1]})}),e.jsx("td",{children:e.jsx(i,{player:r[s.data.players[2].id]??s.data.players[2]})}),e.jsx("td",{children:e.jsx(i,{player:r[s.data.players[3].id]??s.data.players[3]})}),e.jsx("td",{children:e.jsx(c,{href:`/matches/${s.code}/edit?autoSubmit`,className:"text-success",children:"導入至直播系統"})})]},s.code))})]})]})}function y(){return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"container mx-6 my-4",children:e.jsx("h2",{className:"text-2xl",children:"直播中"})}),e.jsx("section",{className:"container mx-6 my-4",children:e.jsx(j,{})})]})}export{y as default};
