function EC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function CC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var y0={exports:{}},Zu={},g0={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=Symbol.for("react.element"),bC=Symbol.for("react.portal"),AC=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),kC=Symbol.for("react.context"),TC=Symbol.for("react.forward_ref"),RC=Symbol.for("react.suspense"),jC=Symbol.for("react.memo"),OC=Symbol.for("react.lazy"),lg=Symbol.iterator;function $C(t){return t===null||typeof t!="object"?null:(t=lg&&t[lg]||t["@@iterator"],typeof t=="function"?t:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v0=Object.assign,_0={};function Mi(t,e,r){this.props=t,this.context=e,this.refs=_0,this.updater=r||m0}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x0(){}x0.prototype=Mi.prototype;function Zp(t,e,r){this.props=t,this.context=e,this.refs=_0,this.updater=r||m0}var eh=Zp.prototype=new x0;eh.constructor=Zp;v0(eh,Mi.prototype);eh.isPureReactComponent=!0;var ug=Array.isArray,S0=Object.prototype.hasOwnProperty,th={current:null},w0={key:!0,ref:!0,__self:!0,__source:!0};function E0(t,e,r){var n,o={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)S0.call(e,n)&&!w0.hasOwnProperty(n)&&(o[n]=e[n]);var a=arguments.length-2;if(a===1)o.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)o[n]===void 0&&(o[n]=a[n]);return{$$typeof:la,type:t,key:i,ref:s,props:o,_owner:th.current}}function DC(t,e){return{$$typeof:la,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rh(t){return typeof t=="object"&&t!==null&&t.$$typeof===la}function FC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var cg=/\/+/g;function zc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FC(""+t.key):e.toString(36)}function ul(t,e,r,n,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case la:case bC:s=!0}}if(s)return s=t,o=o(s),t=n===""?"."+zc(s,0):n,ug(o)?(r="",t!=null&&(r=t.replace(cg,"$&/")+"/"),ul(o,e,r,"",function(u){return u})):o!=null&&(rh(o)&&(o=DC(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(cg,"$&/")+"/")+t)),e.push(o)),1;if(s=0,n=n===""?".":n+":",ug(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+zc(i,a);s+=ul(i,e,r,l,o)}else if(l=$C(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+zc(i,a++),s+=ul(i,e,r,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Fa(t,e,r){if(t==null)return t;var n=[],o=0;return ul(t,n,"","",function(i){return e.call(r,i,o++)}),n}function MC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},cl={transition:null},LC={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:cl,ReactCurrentOwner:th};te.Children={map:Fa,forEach:function(t,e,r){Fa(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Fa(t,function(){e++}),e},toArray:function(t){return Fa(t,function(e){return e})||[]},only:function(t){if(!rh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Mi;te.Fragment=AC;te.Profiler=PC;te.PureComponent=Zp;te.StrictMode=IC;te.Suspense=RC;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC;te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=v0({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=th.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)S0.call(e,l)&&!w0.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:la,type:t.type,key:o,ref:i,props:n,_owner:s}};te.createContext=function(t){return t={$$typeof:kC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NC,_context:t},t.Consumer=t};te.createElement=E0;te.createFactory=function(t){var e=E0.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:TC,render:t}};te.isValidElement=rh;te.lazy=function(t){return{$$typeof:OC,_payload:{_status:-1,_result:t},_init:MC}};te.memo=function(t,e){return{$$typeof:jC,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=cl.transition;cl.transition={};try{t()}finally{cl.transition=e}};te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};te.useCallback=function(t,e){return ht.current.useCallback(t,e)};te.useContext=function(t){return ht.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};te.useEffect=function(t,e){return ht.current.useEffect(t,e)};te.useId=function(){return ht.current.useId()};te.useImperativeHandle=function(t,e,r){return ht.current.useImperativeHandle(t,e,r)};te.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return ht.current.useMemo(t,e)};te.useReducer=function(t,e,r){return ht.current.useReducer(t,e,r)};te.useRef=function(t){return ht.current.useRef(t)};te.useState=function(t){return ht.current.useState(t)};te.useSyncExternalStore=function(t,e,r){return ht.current.useSyncExternalStore(t,e,r)};te.useTransition=function(){return ht.current.useTransition()};te.version="18.2.0";g0.exports=te;var S=g0.exports;const ge=h0(S),BC=EC({__proto__:null,default:ge},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=S,WC=Symbol.for("react.element"),zC=Symbol.for("react.fragment"),VC=Object.prototype.hasOwnProperty,GC=UC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HC={key:!0,ref:!0,__self:!0,__source:!0};function C0(t,e,r){var n,o={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)VC.call(e,n)&&!HC.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)o[n]===void 0&&(o[n]=e[n]);return{$$typeof:WC,type:t,key:i,ref:s,props:o,_owner:GC.current}}Zu.Fragment=zC;Zu.jsx=C0;Zu.jsxs=C0;y0.exports=Zu;var c=y0.exports,yd={},b0={exports:{}},Nt={},A0={exports:{}},I0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,M){var G=R.length;R.push(M);e:for(;0<G;){var ce=G-1>>>1,Ee=R[ce];if(0<o(Ee,M))R[ce]=M,R[G]=Ee,G=ce;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var M=R[0],G=R.pop();if(G!==M){R[0]=G;e:for(var ce=0,Ee=R.length,gr=Ee>>>1;ce<gr;){var Ut=2*(ce+1)-1,Fr=R[Ut],D=Ut+1,B=R[D];if(0>o(Fr,G))D<Ee&&0>o(B,Fr)?(R[ce]=B,R[D]=G,ce=D):(R[ce]=Fr,R[Ut]=G,ce=Ut);else if(D<Ee&&0>o(B,G))R[ce]=B,R[D]=G,ce=D;else break e}}return M}function o(R,M){var G=R.sortIndex-M.sortIndex;return G!==0?G:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],p=1,d=null,f=3,y=!1,g=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=R)n(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=r(u)}}function E(R){if(_=!1,m(R),!g)if(r(l)!==null)g=!0,Re(A);else{var M=r(u);M!==null&&nt(E,M.startTime-R)}}function A(R,M){g=!1,_&&(_=!1,v(j),j=-1),y=!0;var G=f;try{for(m(M),d=r(l);d!==null&&(!(d.expirationTime>M)||R&&!ve());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,f=d.priorityLevel;var Ee=ce(d.expirationTime<=M);M=t.unstable_now(),typeof Ee=="function"?d.callback=Ee:d===r(l)&&n(l),m(M)}else n(l);d=r(l)}if(d!==null)var gr=!0;else{var Ut=r(u);Ut!==null&&nt(E,Ut.startTime-M),gr=!1}return gr}finally{d=null,f=G,y=!1}}var I=!1,T=null,j=-1,Q=5,V=-1;function ve(){return!(t.unstable_now()-V<Q)}function H(){if(T!==null){var R=t.unstable_now();V=R;var M=!0;try{M=T(!0,R)}finally{M?W():(I=!1,T=null)}}else I=!1}var W;if(typeof h=="function")W=function(){h(H)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Oe=ae.port2;ae.port1.onmessage=H,W=function(){Oe.postMessage(null)}}else W=function(){b(H,0)};function Re(R){T=R,I||(I=!0,W())}function nt(R,M){j=b(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||y||(g=!0,Re(A))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var G=f;f=M;try{return R()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=f;f=R;try{return M()}finally{f=G}},t.unstable_scheduleCallback=function(R,M,G){var ce=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ce+G:ce):G=ce,R){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=G+Ee,R={id:p++,callback:M,priorityLevel:R,startTime:G,expirationTime:Ee,sortIndex:-1},G>ce?(R.sortIndex=G,e(u,R),r(l)===null&&R===r(u)&&(_?(v(j),j=-1):_=!0,nt(E,G-ce))):(R.sortIndex=Ee,e(l,R),g||y||(g=!0,Re(A))),R},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(R){var M=f;return function(){var G=f;f=M;try{return R.apply(this,arguments)}finally{f=G}}}})(I0);A0.exports=I0;var QC=A0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0=S,Pt=QC;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N0=new Set,Os={};function so(t,e){hi(t,e),hi(t+"Capture",e)}function hi(t,e){for(Os[t]=e,t=0;t<e.length;t++)N0.add(e[t])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fg={},dg={};function qC(t){return gd.call(dg,t)?!0:gd.call(fg,t)?!1:KC.test(t)?dg[t]=!0:(fg[t]=!0,!1)}function YC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JC(t,e,r,n){if(e===null||typeof e>"u"||YC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yt(t,e,r,n,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var nh=/[\-:]([a-z])/g;function oh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nh,oh);tt[e]=new yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nh,oh);tt[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nh,oh);tt[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new yt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ih(t,e,r,n){var o=tt.hasOwnProperty(e)?tt[e]:null;(o!==null?o.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JC(e,r,o,n)&&(r=null),n||o===null?qC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):o.mustUseProperty?t[o.propertyName]=r===null?o.type===3?!1:"":r:(e=o.attributeName,n=o.attributeNamespace,r===null?t.removeAttribute(e):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Or=P0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),md=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),vd=Symbol.for("react.suspense"),_d=Symbol.for("react.suspense_list"),lh=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),R0=Symbol.for("react.offscreen"),pg=Symbol.iterator;function qi(t){return t===null||typeof t!="object"?null:(t=pg&&t[pg]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Vc;function ds(t){if(Vc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Vc=e&&e[1]||""}return`
`+Vc+t}var Gc=!1;function Hc(t,e){if(!t||Gc)return"";Gc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=n.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Gc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ds(t):""}function XC(t){switch(t.tag){case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 2:case 15:return t=Hc(t.type,!1),t;case 11:return t=Hc(t.type.render,!1),t;case 1:return t=Hc(t.type,!0),t;default:return""}}function xd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jo:return"Fragment";case Ro:return"Portal";case md:return"Profiler";case sh:return"StrictMode";case vd:return"Suspense";case _d:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T0:return(t.displayName||"Context")+".Consumer";case k0:return(t._context.displayName||"Context")+".Provider";case ah:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lh:return e=t.displayName||null,e!==null?e:xd(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return xd(t(e))}catch{}}return null}function ZC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xd(e);case 8:return e===sh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eb(t){var e=j0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function La(t){t._valueTracker||(t._valueTracker=eb(t))}function O0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=j0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sd(t,e){var r=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function hg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $0(t,e){e=e.checked,e!=null&&ih(t,"checked",e,!1)}function wd(t,e){$0(t,e);var r=fn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ed(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ed(t,e.type,fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ed(t,e,r){(e!=="number"||jl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ps=Array.isArray;function qo(t,e,r,n){if(t=t.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<t.length;r++)o=e.hasOwnProperty("$"+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fn(r),e=null,o=0;o<t.length;o++){if(t[o].value===r){t[o].selected=!0,n&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Cd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(P(92));if(ps(r)){if(1<r.length)throw Error(P(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fn(r)}}function D0(t,e){var r=fn(e.value),n=fn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ba,M0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,o){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $s(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tb=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(t){tb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ms[e]=ms[t]})});function L0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ms.hasOwnProperty(t)&&ms[t]?(""+e).trim():e+"px"}function B0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=L0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,o):t[r]=o}}var rb=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ad(t,e){if(e){if(rb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Id(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=null;function uh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nd=null,Yo=null,Jo=null;function vg(t){if(t=fa(t)){if(typeof Nd!="function")throw Error(P(280));var e=t.stateNode;e&&(e=oc(e),Nd(t.stateNode,t.type,e))}}function U0(t){Yo?Jo?Jo.push(t):Jo=[t]:Yo=t}function W0(){if(Yo){var t=Yo,e=Jo;if(Jo=Yo=null,vg(t),e)for(t=0;t<e.length;t++)vg(e[t])}}function z0(t,e){return t(e)}function V0(){}var Qc=!1;function G0(t,e,r){if(Qc)return t(e,r);Qc=!0;try{return z0(t,e,r)}finally{Qc=!1,(Yo!==null||Jo!==null)&&(V0(),W0())}}function Ds(t,e){var r=t.stateNode;if(r===null)return null;var n=oc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(P(231,e,typeof r));return r}var kd=!1;if(Ir)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){kd=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{kd=!1}function nb(t,e,r,n,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(p){this.onError(p)}}var vs=!1,Ol=null,$l=!1,Td=null,ob={onError:function(t){vs=!0,Ol=t}};function ib(t,e,r,n,o,i,s,a,l){vs=!1,Ol=null,nb.apply(ob,arguments)}function sb(t,e,r,n,o,i,s,a,l){if(ib.apply(this,arguments),vs){if(vs){var u=Ol;vs=!1,Ol=null}else throw Error(P(198));$l||($l=!0,Td=u)}}function ao(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function H0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _g(t){if(ao(t)!==t)throw Error(P(188))}function ab(t){var e=t.alternate;if(!e){if(e=ao(t),e===null)throw Error(P(188));return e!==t?null:t}for(var r=t,n=e;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return _g(o),t;if(i===n)return _g(o),e;i=i.sibling}throw Error(P(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?t:e}function Q0(t){return t=ab(t),t!==null?K0(t):null}function K0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K0(t);if(e!==null)return e;t=t.sibling}return null}var q0=Pt.unstable_scheduleCallback,xg=Pt.unstable_cancelCallback,lb=Pt.unstable_shouldYield,ub=Pt.unstable_requestPaint,je=Pt.unstable_now,cb=Pt.unstable_getCurrentPriorityLevel,ch=Pt.unstable_ImmediatePriority,Y0=Pt.unstable_UserBlockingPriority,Dl=Pt.unstable_NormalPriority,fb=Pt.unstable_LowPriority,J0=Pt.unstable_IdlePriority,ec=null,fr=null;function db(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(ec,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:yb,pb=Math.log,hb=Math.LN2;function yb(t){return t>>>=0,t===0?32:31-(pb(t)/hb|0)|0}var Ua=64,Wa=4194304;function hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,o=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~o;a!==0?n=hs(a):(i&=s,i!==0&&(n=hs(i)))}else s=r&~o,s!==0?n=hs(s):i!==0&&(n=hs(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&o)&&(o=n&-n,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Jt(e),o=1<<r,n|=t[r],e&=~o;return n}function gb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mb(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Jt(i),a=1<<s,l=o[s];l===-1?(!(a&r)||a&n)&&(o[s]=gb(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Rd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function X0(){var t=Ua;return Ua<<=1,!(Ua&4194240)&&(Ua=64),t}function Kc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ua(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=r}function vb(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var o=31-Jt(r),i=1<<o;e[o]=0,n[o]=-1,t[o]=-1,r&=~i}}function fh(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Jt(r),o=1<<n;o&e|t[n]&e&&(t[n]|=e),r&=~o}}var le=0;function Z0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ex,dh,tx,rx,nx,jd=!1,za=[],Xr=null,Zr=null,en=null,Fs=new Map,Ms=new Map,Gr=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sg(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(e.pointerId)}}function Ji(t,e,r,n,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},e!==null&&(e=fa(e),e!==null&&dh(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function xb(t,e,r,n,o){switch(e){case"focusin":return Xr=Ji(Xr,t,e,r,n,o),!0;case"dragenter":return Zr=Ji(Zr,t,e,r,n,o),!0;case"mouseover":return en=Ji(en,t,e,r,n,o),!0;case"pointerover":var i=o.pointerId;return Fs.set(i,Ji(Fs.get(i)||null,t,e,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Ms.set(i,Ji(Ms.get(i)||null,t,e,r,n,o)),!0}return!1}function ox(t){var e=Pn(t.target);if(e!==null){var r=ao(e);if(r!==null){if(e=r.tag,e===13){if(e=H0(r),e!==null){t.blockedOn=e,nx(t.priority,function(){tx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Od(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Pd=n,r.target.dispatchEvent(n),Pd=null}else return e=fa(r),e!==null&&dh(e),t.blockedOn=r,!1;e.shift()}return!0}function wg(t,e,r){fl(t)&&r.delete(e)}function Sb(){jd=!1,Xr!==null&&fl(Xr)&&(Xr=null),Zr!==null&&fl(Zr)&&(Zr=null),en!==null&&fl(en)&&(en=null),Fs.forEach(wg),Ms.forEach(wg)}function Xi(t,e){t.blockedOn===e&&(t.blockedOn=null,jd||(jd=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,Sb)))}function Ls(t){function e(o){return Xi(o,t)}if(0<za.length){Xi(za[0],t);for(var r=1;r<za.length;r++){var n=za[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Xr!==null&&Xi(Xr,t),Zr!==null&&Xi(Zr,t),en!==null&&Xi(en,t),Fs.forEach(e),Ms.forEach(e),r=0;r<Gr.length;r++)n=Gr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gr.length&&(r=Gr[0],r.blockedOn===null);)ox(r),r.blockedOn===null&&Gr.shift()}var Xo=Or.ReactCurrentBatchConfig,Ml=!0;function wb(t,e,r,n){var o=le,i=Xo.transition;Xo.transition=null;try{le=1,ph(t,e,r,n)}finally{le=o,Xo.transition=i}}function Eb(t,e,r,n){var o=le,i=Xo.transition;Xo.transition=null;try{le=4,ph(t,e,r,n)}finally{le=o,Xo.transition=i}}function ph(t,e,r,n){if(Ml){var o=Od(t,e,r,n);if(o===null)of(t,e,n,Ll,r),Sg(t,n);else if(xb(o,t,e,r,n))n.stopPropagation();else if(Sg(t,n),e&4&&-1<_b.indexOf(t)){for(;o!==null;){var i=fa(o);if(i!==null&&ex(i),i=Od(t,e,r,n),i===null&&of(t,e,n,Ll,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else of(t,e,n,null,r)}}var Ll=null;function Od(t,e,r,n){if(Ll=null,t=uh(n),t=Pn(t),t!==null)if(e=ao(t),e===null)t=null;else if(r=e.tag,r===13){if(t=H0(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ll=t,null}function ix(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cb()){case ch:return 1;case Y0:return 4;case Dl:case fb:return 16;case J0:return 536870912;default:return 16}default:return 16}}var Qr=null,hh=null,dl=null;function sx(){if(dl)return dl;var t,e=hh,r=e.length,n,o="value"in Qr?Qr.value:Qr.textContent,i=o.length;for(t=0;t<r&&e[t]===o[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===o[i-n];n++);return dl=o.slice(t,1<n?1-n:void 0)}function pl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Va(){return!0}function Eg(){return!1}function kt(t){function e(r,n,o,i,s){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Va:Eg,this.isPropagationStopped=Eg,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),e}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=kt(Li),ca=Ie({},Li,{view:0,detail:0}),Cb=kt(ca),qc,Yc,Zi,tc=Ie({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zi&&(Zi&&t.type==="mousemove"?(qc=t.screenX-Zi.screenX,Yc=t.screenY-Zi.screenY):Yc=qc=0,Zi=t),qc)},movementY:function(t){return"movementY"in t?t.movementY:Yc}}),Cg=kt(tc),bb=Ie({},tc,{dataTransfer:0}),Ab=kt(bb),Ib=Ie({},ca,{relatedTarget:0}),Jc=kt(Ib),Pb=Ie({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Nb=kt(Pb),kb=Ie({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tb=kt(kb),Rb=Ie({},Li,{data:0}),bg=kt(Rb),jb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Db(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$b[t])?!!e[t]:!1}function gh(){return Db}var Fb=Ie({},ca,{key:function(t){if(t.key){var e=jb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ob[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(t){return t.type==="keypress"?pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mb=kt(Fb),Lb=Ie({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ag=kt(Lb),Bb=Ie({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),Ub=kt(Bb),Wb=Ie({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),zb=kt(Wb),Vb=Ie({},tc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gb=kt(Vb),Hb=[9,13,27,32],mh=Ir&&"CompositionEvent"in window,_s=null;Ir&&"documentMode"in document&&(_s=document.documentMode);var Qb=Ir&&"TextEvent"in window&&!_s,ax=Ir&&(!mh||_s&&8<_s&&11>=_s),Ig=String.fromCharCode(32),Pg=!1;function lx(t,e){switch(t){case"keyup":return Hb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ux(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function Kb(t,e){switch(t){case"compositionend":return ux(e);case"keypress":return e.which!==32?null:(Pg=!0,Ig);case"textInput":return t=e.data,t===Ig&&Pg?null:t;default:return null}}function qb(t,e){if(Oo)return t==="compositionend"||!mh&&lx(t,e)?(t=sx(),dl=hh=Qr=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ax&&e.locale!=="ko"?null:e.data;default:return null}}var Yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yb[t.type]:e==="textarea"}function cx(t,e,r,n){U0(n),e=Bl(e,"onChange"),0<e.length&&(r=new yh("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var xs=null,Bs=null;function Jb(t){Sx(t,0)}function rc(t){var e=Fo(t);if(O0(e))return t}function Xb(t,e){if(t==="change")return e}var fx=!1;if(Ir){var Xc;if(Ir){var Zc="oninput"in document;if(!Zc){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Zc=typeof kg.oninput=="function"}Xc=Zc}else Xc=!1;fx=Xc&&(!document.documentMode||9<document.documentMode)}function Tg(){xs&&(xs.detachEvent("onpropertychange",dx),Bs=xs=null)}function dx(t){if(t.propertyName==="value"&&rc(Bs)){var e=[];cx(e,Bs,t,uh(t)),G0(Jb,e)}}function Zb(t,e,r){t==="focusin"?(Tg(),xs=e,Bs=r,xs.attachEvent("onpropertychange",dx)):t==="focusout"&&Tg()}function eA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(Bs)}function tA(t,e){if(t==="click")return rc(e)}function rA(t,e){if(t==="input"||t==="change")return rc(e)}function nA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:nA;function Us(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!gd.call(e,o)||!rr(t[o],e[o]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,e){var r=Rg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rg(r)}}function px(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?px(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hx(){for(var t=window,e=jl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=jl(t.document)}return e}function vh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oA(t){var e=hx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&px(r.ownerDocument.documentElement,r)){if(n!==null&&vh(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!t.extend&&i>n&&(o=n,n=i,i=o),o=jg(r,i);var s=jg(r,n);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iA=Ir&&"documentMode"in document&&11>=document.documentMode,$o=null,$d=null,Ss=null,Dd=!1;function Og(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dd||$o==null||$o!==jl(n)||(n=$o,"selectionStart"in n&&vh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ss&&Us(Ss,n)||(Ss=n,n=Bl($d,"onSelect"),0<n.length&&(e=new yh("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=$o)))}function Ga(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Do={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},ef={},yx={};Ir&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function nc(t){if(ef[t])return ef[t];if(!Do[t])return t;var e=Do[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in yx)return ef[t]=e[r];return t}var gx=nc("animationend"),mx=nc("animationiteration"),vx=nc("animationstart"),_x=nc("transitionend"),xx=new Map,$g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(t,e){xx.set(t,e),so(e,[t])}for(var tf=0;tf<$g.length;tf++){var rf=$g[tf],sA=rf.toLowerCase(),aA=rf[0].toUpperCase()+rf.slice(1);vn(sA,"on"+aA)}vn(gx,"onAnimationEnd");vn(mx,"onAnimationIteration");vn(vx,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(_x,"onTransitionEnd");hi("onMouseEnter",["mouseout","mouseover"]);hi("onMouseLeave",["mouseout","mouseover"]);hi("onPointerEnter",["pointerout","pointerover"]);hi("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function Dg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,sb(n,e,void 0,t),t.currentTarget=null}function Sx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],o=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Dg(o,a,u),i=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Dg(o,a,u),i=l}}}if($l)throw t=Td,$l=!1,Td=null,t}function _e(t,e){var r=e[Ud];r===void 0&&(r=e[Ud]=new Set);var n=t+"__bubble";r.has(n)||(wx(e,t,2,!1),r.add(n))}function nf(t,e,r){var n=0;e&&(n|=4),wx(r,t,n,e)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[Ha]){t[Ha]=!0,N0.forEach(function(r){r!=="selectionchange"&&(lA.has(r)||nf(r,!1,t),nf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ha]||(e[Ha]=!0,nf("selectionchange",!1,e))}}function wx(t,e,r,n){switch(ix(e)){case 1:var o=wb;break;case 4:o=Eb;break;default:o=ph}r=o.bind(null,e,r,t),o=void 0,!kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),n?o!==void 0?t.addEventListener(e,r,{capture:!0,passive:o}):t.addEventListener(e,r,!0):o!==void 0?t.addEventListener(e,r,{passive:o}):t.addEventListener(e,r,!1)}function of(t,e,r,n,o){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Pn(a),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}a=a.parentNode}}n=n.return}G0(function(){var u=i,p=uh(r),d=[];e:{var f=xx.get(t);if(f!==void 0){var y=yh,g=t;switch(t){case"keypress":if(pl(r)===0)break e;case"keydown":case"keyup":y=Mb;break;case"focusin":g="focus",y=Jc;break;case"focusout":g="blur",y=Jc;break;case"beforeblur":case"afterblur":y=Jc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ub;break;case gx:case mx:case vx:y=Nb;break;case _x:y=zb;break;case"scroll":y=Cb;break;case"wheel":y=Gb;break;case"copy":case"cut":case"paste":y=Tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ag}var _=(e&4)!==0,b=!_&&t==="scroll",v=_?f!==null?f+"Capture":null:f;_=[];for(var h=u,m;h!==null;){m=h;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,v!==null&&(E=Ds(h,v),E!=null&&_.push(zs(h,E,m)))),b)break;h=h.return}0<_.length&&(f=new y(f,g,null,r,p),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==Pd&&(g=r.relatedTarget||r.fromElement)&&(Pn(g)||g[Pr]))break e;if((y||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=u,g=g?Pn(g):null,g!==null&&(b=ao(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(_=Cg,E="onMouseLeave",v="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ag,E="onPointerLeave",v="onPointerEnter",h="pointer"),b=y==null?f:Fo(y),m=g==null?f:Fo(g),f=new _(E,h+"leave",y,r,p),f.target=b,f.relatedTarget=m,E=null,Pn(p)===u&&(_=new _(v,h+"enter",g,r,p),_.target=m,_.relatedTarget=b,E=_),b=E,y&&g)t:{for(_=y,v=g,h=0,m=_;m;m=po(m))h++;for(m=0,E=v;E;E=po(E))m++;for(;0<h-m;)_=po(_),h--;for(;0<m-h;)v=po(v),m--;for(;h--;){if(_===v||v!==null&&_===v.alternate)break t;_=po(_),v=po(v)}_=null}else _=null;y!==null&&Fg(d,f,y,_,!1),g!==null&&b!==null&&Fg(d,b,g,_,!0)}}e:{if(f=u?Fo(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var A=Xb;else if(Ng(f))if(fx)A=rA;else{A=eA;var I=Zb}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=tA);if(A&&(A=A(t,u))){cx(d,A,r,p);break e}I&&I(t,f,u),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&Ed(f,"number",f.value)}switch(I=u?Fo(u):window,t){case"focusin":(Ng(I)||I.contentEditable==="true")&&($o=I,$d=u,Ss=null);break;case"focusout":Ss=$d=$o=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,Og(d,r,p);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":Og(d,r,p)}var T;if(mh)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Oo?lx(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(ax&&r.locale!=="ko"&&(Oo||j!=="onCompositionStart"?j==="onCompositionEnd"&&Oo&&(T=sx()):(Qr=p,hh="value"in Qr?Qr.value:Qr.textContent,Oo=!0)),I=Bl(u,j),0<I.length&&(j=new bg(j,t,null,r,p),d.push({event:j,listeners:I}),T?j.data=T:(T=ux(r),T!==null&&(j.data=T)))),(T=Qb?Kb(t,r):qb(t,r))&&(u=Bl(u,"onBeforeInput"),0<u.length&&(p=new bg("onBeforeInput","beforeinput",null,r,p),d.push({event:p,listeners:u}),p.data=T))}Sx(d,e)})}function zs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Bl(t,e){for(var r=e+"Capture",n=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ds(t,r),i!=null&&n.unshift(zs(t,i,o)),i=Ds(t,e),i!=null&&n.push(zs(t,i,o))),t=t.return}return n}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fg(t,e,r,n,o){for(var i=e._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,o?(l=Ds(r,i),l!=null&&s.unshift(zs(r,l,a))):o||(l=Ds(r,i),l!=null&&s.push(zs(r,l,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var uA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function Mg(t){return(typeof t=="string"?t:""+t).replace(uA,`
`).replace(cA,"")}function Qa(t,e,r){if(e=Mg(e),Mg(t)!==e&&r)throw Error(P(425))}function Ul(){}var Fd=null,Md=null;function Ld(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bd=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(t){return Lg.resolve(null).then(t).catch(pA)}:Bd;function pA(t){setTimeout(function(){throw t})}function sf(t,e){var r=e,n=0;do{var o=r.nextSibling;if(t.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){t.removeChild(o),Ls(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Ls(e)}function tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),ar="__reactFiber$"+Bi,Vs="__reactProps$"+Bi,Pr="__reactContainer$"+Bi,Ud="__reactEvents$"+Bi,hA="__reactListeners$"+Bi,yA="__reactHandles$"+Bi;function Pn(t){var e=t[ar];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pr]||r[ar]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Bg(t);t!==null;){if(r=t[ar])return r;t=Bg(t)}return e}t=r,r=t.parentNode}return null}function fa(t){return t=t[ar]||t[Pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function oc(t){return t[Vs]||null}var Wd=[],Mo=-1;function _n(t){return{current:t}}function Se(t){0>Mo||(t.current=Wd[Mo],Wd[Mo]=null,Mo--)}function me(t,e){Mo++,Wd[Mo]=t.current,t.current=e}var dn={},at=_n(dn),xt=_n(!1),Jn=dn;function yi(t,e){var r=t.type.contextTypes;if(!r)return dn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function St(t){return t=t.childContextTypes,t!=null}function Wl(){Se(xt),Se(at)}function Ug(t,e,r){if(at.current!==dn)throw Error(P(168));me(at,e),me(xt,r)}function Ex(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in e))throw Error(P(108,ZC(t)||"Unknown",o));return Ie({},r,n)}function zl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dn,Jn=at.current,me(at,t),me(xt,xt.current),!0}function Wg(t,e,r){var n=t.stateNode;if(!n)throw Error(P(169));r?(t=Ex(t,e,Jn),n.__reactInternalMemoizedMergedChildContext=t,Se(xt),Se(at),me(at,t)):Se(xt),me(xt,r)}var xr=null,ic=!1,af=!1;function Cx(t){xr===null?xr=[t]:xr.push(t)}function gA(t){ic=!0,Cx(t)}function xn(){if(!af&&xr!==null){af=!0;var t=0,e=le;try{var r=xr;for(le=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}xr=null,ic=!1}catch(o){throw xr!==null&&(xr=xr.slice(t+1)),q0(ch,xn),o}finally{le=e,af=!1}}return null}var Lo=[],Bo=0,Vl=null,Gl=0,jt=[],Ot=0,Xn=null,Sr=1,wr="";function Cn(t,e){Lo[Bo++]=Gl,Lo[Bo++]=Vl,Vl=t,Gl=e}function bx(t,e,r){jt[Ot++]=Sr,jt[Ot++]=wr,jt[Ot++]=Xn,Xn=t;var n=Sr;t=wr;var o=32-Jt(n)-1;n&=~(1<<o),r+=1;var i=32-Jt(e)+o;if(30<i){var s=o-o%5;i=(n&(1<<s)-1).toString(32),n>>=s,o-=s,Sr=1<<32-Jt(e)+o|r<<o|n,wr=i+t}else Sr=1<<i|r<<o|n,wr=t}function _h(t){t.return!==null&&(Cn(t,1),bx(t,1,0))}function xh(t){for(;t===Vl;)Vl=Lo[--Bo],Lo[Bo]=null,Gl=Lo[--Bo],Lo[Bo]=null;for(;t===Xn;)Xn=jt[--Ot],jt[Ot]=null,wr=jt[--Ot],jt[Ot]=null,Sr=jt[--Ot],jt[Ot]=null}var It=null,At=null,we=!1,Qt=null;function Ax(t,e){var r=$t(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function zg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,At=tn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Xn!==null?{id:Sr,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=$t(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,It=t,At=null,!0):!1;default:return!1}}function zd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vd(t){if(we){var e=At;if(e){var r=e;if(!zg(t,e)){if(zd(t))throw Error(P(418));e=tn(r.nextSibling);var n=It;e&&zg(t,e)?Ax(n,r):(t.flags=t.flags&-4097|2,we=!1,It=t)}}else{if(zd(t))throw Error(P(418));t.flags=t.flags&-4097|2,we=!1,It=t}}}function Vg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function Ka(t){if(t!==It)return!1;if(!we)return Vg(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ld(t.type,t.memoizedProps)),e&&(e=At)){if(zd(t))throw Ix(),Error(P(418));for(;e;)Ax(t,e),e=tn(e.nextSibling)}if(Vg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){At=tn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}At=null}}else At=It?tn(t.stateNode.nextSibling):null;return!0}function Ix(){for(var t=At;t;)t=tn(t.nextSibling)}function gi(){At=It=null,we=!1}function Sh(t){Qt===null?Qt=[t]:Qt.push(t)}var mA=Or.ReactCurrentBatchConfig;function Vt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Hl=_n(null),Ql=null,Uo=null,wh=null;function Eh(){wh=Uo=Ql=null}function Ch(t){var e=Hl.current;Se(Hl),t._currentValue=e}function Gd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zo(t,e){Ql=t,wh=Uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vt=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(wh!==t)if(t={context:t,memoizedValue:e,next:null},Uo===null){if(Ql===null)throw Error(P(308));Uo=t,Ql.dependencies={lanes:0,firstContext:t}}else Uo=Uo.next=t;return e}var Nn=null;function bh(t){Nn===null?Nn=[t]:Nn.push(t)}function Px(t,e,r,n){var o=e.interleaved;return o===null?(r.next=r,bh(e)):(r.next=o.next,o.next=r),e.interleaved=r,Nr(t,n)}function Nr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Br=!1;function Ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ie&2){var o=n.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),n.pending=e,Nr(t,r)}return o=n.interleaved,o===null?(e.next=e,bh(n)):(e.next=o.next,o.next=e),n.interleaved=e,Nr(t,r)}function hl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,fh(t,r)}}function Gg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?o=i=e:i=i.next=e}else o=i=e;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Kl(t,e,r,n){var o=t.updateQueue;Br=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==s&&(a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,p=u=l=null,a=i;do{var f=a.lane,y=a.eventTime;if((n&f)===f){p!==null&&(p=p.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(f=e,y=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(y,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,f=typeof g=="function"?g.call(y,d,f):g,f==null)break e;d=Ie({},d,f);break e;case 2:Br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(u=p=y,l=d):p=p.next=y,s|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(p===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=p,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);eo|=s,t.lanes=s,t.memoizedState=d}}function Hg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(P(191,o));o.call(n)}}}var kx=new P0.Component().refs;function Hd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ie({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var sc={isMounted:function(t){return(t=t._reactInternals)?ao(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=dt(),o=on(t),i=br(n,o);i.payload=e,r!=null&&(i.callback=r),e=rn(t,i,o),e!==null&&(Xt(e,t,o,n),hl(e,t,o))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=dt(),o=on(t),i=br(n,o);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=rn(t,i,o),e!==null&&(Xt(e,t,o,n),hl(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=dt(),n=on(t),o=br(r,n);o.tag=2,e!=null&&(o.callback=e),e=rn(t,o,n),e!==null&&(Xt(e,t,n,r),hl(e,t,n))}};function Qg(t,e,r,n,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!Us(r,n)||!Us(o,i):!0}function Tx(t,e,r){var n=!1,o=dn,i=e.contextType;return typeof i=="object"&&i!==null?i=Mt(i):(o=St(e)?Jn:at.current,n=e.contextTypes,i=(n=n!=null)?yi(t,o):dn),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Kg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&sc.enqueueReplaceState(e,e.state,null)}function Qd(t,e,r,n){var o=t.stateNode;o.props=r,o.state=t.memoizedState,o.refs=kx,Ah(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Mt(i):(i=St(e)?Jn:at.current,o.context=yi(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Hd(t,e,i,r),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&sc.enqueueReplaceState(o,o.state,null),Kl(t,r,o,n),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function es(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,t));var o=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===kx&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,t))}return t}function qa(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qg(t){var e=t._init;return e(t._payload)}function Rx(t){function e(v,h){if(t){var m=v.deletions;m===null?(v.deletions=[h],v.flags|=16):m.push(h)}}function r(v,h){if(!t)return null;for(;h!==null;)e(v,h),h=h.sibling;return null}function n(v,h){for(v=new Map;h!==null;)h.key!==null?v.set(h.key,h):v.set(h.index,h),h=h.sibling;return v}function o(v,h){return v=sn(v,h),v.index=0,v.sibling=null,v}function i(v,h,m){return v.index=m,t?(m=v.alternate,m!==null?(m=m.index,m<h?(v.flags|=2,h):m):(v.flags|=2,h)):(v.flags|=1048576,h)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,h,m,E){return h===null||h.tag!==6?(h=hf(m,v.mode,E),h.return=v,h):(h=o(h,m),h.return=v,h)}function l(v,h,m,E){var A=m.type;return A===jo?p(v,h,m.props.children,E,m.key):h!==null&&(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Lr&&qg(A)===h.type)?(E=o(h,m.props),E.ref=es(v,h,m),E.return=v,E):(E=xl(m.type,m.key,m.props,null,v.mode,E),E.ref=es(v,h,m),E.return=v,E)}function u(v,h,m,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=yf(m,v.mode,E),h.return=v,h):(h=o(h,m.children||[]),h.return=v,h)}function p(v,h,m,E,A){return h===null||h.tag!==7?(h=Dn(m,v.mode,E,A),h.return=v,h):(h=o(h,m),h.return=v,h)}function d(v,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=hf(""+h,v.mode,m),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ma:return m=xl(h.type,h.key,h.props,null,v.mode,m),m.ref=es(v,null,h),m.return=v,m;case Ro:return h=yf(h,v.mode,m),h.return=v,h;case Lr:var E=h._init;return d(v,E(h._payload),m)}if(ps(h)||qi(h))return h=Dn(h,v.mode,m,null),h.return=v,h;qa(v,h)}return null}function f(v,h,m,E){var A=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return A!==null?null:a(v,h,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ma:return m.key===A?l(v,h,m,E):null;case Ro:return m.key===A?u(v,h,m,E):null;case Lr:return A=m._init,f(v,h,A(m._payload),E)}if(ps(m)||qi(m))return A!==null?null:p(v,h,m,E,null);qa(v,m)}return null}function y(v,h,m,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(m)||null,a(h,v,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ma:return v=v.get(E.key===null?m:E.key)||null,l(h,v,E,A);case Ro:return v=v.get(E.key===null?m:E.key)||null,u(h,v,E,A);case Lr:var I=E._init;return y(v,h,m,I(E._payload),A)}if(ps(E)||qi(E))return v=v.get(m)||null,p(h,v,E,A,null);qa(h,E)}return null}function g(v,h,m,E){for(var A=null,I=null,T=h,j=h=0,Q=null;T!==null&&j<m.length;j++){T.index>j?(Q=T,T=null):Q=T.sibling;var V=f(v,T,m[j],E);if(V===null){T===null&&(T=Q);break}t&&T&&V.alternate===null&&e(v,T),h=i(V,h,j),I===null?A=V:I.sibling=V,I=V,T=Q}if(j===m.length)return r(v,T),we&&Cn(v,j),A;if(T===null){for(;j<m.length;j++)T=d(v,m[j],E),T!==null&&(h=i(T,h,j),I===null?A=T:I.sibling=T,I=T);return we&&Cn(v,j),A}for(T=n(v,T);j<m.length;j++)Q=y(T,v,j,m[j],E),Q!==null&&(t&&Q.alternate!==null&&T.delete(Q.key===null?j:Q.key),h=i(Q,h,j),I===null?A=Q:I.sibling=Q,I=Q);return t&&T.forEach(function(ve){return e(v,ve)}),we&&Cn(v,j),A}function _(v,h,m,E){var A=qi(m);if(typeof A!="function")throw Error(P(150));if(m=A.call(m),m==null)throw Error(P(151));for(var I=A=null,T=h,j=h=0,Q=null,V=m.next();T!==null&&!V.done;j++,V=m.next()){T.index>j?(Q=T,T=null):Q=T.sibling;var ve=f(v,T,V.value,E);if(ve===null){T===null&&(T=Q);break}t&&T&&ve.alternate===null&&e(v,T),h=i(ve,h,j),I===null?A=ve:I.sibling=ve,I=ve,T=Q}if(V.done)return r(v,T),we&&Cn(v,j),A;if(T===null){for(;!V.done;j++,V=m.next())V=d(v,V.value,E),V!==null&&(h=i(V,h,j),I===null?A=V:I.sibling=V,I=V);return we&&Cn(v,j),A}for(T=n(v,T);!V.done;j++,V=m.next())V=y(T,v,j,V.value,E),V!==null&&(t&&V.alternate!==null&&T.delete(V.key===null?j:V.key),h=i(V,h,j),I===null?A=V:I.sibling=V,I=V);return t&&T.forEach(function(H){return e(v,H)}),we&&Cn(v,j),A}function b(v,h,m,E){if(typeof m=="object"&&m!==null&&m.type===jo&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ma:e:{for(var A=m.key,I=h;I!==null;){if(I.key===A){if(A=m.type,A===jo){if(I.tag===7){r(v,I.sibling),h=o(I,m.props.children),h.return=v,v=h;break e}}else if(I.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Lr&&qg(A)===I.type){r(v,I.sibling),h=o(I,m.props),h.ref=es(v,I,m),h.return=v,v=h;break e}r(v,I);break}else e(v,I);I=I.sibling}m.type===jo?(h=Dn(m.props.children,v.mode,E,m.key),h.return=v,v=h):(E=xl(m.type,m.key,m.props,null,v.mode,E),E.ref=es(v,h,m),E.return=v,v=E)}return s(v);case Ro:e:{for(I=m.key;h!==null;){if(h.key===I)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){r(v,h.sibling),h=o(h,m.children||[]),h.return=v,v=h;break e}else{r(v,h);break}else e(v,h);h=h.sibling}h=yf(m,v.mode,E),h.return=v,v=h}return s(v);case Lr:return I=m._init,b(v,h,I(m._payload),E)}if(ps(m))return g(v,h,m,E);if(qi(m))return _(v,h,m,E);qa(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(r(v,h.sibling),h=o(h,m),h.return=v,v=h):(r(v,h),h=hf(m,v.mode,E),h.return=v,v=h),s(v)):r(v,h)}return b}var mi=Rx(!0),jx=Rx(!1),da={},dr=_n(da),Gs=_n(da),Hs=_n(da);function kn(t){if(t===da)throw Error(P(174));return t}function Ih(t,e){switch(me(Hs,e),me(Gs,t),me(dr,da),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bd(e,t)}Se(dr),me(dr,e)}function vi(){Se(dr),Se(Gs),Se(Hs)}function Ox(t){kn(Hs.current);var e=kn(dr.current),r=bd(e,t.type);e!==r&&(me(Gs,t),me(dr,r))}function Ph(t){Gs.current===t&&(Se(dr),Se(Gs))}var Ce=_n(0);function ql(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lf=[];function Nh(){for(var t=0;t<lf.length;t++)lf[t]._workInProgressVersionPrimary=null;lf.length=0}var yl=Or.ReactCurrentDispatcher,uf=Or.ReactCurrentBatchConfig,Zn=0,Ae=null,Me=null,Ke=null,Yl=!1,ws=!1,Qs=0,vA=0;function ot(){throw Error(P(321))}function kh(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!rr(t[r],e[r]))return!1;return!0}function Th(t,e,r,n,o,i){if(Zn=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yl.current=t===null||t.memoizedState===null?wA:EA,t=r(n,o),ws){i=0;do{if(ws=!1,Qs=0,25<=i)throw Error(P(301));i+=1,Ke=Me=null,e.updateQueue=null,yl.current=CA,t=r(n,o)}while(ws)}if(yl.current=Jl,e=Me!==null&&Me.next!==null,Zn=0,Ke=Me=Ae=null,Yl=!1,e)throw Error(P(300));return t}function Rh(){var t=Qs!==0;return Qs=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ae.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Lt(){if(Me===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=Ke===null?Ae.memoizedState:Ke.next;if(e!==null)Ke=e,Me=t;else{if(t===null)throw Error(P(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ke===null?Ae.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Ks(t,e){return typeof e=="function"?e(t):e}function cf(t){var e=Lt(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=Me,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var a=s=null,l=null,u=i;do{var p=u.lane;if((Zn&p)===p)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=n):l=l.next=d,Ae.lanes|=p,eo|=p}u=u.next}while(u!==null&&u!==i);l===null?s=n:l.next=a,rr(n,e.memoizedState)||(vt=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){o=t;do i=o.lane,Ae.lanes|=i,eo|=i,o=o.next;while(o!==t)}else o===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ff(t){var e=Lt(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=r.dispatch,o=r.pending,i=e.memoizedState;if(o!==null){r.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);rr(i,e.memoizedState)||(vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function $x(){}function Dx(t,e){var r=Ae,n=Lt(),o=e(),i=!rr(n.memoizedState,o);if(i&&(n.memoizedState=o,vt=!0),n=n.queue,jh(Lx.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,qs(9,Mx.bind(null,r,n,o,e),void 0,null),Ye===null)throw Error(P(349));Zn&30||Fx(r,e,o)}return o}function Fx(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Mx(t,e,r,n){e.value=r,e.getSnapshot=n,Bx(e)&&Ux(t)}function Lx(t,e,r){return r(function(){Bx(e)&&Ux(t)})}function Bx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!rr(t,r)}catch{return!0}}function Ux(t){var e=Nr(t,1);e!==null&&Xt(e,t,1,-1)}function Yg(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:t},e.queue=t,t=t.dispatch=SA.bind(null,Ae,t),[e.memoizedState,t]}function qs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Wx(){return Lt().memoizedState}function gl(t,e,r,n){var o=ir();Ae.flags|=t,o.memoizedState=qs(1|e,r,void 0,n===void 0?null:n)}function ac(t,e,r,n){var o=Lt();n=n===void 0?null:n;var i=void 0;if(Me!==null){var s=Me.memoizedState;if(i=s.destroy,n!==null&&kh(n,s.deps)){o.memoizedState=qs(e,r,i,n);return}}Ae.flags|=t,o.memoizedState=qs(1|e,r,i,n)}function Jg(t,e){return gl(8390656,8,t,e)}function jh(t,e){return ac(2048,8,t,e)}function zx(t,e){return ac(4,2,t,e)}function Vx(t,e){return ac(4,4,t,e)}function Gx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hx(t,e,r){return r=r!=null?r.concat([t]):null,ac(4,4,Gx.bind(null,e,t),r)}function Oh(){}function Qx(t,e){var r=Lt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kh(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Kx(t,e){var r=Lt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kh(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function qx(t,e,r){return Zn&21?(rr(r,e)||(r=X0(),Ae.lanes|=r,eo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vt=!0),t.memoizedState=r)}function _A(t,e){var r=le;le=r!==0&&4>r?r:4,t(!0);var n=uf.transition;uf.transition={};try{t(!1),e()}finally{le=r,uf.transition=n}}function Yx(){return Lt().memoizedState}function xA(t,e,r){var n=on(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jx(t))Xx(e,r);else if(r=Px(t,e,r,n),r!==null){var o=dt();Xt(r,t,n,o),Zx(r,e,n)}}function SA(t,e,r){var n=on(t),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jx(t))Xx(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,r);if(o.hasEagerState=!0,o.eagerState=a,rr(a,s)){var l=e.interleaved;l===null?(o.next=o,bh(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}r=Px(t,e,o,n),r!==null&&(o=dt(),Xt(r,t,n,o),Zx(r,e,n))}}function Jx(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function Xx(t,e){ws=Yl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Zx(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,fh(t,r)}}var Jl={readContext:Mt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},wA={readContext:Mt,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:Jg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,gl(4194308,4,Gx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return gl(4194308,4,t,e)},useInsertionEffect:function(t,e){return gl(4,2,t,e)},useMemo:function(t,e){var r=ir();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ir();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xA.bind(null,Ae,t),[n.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:Yg,useDebugValue:Oh,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=Yg(!1),e=t[0];return t=_A.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ae,o=ir();if(we){if(r===void 0)throw Error(P(407));r=r()}else{if(r=e(),Ye===null)throw Error(P(349));Zn&30||Fx(n,e,r)}o.memoizedState=r;var i={value:r,getSnapshot:e};return o.queue=i,Jg(Lx.bind(null,n,i,t),[t]),n.flags|=2048,qs(9,Mx.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ir(),e=Ye.identifierPrefix;if(we){var r=wr,n=Sr;r=(n&~(1<<32-Jt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Qs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=vA++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EA={readContext:Mt,useCallback:Qx,useContext:Mt,useEffect:jh,useImperativeHandle:Hx,useInsertionEffect:zx,useLayoutEffect:Vx,useMemo:Kx,useReducer:cf,useRef:Wx,useState:function(){return cf(Ks)},useDebugValue:Oh,useDeferredValue:function(t){var e=Lt();return qx(e,Me.memoizedState,t)},useTransition:function(){var t=cf(Ks)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:$x,useSyncExternalStore:Dx,useId:Yx,unstable_isNewReconciler:!1},CA={readContext:Mt,useCallback:Qx,useContext:Mt,useEffect:jh,useImperativeHandle:Hx,useInsertionEffect:zx,useLayoutEffect:Vx,useMemo:Kx,useReducer:ff,useRef:Wx,useState:function(){return ff(Ks)},useDebugValue:Oh,useDeferredValue:function(t){var e=Lt();return Me===null?e.memoizedState=t:qx(e,Me.memoizedState,t)},useTransition:function(){var t=ff(Ks)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:$x,useSyncExternalStore:Dx,useId:Yx,unstable_isNewReconciler:!1};function _i(t,e){try{var r="",n=e;do r+=XC(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function df(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Kd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var bA=typeof WeakMap=="function"?WeakMap:Map;function eS(t,e,r){r=br(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Zl||(Zl=!0,op=n),Kd(t,e)},r}function tS(t,e,r){r=br(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var o=e.value;r.payload=function(){return n(o)},r.callback=function(){Kd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Kd(t,e),typeof n!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function Xg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new bA;var o=new Set;n.set(e,o)}else o=n.get(e),o===void 0&&(o=new Set,n.set(e,o));o.has(r)||(o.add(r),t=LA.bind(null,t,e,r),e.then(t,t))}function Zg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function em(t,e,r,n,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=br(-1,1),e.tag=2,rn(r,e,1))),r.lanes|=1),t)}var AA=Or.ReactCurrentOwner,vt=!1;function ut(t,e,r,n){e.child=t===null?jx(e,null,r,n):mi(e,t.child,r,n)}function tm(t,e,r,n,o){r=r.render;var i=e.ref;return Zo(e,o),n=Th(t,e,r,n,i,o),r=Rh(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,kr(t,e,o)):(we&&r&&_h(e),e.flags|=1,ut(t,e,n,o),e.child)}function rm(t,e,r,n,o){if(t===null){var i=r.type;return typeof i=="function"&&!Wh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,rS(t,e,i,n,o)):(t=xl(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Us,r(s,n)&&t.ref===e.ref)return kr(t,e,o)}return e.flags|=1,t=sn(i,n),t.ref=e.ref,t.return=e,e.child=t}function rS(t,e,r,n,o){if(t!==null){var i=t.memoizedProps;if(Us(i,n)&&t.ref===e.ref)if(vt=!1,e.pendingProps=n=i,(t.lanes&o)!==0)t.flags&131072&&(vt=!0);else return e.lanes=t.lanes,kr(t,e,o)}return qd(t,e,r,n,o)}function nS(t,e,r){var n=e.pendingProps,o=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(zo,Ct),Ct|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(zo,Ct),Ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,me(zo,Ct),Ct|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,me(zo,Ct),Ct|=n;return ut(t,e,o,r),e.child}function oS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function qd(t,e,r,n,o){var i=St(r)?Jn:at.current;return i=yi(e,i),Zo(e,o),r=Th(t,e,r,n,i,o),n=Rh(),t!==null&&!vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,kr(t,e,o)):(we&&n&&_h(e),e.flags|=1,ut(t,e,r,o),e.child)}function nm(t,e,r,n,o){if(St(r)){var i=!0;zl(e)}else i=!1;if(Zo(e,o),e.stateNode===null)ml(t,e),Tx(e,r,n),Qd(e,r,n,o),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Mt(u):(u=St(r)?Jn:at.current,u=yi(e,u));var p=r.getDerivedStateFromProps,d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Kg(e,s,n,u),Br=!1;var f=e.memoizedState;s.state=f,Kl(e,n,s,o),l=e.memoizedState,a!==n||f!==l||xt.current||Br?(typeof p=="function"&&(Hd(e,r,p,n),l=e.memoizedState),(a=Br||Qg(e,r,a,n,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,Nx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vt(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=St(r)?Jn:at.current,l=yi(e,l));var y=r.getDerivedStateFromProps;(p=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Kg(e,s,n,l),Br=!1,f=e.memoizedState,s.state=f,Kl(e,n,s,o);var g=e.memoizedState;a!==d||f!==g||xt.current||Br?(typeof y=="function"&&(Hd(e,r,y,n),g=e.memoizedState),(u=Br||Qg(e,r,u,n,f,g,l)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Yd(t,e,r,n,i,o)}function Yd(t,e,r,n,o,i){oS(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return o&&Wg(e,r,!1),kr(t,e,i);n=e.stateNode,AA.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=mi(e,t.child,null,i),e.child=mi(e,null,a,i)):ut(t,e,a,i),e.memoizedState=n.state,o&&Wg(e,r,!0),e.child}function iS(t){var e=t.stateNode;e.pendingContext?Ug(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ug(t,e.context,!1),Ih(t,e.containerInfo)}function om(t,e,r,n,o){return gi(),Sh(o),e.flags|=256,ut(t,e,r,n),e.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Xd(t){return{baseLanes:t,cachePool:null,transitions:null}}function sS(t,e,r){var n=e.pendingProps,o=Ce.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),me(Ce,o&1),t===null)return Vd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=cc(s,n,0,null),t=Dn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Xd(r),e.memoizedState=Jd,t):$h(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return IA(t,e,s,n,a,o,r);if(i){i=n.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=sn(o,l),n.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=sn(a,i):(i=Dn(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?Xd(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=Jd,n}return i=t.child,t=i.sibling,n=sn(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function $h(t,e){return e=cc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ya(t,e,r,n){return n!==null&&Sh(n),mi(e,t.child,null,r),t=$h(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IA(t,e,r,n,o,i,s){if(r)return e.flags&256?(e.flags&=-257,n=df(Error(P(422))),Ya(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,o=e.mode,n=cc({mode:"visible",children:n.children},o,0,null),i=Dn(i,o,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&mi(e,t.child,null,s),e.child.memoizedState=Xd(s),e.memoizedState=Jd,i);if(!(e.mode&1))return Ya(t,e,s,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(P(419)),n=df(i,n,void 0),Ya(t,e,s,n)}if(a=(s&t.childLanes)!==0,vt||a){if(n=Ye,n!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Nr(t,o),Xt(n,t,o,-1))}return Uh(),n=df(Error(P(421))),Ya(t,e,s,n)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=BA.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,At=tn(o.nextSibling),It=e,we=!0,Qt=null,t!==null&&(jt[Ot++]=Sr,jt[Ot++]=wr,jt[Ot++]=Xn,Sr=t.id,wr=t.overflow,Xn=e),e=$h(e,n.children),e.flags|=4096,e)}function im(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Gd(t.return,e,r)}function pf(t,e,r,n,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function aS(t,e,r){var n=e.pendingProps,o=n.revealOrder,i=n.tail;if(ut(t,e,n.children,r),n=Ce.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&im(t,r,e);else if(t.tag===19)im(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(me(Ce,n),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(r=e.child,o=null;r!==null;)t=r.alternate,t!==null&&ql(t)===null&&(o=r),r=r.sibling;r=o,r===null?(o=e.child,e.child=null):(o=r.sibling,r.sibling=null),pf(e,!1,o,r,i);break;case"backwards":for(r=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&ql(t)===null){e.child=o;break}t=o.sibling,o.sibling=r,r=o,o=t}pf(e,!0,r,null,i);break;case"together":pf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ml(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),eo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,r=sn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=sn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function PA(t,e,r){switch(e.tag){case 3:iS(e),gi();break;case 5:Ox(e);break;case 1:St(e.type)&&zl(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,o=e.memoizedProps.value;me(Hl,n._currentValue),n._currentValue=o;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(me(Ce,Ce.current&1),e.flags|=128,null):r&e.child.childLanes?sS(t,e,r):(me(Ce,Ce.current&1),t=kr(t,e,r),t!==null?t.sibling:null);me(Ce,Ce.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return aS(t,e,r);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),me(Ce,Ce.current),n)break;return null;case 22:case 23:return e.lanes=0,nS(t,e,r)}return kr(t,e,r)}var lS,Zd,uS,cS;lS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zd=function(){};uS=function(t,e,r,n){var o=t.memoizedProps;if(o!==n){t=e.stateNode,kn(dr.current);var i=null;switch(r){case"input":o=Sd(t,o),n=Sd(t,n),i=[];break;case"select":o=Ie({},o,{value:void 0}),n=Ie({},n,{value:void 0}),i=[];break;case"textarea":o=Cd(t,o),n=Cd(t,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ul)}Ad(r,n);var s;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Os.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Os.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};cS=function(t,e,r,n){r!==n&&(e.flags|=4)};function ts(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var o=t.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function NA(t,e,r){var n=e.pendingProps;switch(xh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return St(e.type)&&Wl(),it(e),null;case 3:return n=e.stateNode,vi(),Se(xt),Se(at),Nh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ka(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(ap(Qt),Qt=null))),Zd(t,e),it(e),null;case 5:Ph(e);var o=kn(Hs.current);if(r=e.type,t!==null&&e.stateNode!=null)uS(t,e,r,n,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(P(166));return it(e),null}if(t=kn(dr.current),Ka(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ar]=e,n[Vs]=i,t=(e.mode&1)!==0,r){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(o=0;o<ys.length;o++)_e(ys[o],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":hg(n,i),_e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_e("invalid",n);break;case"textarea":gg(n,i),_e("invalid",n)}Ad(r,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qa(n.textContent,a,t),o=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qa(n.textContent,a,t),o=["children",""+a]):Os.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&_e("scroll",n)}switch(r){case"input":La(n),yg(n,i,!0);break;case"textarea":La(n),mg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ul)}n=o,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[ar]=e,t[Vs]=n,lS(t,e,!1,!1),e.stateNode=t;e:{switch(s=Id(r,n),r){case"dialog":_e("cancel",t),_e("close",t),o=n;break;case"iframe":case"object":case"embed":_e("load",t),o=n;break;case"video":case"audio":for(o=0;o<ys.length;o++)_e(ys[o],t);o=n;break;case"source":_e("error",t),o=n;break;case"img":case"image":case"link":_e("error",t),_e("load",t),o=n;break;case"details":_e("toggle",t),o=n;break;case"input":hg(t,n),o=Sd(t,n),_e("invalid",t);break;case"option":o=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},o=Ie({},n,{value:void 0}),_e("invalid",t);break;case"textarea":gg(t,n),o=Cd(t,n),_e("invalid",t);break;default:o=n}Ad(r,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?B0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M0(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&$s(t,l):typeof l=="number"&&$s(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Os.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&ih(t,i,l,s))}switch(r){case"input":La(t),yg(t,n,!1);break;case"textarea":La(t),mg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fn(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?qo(t,!!n.multiple,i,!1):n.defaultValue!=null&&qo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Ul)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)cS(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(P(166));if(r=kn(Hs.current),kn(dr.current),Ka(e)){if(n=e.stateNode,r=e.memoizedProps,n[ar]=e,(i=n.nodeValue!==r)&&(t=It,t!==null))switch(t.tag){case 3:Qa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ar]=e,e.stateNode=n}return it(e),null;case 13:if(Se(Ce),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&At!==null&&e.mode&1&&!(e.flags&128))Ix(),gi(),e.flags|=98560,i=!1;else if(i=Ka(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[ar]=e}else gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),i=!1}else Qt!==null&&(ap(Qt),Qt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Ue===0&&(Ue=3):Uh())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return vi(),Zd(t,e),t===null&&Ws(e.stateNode.containerInfo),it(e),null;case 10:return Ch(e.type._context),it(e),null;case 17:return St(e.type)&&Wl(),it(e),null;case 19:if(Se(Ce),i=e.memoizedState,i===null)return it(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)ts(i,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ql(t),s!==null){for(e.flags|=128,ts(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return me(Ce,Ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>xi&&(e.flags|=128,n=!0,ts(i,!1),e.lanes=4194304)}else{if(!n)if(t=ql(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!we)return it(e),null}else 2*je()-i.renderingStartTime>xi&&r!==1073741824&&(e.flags|=128,n=!0,ts(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,r=Ce.current,me(Ce,n?r&1|2:r&1),e):(it(e),null);case 22:case 23:return Bh(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ct&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function kA(t,e){switch(xh(e),e.tag){case 1:return St(e.type)&&Wl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vi(),Se(xt),Se(at),Nh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ph(e),null;case 13:if(Se(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(Ce),null;case 4:return vi(),null;case 10:return Ch(e.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var Ja=!1,st=!1,TA=typeof WeakSet=="function"?WeakSet:Set,F=null;function Wo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ne(t,e,n)}else r.current=null}function ep(t,e,r){try{r()}catch(n){Ne(t,e,n)}}var sm=!1;function RA(t,e){if(Fd=Ml,t=hx(),vh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,p=0,d=t,f=null;t:for(;;){for(var y;d!==r||o!==0&&d.nodeType!==3||(a=s+o),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===r&&++u===o&&(a=s),f===i&&++p===n&&(l=s),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Md={focusedElem:t,selectionRange:r},Ml=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,b=g.memoizedState,v=e.stateNode,h=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Vt(e.type,_),b);v.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(E){Ne(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return g=sm,sm=!1,g}function Es(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&ep(e,r,i)}o=o.next}while(o!==n)}}function lc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function tp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function fS(t){var e=t.alternate;e!==null&&(t.alternate=null,fS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[Vs],delete e[Ud],delete e[hA],delete e[yA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dS(t){return t.tag===5||t.tag===3||t.tag===4}function am(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ul));else if(n!==4&&(t=t.child,t!==null))for(rp(t,e,r),t=t.sibling;t!==null;)rp(t,e,r),t=t.sibling}function np(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(np(t,e,r),t=t.sibling;t!==null;)np(t,e,r),t=t.sibling}var Xe=null,Ht=!1;function Mr(t,e,r){for(r=r.child;r!==null;)pS(t,e,r),r=r.sibling}function pS(t,e,r){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(ec,r)}catch{}switch(r.tag){case 5:st||Wo(r,e);case 6:var n=Xe,o=Ht;Xe=null,Mr(t,e,r),Xe=n,Ht=o,Xe!==null&&(Ht?(t=Xe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(Ht?(t=Xe,r=r.stateNode,t.nodeType===8?sf(t.parentNode,r):t.nodeType===1&&sf(t,r),Ls(t)):sf(Xe,r.stateNode));break;case 4:n=Xe,o=Ht,Xe=r.stateNode.containerInfo,Ht=!0,Mr(t,e,r),Xe=n,Ht=o;break;case 0:case 11:case 14:case 15:if(!st&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ep(r,e,s),o=o.next}while(o!==n)}Mr(t,e,r);break;case 1:if(!st&&(Wo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ne(r,e,a)}Mr(t,e,r);break;case 21:Mr(t,e,r);break;case 22:r.mode&1?(st=(n=st)||r.memoizedState!==null,Mr(t,e,r),st=n):Mr(t,e,r);break;default:Mr(t,e,r)}}function lm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TA),e.forEach(function(n){var o=UA.bind(null,t,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Wt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,Ht=!1;break e;case 3:Xe=a.stateNode.containerInfo,Ht=!0;break e;case 4:Xe=a.stateNode.containerInfo,Ht=!0;break e}a=a.return}if(Xe===null)throw Error(P(160));pS(i,s,o),Xe=null,Ht=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Ne(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hS(e,t),e=e.sibling}function hS(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(e,t),or(t),n&4){try{Es(3,t,t.return),lc(3,t)}catch(_){Ne(t,t.return,_)}try{Es(5,t,t.return)}catch(_){Ne(t,t.return,_)}}break;case 1:Wt(e,t),or(t),n&512&&r!==null&&Wo(r,r.return);break;case 5:if(Wt(e,t),or(t),n&512&&r!==null&&Wo(r,r.return),t.flags&32){var o=t.stateNode;try{$s(o,"")}catch(_){Ne(t,t.return,_)}}if(n&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&$0(o,i),Id(a,s);var u=Id(a,i);for(s=0;s<l.length;s+=2){var p=l[s],d=l[s+1];p==="style"?B0(o,d):p==="dangerouslySetInnerHTML"?M0(o,d):p==="children"?$s(o,d):ih(o,p,d,u)}switch(a){case"input":wd(o,i);break;case"textarea":D0(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?qo(o,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?qo(o,!!i.multiple,i.defaultValue,!0):qo(o,!!i.multiple,i.multiple?[]:"",!1))}o[Vs]=i}catch(_){Ne(t,t.return,_)}}break;case 6:if(Wt(e,t),or(t),n&4){if(t.stateNode===null)throw Error(P(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(_){Ne(t,t.return,_)}}break;case 3:if(Wt(e,t),or(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ls(e.containerInfo)}catch(_){Ne(t,t.return,_)}break;case 4:Wt(e,t),or(t);break;case 13:Wt(e,t),or(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Mh=je())),n&4&&lm(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(st=(u=st)||p,Wt(e,t),st=u):Wt(e,t),or(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(F=t,p=t.child;p!==null;){for(d=F=p;F!==null;){switch(f=F,y=f.child,f.tag){case 0:case 11:case 14:case 15:Es(4,f,f.return);break;case 1:Wo(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Ne(n,r,_)}}break;case 5:Wo(f,f.return);break;case 22:if(f.memoizedState!==null){cm(d);continue}}y!==null?(y.return=f,F=y):cm(d)}p=p.sibling}e:for(p=null,d=t;;){if(d.tag===5){if(p===null){p=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=L0("display",s))}catch(_){Ne(t,t.return,_)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Ne(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wt(e,t),or(t),n&4&&lm(t);break;case 21:break;default:Wt(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(dS(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&($s(o,""),n.flags&=-33);var i=am(t);np(t,i,o);break;case 3:case 4:var s=n.stateNode.containerInfo,a=am(t);rp(t,a,s);break;default:throw Error(P(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jA(t,e,r){F=t,yS(t)}function yS(t,e,r){for(var n=(t.mode&1)!==0;F!==null;){var o=F,i=o.child;if(o.tag===22&&n){var s=o.memoizedState!==null||Ja;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||st;a=Ja;var u=st;if(Ja=s,(st=l)&&!u)for(F=o;F!==null;)s=F,l=s.child,s.tag===22&&s.memoizedState!==null?fm(o):l!==null?(l.return=s,F=l):fm(o);for(;i!==null;)F=i,yS(i),i=i.sibling;F=o,Ja=a,st=u}um(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,F=i):um(t)}}function um(t){for(;F!==null;){var e=F;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||lc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!st)if(r===null)n.componentDidMount();else{var o=e.elementType===e.type?r.memoizedProps:Vt(e.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hg(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Hg(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&Ls(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}st||e.flags&512&&tp(e)}catch(f){Ne(e,e.return,f)}}if(e===t){F=null;break}if(r=e.sibling,r!==null){r.return=e.return,F=r;break}F=e.return}}function cm(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var r=e.sibling;if(r!==null){r.return=e.return,F=r;break}F=e.return}}function fm(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lc(4,e)}catch(l){Ne(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var o=e.return;try{n.componentDidMount()}catch(l){Ne(e,o,l)}}var i=e.return;try{tp(e)}catch(l){Ne(e,i,l)}break;case 5:var s=e.return;try{tp(e)}catch(l){Ne(e,s,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var OA=Math.ceil,Xl=Or.ReactCurrentDispatcher,Dh=Or.ReactCurrentOwner,Ft=Or.ReactCurrentBatchConfig,ie=0,Ye=null,De=null,et=0,Ct=0,zo=_n(0),Ue=0,Ys=null,eo=0,uc=0,Fh=0,Cs=null,gt=null,Mh=0,xi=1/0,_r=null,Zl=!1,op=null,nn=null,Xa=!1,Kr=null,eu=0,bs=0,ip=null,vl=-1,_l=0;function dt(){return ie&6?je():vl!==-1?vl:vl=je()}function on(t){return t.mode&1?ie&2&&et!==0?et&-et:mA.transition!==null?(_l===0&&(_l=X0()),_l):(t=le,t!==0||(t=window.event,t=t===void 0?16:ix(t.type)),t):1}function Xt(t,e,r,n){if(50<bs)throw bs=0,ip=null,Error(P(185));ua(t,r,n),(!(ie&2)||t!==Ye)&&(t===Ye&&(!(ie&2)&&(uc|=r),Ue===4&&Hr(t,et)),wt(t,n),r===1&&ie===0&&!(e.mode&1)&&(xi=je()+500,ic&&xn()))}function wt(t,e){var r=t.callbackNode;mb(t,e);var n=Fl(t,t===Ye?et:0);if(n===0)r!==null&&xg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&xg(r),e===1)t.tag===0?gA(dm.bind(null,t)):Cx(dm.bind(null,t)),dA(function(){!(ie&6)&&xn()}),r=null;else{switch(Z0(n)){case 1:r=ch;break;case 4:r=Y0;break;case 16:r=Dl;break;case 536870912:r=J0;break;default:r=Dl}r=ES(r,gS.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gS(t,e){if(vl=-1,_l=0,ie&6)throw Error(P(327));var r=t.callbackNode;if(ei()&&t.callbackNode!==r)return null;var n=Fl(t,t===Ye?et:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=tu(t,n);else{e=n;var o=ie;ie|=2;var i=vS();(Ye!==t||et!==e)&&(_r=null,xi=je()+500,$n(t,e));do try{FA();break}catch(a){mS(t,a)}while(1);Eh(),Xl.current=i,ie=o,De!==null?e=0:(Ye=null,et=0,e=Ue)}if(e!==0){if(e===2&&(o=Rd(t),o!==0&&(n=o,e=sp(t,o))),e===1)throw r=Ys,$n(t,0),Hr(t,n),wt(t,je()),r;if(e===6)Hr(t,n);else{if(o=t.current.alternate,!(n&30)&&!$A(o)&&(e=tu(t,n),e===2&&(i=Rd(t),i!==0&&(n=i,e=sp(t,i))),e===1))throw r=Ys,$n(t,0),Hr(t,n),wt(t,je()),r;switch(t.finishedWork=o,t.finishedLanes=n,e){case 0:case 1:throw Error(P(345));case 2:bn(t,gt,_r);break;case 3:if(Hr(t,n),(n&130023424)===n&&(e=Mh+500-je(),10<e)){if(Fl(t,0)!==0)break;if(o=t.suspendedLanes,(o&n)!==n){dt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Bd(bn.bind(null,t,gt,_r),e);break}bn(t,gt,_r);break;case 4:if(Hr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,o=-1;0<n;){var s=31-Jt(n);i=1<<s,s=e[s],s>o&&(o=s),n&=~i}if(n=o,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OA(n/1960))-n,10<n){t.timeoutHandle=Bd(bn.bind(null,t,gt,_r),n);break}bn(t,gt,_r);break;case 5:bn(t,gt,_r);break;default:throw Error(P(329))}}}return wt(t,je()),t.callbackNode===r?gS.bind(null,t):null}function sp(t,e){var r=Cs;return t.current.memoizedState.isDehydrated&&($n(t,e).flags|=256),t=tu(t,e),t!==2&&(e=gt,gt=r,e!==null&&ap(e)),t}function ap(t){gt===null?gt=t:gt.push.apply(gt,t)}function $A(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!rr(i(),o))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~Fh,e&=~uc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Jt(e),n=1<<r;t[r]=-1,e&=~n}}function dm(t){if(ie&6)throw Error(P(327));ei();var e=Fl(t,0);if(!(e&1))return wt(t,je()),null;var r=tu(t,e);if(t.tag!==0&&r===2){var n=Rd(t);n!==0&&(e=n,r=sp(t,n))}if(r===1)throw r=Ys,$n(t,0),Hr(t,e),wt(t,je()),r;if(r===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bn(t,gt,_r),wt(t,je()),null}function Lh(t,e){var r=ie;ie|=1;try{return t(e)}finally{ie=r,ie===0&&(xi=je()+500,ic&&xn())}}function to(t){Kr!==null&&Kr.tag===0&&!(ie&6)&&ei();var e=ie;ie|=1;var r=Ft.transition,n=le;try{if(Ft.transition=null,le=1,t)return t()}finally{le=n,Ft.transition=r,ie=e,!(ie&6)&&xn()}}function Bh(){Ct=zo.current,Se(zo)}function $n(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,fA(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(xh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wl();break;case 3:vi(),Se(xt),Se(at),Nh();break;case 5:Ph(n);break;case 4:vi();break;case 13:Se(Ce);break;case 19:Se(Ce);break;case 10:Ch(n.type._context);break;case 22:case 23:Bh()}r=r.return}if(Ye=t,De=t=sn(t.current,null),et=Ct=e,Ue=0,Ys=null,Fh=uc=eo=0,gt=Cs=null,Nn!==null){for(e=0;e<Nn.length;e++)if(r=Nn[e],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=o,n.next=s}r.pending=n}Nn=null}return t}function mS(t,e){do{var r=De;try{if(Eh(),yl.current=Jl,Yl){for(var n=Ae.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Yl=!1}if(Zn=0,Ke=Me=Ae=null,ws=!1,Qs=0,Dh.current=null,r===null||r.return===null){Ue=1,Ys=e,De=null;break}e:{var i=t,s=r.return,a=r,l=e;if(e=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,p=a,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=Zg(s);if(y!==null){y.flags&=-257,em(y,s,a,i,e),y.mode&1&&Xg(i,u,e),e=y,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){Xg(i,u,e),Uh();break e}l=Error(P(426))}}else if(we&&a.mode&1){var b=Zg(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),em(b,s,a,i,e),Sh(_i(l,a));break e}}i=l=_i(l,a),Ue!==4&&(Ue=2),Cs===null?Cs=[i]:Cs.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=eS(i,l,e);Gg(i,v);break e;case 1:a=l;var h=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(nn===null||!nn.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=tS(i,a,e);Gg(i,E);break e}}i=i.return}while(i!==null)}xS(r)}catch(A){e=A,De===r&&r!==null&&(De=r=r.return);continue}break}while(1)}function vS(){var t=Xl.current;return Xl.current=Jl,t===null?Jl:t}function Uh(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ye===null||!(eo&268435455)&&!(uc&268435455)||Hr(Ye,et)}function tu(t,e){var r=ie;ie|=2;var n=vS();(Ye!==t||et!==e)&&(_r=null,$n(t,e));do try{DA();break}catch(o){mS(t,o)}while(1);if(Eh(),ie=r,Xl.current=n,De!==null)throw Error(P(261));return Ye=null,et=0,Ue}function DA(){for(;De!==null;)_S(De)}function FA(){for(;De!==null&&!lb();)_S(De)}function _S(t){var e=wS(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,e===null?xS(t):De=e,Dh.current=null}function xS(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=kA(r,e),r!==null){r.flags&=32767,De=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,De=null;return}}else if(r=NA(r,e,Ct),r!==null){De=r;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Ue===0&&(Ue=5)}function bn(t,e,r){var n=le,o=Ft.transition;try{Ft.transition=null,le=1,MA(t,e,r,n)}finally{Ft.transition=o,le=n}return null}function MA(t,e,r,n){do ei();while(Kr!==null);if(ie&6)throw Error(P(327));r=t.finishedWork;var o=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(vb(t,i),t===Ye&&(De=Ye=null,et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xa||(Xa=!0,ES(Dl,function(){return ei(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ft.transition,Ft.transition=null;var s=le;le=1;var a=ie;ie|=4,Dh.current=null,RA(t,r),hS(r,t),oA(Md),Ml=!!Fd,Md=Fd=null,t.current=r,jA(r),ub(),ie=a,le=s,Ft.transition=i}else t.current=r;if(Xa&&(Xa=!1,Kr=t,eu=o),i=t.pendingLanes,i===0&&(nn=null),db(r.stateNode),wt(t,je()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)o=e[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Zl)throw Zl=!1,t=op,op=null,t;return eu&1&&t.tag!==0&&ei(),i=t.pendingLanes,i&1?t===ip?bs++:(bs=0,ip=t):bs=0,xn(),null}function ei(){if(Kr!==null){var t=Z0(eu),e=Ft.transition,r=le;try{if(Ft.transition=null,le=16>t?16:t,Kr===null)var n=!1;else{if(t=Kr,Kr=null,eu=0,ie&6)throw Error(P(331));var o=ie;for(ie|=4,F=t.current;F!==null;){var i=F,s=i.child;if(F.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var p=F;switch(p.tag){case 0:case 11:case 15:Es(8,p,i)}var d=p.child;if(d!==null)d.return=p,F=d;else for(;F!==null;){p=F;var f=p.sibling,y=p.return;if(fS(p),p===u){F=null;break}if(f!==null){f.return=y,F=f;break}F=y}}}var g=i.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}F=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,F=s;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Es(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,F=v;break e}F=i.return}}var h=t.current;for(F=h;F!==null;){s=F;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,F=m;else e:for(s=h;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lc(9,a)}}catch(A){Ne(a,a.return,A)}if(a===s){F=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,F=E;break e}F=a.return}}if(ie=o,xn(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(ec,t)}catch{}n=!0}return n}finally{le=r,Ft.transition=e}}return!1}function pm(t,e,r){e=_i(r,e),e=eS(t,e,1),t=rn(t,e,1),e=dt(),t!==null&&(ua(t,1,e),wt(t,e))}function Ne(t,e,r){if(t.tag===3)pm(t,t,r);else for(;e!==null;){if(e.tag===3){pm(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nn===null||!nn.has(n))){t=_i(r,t),t=tS(e,t,1),e=rn(e,t,1),t=dt(),e!==null&&(ua(e,1,t),wt(e,t));break}}e=e.return}}function LA(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&r,Ye===t&&(et&r)===r&&(Ue===4||Ue===3&&(et&130023424)===et&&500>je()-Mh?$n(t,0):Fh|=r),wt(t,e)}function SS(t,e){e===0&&(t.mode&1?(e=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):e=1);var r=dt();t=Nr(t,e),t!==null&&(ua(t,e,r),wt(t,r))}function BA(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),SS(t,r)}function UA(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,o=t.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(e),SS(t,r)}var wS;wS=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)vt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return vt=!1,PA(t,e,r);vt=!!(t.flags&131072)}else vt=!1,we&&e.flags&1048576&&bx(e,Gl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ml(t,e),t=e.pendingProps;var o=yi(e,at.current);Zo(e,r),o=Th(null,e,n,t,o,r);var i=Rh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(n)?(i=!0,zl(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ah(e),o.updater=sc,e.stateNode=o,o._reactInternals=e,Qd(e,n,t,r),e=Yd(null,e,n,!0,i,r)):(e.tag=0,we&&i&&_h(e),ut(null,e,o,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ml(t,e),t=e.pendingProps,o=n._init,n=o(n._payload),e.type=n,o=e.tag=zA(n),t=Vt(n,t),o){case 0:e=qd(null,e,n,t,r);break e;case 1:e=nm(null,e,n,t,r);break e;case 11:e=tm(null,e,n,t,r);break e;case 14:e=rm(null,e,n,Vt(n.type,t),r);break e}throw Error(P(306,n,""))}return e;case 0:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:Vt(n,o),qd(t,e,n,o,r);case 1:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:Vt(n,o),nm(t,e,n,o,r);case 3:e:{if(iS(e),t===null)throw Error(P(387));n=e.pendingProps,i=e.memoizedState,o=i.element,Nx(t,e),Kl(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=_i(Error(P(423)),e),e=om(t,e,n,r,o);break e}else if(n!==o){o=_i(Error(P(424)),e),e=om(t,e,n,r,o);break e}else for(At=tn(e.stateNode.containerInfo.firstChild),It=e,we=!0,Qt=null,r=jx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gi(),n===o){e=kr(t,e,r);break e}ut(t,e,n,r)}e=e.child}return e;case 5:return Ox(e),t===null&&Vd(e),n=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,Ld(n,o)?s=null:i!==null&&Ld(n,i)&&(e.flags|=32),oS(t,e),ut(t,e,s,r),e.child;case 6:return t===null&&Vd(e),null;case 13:return sS(t,e,r);case 4:return Ih(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=mi(e,null,n,r):ut(t,e,n,r),e.child;case 11:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:Vt(n,o),tm(t,e,n,o,r);case 7:return ut(t,e,e.pendingProps,r),e.child;case 8:return ut(t,e,e.pendingProps.children,r),e.child;case 12:return ut(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,me(Hl,n._currentValue),n._currentValue=s,i!==null)if(rr(i.value,s)){if(i.children===o.children&&!xt.current){e=kr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=br(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?l.next=l:(l.next=p.next,p.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Gd(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(P(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),Gd(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ut(t,e,o.children,r),e=e.child}return e;case 9:return o=e.type,n=e.pendingProps.children,Zo(e,r),o=Mt(o),n=n(o),e.flags|=1,ut(t,e,n,r),e.child;case 14:return n=e.type,o=Vt(n,e.pendingProps),o=Vt(n.type,o),rm(t,e,n,o,r);case 15:return rS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,o=e.pendingProps,o=e.elementType===n?o:Vt(n,o),ml(t,e),e.tag=1,St(n)?(t=!0,zl(e)):t=!1,Zo(e,r),Tx(e,n,o),Qd(e,n,o,r),Yd(null,e,n,!0,t,r);case 19:return aS(t,e,r);case 22:return nS(t,e,r)}throw Error(P(156,e.tag))};function ES(t,e){return q0(t,e)}function WA(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,r,n){return new WA(t,e,r,n)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zA(t){if(typeof t=="function")return Wh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ah)return 11;if(t===lh)return 14}return 2}function sn(t,e){var r=t.alternate;return r===null?(r=$t(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function xl(t,e,r,n,o,i){var s=2;if(n=t,typeof t=="function")Wh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case jo:return Dn(r.children,o,i,e);case sh:s=8,o|=8;break;case md:return t=$t(12,r,e,o|2),t.elementType=md,t.lanes=i,t;case vd:return t=$t(13,r,e,o),t.elementType=vd,t.lanes=i,t;case _d:return t=$t(19,r,e,o),t.elementType=_d,t.lanes=i,t;case R0:return cc(r,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k0:s=10;break e;case T0:s=9;break e;case ah:s=11;break e;case lh:s=14;break e;case Lr:s=16,n=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=$t(s,r,e,o),e.elementType=t,e.type=n,e.lanes=i,e}function Dn(t,e,r,n){return t=$t(7,t,n,e),t.lanes=r,t}function cc(t,e,r,n){return t=$t(22,t,n,e),t.elementType=R0,t.lanes=r,t.stateNode={isHidden:!1},t}function hf(t,e,r){return t=$t(6,t,null,e),t.lanes=r,t}function yf(t,e,r){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VA(t,e,r,n,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kc(0),this.expirationTimes=Kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kc(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zh(t,e,r,n,o,i,s,a,l){return t=new VA(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$t(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(i),t}function GA(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function CS(t){if(!t)return dn;t=t._reactInternals;e:{if(ao(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var r=t.type;if(St(r))return Ex(t,r,e)}return e}function bS(t,e,r,n,o,i,s,a,l){return t=zh(r,n,!0,t,o,i,s,a,l),t.context=CS(null),r=t.current,n=dt(),o=on(r),i=br(n,o),i.callback=e??null,rn(r,i,o),t.current.lanes=o,ua(t,o,n),wt(t,n),t}function fc(t,e,r,n){var o=e.current,i=dt(),s=on(o);return r=CS(r),e.context===null?e.context=r:e.pendingContext=r,e=br(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=rn(o,e,s),t!==null&&(Xt(t,o,s,i),hl(t,o,s)),s}function ru(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Vh(t,e){hm(t,e),(t=t.alternate)&&hm(t,e)}function HA(){return null}var AS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gh(t){this._internalRoot=t}dc.prototype.render=Gh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));fc(t,e,null,null)};dc.prototype.unmount=Gh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;to(function(){fc(null,t,null,null)}),e[Pr]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var e=rx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Gr.length&&e!==0&&e<Gr[r].priority;r++);Gr.splice(r,0,t),r===0&&ox(t)}};function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ym(){}function QA(t,e,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var u=ru(s);i.call(u)}}var s=bS(e,n,t,0,null,!1,!1,"",ym);return t._reactRootContainer=s,t[Pr]=s.current,Ws(t.nodeType===8?t.parentNode:t),to(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof n=="function"){var a=n;n=function(){var u=ru(l);a.call(u)}}var l=zh(t,0,!1,null,null,!1,!1,"",ym);return t._reactRootContainer=l,t[Pr]=l.current,Ws(t.nodeType===8?t.parentNode:t),to(function(){fc(e,l,r,n)}),l}function hc(t,e,r,n,o){var i=r._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=ru(s);a.call(l)}}fc(e,s,t,o)}else s=QA(r,e,t,o,n);return ru(s)}ex=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hs(e.pendingLanes);r!==0&&(fh(e,r|1),wt(e,je()),!(ie&6)&&(xi=je()+500,xn()))}break;case 13:to(function(){var n=Nr(t,1);if(n!==null){var o=dt();Xt(n,t,1,o)}}),Vh(t,1)}};dh=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var r=dt();Xt(e,t,134217728,r)}Vh(t,134217728)}};tx=function(t){if(t.tag===13){var e=on(t),r=Nr(t,e);if(r!==null){var n=dt();Xt(r,t,e,n)}Vh(t,e)}};rx=function(){return le};nx=function(t,e){var r=le;try{return le=t,e()}finally{le=r}};Nd=function(t,e,r){switch(e){case"input":if(wd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var o=oc(n);if(!o)throw Error(P(90));O0(n),wd(n,o)}}}break;case"textarea":D0(t,r);break;case"select":e=r.value,e!=null&&qo(t,!!r.multiple,e,!1)}};z0=Lh;V0=to;var KA={usingClientEntryPoint:!1,Events:[fa,Fo,oc,U0,W0,Lh]},rs={findFiberByHostInstance:Pn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qA={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q0(t),t===null?null:t.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||HA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Za.isDisabled&&Za.supportsFiber)try{ec=Za.inject(qA),fr=Za}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KA;Nt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hh(e))throw Error(P(200));return GA(t,e,null,r)};Nt.createRoot=function(t,e){if(!Hh(t))throw Error(P(299));var r=!1,n="",o=AS;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=zh(t,1,!1,null,null,r,!1,n,o),t[Pr]=e.current,Ws(t.nodeType===8?t.parentNode:t),new Gh(e)};Nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Q0(e),t=t===null?null:t.stateNode,t};Nt.flushSync=function(t){return to(t)};Nt.hydrate=function(t,e,r){if(!pc(e))throw Error(P(200));return hc(null,t,e,!0,r)};Nt.hydrateRoot=function(t,e,r){if(!Hh(t))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",s=AS;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=bS(e,null,t,1,r??null,o,!1,i,s),t[Pr]=e.current,Ws(t),n)for(t=0;t<n.length;t++)r=n[t],o=r._getVersion,o=o(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,o]:e.mutableSourceEagerHydrationData.push(r,o);return new dc(e)};Nt.render=function(t,e,r){if(!pc(e))throw Error(P(200));return hc(null,t,e,!1,r)};Nt.unmountComponentAtNode=function(t){if(!pc(t))throw Error(P(40));return t._reactRootContainer?(to(function(){hc(null,null,t,!1,function(){t._reactRootContainer=null,t[Pr]=null})}),!0):!1};Nt.unstable_batchedUpdates=Lh;Nt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!pc(r))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return hc(t,e,r,!1,n)};Nt.version="18.2.0-next-9e3b772b8-20220608";function IS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IS)}catch(t){console.error(t)}}IS(),b0.exports=Nt;var YA=b0.exports,gm=YA;yd.createRoot=gm.createRoot,yd.hydrateRoot=gm.hydrateRoot;var PS={exports:{}},NS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=S;function JA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XA=typeof Object.is=="function"?Object.is:JA,ZA=Si.useState,eI=Si.useEffect,tI=Si.useLayoutEffect,rI=Si.useDebugValue;function nI(t,e){var r=e(),n=ZA({inst:{value:r,getSnapshot:e}}),o=n[0].inst,i=n[1];return tI(function(){o.value=r,o.getSnapshot=e,gf(o)&&i({inst:o})},[t,r,e]),eI(function(){return gf(o)&&i({inst:o}),t(function(){gf(o)&&i({inst:o})})},[t]),rI(r),r}function gf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!XA(t,r)}catch{return!0}}function oI(t,e){return e()}var iI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oI:nI;NS.useSyncExternalStore=Si.useSyncExternalStore!==void 0?Si.useSyncExternalStore:iI;PS.exports=NS;var sI=PS.exports;const{useEffect:aI,useLayoutEffect:lI,useRef:uI,useInsertionEffect:cI}=BC,fI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dI=fI?lI:aI,pI=cI||dI,kS=t=>{const e=uI([t,(...r)=>e[0](...r)]).current;return pI(()=>{e[0]=t}),e[1]},hI=(t="",e=location.pathname)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",yI=(t,e="")=>t[0]==="~"?t.slice(1):e+t,gI="popstate",Qh="pushState",Kh="replaceState",mI="hashchange",mm=[gI,Qh,Kh,mI],vI=t=>{for(const e of mm)addEventListener(e,t);return()=>{for(const e of mm)removeEventListener(e,t)}},_I=(t,e)=>sI.useSyncExternalStore(vI,t,e),vm=()=>location.pathname,xI=({ssrPath:t}={})=>_I(vm,t?()=>t:vm),SI=(t,{replace:e=!1}={})=>history[e?Kh:Qh](null,"",t),wI=(t={})=>[hI(t.base,xI(t)),kS((e,r)=>SI(yI(e,t.base),r))];if(typeof history<"u")for(const t of[Qh,Kh]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}function EI(t=bI){let e={};const r=n=>e[n]||(e[n]=t(n));return(n,o)=>{const{regexp:i,keys:s}=r(n||""),a=i.exec(o);return a?[!0,s.reduce((u,p,d)=>(u[p.name]=a[d+1],u),{})]:[!1,null]}}const _m=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),CI=(t,e,r)=>{let n=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&r&&(n="(?:\\/"+n+")"),n+(e?"?":"")},bI=t=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let r=null,n=0,o=[],i="";for(;(r=e.exec(t))!==null;){const[s,a,l]=r,u=l==="+"||l==="*",p=l==="?"||l==="*",d=p&&t[r.index-1]==="/"?1:0,f=t.substring(n,r.index-d);o.push({name:a}),n=e.lastIndex,i+=_m(f)+CI(u,p,d)}return i+=_m(t.substring(n)),{keys:o,regexp:new RegExp("^"+i+"(?:\\/)?$","i")}},AI={hook:wI,matcher:EI(),base:""},II=S.createContext(AI),yc=()=>S.useContext(II),gc=t=>t.hook(t),PI=()=>gc(yc()),NI=t=>{const e=yc(),[r]=gc(e);return e.matcher(t,r)},kI=S.createContext({params:{}}),xm=(t,e)=>S.createElement(kI.Provider,{value:{params:t},children:e}),Tt=({path:t,match:e,component:r,children:n})=>{const o=NI(t),[i,s]=e||o;return i?r?xm(s,S.createElement(r,{params:s})):xm(s,typeof n=="function"?n(s):n):null};S.forwardRef((t,e)=>{const r=yc(),[,n]=gc(r),{to:o,href:i=o,children:s,onClick:a}=t,l=kS(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),n(o||i,t)))}),u={href:i[0]==="~"?i.slice(1):r.base+i,onClick:l,to:null,ref:e},p=S.isValidElement(s)?s:S.createElement("a",t);return S.cloneElement(p,u)});const lp=t=>Array.isArray(t)?[].concat(...t.map(e=>e&&e.type===S.Fragment?lp(e.props.children):lp(e))):[t],TI=({children:t,location:e})=>{const r=yc(),n=r.matcher,[o]=gc(r);for(const i of lp(t)){let s=0;if(S.isValidElement(i)&&(s=i.props.path?n(i.props.path,e||o):[!0,{}])[0])return S.cloneElement(i,{match:s})}return null};const RI="modulepreload",jI=function(t){return"/"+t},Sm={},OI=function(e,r,n){if(!r||r.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=jI(i),i in Sm)return;Sm[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!n)for(let p=o.length-1;p>=0;p--){const d=o[p];if(d.href===i&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":RI,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((p,d)=>{u.addEventListener("load",p),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},$I=t=>{t&&t instanceof Function&&OI(()=>import("./web-vitals-9f4c2f45.js"),[]).then(({getCLS:e,getFID:r,getFCP:n,getLCP:o,getTTFB:i})=>{e(t),r(t),n(t),o(t),i(t)})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw Ui(e)},Ui=function(t){return new Error("Firebase Database ("+TS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},DI=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const o=t[r++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[r++];e[n++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[r++],s=t[r++],a=t[r++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],s=t[r++];e[n++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,u=l?t[o+2]:0,p=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(f=64)),n.push(r[p],r[d],r[f],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<t.length;){const i=r[t.charAt(o++)],a=o<t.length?r[t.charAt(o)]:0;++o;const u=o<t.length?r[t.charAt(o)]:64;++o;const d=o<t.length?r[t.charAt(o)]:64;if(++o,i==null||a==null||u==null||d==null)throw new FI;const f=i<<2|a>>4;if(n.push(f),u!==64){const y=a<<4&240|u>>2;if(n.push(y),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jS=function(t){const e=RS(t);return qh.encodeByteArray(e,!0)},nu=function(t){return jS(t).replace(/\./g,"")},up=function(t){try{return qh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){return OS(void 0,t)}function OS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!LI(r)||(t[r]=OS(t[r],e[r]));return t}function LI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=()=>BI().__FIREBASE_DEFAULTS__,WI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&up(t[1]);return e&&JSON.parse(e)},$S=()=>{try{return UI()||WI()||zI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VI=t=>{var e,r;return(r=(e=$S())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},GI=t=>{const e=VI(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},DS=()=>{var t;return(t=$S())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[nu(JSON.stringify(r)),nu(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(QI())}function KI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MS(){return TS.NODE_ADMIN===!0}function qI(){try{return typeof indexedDB=="object"}catch{return!1}}function YI(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="FirebaseError";class ha extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=JI,Object.setPrototypeOf(this,ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,LS.prototype.create)}}class LS{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?XI(i,n):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new ha(o,a,n)}}function XI(t,e){return t.replace(ZI,(r,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const ZI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){return JSON.parse(t)}function Be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){let e={},r={},n={},o="";try{const i=t.split(".");e=Js(up(i[0])||""),r=Js(up(i[1])||""),o=i[2],n=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:n,signature:o}},eP=function(t){const e=BS(t),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},tP=function(t){const e=BS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function wm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ou(t,e,r){const n={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=e.call(r,t[o],o,t));return n}function cp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const o of r){if(!n.includes(o))return!1;const i=t[o],s=e[o];if(Em(i)&&Em(s)){if(!cp(i,s))return!1}else if(i!==s)return!1}for(const o of n)if(!r.includes(o))return!1;return!0}function Em(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(o=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const n=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)n[d]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let d=0;d<16;d++)n[d]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let d=16;d<80;d++){const f=n[d-3]^n[d-8]^n[d-14]^n[d-16];n[d]=(f<<1|f>>>31)&4294967295}let o=this.chain_[0],i=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,p;for(let d=0;d<80;d++){d<40?d<20?(u=a^i&(s^a),p=1518500249):(u=i^s^a,p=1859775393):d<60?(u=i&s|a&(i|s),p=2400959708):(u=i^s^a,p=3395469782);const f=(o<<5|o>>>27)+u+l+p+n[d]&4294967295;l=a,a=s,s=(i<<30|i>>>2)&4294967295,i=o,o=f}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const n=r-this.blockSize;let o=0;const i=this.buf_;let s=this.inbuf_;for(;o<r;){if(s===0)for(;o<=n;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<r;)if(i[s]=e.charCodeAt(o),++s,++o,s===this.blockSize){this.compress_(i),s=0;break}}else for(;o<r;)if(i[s]=e[o],++s,++o,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let o=0;o<5;o++)for(let i=24;i>=0;i-=8)e[n]=this.chain_[o]>>i&255,++n;return e}}function ya(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);if(o>=55296&&o<=56319){const i=o-55296;n++,N(n<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(n)-56320;o=65536+(i<<10)+s}o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):o<65536?(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},mc=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new pa;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aP(e))try{this.getOrInitializeService({instanceIdentifier:An})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:o});n.resolve(i)}catch{}}}}clearInstance(e=An){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=An){return this.instances.has(e)}getOptions(e=An){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&s.resolve(o)}return o}onInit(e,r){var n;const o=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(o))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const o of n)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:sP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=An){return this.component?this.component.multipleInstances?e:An:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sP(t){return t===An?void 0:t}function aP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new iP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const uP={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},cP=he.INFO,fP={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},dP=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),o=fP[e];if(o)console[o](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class US{constructor(e){this.name=e,this._logLevel=cP,this._logHandler=dP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const pP=(t,e)=>e.some(r=>t instanceof r);let Cm,bm;function hP(){return Cm||(Cm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yP(){return bm||(bm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,fp=new WeakMap,zS=new WeakMap,mf=new WeakMap,Yh=new WeakMap;function gP(t){const e=new Promise((r,n)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{r(an(t.result)),o()},s=()=>{n(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&WS.set(r,t)}).catch(()=>{}),Yh.set(e,t),e}function mP(t){if(fp.has(t))return;const e=new Promise((r,n)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{r(),o()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});fp.set(t,e)}let dp={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zS.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return an(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vP(t){dp=t(dp)}function _P(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(vf(this),e,...r);return zS.set(n,e.sort?e.sort():[e]),an(n)}:yP().includes(t)?function(...e){return t.apply(vf(this),e),an(WS.get(this))}:function(...e){return an(t.apply(vf(this),e))}}function xP(t){return typeof t=="function"?_P(t):(t instanceof IDBTransaction&&mP(t),pP(t,hP())?new Proxy(t,dp):t)}function an(t){if(t instanceof IDBRequest)return gP(t);if(mf.has(t))return mf.get(t);const e=xP(t);return e!==t&&(mf.set(t,e),Yh.set(e,t)),e}const vf=t=>Yh.get(t);function SP(t,e,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=an(s);return n&&s.addEventListener("upgradeneeded",l=>{n(an(s.result),l.oldVersion,l.newVersion,an(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wP=["get","getKey","getAll","getAllKeys","count"],EP=["put","add","delete","clear"],_f=new Map;function Am(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_f.get(e))return _f.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,o=EP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||wP.includes(r)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),o&&l.done]))[0]};return _f.set(e,i),i}vP(t=>({...t,get:(e,r,n)=>Am(e,r)||t.get(e,r,n),has:(e,r)=>!!Am(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bP(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function bP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",Im="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new US("@firebase/app"),AP="@firebase/app-compat",IP="@firebase/analytics-compat",PP="@firebase/analytics",NP="@firebase/app-check-compat",kP="@firebase/app-check",TP="@firebase/auth",RP="@firebase/auth-compat",jP="@firebase/database",OP="@firebase/database-compat",$P="@firebase/functions",DP="@firebase/functions-compat",FP="@firebase/installations",MP="@firebase/installations-compat",LP="@firebase/messaging",BP="@firebase/messaging-compat",UP="@firebase/performance",WP="@firebase/performance-compat",zP="@firebase/remote-config",VP="@firebase/remote-config-compat",GP="@firebase/storage",HP="@firebase/storage-compat",QP="@firebase/firestore",KP="@firebase/firestore-compat",qP="firebase",YP="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",JP={[pp]:"fire-core",[AP]:"fire-core-compat",[PP]:"fire-analytics",[IP]:"fire-analytics-compat",[kP]:"fire-app-check",[NP]:"fire-app-check-compat",[TP]:"fire-auth",[RP]:"fire-auth-compat",[jP]:"fire-rtdb",[OP]:"fire-rtdb-compat",[$P]:"fire-fn",[DP]:"fire-fn-compat",[FP]:"fire-iid",[MP]:"fire-iid-compat",[LP]:"fire-fcm",[BP]:"fire-fcm-compat",[UP]:"fire-perf",[WP]:"fire-perf-compat",[zP]:"fire-rc",[VP]:"fire-rc-compat",[GP]:"fire-gcs",[HP]:"fire-gcs-compat",[QP]:"fire-fst",[KP]:"fire-fst-compat","fire-js":"fire-js",[qP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,yp=new Map;function XP(t,e){try{t.container.addComponent(e)}catch(r){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function su(t){const e=t.name;if(yp.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,t);for(const r of iu.values())XP(r,t);return!0}function ZP(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ln=new LS("app","Firebase",eN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=YP;function VS(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:hp,automaticDataCollectionEnabled:!1},e),o=n.name;if(typeof o!="string"||!o)throw ln.create("bad-app-name",{appName:String(o)});if(r||(r=DS()),!r)throw ln.create("no-options");const i=iu.get(o);if(i){if(cp(r,i.options)&&cp(n,i.config))return i;throw ln.create("duplicate-app",{appName:o})}const s=new lP(o);for(const l of yp.values())s.addComponent(l);const a=new tN(r,n,s);return iu.set(o,a),a}function nN(t=hp){const e=iu.get(t);if(!e&&t===hp&&DS())return VS();if(!e)throw ln.create("no-app",{appName:t});return e}function ti(t,e,r){var n;let o=(n=JP[t])!==null&&n!==void 0?n:t;r&&(o+=`-${r}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ro.warn(a.join(" "));return}su(new Xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebase-heartbeat-database",iN=1,Zs="firebase-heartbeat-store";let xf=null;function GS(){return xf||(xf=SP(oN,iN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zs)}}}).catch(t=>{throw ln.create("idb-open",{originalErrorMessage:t.message})})),xf}async function sN(t){try{return await(await GS()).transaction(Zs).objectStore(Zs).get(HS(t))}catch(e){if(e instanceof ha)ro.warn(e.message);else{const r=ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ro.warn(r.message)}}}async function Pm(t,e){try{const n=(await GS()).transaction(Zs,"readwrite");await n.objectStore(Zs).put(e,HS(t)),await n.done}catch(r){if(r instanceof ha)ro.warn(r.message);else{const n=ln.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ro.warn(n.message)}}}function HS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1024,lN=30*24*60*60*1e3;class uN{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new fN(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Nm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(o=>o.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const i=new Date(o.date).valueOf();return Date.now()-i<=lN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nm(),{heartbeatsToSend:r,unsentEntries:n}=cN(this._heartbeatsCache.heartbeats),o=nu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Nm(){return new Date().toISOString().substring(0,10)}function cN(t,e=aN){const r=[];let n=t.slice();for(const o of t){const i=r.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),km(r)>e){i.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),km(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class fN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qI()?YI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await sN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pm(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pm(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function km(t){return nu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){su(new Xs("platform-logger",e=>new CP(e),"PRIVATE")),su(new Xs("heartbeat",e=>new uN(e),"PRIVATE")),ti(pp,Im,t),ti(pp,Im,"esm2017"),ti("fire-js","")}dN("");var pN="firebase",hN="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(pN,hN,"app");const Tm="@firebase/database",Rm="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QS="";function yN(t){QS=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:Js(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return pr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gN(e)}}catch{}return new mN},Tn=KS("localStorage"),gp=KS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new US("@firebase/database"),vN=function(){let t=1;return function(){return t++}}(),qS=function(t){const e=oP(t),r=new nP;r.update(e);const n=r.digest();return qh.encodeByteArray(n)},ga=function(...t){let e="";for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=ga.apply(null,n):typeof n=="object"?e+=Be(n):e+=n,e+=" "}return e};let Fn=null,jm=!0;const _N=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ri.logLevel=he.VERBOSE,Fn=ri.log.bind(ri),e&&gp.set("logging_enabled",!0)):typeof t=="function"?Fn=t:(Fn=null,gp.remove("logging_enabled"))},Ze=function(...t){if(jm===!0&&(jm=!1,Fn===null&&gp.get("logging_enabled")===!0&&_N(!0)),Fn){const e=ga.apply(null,t);Fn(e)}},ma=function(t){return function(...e){Ze(t,...e)}},mp=function(...t){const e="FIREBASE INTERNAL ERROR: "+ga(...t);ri.error(e)},Tr=function(...t){const e=`FIREBASE FATAL ERROR: ${ga(...t)}`;throw ri.error(e),new Error(e)},pt=function(...t){const e="FIREBASE WARNING: "+ga(...t);ri.warn(e)},xN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Jh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},SN=function(t){if(document.readyState==="complete")t();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},no="[MIN_NAME]",pn="[MAX_NAME]",lo=function(t,e){if(t===e)return 0;if(t===no||e===pn)return-1;if(e===no||t===pn)return 1;{const r=Om(t),n=Om(e);return r!==null?n!==null?r-n===0?t.length-e.length:r-n:-1:n!==null?1:t<e?-1:1}},wN=function(t,e){return t===e?0:t<e?-1:1},ns=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Be(e))},Xh=function(t){if(typeof t!="object"||t===null)return Be(t);const e=[];for(const n in t)e.push(n);e.sort();let r="{";for(let n=0;n<e.length;n++)n!==0&&(r+=","),r+=Be(e[n]),r+=":",r+=Xh(t[e[n]]);return r+="}",r},YS=function(t,e){const r=t.length;if(r<=e)return[t];const n=[];for(let o=0;o<r;o+=e)o+e>r?n.push(t.substring(o,r)):n.push(t.substring(o,o+e));return n};function rt(t,e){for(const r in t)t.hasOwnProperty(r)&&e(r,t[r])}const JS=function(t){N(!Jh(t),"Invalid JSON number");const e=11,r=52,n=(1<<e-1)-1;let o,i,s,a,l;t===0?(i=0,s=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),n),i=a+n,s=Math.round(t*Math.pow(2,r-a)-Math.pow(2,r))):(i=0,s=Math.round(t/Math.pow(2,1-n-r))));const u=[];for(l=r;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(o?1:0),u.reverse();const p=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(p.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},EN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},CN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bN(t,e){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const n=new Error(t+" at "+e._path.toString()+": "+r);return n.code=t.toUpperCase(),n}const AN=new RegExp("^-?(0*)\\d{1,10}$"),IN=-2147483648,PN=2147483647,Om=function(t){if(AN.test(t)){const e=Number(t);if(e>=IN&&e<=PN)return e}return null},Wi=function(t){try{t()}catch(e){setTimeout(()=>{const r=e.stack||"";throw pt("Exception was thrown by user callback.",r),e},Math.floor(0))}},NN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},As=function(t,e){const r=setTimeout(t,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,r,n){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(e)}}class ni{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ni.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="5",XS="v",ZS="s",e1="r",t1="f",r1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,n1="ls",o1="p",vp="ac",i1="websocket",s1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,r,n,o,i=!1,s="",a=!1,l=!1){this.secure=r,this.namespace=n,this.webSocketOnly=o,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function RN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function l1(t,e,r){N(typeof e=="string","typeof type must == string"),N(typeof r=="object","typeof params must == object");let n;if(e===i1)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===s1)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);RN(t)&&(r.ns=t.namespace);const o=[];return rt(r,(i,s)=>{o.push(i+"="+s)}),n+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.counters_={}}incrementCounter(e,r=1){pr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return MI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf={},wf={};function ey(t){const e=t.toString();return Sf[e]||(Sf[e]=new jN),Sf[e]}function ON(t,e){const r=t.toString();return wf[r]||(wf[r]=e()),wf[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<n.length;++o)n[o]&&Wi(()=>{this.onMessage_(n[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="start",DN="close",FN="pLPCommand",MN="pRTLPCB",u1="id",c1="pw",f1="ser",LN="cb",BN="seg",UN="ts",WN="d",zN="dframe",d1=1870,p1=30,VN=d1-p1,GN=25e3,HN=3e4;class Vo{constructor(e,r,n,o,i,s,a){this.connId=e,this.repoInfo=r,this.applicationId=n,this.appCheckToken=o,this.authToken=i,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ma(e),this.stats_=ey(r),this.urlFn=l=>(this.appCheckToken&&(l[vp]=this.appCheckToken),l1(r,s1,l))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new $N(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(HN)),SN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ty((...i)=>{const[s,a,l,u,p]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===$m)this.id=a,this.password=l;else if(s===DN)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...i)=>{const[s,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const n={};n[$m]="t",n[f1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[LN]=this.scriptTagHolder.uniqueCallbackIdentifier),n[XS]=Zh,this.transportSessionId&&(n[ZS]=this.transportSessionId),this.lastSessionId&&(n[n1]=this.lastSessionId),this.applicationId&&(n[o1]=this.applicationId),this.appCheckToken&&(n[vp]=this.appCheckToken),typeof location<"u"&&location.hostname&&r1.test(location.hostname)&&(n[e1]=t1);const o=this.urlFn(n);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vo.forceAllow_=!0}static forceDisallow(){Vo.forceDisallow_=!0}static isAvailable(){return Vo.forceAllow_?!0:!Vo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!EN()&&!CN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Be(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=jS(r),o=YS(n,VN);for(let i=0;i<o.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[i]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[zN]="t",n[u1]=e,n[c1]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Be(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class ty{constructor(e,r,n,o){this.onDisconnect=n,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vN(),window[FN+this.uniqueCallbackIdentifier]=e,window[MN+this.uniqueCallbackIdentifier]=r,this.myIFrame=ty.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ze("frame writing exception"),a.stack&&Ze(a.stack),Ze(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ze("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[u1]=this.myID,e[c1]=this.myPW,e[f1]=this.currentSerial;let r=this.urlFn(e),n="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+p1+n.length<=d1;){const s=this.pendingSegs.shift();n=n+"&"+BN+o+"="+s.seg+"&"+UN+o+"="+s.ts+"&"+WN+o+"="+s.d,o++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,n){this.pendingSegs.push({seg:e,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},o=setTimeout(n,Math.floor(GN)),i=()=>{clearTimeout(o),n()};this.addTag(e,i)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const o=n.readyState;(!o||o==="loaded"||o==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{Ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=16384,KN=45e3;let au=null;typeof MozWebSocket<"u"?au=MozWebSocket:typeof WebSocket<"u"&&(au=WebSocket);class Kt{constructor(e,r,n,o,i,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=o,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ma(this.connId),this.stats_=ey(r),this.connURL=Kt.connectionURL_(r,s,a,o,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,n,o,i){const s={};return s[XS]=Zh,typeof location<"u"&&location.hostname&&r1.test(location.hostname)&&(s[e1]=t1),r&&(s[ZS]=r),n&&(s[n1]=n),o&&(s[vp]=o),i&&(s[o1]=i),l1(e,i1,s)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tn.set("previous_websocket_failure",!0);try{let n;MS(),this.mySock=new au(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const o=n.message||n.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const o=n.message||n.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&au!==null&&!Kt.forceDisallow_}static previouslyFailed(){return Tn.isInMemoryStorage||Tn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Tn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=Js(r);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const r=Be(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=YS(r,QN);n.length>1&&this.sendString_(String(n.length));for(let o=0;o<n.length;o++)this.sendString_(n[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KN))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Vo,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=Kt&&Kt.isAvailable();let n=r&&!Kt.previouslyFailed();if(e.webSocketOnly&&(r||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Kt];else{const o=this.transports_=[];for(const i of ea.ALL_TRANSPORTS)i&&i.isAvailable()&&o.push(i);ea.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ea.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=6e4,YN=5e3,JN=10*1024,XN=100*1024,Ef="t",Dm="d",ZN="s",Fm="r",ek="e",Mm="o",Lm="a",Bm="n",Um="p",tk="h";class rk{constructor(e,r,n,o,i,s,a,l,u,p){this.id=e,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=o,this.authToken_=i,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ma("c:"+this.id+":"),this.transportManager_=new ea(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=As(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>JN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ef in e){const r=e[Ef];r===Lm?this.upgradeIfSecondaryHealthy_():r===Fm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Mm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=ns("t",e),n=ns("d",e);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Um,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Bm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=ns("t",e),n=ns("d",e);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=ns(Ef,e);if(Dm in e){const n=e[Dm];if(r===tk){const o=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(r===Bm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===ZN?this.onConnectionShutdown_(n):r===Fm?this.onReset_(n):r===ek?mp("Server Error: "+n):r===Mm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mp("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,n=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Zh!==n&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),As(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):As(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Um,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{put(e,r,n,o){}merge(e,r,n,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,n){}onDisconnectMerge(e,r,n){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let o=0;o<n.length;o++)n[o].callback.apply(n[o].context,r)}}on(e,r,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:n});const o=this.getInitialEvent(e);o&&r.apply(n,o)}off(e,r,n){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let i=0;i<o.length;i++)if(o[i].callback===r&&(!n||n===o[i].context)){o.splice(i,1);return}}validateEventType_(e){N(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends y1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!FS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new lu}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=32,zm=768;class ue{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let n=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[n]=this.pieces_[o],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function se(){return new ue("")}function K(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function hn(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function ry(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nk(t){let e="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[r])));return e||"/"}function ta(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function g1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)e.push(t.pieces_[r]);return new ue(e,0)}function Te(t,e){const r=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);if(e instanceof ue)for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);else{const n=e.split("/");for(let o=0;o<n.length;o++)n[o].length>0&&r.push(n[o])}return new ue(r,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function ft(t,e){const r=K(t),n=K(e);if(r===null)return e;if(r===n)return ft(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ok(t,e){const r=ta(t,0),n=ta(e,0);for(let o=0;o<r.length&&o<n.length;o++){const i=lo(r[o],n[o]);if(i!==0)return i}return r.length===n.length?0:r.length<n.length?-1:1}function ny(t,e){if(hn(t)!==hn(e))return!1;for(let r=t.pieceNum_,n=e.pieceNum_;r<=t.pieces_.length;r++,n++)if(t.pieces_[r]!==e.pieces_[n])return!1;return!0}function Dt(t,e){let r=t.pieceNum_,n=e.pieceNum_;if(hn(t)>hn(e))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==e.pieces_[n])return!1;++r,++n}return!0}class ik{constructor(e,r){this.errorPrefix_=r,this.parts_=ta(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=mc(this.parts_[n]);m1(this)}}function sk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=mc(e),m1(t)}function ak(t){const e=t.parts_.pop();t.byteLength_-=mc(e),t.parts_.length>0&&(t.byteLength_-=1)}function m1(t){if(t.byteLength_>zm)throw new Error(t.errorPrefix_+"has a key path longer than "+zm+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wm)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wm+") or object contains a cycle "+In(t))}function In(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends y1{constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new oy}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=1e3,lk=60*5*1e3,Vm=30*1e3,uk=1.3,ck=3e4,fk="server_kill",Gm=3;class Ar extends h1{constructor(e,r,n,o,i,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=o,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ar.nextPersistentConnectionId_++,this.log_=ma("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=os,this.maxReconnectDelay_=lk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!MS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");oy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&lu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,n){const o=++this.requestNumber_,i={r:o,a:e,b:r};this.log_(Be(i)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[o]=n)}get(e){this.initConnection_();const r=new pa,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?r.resolve(a):r.reject(a)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),r.promise}listen(e,r,n,o){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const a={onComplete:o,hashFn:r,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(e){const r=e.query,n=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+n+" for "+o);const i={p:n},s="q";e.tag&&(i.q=r._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(s,i,a=>{const l=a.d,u=a.s;Ar.warnOnListenWarnings_(l,r),(this.listens.get(n)&&this.listens.get(n).get(o))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(n,o),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&pr(e,"w")){const n=wi(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',i=r._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||tP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Vm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=eP(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,o=>{const i=o.s,s=o.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,n=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(e,r){const n=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+o),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,o)&&this.connected_&&this.sendUnlisten_(n,o,e._queryObject,r)}sendUnlisten_(e,r,n,o){this.log_("Unlisten on "+e+" for "+r);const i={p:e},s="n";o&&(i.q=n,i.t=o),this.sendRequest(s,i)}onDisconnectPut(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:n})}onDisconnectMerge(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:n})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,n,o){const i={p:r,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,s=>{o&&setTimeout(()=>{o(s.s,s.d)},Math.floor(0))})}put(e,r,n,o){this.putInternal("p",e,r,n,o)}merge(e,r,n,o){this.putInternal("m",e,r,n,o)}putInternal(e,r,n,o,i){this.initConnection_();const s={p:r,d:n};i!==void 0&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:o}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,i=>{this.log_(r+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(i.s,i.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const i=n.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Be(e));const r=e.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):mp("Unrecognized action received from server: "+Be(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=os,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=os,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ck&&(this.reconnectDelay_=os),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Ar.nextConnectionId_++,i=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},u=function(d){N(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);s?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new rk(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,n,y=>{pt(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(fk)},i))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&pt(d),l())}}}interrupt(e){Ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],wm(this.interruptReasons_)&&(this.reconnectDelay_=os,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let n;r?n=r.map(i=>Xh(i)).join("$"):n="default";const o=this.removeListen_(e,n);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,r){const n=new ue(e).toString();let o;if(this.listens.has(n)){const i=this.listens.get(n);o=i.get(r),i.delete(r),i.size===0&&this.listens.delete(n)}else o=void 0;return o}onAuthRevoked_(e,r){Ze("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Gm&&(this.reconnectDelay_=Vm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Ze("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Gm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+QS.replace(/\./g,"-")]=1,FS()?e["framework.cordova"]=1:KI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lu.getInstance().currentlyOnline();return wm(this.interruptReasons_)&&e}}Ar.nextPersistentConnectionId_=0;Ar.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new Y(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const n=new Y(no,e),o=new Y(no,r);return this.compare(n,o)!==0}minPost(){return Y.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el;class v1 extends vc{static get __EMPTY_NODE(){return el}static set __EMPTY_NODE(e){el=e}compare(e,r){return lo(e.name,r.name)}isDefinedOn(e){throw Ui("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return Y.MIN}maxPost(){return new Y(pn,el)}makePost(e,r){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,el)}toString(){return".key"}}const Mn=new v1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,r,n,o,i=null){this.isReverse_=o,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=r?n(e.key,r):1,o&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qe{constructor(e,r,n,o,i){this.key=e,this.value=r,this.color=n??qe.RED,this.left=o??_t.EMPTY_NODE,this.right=i??_t.EMPTY_NODE}copy(e,r,n,o,i){return new qe(e??this.key,r??this.value,n??this.color,o??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let o=this;const i=n(e,o.key);return i<0?o=o.copy(null,null,null,o.left.insert(e,r,n),null):i===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,r,n)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return _t.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let n,o;if(n=this,r(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(e,n.key)===0){if(n.right.isEmpty())return _t.EMPTY_NODE;o=n.right.min_(),n=n.copy(o.key,o.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qe.RED=!0;qe.BLACK=!1;class dk{copy(e,r,n,o,i){return this}insert(e,r,n){return new qe(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _t{constructor(e,r=_t.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new _t(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,qe.BLACK,null,null))}remove(e){return new _t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qe.BLACK,null,null))}get(e){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(e,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(e){let r,n=this.root_,o=null;for(;!n.isEmpty();)if(r=this.comparator_(e,n.key),r===0){if(n.left.isEmpty())return o?o.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(o=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new tl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new tl(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new tl(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new tl(this.root_,null,this.comparator_,!0,e)}}_t.EMPTY_NODE=new dk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){return lo(t.name,e.name)}function iy(t,e){return lo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p;function hk(t){_p=t}const _1=function(t){return typeof t=="number"?"number:"+JS(t):"string:"+t},x1=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pr(e,".sv"),"Priority must be a string or number.")}else N(t===_p||t.isEmpty(),"priority of unexpected type.");N(t===_p||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm;class Qe{constructor(e,r=Qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),x1(this.priorityNode_)}static set __childrenNodeConstructor(e){Hm=e}static get __childrenNodeConstructor(){return Hm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return q(e)?this:K(e)===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const n=K(e);return n===null?r:r.isEmpty()&&n!==".priority"?this:(N(n!==".priority"||hn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,Qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_1(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=JS(this.value_):e+=this.value_,this.lazyHash_=qS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qe.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,n=typeof this.value_,o=Qe.VALUE_TYPE_ORDER.indexOf(r),i=Qe.VALUE_TYPE_ORDER.indexOf(n);return N(o>=0,"Unknown leaf type: "+r),N(i>=0,"Unknown leaf type: "+n),o===i?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S1,w1;function yk(t){S1=t}function gk(t){w1=t}class mk extends vc{compare(e,r){const n=e.node.getPriority(),o=r.node.getPriority(),i=n.compareTo(o);return i===0?lo(e.name,r.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(pn,new Qe("[PRIORITY-POST]",w1))}makePost(e,r){const n=S1(e);return new Y(r,new Qe("[PRIORITY-POST]",n))}toString(){return".priority"}}const be=new mk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=Math.log(2);class _k{constructor(e){const r=i=>parseInt(Math.log(i)/vk,10),n=i=>parseInt(Array(i+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const o=n(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uu=function(t,e,r,n){t.sort(e);const o=function(l,u){const p=u-l;let d,f;if(p===0)return null;if(p===1)return d=t[l],f=r?r(d):d,new qe(f,d.node,qe.BLACK,null,null);{const y=parseInt(p/2,10)+l,g=o(l,y),_=o(y+1,u);return d=t[y],f=r?r(d):d,new qe(f,d.node,qe.BLACK,g,_)}},i=function(l){let u=null,p=null,d=t.length;const f=function(g,_){const b=d-g,v=d;d-=g;const h=o(b+1,v),m=t[b],E=r?r(m):m;y(new qe(E,m.node,_,null,h))},y=function(g){u?(u.left=g,u=g):(p=g,u=g)};for(let g=0;g<l.count;++g){const _=l.nextBitIsOne(),b=Math.pow(2,l.count-(g+1));_?f(b,qe.BLACK):(f(b,qe.BLACK),f(b,qe.RED))}return p},s=new _k(t.length),a=i(s);return new _t(n||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;const ho={};class Er{constructor(e,r){this.indexes_=e,this.indexSet_=r}static get Default(){return N(ho&&be,"ChildrenNode.ts has not been loaded"),Cf=Cf||new Er({".priority":ho},{".priority":be}),Cf}get(e){const r=wi(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof _t?r:null}hasIndex(e){return pr(this.indexSet_,e.toString())}addIndex(e,r){N(e!==Mn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let o=!1;const i=r.getIterator(Y.Wrap);let s=i.getNext();for(;s;)o=o||e.isDefinedOn(s.node),n.push(s),s=i.getNext();let a;o?a=uu(n,e.getCompare()):a=ho;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const p=Object.assign({},this.indexes_);return p[l]=a,new Er(p,u)}addToIndexes(e,r){const n=ou(this.indexes_,(o,i)=>{const s=wi(this.indexSet_,i);if(N(s,"Missing index implementation for "+i),o===ho)if(s.isDefinedOn(e.node)){const a=[],l=r.getIterator(Y.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),uu(a,s.getCompare())}else return ho;else{const a=r.get(e.name);let l=o;return a&&(l=l.remove(new Y(e.name,a))),l.insert(e,e.node)}});return new Er(n,this.indexSet_)}removeFromIndexes(e,r){const n=ou(this.indexes_,o=>{if(o===ho)return o;{const i=r.get(e.name);return i?o.remove(new Y(e.name,i)):o}});return new Er(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let is;class z{constructor(e,r,n){this.children_=e,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&x1(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return is||(is=new z(new _t(iy),null,Er.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||is}updatePriority(e){return this.children_.isEmpty()?this:new z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?is:r}}getChild(e){const r=K(e);return r===null?this:this.getImmediateChild(r).getChild(ye(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(N(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const n=new Y(e,r);let o,i;r.isEmpty()?(o=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(o=this.children_.insert(e,r),i=this.indexMap_.addToIndexes(n,this.children_));const s=o.isEmpty()?is:this.priorityNode_;return new z(o,s,i)}}updateChild(e,r){const n=K(e);if(n===null)return r;{N(K(e)!==".priority"||hn(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(n).updateChild(ye(e),r);return this.updateImmediateChild(n,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let n=0,o=0,i=!0;if(this.forEachChild(be,(s,a)=>{r[s]=a.val(e),n++,i&&z.INTEGER_REGEXP_.test(s)?o=Math.max(o,Number(s)):i=!1}),!e&&i&&o<2*n){const s=[];for(const a in r)s[a]=r[a];return s}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_1(this.getPriority().val())+":"),this.forEachChild(be,(r,n)=>{const o=n.hash();o!==""&&(e+=":"+r+":"+o)}),this.lazyHash_=e===""?"":qS(e)}return this.lazyHash_}getPredecessorChildName(e,r,n){const o=this.resolveIndex_(n);if(o){const i=o.getPredecessorKey(new Y(e,r));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Y(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Y(r,this.children_.get(r)):null}forEachChild(e,r){const n=this.resolveIndex_(e);return n?n.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Y.Wrap);let i=o.peek();for(;i!=null&&r.compare(i,e)<0;)o.getNext(),i=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Y.Wrap);let i=o.peek();for(;i!=null&&r.compare(i,e)>0;)o.getNext(),i=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===va?-1:0}withIndex(e){if(e===Mn||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new z(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Mn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(be),o=r.getIterator(be);let i=n.getNext(),s=o.getNext();for(;i&&s;){if(i.name!==s.name||!i.node.equals(s.node))return!1;i=n.getNext(),s=o.getNext()}return i===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Mn?null:this.indexMap_.get(e.toString())}}z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xk extends z{constructor(){super(new _t(iy),z.EMPTY_NODE,Er.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}}const va=new xk;Object.defineProperties(Y,{MIN:{value:new Y(no,z.EMPTY_NODE)},MAX:{value:new Y(pn,va)}});v1.__EMPTY_NODE=z.EMPTY_NODE;Qe.__childrenNodeConstructor=z;hk(va);gk(va);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=!0;function Le(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new Qe(r,Le(e))}if(!(t instanceof Array)&&Sk){const r=[];let n=!1;if(rt(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Le(a);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),r.push(new Y(s,l)))}}),r.length===0)return z.EMPTY_NODE;const i=uu(r,pk,s=>s.name,iy);if(n){const s=uu(r,be.getCompare());return new z(i,Le(e),new Er({".priority":s},{".priority":be}))}else return new z(i,Le(e),Er.Default)}else{let r=z.EMPTY_NODE;return rt(t,(n,o)=>{if(pr(t,n)&&n.substring(0,1)!=="."){const i=Le(o);(i.isLeafNode()||!i.isEmpty())&&(r=r.updateImmediateChild(n,i))}}),r.updatePriority(Le(e))}}yk(Le);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends vc{constructor(e){super(),this.indexPath_=e,N(!q(e)&&K(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const n=this.extractChild(e.node),o=this.extractChild(r.node),i=n.compareTo(o);return i===0?lo(e.name,r.name):i}makePost(e,r){const n=Le(e),o=z.EMPTY_NODE.updateChild(this.indexPath_,n);return new Y(r,o)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,va);return new Y(pn,e)}toString(){return ta(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk extends vc{compare(e,r){const n=e.node.compareTo(r.node);return n===0?lo(e.name,r.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,r){const n=Le(e);return new Y(r,n)}toString(){return".value"}}const E1=new wk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){return{type:"value",snapshotNode:t}}function Ei(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ra(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function na(t,e,r){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:r}}function Ek(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.index_=e}updateChild(e,r,n,o,i,s){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(r);return a.getChild(o).equals(n.getChild(o))&&a.isEmpty()===n.isEmpty()||(s!=null&&(n.isEmpty()?e.hasChild(r)?s.trackChildChange(ra(r,a)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ei(r,n)):s.trackChildChange(na(r,n,a))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(e,r,n){return n!=null&&(e.isLeafNode()||e.forEachChild(be,(o,i)=>{r.hasChild(o)||n.trackChildChange(ra(o,i))}),r.isLeafNode()||r.forEachChild(be,(o,i)=>{if(e.hasChild(o)){const s=e.getImmediateChild(o);s.equals(i)||n.trackChildChange(na(o,i,s))}else n.trackChildChange(Ei(o,i))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.indexedFilter_=new ay(e.getIndex()),this.index_=e.getIndex(),this.startPost_=oa.getStartPost_(e),this.endPost_=oa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&n}updateChild(e,r,n,o,i,s){return this.matches(new Y(r,n))||(n=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,n,o,i,s)}updateFullNode(e,r,n){r.isLeafNode()&&(r=z.EMPTY_NODE);let o=r.withIndex(this.index_);o=o.updatePriority(z.EMPTY_NODE);const i=this;return r.forEachChild(be,(s,a)=>{i.matches(new Y(s,a))||(o=o.updateImmediateChild(s,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new oa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,n,o,i,s){return this.rangedFilter_.matches(new Y(r,n))||(n=z.EMPTY_NODE),e.getImmediateChild(r).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,n,o,i,s):this.fullLimitUpdateChild_(e,r,n,i,s)}updateFullNode(e,r,n){let o;if(r.isLeafNode()||r.isEmpty())o=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){o=z.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;i.hasNext()&&s<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))o=o.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{o=r.withIndex(this.index_),o=o.updatePriority(z.EMPTY_NODE);let i;this.reverse_?i=o.getReverseIterator(this.index_):i=o.getIterator(this.index_);let s=0;for(;i.hasNext();){const a=i.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:o=o.updateImmediateChild(a.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,n,o,i){let s;if(this.reverse_){const d=this.index_.getCompare();s=(f,y)=>d(y,f)}else s=this.index_.getCompare();const a=e;N(a.numChildren()===this.limit_,"");const l=new Y(r,n),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(l);if(a.hasChild(r)){const d=a.getImmediateChild(r);let f=o.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===r||a.hasChild(f.name));)f=o.getChildAfterChild(this.index_,f,this.reverse_);const y=f==null?1:s(f,l);if(p&&!n.isEmpty()&&y>=0)return i!=null&&i.trackChildChange(na(r,n,d)),a.updateImmediateChild(r,n);{i!=null&&i.trackChildChange(ra(r,d));const _=a.updateImmediateChild(r,z.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Ei(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return n.isEmpty()?e:p&&s(u,l)>=0?(i!=null&&(i.trackChildChange(ra(u.name,u.node)),i.trackChildChange(Ei(r,n))),a.updateImmediateChild(r,n).updateImmediateChild(u.name,z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:no}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===be}copy(){const e=new ly;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function bk(t){return t.loadsAllData()?new ay(t.getIndex()):t.hasLimit()?new Ck(t):new oa(t)}function Ak(t,e){const r=t.copy();return r.limitSet_=!0,r.limit_=e,r.viewFrom_="r",r}function Ik(t,e,r){const n=t.copy();return n.startSet_=!0,e===void 0&&(e=null),n.indexStartValue_=e,r!=null?(n.startNameSet_=!0,n.indexStartName_=r):(n.startNameSet_=!1,n.indexStartName_=""),n}function Pk(t,e,r){const n=t.copy();return n.endSet_=!0,e===void 0&&(e=null),n.indexEndValue_=e,r!==void 0?(n.endNameSet_=!0,n.indexEndName_=r):(n.endNameSet_=!1,n.indexEndName_=""),n}function Nk(t,e){const r=t.copy();return r.index_=e,r}function Qm(t){const e={};if(t.isDefault())return e;let r;if(t.index_===be?r="$priority":t.index_===E1?r="$value":t.index_===Mn?r="$key":(N(t.index_ instanceof sy,"Unrecognized index type!"),r=t.index_.toString()),e.orderBy=Be(r),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=Be(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+Be(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=Be(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+Be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Km(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),e.vf=r}return t.index_!==be&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends h1{constructor(e,r,n,o){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=o,this.log_=ma("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,r,n,o){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=cu.getListenId_(e,n),a={};this.listens_[s]=a;const l=Qm(e._queryParams);this.restRequest_(i+".json",l,(u,p)=>{let d=p;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(i,d,!1,n),wi(this.listens_,s)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",o(f,null)}})}unlisten(e,r){const n=cu.getListenId_(e,r);delete this.listens_[n]}get(e){const r=Qm(e._queryParams),n=e._path.toString(),o=new pa;return this.restRequest_(n+".json",r,(i,s)=>{let a=s;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(n,a,!1,null),o.resolve(a)):o.reject(new Error(a))}),o.promise}refreshAuthToken(e){}restRequest_(e,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,i])=>{o&&o.accessToken&&(r.auth=o.accessToken),i&&i.token&&(r.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+rP(r);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Js(a.responseText)}catch{pt("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,l)}else a.status!==401&&a.status!==404&&pt("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(){return{value:null,children:new Map}}function b1(t,e,r){if(q(e))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,r);else{const n=K(e);t.children.has(n)||t.children.set(n,fu());const o=t.children.get(n);e=ye(e),b1(o,e,r)}}function xp(t,e,r){t.value!==null?r(e,t.value):Tk(t,(n,o)=>{const i=new ue(e.toString()+"/"+n);xp(o,i,r)})}function Tk(t,e){t.children.forEach((r,n)=>{e(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&rt(this.last_,(n,o)=>{r[n]=r[n]-o}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=10*1e3,jk=30*1e3,Ok=5*60*1e3;class $k{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Rk(e);const n=qm+(jk-qm)*Math.random();As(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),r={};let n=!1;rt(e,(o,i)=>{i>0&&pr(this.statsToReport_,o)&&(r[o]=i,n=!0)}),n&&this.server_.reportStats(r),As(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ok))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yt||(Yt={}));function uy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,r,n){this.path=e,this.affectedTree=r,this.revert=n,this.type=Yt.ACK_USER_WRITE,this.source=uy()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ue(e));return new du(se(),r,this.revert)}}else return N(K(this.path)===e,"operationForChild called for unrelated child."),new du(ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,r){this.source=e,this.path=r,this.type=Yt.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new ia(this.source,se()):new ia(this.source,ye(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,r,n){this.source=e,this.path=r,this.snap=n,this.type=Yt.OVERWRITE}operationForChild(e){return q(this.path)?new oo(this.source,se(),this.snap.getImmediateChild(e)):new oo(this.source,ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,r,n){this.source=e,this.path=r,this.children=n,this.type=Yt.MERGE}operationForChild(e){if(q(this.path)){const r=this.children.subtree(new ue(e));return r.isEmpty()?null:r.value?new oo(this.source,se(),r.value):new Ci(this.source,se(),r)}else return N(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ci(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,r,n){this.node_=e,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;const r=K(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Fk(t,e,r,n){const o=[],i=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&i.push(Ek(s.childName,s.snapshotNode))}),ss(t,o,"child_removed",e,n,r),ss(t,o,"child_added",e,n,r),ss(t,o,"child_moved",i,n,r),ss(t,o,"child_changed",e,n,r),ss(t,o,"value",e,n,r),o}function ss(t,e,r,n,o,i){const s=n.filter(a=>a.type===r);s.sort((a,l)=>Lk(t,a,l)),s.forEach(a=>{const l=Mk(t,a,i);o.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Mk(t,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lk(t,e,r){if(e.childName==null||r.childName==null)throw Ui("Should only compare child_ events.");const n=new Y(e.childName,e.snapshotNode),o=new Y(r.childName,r.snapshotNode);return t.index_.compare(n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t,e){return{eventCache:t,serverCache:e}}function Is(t,e,r,n){return _c(new yn(e,r,n),t.serverCache)}function A1(t,e,r,n){return _c(t.eventCache,new yn(e,r,n))}function pu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function io(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;const Bk=()=>(bf||(bf=new _t(wN)),bf);class pe{constructor(e,r=Bk()){this.value=e,this.children=r}static fromObject(e){let r=new pe(null);return rt(e,(n,o)=>{r=r.set(new ue(n),o)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:se(),value:this.value};if(q(e))return null;{const n=K(e),o=this.children.get(n);if(o!==null){const i=o.findRootMostMatchingPathAndValue(ye(e),r);return i!=null?{path:Te(new ue(n),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{const r=K(e),n=this.children.get(r);return n!==null?n.subtree(ye(e)):new pe(null)}}set(e,r){if(q(e))return new pe(r,this.children);{const n=K(e),i=(this.children.get(n)||new pe(null)).set(ye(e),r),s=this.children.insert(n,i);return new pe(this.value,s)}}remove(e){if(q(e))return this.children.isEmpty()?new pe(null):new pe(null,this.children);{const r=K(e),n=this.children.get(r);if(n){const o=n.remove(ye(e));let i;return o.isEmpty()?i=this.children.remove(r):i=this.children.insert(r,o),this.value===null&&i.isEmpty()?new pe(null):new pe(this.value,i)}else return this}}get(e){if(q(e))return this.value;{const r=K(e),n=this.children.get(r);return n?n.get(ye(e)):null}}setTree(e,r){if(q(e))return r;{const n=K(e),i=(this.children.get(n)||new pe(null)).setTree(ye(e),r);let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),new pe(this.value,s)}}fold(e){return this.fold_(se(),e)}fold_(e,r){const n={};return this.children.inorderTraversal((o,i)=>{n[o]=i.fold_(Te(e,o),r)}),r(e,this.value,n)}findOnPath(e,r){return this.findOnPath_(e,se(),r)}findOnPath_(e,r,n){const o=this.value?n(r,this.value):!1;if(o)return o;if(q(e))return null;{const i=K(e),s=this.children.get(i);return s?s.findOnPath_(ye(e),Te(r,i),n):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,se(),r)}foreachOnPath_(e,r,n){if(q(e))return this;{this.value&&n(r,this.value);const o=K(e),i=this.children.get(o);return i?i.foreachOnPath_(ye(e),Te(r,o),n):new pe(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,r){this.children.inorderTraversal((n,o)=>{o.foreach_(Te(e,n),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,n)=>{n.value&&e(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.writeTree_=e}static empty(){return new Zt(new pe(null))}}function Ps(t,e,r){if(q(e))return new Zt(new pe(r));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const o=n.path;let i=n.value;const s=ft(o,e);return i=i.updateChild(s,r),new Zt(t.writeTree_.set(o,i))}else{const o=new pe(r),i=t.writeTree_.setTree(e,o);return new Zt(i)}}}function Sp(t,e,r){let n=t;return rt(r,(o,i)=>{n=Ps(n,Te(e,o),i)}),n}function Ym(t,e){if(q(e))return Zt.empty();{const r=t.writeTree_.setTree(e,new pe(null));return new Zt(r)}}function wp(t,e){return uo(t,e)!=null}function uo(t,e){const r=t.writeTree_.findRootMostValueAndPath(e);return r!=null?t.writeTree_.get(r.path).getChild(ft(r.path,e)):null}function Jm(t){const e=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(be,(n,o)=>{e.push(new Y(n,o))}):t.writeTree_.children.inorderTraversal((n,o)=>{o.value!=null&&e.push(new Y(n,o.value))}),e}function un(t,e){if(q(e))return t;{const r=uo(t,e);return r!=null?new Zt(new pe(r)):new Zt(t.writeTree_.subtree(e))}}function Ep(t){return t.writeTree_.isEmpty()}function bi(t,e){return I1(se(),t.writeTree_,e)}function I1(t,e,r){if(e.value!=null)return r.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((o,i)=>{o===".priority"?(N(i.value!==null,"Priority writes must always be leaf nodes"),n=i.value):r=I1(Te(t,o),i,r)}),!r.getChild(t).isEmpty()&&n!==null&&(r=r.updateChild(Te(t,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e){return T1(e,t)}function Uk(t,e,r,n,o){N(n>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:r,writeId:n,visible:o}),o&&(t.visibleWrites=Ps(t.visibleWrites,e,r)),t.lastWriteId=n}function Wk(t,e,r,n){N(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:r,writeId:n,visible:!0}),t.visibleWrites=Sp(t.visibleWrites,e,r),t.lastWriteId=n}function zk(t,e){for(let r=0;r<t.allWrites.length;r++){const n=t.allWrites[r];if(n.writeId===e)return n}return null}function Vk(t,e){const r=t.allWrites.findIndex(a=>a.writeId===e);N(r>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[r];t.allWrites.splice(r,1);let o=n.visible,i=!1,s=t.allWrites.length-1;for(;o&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=r&&Gk(a,n.path)?o=!1:Dt(n.path,a.path)&&(i=!0)),s--}if(o){if(i)return Hk(t),!0;if(n.snap)t.visibleWrites=Ym(t.visibleWrites,n.path);else{const a=n.children;rt(a,l=>{t.visibleWrites=Ym(t.visibleWrites,Te(n.path,l))})}return!0}else return!1}function Gk(t,e){if(t.snap)return Dt(t.path,e);for(const r in t.children)if(t.children.hasOwnProperty(r)&&Dt(Te(t.path,r),e))return!0;return!1}function Hk(t){t.visibleWrites=P1(t.allWrites,Qk,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Qk(t){return t.visible}function P1(t,e,r){let n=Zt.empty();for(let o=0;o<t.length;++o){const i=t[o];if(e(i)){const s=i.path;let a;if(i.snap)Dt(r,s)?(a=ft(r,s),n=Ps(n,a,i.snap)):Dt(s,r)&&(a=ft(s,r),n=Ps(n,se(),i.snap.getChild(a)));else if(i.children){if(Dt(r,s))a=ft(r,s),n=Sp(n,a,i.children);else if(Dt(s,r))if(a=ft(s,r),q(a))n=Sp(n,se(),i.children);else{const l=wi(i.children,K(a));if(l){const u=l.getChild(ye(a));n=Ps(n,se(),u)}}}else throw Ui("WriteRecord should have .snap or .children")}}return n}function N1(t,e,r,n,o){if(!n&&!o){const i=uo(t.visibleWrites,e);if(i!=null)return i;{const s=un(t.visibleWrites,e);if(Ep(s))return r;if(r==null&&!wp(s,se()))return null;{const a=r||z.EMPTY_NODE;return bi(s,a)}}}else{const i=un(t.visibleWrites,e);if(!o&&Ep(i))return r;if(!o&&r==null&&!wp(i,se()))return null;{const s=function(u){return(u.visible||o)&&(!n||!~n.indexOf(u.writeId))&&(Dt(u.path,e)||Dt(e,u.path))},a=P1(t.allWrites,s,e),l=r||z.EMPTY_NODE;return bi(a,l)}}}function Kk(t,e,r){let n=z.EMPTY_NODE;const o=uo(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(be,(i,s)=>{n=n.updateImmediateChild(i,s)}),n;if(r){const i=un(t.visibleWrites,e);return r.forEachChild(be,(s,a)=>{const l=bi(un(i,new ue(s)),a);n=n.updateImmediateChild(s,l)}),Jm(i).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}else{const i=un(t.visibleWrites,e);return Jm(i).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}}function qk(t,e,r,n,o){N(n||o,"Either existingEventSnap or existingServerSnap must exist");const i=Te(e,r);if(wp(t.visibleWrites,i))return null;{const s=un(t.visibleWrites,i);return Ep(s)?o.getChild(r):bi(s,o.getChild(r))}}function Yk(t,e,r,n){const o=Te(e,r),i=uo(t.visibleWrites,o);if(i!=null)return i;if(n.isCompleteForChild(r)){const s=un(t.visibleWrites,o);return bi(s,n.getNode().getImmediateChild(r))}else return null}function Jk(t,e){return uo(t.visibleWrites,e)}function Xk(t,e,r,n,o,i,s){let a;const l=un(t.visibleWrites,e),u=uo(l,se());if(u!=null)a=u;else if(r!=null)a=bi(l,r);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const p=[],d=s.getCompare(),f=i?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s);let y=f.getNext();for(;y&&p.length<o;)d(y,n)!==0&&p.push(y),y=f.getNext();return p}else return[]}function Zk(){return{visibleWrites:Zt.empty(),allWrites:[],lastWriteId:-1}}function hu(t,e,r,n){return N1(t.writeTree,t.treePath,e,r,n)}function dy(t,e){return Kk(t.writeTree,t.treePath,e)}function Xm(t,e,r,n){return qk(t.writeTree,t.treePath,e,r,n)}function yu(t,e){return Jk(t.writeTree,Te(t.treePath,e))}function eT(t,e,r,n,o,i){return Xk(t.writeTree,t.treePath,e,r,n,o,i)}function py(t,e,r){return Yk(t.writeTree,t.treePath,e,r)}function k1(t,e){return T1(Te(t.treePath,e),t.writeTree)}function T1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,n=e.childName;N(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),N(n!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(n);if(o){const i=o.type;if(r==="child_added"&&i==="child_removed")this.changeMap.set(n,na(n,e.snapshotNode,o.snapshotNode));else if(r==="child_removed"&&i==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&i==="child_changed")this.changeMap.set(n,ra(n,o.oldSnap));else if(r==="child_changed"&&i==="child_added")this.changeMap.set(n,Ei(n,e.snapshotNode));else if(r==="child_changed"&&i==="child_changed")this.changeMap.set(n,na(n,e.snapshotNode,o.oldSnap));else throw Ui("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{getCompleteChild(e){return null}getChildAfterChild(e,r,n){return null}}const R1=new rT;class hy{constructor(e,r,n=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new yn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return py(this.writes_,e,n)}}getChildAfterChild(e,r,n){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:io(this.viewCache_),i=eT(this.writes_,o,r,1,n,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){return{filter:t}}function oT(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iT(t,e,r,n,o){const i=new tT;let s,a;if(r.type===Yt.OVERWRITE){const u=r;u.source.fromUser?s=Cp(t,e,u.path,u.snap,n,o,i):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!q(u.path),s=gu(t,e,u.path,u.snap,n,o,a,i))}else if(r.type===Yt.MERGE){const u=r;u.source.fromUser?s=aT(t,e,u.path,u.children,n,o,i):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=bp(t,e,u.path,u.children,n,o,a,i))}else if(r.type===Yt.ACK_USER_WRITE){const u=r;u.revert?s=cT(t,e,u.path,n,o,i):s=lT(t,e,u.path,u.affectedTree,n,o,i)}else if(r.type===Yt.LISTEN_COMPLETE)s=uT(t,e,r.path,n,i);else throw Ui("Unknown operation type: "+r.type);const l=i.getChanges();return sT(e,s,l),{viewCache:s,changes:l}}function sT(t,e,r){const n=e.eventCache;if(n.isFullyInitialized()){const o=n.getNode().isLeafNode()||n.getNode().isEmpty(),i=pu(t);(r.length>0||!t.eventCache.isFullyInitialized()||o&&!n.getNode().equals(i)||!n.getNode().getPriority().equals(i.getPriority()))&&r.push(C1(pu(e)))}}function j1(t,e,r,n,o,i){const s=e.eventCache;if(yu(n,r)!=null)return e;{let a,l;if(q(r))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=io(e),p=u instanceof z?u:z.EMPTY_NODE,d=dy(n,p);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const u=hu(n,io(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=K(r);if(u===".priority"){N(hn(r)===1,"Can't have a priority with additional path components");const p=s.getNode();l=e.serverCache.getNode();const d=Xm(n,r,p,l);d!=null?a=t.filter.updatePriority(p,d):a=s.getNode()}else{const p=ye(r);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const f=Xm(n,r,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(u).updateChild(p,f):d=s.getNode().getImmediateChild(u)}else d=py(n,u,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),u,d,p,o,i):a=s.getNode()}}return Is(e,a,s.isFullyInitialized()||q(r),t.filter.filtersNodes())}}function gu(t,e,r,n,o,i,s,a){const l=e.serverCache;let u;const p=s?t.filter:t.filter.getIndexedFilter();if(q(r))u=p.updateFullNode(l.getNode(),n,null);else if(p.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(r,n);u=p.updateFullNode(l.getNode(),y,null)}else{const y=K(r);if(!l.isCompleteForPath(r)&&hn(r)>1)return e;const g=ye(r),b=l.getNode().getImmediateChild(y).updateChild(g,n);y===".priority"?u=p.updatePriority(l.getNode(),b):u=p.updateChild(l.getNode(),y,b,g,R1,null)}const d=A1(e,u,l.isFullyInitialized()||q(r),p.filtersNodes()),f=new hy(o,d,i);return j1(t,d,r,o,f,a)}function Cp(t,e,r,n,o,i,s){const a=e.eventCache;let l,u;const p=new hy(o,e,i);if(q(r))u=t.filter.updateFullNode(e.eventCache.getNode(),n,s),l=Is(e,u,!0,t.filter.filtersNodes());else{const d=K(r);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),n),l=Is(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=ye(r),y=a.getNode().getImmediateChild(d);let g;if(q(f))g=n;else{const _=p.getCompleteChild(d);_!=null?ry(f)===".priority"&&_.getChild(g1(f)).isEmpty()?g=_:g=_.updateChild(f,n):g=z.EMPTY_NODE}if(y.equals(g))l=e;else{const _=t.filter.updateChild(a.getNode(),d,g,f,p,s);l=Is(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Zm(t,e){return t.eventCache.isCompleteForChild(e)}function aT(t,e,r,n,o,i,s){let a=e;return n.foreach((l,u)=>{const p=Te(r,l);Zm(e,K(p))&&(a=Cp(t,a,p,u,o,i,s))}),n.foreach((l,u)=>{const p=Te(r,l);Zm(e,K(p))||(a=Cp(t,a,p,u,o,i,s))}),a}function ev(t,e,r){return r.foreach((n,o)=>{e=e.updateChild(n,o)}),e}function bp(t,e,r,n,o,i,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;q(r)?u=n:u=new pe(null).setTree(r,n);const p=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(p.hasChild(d)){const y=e.serverCache.getNode().getImmediateChild(d),g=ev(t,y,f);l=gu(t,l,new ue(d),g,o,i,s,a)}}),u.children.inorderTraversal((d,f)=>{const y=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!p.hasChild(d)&&!y){const g=e.serverCache.getNode().getImmediateChild(d),_=ev(t,g,f);l=gu(t,l,new ue(d),_,o,i,s,a)}}),l}function lT(t,e,r,n,o,i,s){if(yu(o,r)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(n.value!=null){if(q(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return gu(t,e,r,l.getNode().getChild(r),o,i,a,s);if(q(r)){let u=new pe(null);return l.getNode().forEachChild(Mn,(p,d)=>{u=u.set(new ue(p),d)}),bp(t,e,r,u,o,i,a,s)}else return e}else{let u=new pe(null);return n.foreach((p,d)=>{const f=Te(r,p);l.isCompleteForPath(f)&&(u=u.set(p,l.getNode().getChild(f)))}),bp(t,e,r,u,o,i,a,s)}}function uT(t,e,r,n,o){const i=e.serverCache,s=A1(e,i.getNode(),i.isFullyInitialized()||q(r),i.isFiltered());return j1(t,s,r,n,R1,o)}function cT(t,e,r,n,o,i){let s;if(yu(n,r)!=null)return e;{const a=new hy(n,e,o),l=e.eventCache.getNode();let u;if(q(r)||K(r)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=hu(n,io(e));else{const d=e.serverCache.getNode();N(d instanceof z,"serverChildren would be complete if leaf node"),p=dy(n,d)}p=p,u=t.filter.updateFullNode(l,p,i)}else{const p=K(r);let d=py(n,p,e.serverCache);d==null&&e.serverCache.isCompleteForChild(p)&&(d=l.getImmediateChild(p)),d!=null?u=t.filter.updateChild(l,p,d,ye(r),a,i):e.eventCache.getNode().hasChild(p)?u=t.filter.updateChild(l,p,z.EMPTY_NODE,ye(r),a,i):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=hu(n,io(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,i)))}return s=e.serverCache.isFullyInitialized()||yu(n,se())!=null,Is(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,o=new ay(n.getIndex()),i=bk(n);this.processor_=nT(i);const s=r.serverCache,a=r.eventCache,l=o.updateFullNode(z.EMPTY_NODE,s.getNode(),null),u=i.updateFullNode(z.EMPTY_NODE,a.getNode(),null),p=new yn(l,s.isFullyInitialized(),o.filtersNodes()),d=new yn(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=_c(d,p),this.eventGenerator_=new Dk(this.query_)}get query(){return this.query_}}function dT(t){return t.viewCache_.serverCache.getNode()}function pT(t){return pu(t.viewCache_)}function hT(t,e){const r=io(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!q(e)&&!r.getImmediateChild(K(e)).isEmpty())?r.getChild(e):null}function tv(t){return t.eventRegistrations_.length===0}function yT(t,e){t.eventRegistrations_.push(e)}function rv(t,e,r){const n=[];if(r){N(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(i=>{const s=i.createCancelEvent(r,o);s&&n.push(s)})}if(e){let o=[];for(let i=0;i<t.eventRegistrations_.length;++i){const s=t.eventRegistrations_[i];if(!s.matches(e))o.push(s);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return n}function nv(t,e,r,n){e.type===Yt.MERGE&&e.source.queryId!==null&&(N(io(t.viewCache_),"We should always have a full cache before handling merges"),N(pu(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,i=iT(t.processor_,o,e,r,n);return oT(t.processor_,i.viewCache),N(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,O1(t,i.changes,i.viewCache.eventCache.getNode(),null)}function gT(t,e){const r=t.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(be,(i,s)=>{n.push(Ei(i,s))}),r.isFullyInitialized()&&n.push(C1(r.getNode())),O1(t,n,r.getNode(),e)}function O1(t,e,r,n){const o=n?[n]:t.eventRegistrations_;return Fk(t.eventGenerator_,e,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;class $1{constructor(){this.views=new Map}}function mT(t){N(!mu,"__referenceConstructor has already been defined"),mu=t}function vT(){return N(mu,"Reference.ts has not been loaded"),mu}function _T(t){return t.views.size===0}function yy(t,e,r,n){const o=e.source.queryId;if(o!==null){const i=t.views.get(o);return N(i!=null,"SyncTree gave us an op for an invalid query."),nv(i,e,r,n)}else{let i=[];for(const s of t.views.values())i=i.concat(nv(s,e,r,n));return i}}function D1(t,e,r,n,o){const i=e._queryIdentifier,s=t.views.get(i);if(!s){let a=hu(r,o?n:null),l=!1;a?l=!0:n instanceof z?(a=dy(r,n),l=!1):(a=z.EMPTY_NODE,l=!1);const u=_c(new yn(a,l,!1),new yn(n,o,!1));return new fT(e,u)}return s}function xT(t,e,r,n,o,i){const s=D1(t,e,n,o,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),yT(s,r),gT(s,r)}function ST(t,e,r,n){const o=e._queryIdentifier,i=[];let s=[];const a=gn(t);if(o==="default")for(const[l,u]of t.views.entries())s=s.concat(rv(u,r,n)),tv(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||i.push(u.query));else{const l=t.views.get(o);l&&(s=s.concat(rv(l,r,n)),tv(l)&&(t.views.delete(o),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!gn(t)&&i.push(new(vT())(e._repo,e._path)),{removed:i,events:s}}function F1(t){const e=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function cn(t,e){let r=null;for(const n of t.views.values())r=r||hT(n,e);return r}function M1(t,e){if(e._queryParams.loadsAllData())return Sc(t);{const n=e._queryIdentifier;return t.views.get(n)}}function L1(t,e){return M1(t,e)!=null}function gn(t){return Sc(t)!=null}function Sc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu;function wT(t){N(!vu,"__referenceConstructor has already been defined"),vu=t}function ET(){return N(vu,"Reference.ts has not been loaded"),vu}let CT=1;class ov{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pe(null),this.pendingWriteTree_=Zk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function B1(t,e,r,n,o){return Uk(t.pendingWriteTree_,e,r,n,o),o?zi(t,new oo(uy(),e,r)):[]}function bT(t,e,r,n){Wk(t.pendingWriteTree_,e,r,n);const o=pe.fromObject(r);return zi(t,new Ci(uy(),e,o))}function qr(t,e,r=!1){const n=zk(t.pendingWriteTree_,e);if(Vk(t.pendingWriteTree_,e)){let i=new pe(null);return n.snap!=null?i=i.set(se(),!0):rt(n.children,s=>{i=i.set(new ue(s),!0)}),zi(t,new du(n.path,i,r))}else return[]}function _a(t,e,r){return zi(t,new oo(cy(),e,r))}function AT(t,e,r){const n=pe.fromObject(r);return zi(t,new Ci(cy(),e,n))}function IT(t,e){return zi(t,new ia(cy(),e))}function PT(t,e,r){const n=my(t,r);if(n){const o=vy(n),i=o.path,s=o.queryId,a=ft(i,e),l=new ia(fy(s),a);return _y(t,i,l)}else return[]}function _u(t,e,r,n,o=!1){const i=e._path,s=t.syncPointTree_.get(i);let a=[];if(s&&(e._queryIdentifier==="default"||L1(s,e))){const l=ST(s,e,r,n);_T(s)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=l.removed;if(a=l.events,!o){const p=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,y)=>gn(y));if(p&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const y=TT(f);for(let g=0;g<y.length;++g){const _=y[g],b=_.query,v=V1(t,_);t.listenProvider_.startListening(Ns(b),sa(t,b),v.hashFn,v.onComplete)}}}!d&&u.length>0&&!n&&(p?t.listenProvider_.stopListening(Ns(e),null):u.forEach(f=>{const y=t.queryToTagMap.get(wc(f));t.listenProvider_.stopListening(Ns(f),y)}))}RT(t,u)}return a}function U1(t,e,r,n){const o=my(t,n);if(o!=null){const i=vy(o),s=i.path,a=i.queryId,l=ft(s,e),u=new oo(fy(a),l,r);return _y(t,s,u)}else return[]}function NT(t,e,r,n){const o=my(t,n);if(o){const i=vy(o),s=i.path,a=i.queryId,l=ft(s,e),u=pe.fromObject(r),p=new Ci(fy(a),l,u);return _y(t,s,p)}else return[]}function Ap(t,e,r,n=!1){const o=e._path;let i=null,s=!1;t.syncPointTree_.foreachOnPath(o,(f,y)=>{const g=ft(f,o);i=i||cn(y,g),s=s||gn(y)});let a=t.syncPointTree_.get(o);a?(s=s||gn(a),i=i||cn(a,se())):(a=new $1,t.syncPointTree_=t.syncPointTree_.set(o,a));let l;i!=null?l=!0:(l=!1,i=z.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((y,g)=>{const _=cn(g,se());_&&(i=i.updateImmediateChild(y,_))}));const u=L1(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=wc(e);N(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const y=jT();t.queryToTagMap.set(f,y),t.tagToQueryMap.set(y,f)}const p=xc(t.pendingWriteTree_,o);let d=xT(a,e,r,p,i,l);if(!u&&!s&&!n){const f=M1(a,e);d=d.concat(OT(t,e,f))}return d}function gy(t,e,r){const o=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=ft(s,e),u=cn(a,l);if(u)return u});return N1(o,e,i,r,!0)}function kT(t,e){const r=e._path;let n=null;t.syncPointTree_.foreachOnPath(r,(u,p)=>{const d=ft(u,r);n=n||cn(p,d)});let o=t.syncPointTree_.get(r);o?n=n||cn(o,se()):(o=new $1,t.syncPointTree_=t.syncPointTree_.set(r,o));const i=n!=null,s=i?new yn(n,!0,!1):null,a=xc(t.pendingWriteTree_,e._path),l=D1(o,e,a,i?s.getNode():z.EMPTY_NODE,i);return pT(l)}function zi(t,e){return W1(e,t.syncPointTree_,null,xc(t.pendingWriteTree_,se()))}function W1(t,e,r,n){if(q(t.path))return z1(t,e,r,n);{const o=e.get(se());r==null&&o!=null&&(r=cn(o,se()));let i=[];const s=K(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=r?r.getImmediateChild(s):null,p=k1(n,s);i=i.concat(W1(a,l,u,p))}return o&&(i=i.concat(yy(o,t,n,r))),i}}function z1(t,e,r,n){const o=e.get(se());r==null&&o!=null&&(r=cn(o,se()));let i=[];return e.children.inorderTraversal((s,a)=>{const l=r?r.getImmediateChild(s):null,u=k1(n,s),p=t.operationForChild(s);p&&(i=i.concat(z1(p,a,l,u)))}),o&&(i=i.concat(yy(o,t,n,r))),i}function V1(t,e){const r=e.query,n=sa(t,r);return{hashFn:()=>(dT(e)||z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return n?PT(t,r._path,n):IT(t,r._path);{const i=bN(o,r);return _u(t,r,null,i)}}}}function sa(t,e){const r=wc(e);return t.queryToTagMap.get(r)}function wc(t){return t._path.toString()+"$"+t._queryIdentifier}function my(t,e){return t.tagToQueryMap.get(e)}function vy(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function _y(t,e,r){const n=t.syncPointTree_.get(e);N(n,"Missing sync point for query tag that we're tracking");const o=xc(t.pendingWriteTree_,e);return yy(n,r,o,null)}function TT(t){return t.fold((e,r,n)=>{if(r&&gn(r))return[Sc(r)];{let o=[];return r&&(o=F1(r)),rt(n,(i,s)=>{o=o.concat(s)}),o}})}function Ns(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ET())(t._repo,t._path):t}function RT(t,e){for(let r=0;r<e.length;++r){const n=e[r];if(!n._queryParams.loadsAllData()){const o=wc(n),i=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(i)}}}function jT(){return CT++}function OT(t,e,r){const n=e._path,o=sa(t,e),i=V1(t,r),s=t.listenProvider_.startListening(Ns(e),o,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(n);if(o)N(!gn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,p,d)=>{if(!q(u)&&p&&gn(p))return[Sc(p).query];{let f=[];return p&&(f=f.concat(F1(p).map(y=>y.query))),rt(d,(y,g)=>{f=f.concat(g)}),f}});for(let u=0;u<l.length;++u){const p=l[u];t.listenProvider_.stopListening(Ns(p),sa(t,p))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new xy(r)}node(){return this.node_}}class Sy{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=Te(this.path_,e);return new Sy(this.syncTree_,r)}node(){return gy(this.syncTree_,this.path_)}}const $T=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},iv=function(t,e,r){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return DT(t[".sv"],e,r);if(typeof t[".sv"]=="object")return FT(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},DT=function(t,e,r){switch(t){case"timestamp":return r.timestamp;default:N(!1,"Unexpected server value: "+t)}},FT=function(t,e,r){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&N(!1,"Unexpected increment value: "+n);const o=e.node();if(N(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return n;const s=o.getValue();return typeof s!="number"?n:s+n},G1=function(t,e,r,n){return wy(e,new Sy(r,t),n)},H1=function(t,e,r){return wy(t,new xy(e),r)};function wy(t,e,r){const n=t.getPriority().val(),o=iv(n,e.getImmediateChild(".priority"),r);let i;if(t.isLeafNode()){const s=t,a=iv(s.getValue(),e,r);return a!==s.getValue()||o!==s.getPriority().val()?new Qe(a,Le(o)):t}else{const s=t;return i=s,o!==s.getPriority().val()&&(i=i.updatePriority(new Qe(o))),s.forEachChild(be,(a,l)=>{const u=wy(l,e.getImmediateChild(a),r);u!==l&&(i=i.updateImmediateChild(a,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e="",r=null,n={children:{},childCount:0}){this.name=e,this.parent=r,this.node=n}}function Cy(t,e){let r=e instanceof ue?e:new ue(e),n=t,o=K(r);for(;o!==null;){const i=wi(n.node.children,o)||{children:{},childCount:0};n=new Ey(o,n,i),r=ye(r),o=K(r)}return n}function Vi(t){return t.node.value}function Q1(t,e){t.node.value=e,Ip(t)}function K1(t){return t.node.childCount>0}function MT(t){return Vi(t)===void 0&&!K1(t)}function Ec(t,e){rt(t.node.children,(r,n)=>{e(new Ey(r,t,n))})}function q1(t,e,r,n){r&&!n&&e(t),Ec(t,o=>{q1(o,e,!0,n)}),r&&n&&e(t)}function LT(t,e,r){let n=r?t:t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function xa(t){return new ue(t.parent===null?t.name:xa(t.parent)+"/"+t.name)}function Ip(t){t.parent!==null&&BT(t.parent,t.name,t)}function BT(t,e,r){const n=MT(r),o=pr(t.node.children,e);n&&o?(delete t.node.children[e],t.node.childCount--,Ip(t)):!n&&!o&&(t.node.children[e]=r.node,t.node.childCount++,Ip(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=/[\[\].#$\/\u0000-\u001F\u007F]/,WT=/[\[\].#$\u0000-\u001F\u007F]/,Af=10*1024*1024,Cc=function(t){return typeof t=="string"&&t.length!==0&&!UT.test(t)},Y1=function(t){return typeof t=="string"&&t.length!==0&&!WT.test(t)},zT=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Y1(t)},Pp=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Jh(t)||t&&typeof t=="object"&&pr(t,".sv")},Sa=function(t,e,r,n){n&&e===void 0||bc(ya(t,"value"),e,r)},bc=function(t,e,r){const n=r instanceof ue?new ik(r,t):r;if(e===void 0)throw new Error(t+"contains undefined "+In(n));if(typeof e=="function")throw new Error(t+"contains a function "+In(n)+" with contents = "+e.toString());if(Jh(e))throw new Error(t+"contains "+e.toString()+" "+In(n));if(typeof e=="string"&&e.length>Af/3&&mc(e)>Af)throw new Error(t+"contains a string greater than "+Af+" utf8 bytes "+In(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,i=!1;if(rt(e,(s,a)=>{if(s===".value")o=!0;else if(s!==".priority"&&s!==".sv"&&(i=!0,!Cc(s)))throw new Error(t+" contains an invalid key ("+s+") "+In(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sk(n,s),bc(t,a,n),ak(n)}),o&&i)throw new Error(t+' contains ".value" child '+In(n)+" in addition to actual children.")}},VT=function(t,e){let r,n;for(r=0;r<e.length;r++){n=e[r];const i=ta(n);for(let s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!Cc(i[s]))throw new Error(t+"contains an invalid key ("+i[s]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(ok);let o=null;for(r=0;r<e.length;r++){if(n=e[r],o!==null&&Dt(o,n))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+n.toString());o=n}},GT=function(t,e,r,n){if(n&&e===void 0)return;const o=ya(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const i=[];rt(e,(s,a)=>{const l=new ue(s);if(bc(o,a,Te(r,l)),ry(l)===".priority"&&!Pp(a))throw new Error(o+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),VT(o,i)},HT=function(t,e,r,n){if(!(n&&r===void 0)&&!Cc(r))throw new Error(ya(t,e)+'was an invalid key = "'+r+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},by=function(t,e,r,n){if(!(n&&r===void 0)&&!Y1(r))throw new Error(ya(t,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QT=function(t,e,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),by(t,e,r,n)},J1=function(t,e){if(K(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},KT=function(t,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Cc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!zT(r))throw new Error(ya(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ac(t,e){let r=null;for(let n=0;n<e.length;n++){const o=e[n],i=o.getPath();r!==null&&!ny(i,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:i}),r.events.push(o)}r&&t.eventLists_.push(r)}function X1(t,e,r){Ac(t,r),Z1(t,n=>ny(n,e))}function Bt(t,e,r){Ac(t,r),Z1(t,n=>Dt(n,e)||Dt(e,n))}function Z1(t,e){t.recursionDepth_++;let r=!0;for(let n=0;n<t.eventLists_.length;n++){const o=t.eventLists_[n];if(o){const i=o.path;e(i)?(YT(t.eventLists_[n]),t.eventLists_[n]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function YT(t){for(let e=0;e<t.events.length;e++){const r=t.events[e];if(r!==null){t.events[e]=null;const n=r.getEventRunner();Fn&&Ze("event: "+r.toString()),Wi(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="repo_interrupt",XT=25;class ZT{constructor(e,r,n,o){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fu(),this.transactionQueueTree_=new Ey,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function eR(t,e,r){if(t.stats_=ey(t.repoInfo_),t.forceRestClient_||NN())t.server_=new cu(t.repoInfo_,(n,o,i,s)=>{sv(t,n,o,i,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>av(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new Ar(t.repoInfo_,e,(n,o,i,s)=>{sv(t,n,o,i,s)},n=>{av(t,n)},n=>{tR(t,n)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=ON(t.repoInfo_,()=>new $k(t.stats_,t.server_)),t.infoData_=new kk,t.infoSyncTree_=new ov({startListening:(n,o,i,s)=>{let a=[];const l=t.infoData_.getNode(n._path);return l.isEmpty()||(a=_a(t.infoSyncTree_,n._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Ay(t,"connected",!1),t.serverSyncTree_=new ov({startListening:(n,o,i,s)=>(t.server_.listen(n,i,o,(a,l)=>{const u=s(a,l);Bt(t.eventQueue_,n._path,u)}),[]),stopListening:(n,o)=>{t.server_.unlisten(n,o)}})}function ew(t){const r=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ic(t){return $T({timestamp:ew(t)})}function sv(t,e,r,n,o){t.dataUpdateCount++;const i=new ue(e);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,r):r;let s=[];if(o)if(n){const l=ou(r,u=>Le(u));s=NT(t.serverSyncTree_,i,l,o)}else{const l=Le(r);s=U1(t.serverSyncTree_,i,l,o)}else if(n){const l=ou(r,u=>Le(u));s=AT(t.serverSyncTree_,i,l)}else{const l=Le(r);s=_a(t.serverSyncTree_,i,l)}let a=i;s.length>0&&(a=Ai(t,i)),Bt(t.eventQueue_,a,s)}function av(t,e){Ay(t,"connected",e),e===!1&&iR(t)}function tR(t,e){rt(e,(r,n)=>{Ay(t,r,n)})}function Ay(t,e,r){const n=new ue("/.info/"+e),o=Le(r);t.infoData_.updateSnapshot(n,o);const i=_a(t.infoSyncTree_,n,o);Bt(t.eventQueue_,n,i)}function Iy(t){return t.nextWriteId_++}function rR(t,e,r){const n=kT(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(o=>{const i=Le(o).withIndex(e._queryParams.getIndex());Ap(t.serverSyncTree_,e,r,!0);let s;if(e._queryParams.loadsAllData())s=_a(t.serverSyncTree_,e._path,i);else{const a=sa(t.serverSyncTree_,e);s=U1(t.serverSyncTree_,e._path,i,a)}return Bt(t.eventQueue_,e._path,s),_u(t.serverSyncTree_,e,r,null,!0),i},o=>(wa(t,"get for query "+Be(e)+" failed: "+o),Promise.reject(new Error(o))))}function nR(t,e,r,n,o){wa(t,"set",{path:e.toString(),value:r,priority:n});const i=Ic(t),s=Le(r,n),a=gy(t.serverSyncTree_,e),l=H1(s,a,i),u=Iy(t),p=B1(t.serverSyncTree_,e,l,u,!0);Ac(t.eventQueue_,p),t.server_.put(e.toString(),s.val(!0),(f,y)=>{const g=f==="ok";g||pt("set at "+e+" failed: "+f);const _=qr(t.serverSyncTree_,u,!g);Bt(t.eventQueue_,e,_),Np(t,o,f,y)});const d=Ny(t,e);Ai(t,d),Bt(t.eventQueue_,d,[])}function oR(t,e,r,n){wa(t,"update",{path:e.toString(),value:r});let o=!0;const i=Ic(t),s={};if(rt(r,(a,l)=>{o=!1,s[a]=G1(Te(e,a),Le(l),t.serverSyncTree_,i)}),o)Ze("update() called with empty data.  Don't do anything."),Np(t,n,"ok",void 0);else{const a=Iy(t),l=bT(t.serverSyncTree_,e,s,a);Ac(t.eventQueue_,l),t.server_.merge(e.toString(),r,(u,p)=>{const d=u==="ok";d||pt("update at "+e+" failed: "+u);const f=qr(t.serverSyncTree_,a,!d),y=f.length>0?Ai(t,e):e;Bt(t.eventQueue_,y,f),Np(t,n,u,p)}),rt(r,u=>{const p=Ny(t,Te(e,u));Ai(t,p)}),Bt(t.eventQueue_,e,[])}}function iR(t){wa(t,"onDisconnectEvents");const e=Ic(t),r=fu();xp(t.onDisconnect_,se(),(o,i)=>{const s=G1(o,i,t.serverSyncTree_,e);b1(r,o,s)});let n=[];xp(r,se(),(o,i)=>{n=n.concat(_a(t.serverSyncTree_,o,i));const s=Ny(t,o);Ai(t,s)}),t.onDisconnect_=fu(),Bt(t.eventQueue_,se(),n)}function sR(t,e,r){let n;K(e._path)===".info"?n=Ap(t.infoSyncTree_,e,r):n=Ap(t.serverSyncTree_,e,r),X1(t.eventQueue_,e._path,n)}function lv(t,e,r){let n;K(e._path)===".info"?n=_u(t.infoSyncTree_,e,r):n=_u(t.serverSyncTree_,e,r),X1(t.eventQueue_,e._path,n)}function aR(t){t.persistentConnection_&&t.persistentConnection_.interrupt(JT)}function wa(t,...e){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Ze(r,...e)}function Np(t,e,r,n){e&&Wi(()=>{if(r==="ok")e(null);else{const o=(r||"error").toUpperCase();let i=o;n&&(i+=": "+n);const s=new Error(i);s.code=o,e(s)}})}function tw(t,e,r){return gy(t.serverSyncTree_,e,r)||z.EMPTY_NODE}function Py(t,e=t.transactionQueueTree_){if(e||Pc(t,e),Vi(e)){const r=nw(t,e);N(r.length>0,"Sending zero length transaction queue"),r.every(o=>o.status===0)&&lR(t,xa(e),r)}else K1(e)&&Ec(e,r=>{Py(t,r)})}function lR(t,e,r){const n=r.map(u=>u.currentWriteId),o=tw(t,e,n);let i=o;const s=o.hash();for(let u=0;u<r.length;u++){const p=r[u];N(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const d=ft(e,p.path);i=i.updateChild(d,p.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,u=>{wa(t,"transaction put response",{path:l.toString(),status:u});let p=[];if(u==="ok"){const d=[];for(let f=0;f<r.length;f++)r[f].status=2,p=p.concat(qr(t.serverSyncTree_,r[f].currentWriteId)),r[f].onComplete&&d.push(()=>r[f].onComplete(null,!0,r[f].currentOutputSnapshotResolved)),r[f].unwatcher();Pc(t,Cy(t.transactionQueueTree_,e)),Py(t,t.transactionQueueTree_),Bt(t.eventQueue_,e,p);for(let f=0;f<d.length;f++)Wi(d[f])}else{if(u==="datastale")for(let d=0;d<r.length;d++)r[d].status===3?r[d].status=4:r[d].status=0;else{pt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<r.length;d++)r[d].status=4,r[d].abortReason=u}Ai(t,e)}},s)}function Ai(t,e){const r=rw(t,e),n=xa(r),o=nw(t,r);return uR(t,o,n),n}function uR(t,e,r){if(e.length===0)return;const n=[];let o=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=ft(r,l.path);let p=!1,d;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)p=!0,d=l.abortReason,o=o.concat(qr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=XT)p=!0,d="maxretry",o=o.concat(qr(t.serverSyncTree_,l.currentWriteId,!0));else{const f=tw(t,l.path,s);l.currentInputSnapshot=f;const y=e[a].update(f.val());if(y!==void 0){bc("transaction failed: Data returned ",y,l.path);let g=Le(y);typeof y=="object"&&y!=null&&pr(y,".priority")||(g=g.updatePriority(f.getPriority()));const b=l.currentWriteId,v=Ic(t),h=H1(g,f,v);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=h,l.currentWriteId=Iy(t),s.splice(s.indexOf(b),1),o=o.concat(B1(t.serverSyncTree_,l.path,h,l.currentWriteId,l.applyLocally)),o=o.concat(qr(t.serverSyncTree_,b,!0))}else p=!0,d="nodata",o=o.concat(qr(t.serverSyncTree_,l.currentWriteId,!0))}Bt(t.eventQueue_,r,o),o=[],p&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?n.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):n.push(()=>e[a].onComplete(new Error(d),!1,null))))}Pc(t,t.transactionQueueTree_);for(let a=0;a<n.length;a++)Wi(n[a]);Py(t,t.transactionQueueTree_)}function rw(t,e){let r,n=t.transactionQueueTree_;for(r=K(e);r!==null&&Vi(n)===void 0;)n=Cy(n,r),e=ye(e),r=K(e);return n}function nw(t,e){const r=[];return ow(t,e,r),r.sort((n,o)=>n.order-o.order),r}function ow(t,e,r){const n=Vi(e);if(n)for(let o=0;o<n.length;o++)r.push(n[o]);Ec(e,o=>{ow(t,o,r)})}function Pc(t,e){const r=Vi(e);if(r){let n=0;for(let o=0;o<r.length;o++)r[o].status!==2&&(r[n]=r[o],n++);r.length=n,Q1(e,r.length>0?r:void 0)}Ec(e,n=>{Pc(t,n)})}function Ny(t,e){const r=xa(rw(t,e)),n=Cy(t.transactionQueueTree_,e);return LT(n,o=>{If(t,o)}),If(t,n),q1(n,o=>{If(t,o)}),r}function If(t,e){const r=Vi(e);if(r){const n=[];let o=[],i=-1;for(let s=0;s<r.length;s++)r[s].status===3||(r[s].status===1?(N(i===s-1,"All SENT items should be at beginning of queue."),i=s,r[s].status=3,r[s].abortReason="set"):(N(r[s].status===0,"Unexpected transaction status in abort"),r[s].unwatcher(),o=o.concat(qr(t.serverSyncTree_,r[s].currentWriteId,!0)),r[s].onComplete&&n.push(r[s].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Q1(e,void 0):r.length=i+1,Bt(t.eventQueue_,xa(e),o);for(let s=0;s<n.length;s++)Wi(n[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t){let e="";const r=t.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let o=r[n];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function fR(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):pt(`Invalid query segment '${r}' in query '${t}'`)}return e}const uv=function(t,e){const r=dR(t),n=r.namespace;r.domain==="firebase.com"&&Tr(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||xN();const o=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new a1(r.host,r.secure,n,o,e,"",n!==r.subdomain),path:new ue(r.pathString)}},dR=function(t){let e="",r="",n="",o="",i="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let p=t.indexOf("/");p===-1&&(p=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(p,d)),p<d&&(o=cR(t.substring(p,d)));const f=fR(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const y=e.slice(0,u);if(y.toLowerCase()==="localhost")r="localhost";else if(y.split(".").length<=2)r=y;else{const g=e.indexOf(".");n=e.substring(0,g).toLowerCase(),r=e.substring(g+1),i=n}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:r,subdomain:n,secure:s,scheme:a,pathString:o,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pR=function(){let t=0;const e=[];return function(r){const n=r===t;t=r;let o;const i=new Array(8);for(o=7;o>=0;o--)i[o]=cv.charAt(r%64),r=Math.floor(r/64);N(r===0,"Cannot push at time == 0");let s=i.join("");if(n){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)s+=cv.charAt(e[o]);return N(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,r,n,o){this.eventType=e,this.eventRegistration=r,this.snapshot=n,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class sw{constructor(e,r,n){this.eventRegistration=e,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,r,n,o){this._repo=e,this._path=r,this._queryParams=n,this._orderByCalled=o}get key(){return q(this._path)?null:ry(this._path)}get ref(){return new hr(this._repo,this._path)}get _queryIdentifier(){const e=Km(this._queryParams),r=Xh(e);return r==="{}"?"default":r}get _queryObject(){return Km(this._queryParams)}isEqual(e){if(e=Sn(e),!(e instanceof co))return!1;const r=this._repo===e._repo,n=ny(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return r&&n&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+nk(this._path)}}function hR(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function ky(t){let e=null,r=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(r=t.getIndexEndValue()),t.getIndex()===Mn){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==no)throw new Error(n);if(typeof e!="string")throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==pn)throw new Error(n);if(typeof r!="string")throw new Error(o)}}else if(t.getIndex()===be){if(e!=null&&!Pp(e)||r!=null&&!Pp(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(N(t.getIndex()instanceof sy||t.getIndex()===E1,"unknown index type."),e!=null&&typeof e=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hr extends co{constructor(e,r){super(e,r,new ly,!1)}get parent(){const e=g1(this._path);return e===null?null:new hr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ii{constructor(e,r,n){this._node=e,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new ue(e),n=Pi(this.ref,e);return new Ii(this._node.getChild(r),n,be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,o)=>e(new Ii(o,Pi(this.ref,n),be)))}hasChild(e){const r=new ue(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gs(t,e){return t=Sn(t),t._checkNotDeleted("ref"),e!==void 0?Pi(t._root,e):t._root}function Pi(t,e){return t=Sn(t),K(t._path)===null?QT("child","path",e,!1):by("child","path",e,!1),new hr(t._repo,Te(t._path,e))}function uw(t,e){t=Sn(t),J1("push",t._path),Sa("push",e,t._path,!0);const r=ew(t._repo),n=pR(r),o=Pi(t,n),i=Pi(t,n);let s;return e!=null?s=Ty(i,e).then(()=>i):s=Promise.resolve(i),o.then=s.then.bind(s),o.catch=s.then.bind(s,void 0),o}function Ty(t,e){t=Sn(t),J1("set",t._path),Sa("set",e,t._path,!1);const r=new pa;return nR(t._repo,t._path,e,null,r.wrapCallback(()=>{})),r.promise}function cw(t,e){GT("update",e,t._path,!1);const r=new pa;return oR(t._repo,t._path,e,r.wrapCallback(()=>{})),r.promise}function fw(t){t=Sn(t);const e=new aw(()=>{}),r=new Nc(e);return rR(t._repo,t,r).then(n=>new Ii(n,new hr(t._repo,t._path),t._queryParams.getIndex()))}class Nc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const n=r._queryParams.getIndex();return new iw("value",this,new Ii(e.snapshotNode,new hr(r._repo,r._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new sw(this,e,r):null}matches(e){return e instanceof Nc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ry{constructor(e,r){this.eventType=e,this.callbackContext=r}respondsTo(e){let r=e==="children_added"?"child_added":e;return r=r==="children_removed"?"child_removed":r,this.eventType===r}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new sw(this,e,r):null}createEvent(e,r){N(e.childName!=null,"Child events should have a childName.");const n=Pi(new hr(r._repo,r._path),e.childName),o=r._queryParams.getIndex();return new iw(e.type,this,new Ii(e.snapshotNode,n,o),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ry?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function yR(t,e,r,n,o){let i;if(typeof n=="object"&&(i=void 0,o=n),typeof n=="function"&&(i=n),o&&o.onlyOnce){const l=r,u=(p,d)=>{lv(t._repo,t,a),l(p,d)};u.userCallback=r.userCallback,u.context=r.context,r=u}const s=new aw(r,i||void 0),a=e==="value"?new Nc(s):new Ry(e,s);return sR(t._repo,t,a),()=>lv(t._repo,t,a)}function gR(t,e,r,n){return yR(t,"value",e,r,n)}class Ea{}class mR extends Ea{constructor(e,r){super(),this._value=e,this._key=r}_apply(e){Sa("endAt",this._value,e._path,!0);const r=Pk(e._queryParams,this._value,this._key);if(lw(r),ky(r),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new co(e._repo,e._path,r,e._orderByCalled)}}class vR extends Ea{constructor(e,r){super(),this._value=e,this._key=r}_apply(e){Sa("startAt",this._value,e._path,!0);const r=Ik(e._queryParams,this._value,this._key);if(lw(r),ky(r),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new co(e._repo,e._path,r,e._orderByCalled)}}class _R extends Ea{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new co(e._repo,e._path,Ak(e._queryParams,this._limit),e._orderByCalled)}}function xR(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _R(t)}class SR extends Ea{constructor(e){super(),this._path=e}_apply(e){hR(e,"orderByChild");const r=new ue(this._path);if(q(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new sy(r),o=Nk(e._queryParams,n);return ky(o),new co(e._repo,e._path,o,!0)}}function wR(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return by("orderByChild","path",t,!1),new SR(t)}class ER extends Ea{constructor(e,r){super(),this._value=e,this._key=r}_apply(e){if(Sa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mR(this._value,this._key)._apply(new vR(this._value,this._key)._apply(e))}}function CR(t,e){return HT("equalTo","key",e,!0),new ER(t,e)}function bR(t,...e){let r=Sn(t);for(const n of e)r=n._apply(r);return r}mT(hr);wT(hr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="FIREBASE_DATABASE_EMULATOR_HOST",kp={};let IR=!1;function PR(t,e,r,n){t.repoInfo_=new a1(`${e}:${r}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),n&&(t.authTokenProvider_=n)}function NR(t,e,r,n,o){let i=n||t.options.databaseURL;i===void 0&&(t.options.projectId||Tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=uv(i,o),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[AR]),u?(l=!0,i=`http://${u}?ns=${a.namespace}`,s=uv(i,o),a=s.repoInfo):l=!s.repoInfo.secure;const p=o&&l?new ni(ni.OWNER):new TN(t.name,t.options,e);KT("Invalid Firebase Database URL",s),q(s.path)||Tr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=TR(a,t,p,new kN(t.name,r));return new RR(d,t)}function kR(t,e){const r=kp[e];(!r||r[t.key]!==t)&&Tr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),aR(t),delete r[t.key]}function TR(t,e,r,n){let o=kp[e.name];o||(o={},kp[e.name]=o);let i=o[t.toURLString()];return i&&Tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new ZT(t,IR,r,n),o[t.toURLString()]=i,i}class RR{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(eR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hr(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tr("Cannot call "+e+" on a deleted database.")}}function jR(t=nN(),e){const r=ZP(t,"database").getImmediate({identifier:e});if(!r._instanceStarted){const n=GI("database");n&&dw(r,...n)}return r}function dw(t,e,r,n={}){t=Sn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Tr("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let i;if(o.repoInfo_.nodeAdmin)n.mockUserToken&&Tr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new ni(ni.OWNER);else if(n.mockUserToken){const s=typeof n.mockUserToken=="string"?n.mockUserToken:HI(n.mockUserToken,t.app.options.projectId);i=new ni(s)}PR(o,e,r,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){yN(rN),su(new Xs("database",(e,{instanceIdentifier:r})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return NR(n,o,i,r)},"PUBLIC").setMultipleInstances(!0)),ti(Tm,Rm,t),ti(Tm,Rm,"esm2017")}Ar.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ar.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};OR();var fv=Object.prototype.toString,pw=function(e){var r=fv.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&fv.call(e.callee)==="[object Function]"),n},Pf,dv;function $R(){if(dv)return Pf;dv=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=pw,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),s=o.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(f){var y=f.constructor;return y&&y.prototype===f},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!u["$"+f]&&e.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{l(window[f])}catch{return!0}}catch{return!0}return!1}(),d=function(f){if(typeof window>"u"||!p)return l(f);try{return l(f)}catch{return!1}};t=function(y){var g=y!==null&&typeof y=="object",_=r.call(y)==="[object Function]",b=n(y),v=g&&r.call(y)==="[object String]",h=[];if(!g&&!_&&!b)throw new TypeError("Object.keys called on a non-object");var m=s&&_;if(v&&y.length>0&&!e.call(y,0))for(var E=0;E<y.length;++E)h.push(String(E));if(b&&y.length>0)for(var A=0;A<y.length;++A)h.push(String(A));else for(var I in y)!(m&&I==="prototype")&&e.call(y,I)&&h.push(String(I));if(i)for(var T=d(y),j=0;j<a.length;++j)!(T&&a[j]==="constructor")&&e.call(y,a[j])&&h.push(a[j]);return h}}return Pf=t,Pf}var DR=Array.prototype.slice,FR=pw,pv=Object.keys,Sl=pv?function(e){return pv(e)}:$R(),hv=Object.keys;Sl.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return FR(n)?hv(DR.call(n)):hv(n)})}else Object.keys=Sl;return Object.keys||Sl};var Ca=Sl,kc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==o||s.enumerable!==!0)return!1}return!0},yv=typeof Symbol<"u"&&Symbol,MR=kc,$r=function(){return typeof yv!="function"||typeof Symbol!="function"||typeof yv("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:MR()},LR="Function.prototype.bind called on incompatible ",Nf=Array.prototype.slice,BR=Object.prototype.toString,UR="[object Function]",WR=function(e){var r=this;if(typeof r!="function"||BR.call(r)!==UR)throw new TypeError(LR+r);for(var n=Nf.call(arguments,1),o,i=function(){if(this instanceof o){var p=r.apply(this,n.concat(Nf.call(arguments)));return Object(p)===p?p:this}else return r.apply(e,n.concat(Nf.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},zR=WR,jy=Function.prototype.bind||zR,VR=jy,Tc=VR.call(Function.call,Object.prototype.hasOwnProperty),re,Ni=SyntaxError,hw=Function,oi=TypeError,kf=function(t){try{return hw('"use strict"; return ('+t+").constructor;")()}catch{}},Ln=Object.getOwnPropertyDescriptor;if(Ln)try{Ln({},"")}catch{Ln=null}var Tf=function(){throw new oi},GR=Ln?function(){try{return arguments.callee,Tf}catch{try{return Ln(arguments,"callee").get}catch{return Tf}}}():Tf,yo=$r(),Ur=Object.getPrototypeOf||function(t){return t.__proto__},Co={},HR=typeof Uint8Array>"u"?re:Ur(Uint8Array),ii={"%AggregateError%":typeof AggregateError>"u"?re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?re:ArrayBuffer,"%ArrayIteratorPrototype%":yo?Ur([][Symbol.iterator]()):re,"%AsyncFromSyncIteratorPrototype%":re,"%AsyncFunction%":Co,"%AsyncGenerator%":Co,"%AsyncGeneratorFunction%":Co,"%AsyncIteratorPrototype%":Co,"%Atomics%":typeof Atomics>"u"?re:Atomics,"%BigInt%":typeof BigInt>"u"?re:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?re:FinalizationRegistry,"%Function%":hw,"%GeneratorFunction%":Co,"%Int8Array%":typeof Int8Array>"u"?re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":yo?Ur(Ur([][Symbol.iterator]())):re,"%JSON%":typeof JSON=="object"?JSON:re,"%Map%":typeof Map>"u"?re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!yo?re:Ur(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?re:Promise,"%Proxy%":typeof Proxy>"u"?re:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!yo?re:Ur(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":yo?Ur(""[Symbol.iterator]()):re,"%Symbol%":yo?Symbol:re,"%SyntaxError%":Ni,"%ThrowTypeError%":GR,"%TypedArray%":HR,"%TypeError%":oi,"%Uint8Array%":typeof Uint8Array>"u"?re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?re:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?re:WeakSet},QR=function t(e){var r;if(e==="%AsyncFunction%")r=kf("async function () {}");else if(e==="%GeneratorFunction%")r=kf("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=kf("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(r=Ur(o.prototype))}return ii[e]=r,r},gv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ba=jy,xu=Tc,KR=ba.call(Function.call,Array.prototype.concat),qR=ba.call(Function.apply,Array.prototype.splice),mv=ba.call(Function.call,String.prototype.replace),Su=ba.call(Function.call,String.prototype.slice),YR=ba.call(Function.call,RegExp.prototype.exec),JR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,XR=/\\(\\)?/g,ZR=function(e){var r=Su(e,0,1),n=Su(e,-1);if(r==="%"&&n!=="%")throw new Ni("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ni("invalid intrinsic syntax, expected opening `%`");var o=[];return mv(e,JR,function(i,s,a,l){o[o.length]=a?mv(l,XR,"$1"):s||i}),o},e2=function(e,r){var n=e,o;if(xu(gv,n)&&(o=gv[n],n="%"+o[0]+"%"),xu(ii,n)){var i=ii[n];if(i===Co&&(i=QR(n)),typeof i>"u"&&!r)throw new oi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Ni("intrinsic "+e+" does not exist!")},Dr=function(e,r){if(typeof e!="string"||e.length===0)throw new oi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new oi('"allowMissing" argument must be a boolean');if(YR(/^%?[^%]*%?$/,e)===null)throw new Ni("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ZR(e),o=n.length>0?n[0]:"",i=e2("%"+o+"%",r),s=i.name,a=i.value,l=!1,u=i.alias;u&&(o=u[0],qR(n,KR([0,1],u)));for(var p=1,d=!0;p<n.length;p+=1){var f=n[p],y=Su(f,0,1),g=Su(f,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new Ni("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),o+="."+f,s="%"+o+"%",xu(ii,s))a=ii[s];else if(a!=null){if(!(f in a)){if(!r)throw new oi("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ln&&p+1>=n.length){var _=Ln(a,f);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[f]}else d=xu(a,f),a=a[f];d&&!l&&(ii[s]=a)}}return a},t2=Dr,Tp=t2("%Object.defineProperty%",!0),Rp=function(){if(Tp)try{return Tp({},"a",{value:1}),!0}catch{return!1}return!1};Rp.hasArrayLengthDefineBug=function(){if(!Rp())return null;try{return Tp([],"length",{value:1}).length!==1}catch{return!0}};var Gi=Rp,r2=Ca,n2=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",o2=Object.prototype.toString,i2=Array.prototype.concat,yw=Object.defineProperty,s2=function(t){return typeof t=="function"&&o2.call(t)==="[object Function]"},a2=Gi(),gw=yw&&a2,l2=function(t,e,r,n){e in t&&(!s2(n)||!n())||(gw?yw(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},mw=function(t,e){var r=arguments.length>2?arguments[2]:{},n=r2(e);n2&&(n=i2.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)l2(t,n[o],e[n[o]],r[n[o]])};mw.supportsDescriptors=!!gw;var vw=mw,_w={exports:{}};(function(t){var e=jy,r=Dr,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var f=i(e,o,arguments);if(s&&a){var y=s(f,"length");y.configurable&&a(f,"length",{value:1+l(0,d.length-(arguments.length-1))})}return f};var u=function(){return i(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(_w);var Rc=_w.exports,xw=Dr,Sw=Rc,u2=Sw(xw("String.prototype.indexOf")),nr=function(e,r){var n=xw(e,!!r);return typeof n=="function"&&u2(e,".prototype.")>-1?Sw(n):n},c2=Ca,ww=kc(),Ew=nr,vv=Object,f2=Ew("Array.prototype.push"),_v=Ew("Object.prototype.propertyIsEnumerable"),d2=ww?Object.getOwnPropertySymbols:null,Cw=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=vv(e);if(arguments.length===1)return n;for(var o=1;o<arguments.length;++o){var i=vv(arguments[o]),s=c2(i),a=ww&&(Object.getOwnPropertySymbols||d2);if(a)for(var l=a(i),u=0;u<l.length;++u){var p=l[u];_v(i,p)&&f2(s,p)}for(var d=0;d<s.length;++d){var f=s[d];if(_v(i,f)){var y=i[f];n[f]=y}}}return n},Rf=Cw,p2=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),i="";for(var s in o)i+=s;return t!==i},h2=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},bw=function(){return!Object.assign||p2()||h2()?Rf:Object.assign},y2=vw,g2=bw,m2=function(){var e=g2();return y2(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},v2=vw,_2=Rc,x2=Cw,Aw=bw,S2=m2,w2=_2.apply(Aw()),Iw=function(e,r){return w2(Object,arguments)};v2(Iw,{getPolyfill:Aw,implementation:x2,shim:S2});var E2=Iw,xv={foo:{}},C2=Object,jc=function(){return{__proto__:xv}.foo===xv.foo&&!({__proto__:null}instanceof C2)},b2="Function.prototype.bind called on incompatible ",A2=Object.prototype.toString,I2=Math.max,P2="[object Function]",Sv=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},N2=function(e,r){for(var n=[],o=r||0,i=0;o<e.length;o+=1,i+=1)n[i]=e[o];return n},k2=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},T2=function(e){var r=this;if(typeof r!="function"||A2.apply(r)!==P2)throw new TypeError(b2+r);for(var n=N2(arguments,1),o,i=function(){if(this instanceof o){var p=r.apply(this,Sv(n,arguments));return Object(p)===p?p:this}return r.apply(e,Sv(n,arguments))},s=I2(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(o=Function("binder","return function ("+k2(a,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},R2=T2,Pw=Function.prototype.bind||R2,j2="Function.prototype.bind called on incompatible ",O2=Object.prototype.toString,$2=Math.max,D2="[object Function]",wv=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},F2=function(e,r){for(var n=[],o=r||0,i=0;o<e.length;o+=1,i+=1)n[i]=e[o];return n},M2=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},L2=function(e){var r=this;if(typeof r!="function"||O2.apply(r)!==D2)throw new TypeError(j2+r);for(var n=F2(arguments,1),o,i=function(){if(this instanceof o){var p=r.apply(this,wv(n,arguments));return Object(p)===p?p:this}return r.apply(e,wv(n,arguments))},s=$2(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(o=Function("binder","return function ("+M2(a,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},B2=L2,U2=Function.prototype.bind||B2,W2=Function.prototype.call,z2=Object.prototype.hasOwnProperty,V2=U2,Oc=V2.call(W2,z2),J,ki=SyntaxError,Nw=Function,si=TypeError,jf=function(t){try{return Nw('"use strict"; return ('+t+").constructor;")()}catch{}},Bn=Object.getOwnPropertyDescriptor;if(Bn)try{Bn({},"")}catch{Bn=null}var Of=function(){throw new si},G2=Bn?function(){try{return arguments.callee,Of}catch{try{return Bn(arguments,"callee").get}catch{return Of}}}():Of,go=$r(),H2=jc(),ze=Object.getPrototypeOf||(H2?function(t){return t.__proto__}:null),bo={},Q2=typeof Uint8Array>"u"||!ze?J:ze(Uint8Array),Un={"%AggregateError%":typeof AggregateError>"u"?J:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?J:ArrayBuffer,"%ArrayIteratorPrototype%":go&&ze?ze([][Symbol.iterator]()):J,"%AsyncFromSyncIteratorPrototype%":J,"%AsyncFunction%":bo,"%AsyncGenerator%":bo,"%AsyncGeneratorFunction%":bo,"%AsyncIteratorPrototype%":bo,"%Atomics%":typeof Atomics>"u"?J:Atomics,"%BigInt%":typeof BigInt>"u"?J:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?J:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?J:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?J:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?J:Float32Array,"%Float64Array%":typeof Float64Array>"u"?J:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?J:FinalizationRegistry,"%Function%":Nw,"%GeneratorFunction%":bo,"%Int8Array%":typeof Int8Array>"u"?J:Int8Array,"%Int16Array%":typeof Int16Array>"u"?J:Int16Array,"%Int32Array%":typeof Int32Array>"u"?J:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":go&&ze?ze(ze([][Symbol.iterator]())):J,"%JSON%":typeof JSON=="object"?JSON:J,"%Map%":typeof Map>"u"?J:Map,"%MapIteratorPrototype%":typeof Map>"u"||!go||!ze?J:ze(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?J:Promise,"%Proxy%":typeof Proxy>"u"?J:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?J:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?J:Set,"%SetIteratorPrototype%":typeof Set>"u"||!go||!ze?J:ze(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?J:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":go&&ze?ze(""[Symbol.iterator]()):J,"%Symbol%":go?Symbol:J,"%SyntaxError%":ki,"%ThrowTypeError%":G2,"%TypedArray%":Q2,"%TypeError%":si,"%Uint8Array%":typeof Uint8Array>"u"?J:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?J:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?J:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?J:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?J:WeakMap,"%WeakRef%":typeof WeakRef>"u"?J:WeakRef,"%WeakSet%":typeof WeakSet>"u"?J:WeakSet};if(ze)try{null.error}catch(t){var K2=ze(ze(t));Un["%Error.prototype%"]=K2}var q2=function t(e){var r;if(e==="%AsyncFunction%")r=jf("async function () {}");else if(e==="%GeneratorFunction%")r=jf("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=jf("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&ze&&(r=ze(o.prototype))}return Un[e]=r,r},Ev={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Aa=Pw,wu=Oc,Y2=Aa.call(Function.call,Array.prototype.concat),J2=Aa.call(Function.apply,Array.prototype.splice),Cv=Aa.call(Function.call,String.prototype.replace),Eu=Aa.call(Function.call,String.prototype.slice),X2=Aa.call(Function.call,RegExp.prototype.exec),Z2=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ej=/\\(\\)?/g,tj=function(e){var r=Eu(e,0,1),n=Eu(e,-1);if(r==="%"&&n!=="%")throw new ki("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ki("invalid intrinsic syntax, expected opening `%`");var o=[];return Cv(e,Z2,function(i,s,a,l){o[o.length]=a?Cv(l,ej,"$1"):s||i}),o},rj=function(e,r){var n=e,o;if(wu(Ev,n)&&(o=Ev[n],n="%"+o[0]+"%"),wu(Un,n)){var i=Un[n];if(i===bo&&(i=q2(n)),typeof i>"u"&&!r)throw new si("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new ki("intrinsic "+e+" does not exist!")},$c=function(e,r){if(typeof e!="string"||e.length===0)throw new si("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new si('"allowMissing" argument must be a boolean');if(X2(/^%?[^%]*%?$/,e)===null)throw new ki("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=tj(e),o=n.length>0?n[0]:"",i=rj("%"+o+"%",r),s=i.name,a=i.value,l=!1,u=i.alias;u&&(o=u[0],J2(n,Y2([0,1],u)));for(var p=1,d=!0;p<n.length;p+=1){var f=n[p],y=Eu(f,0,1),g=Eu(f,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new ki("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),o+="."+f,s="%"+o+"%",wu(Un,s))a=Un[s];else if(a!=null){if(!(f in a)){if(!r)throw new si("base intrinsic for "+e+" exists, but the property is not available.");return}if(Bn&&p+1>=n.length){var _=Bn(a,f);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[f]}else d=wu(a,f),a=a[f];d&&!l&&(Un[s]=a)}}return a},kw={exports:{}},nj="Function.prototype.bind called on incompatible ",oj=Object.prototype.toString,ij=Math.max,sj="[object Function]",bv=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},aj=function(e,r){for(var n=[],o=r||0,i=0;o<e.length;o+=1,i+=1)n[i]=e[o];return n},lj=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},uj=function(e){var r=this;if(typeof r!="function"||oj.apply(r)!==sj)throw new TypeError(nj+r);for(var n=aj(arguments,1),o,i=function(){if(this instanceof o){var p=r.apply(this,bv(n,arguments));return Object(p)===p?p:this}return r.apply(e,bv(n,arguments))},s=ij(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(o=Function("binder","return function ("+lj(a,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},cj=uj,fj=Function.prototype.bind||cj,X,Ti=SyntaxError,Tw=Function,ai=TypeError,$f=function(t){try{return Tw('"use strict"; return ('+t+").constructor;")()}catch{}},Wn=Object.getOwnPropertyDescriptor;if(Wn)try{Wn({},"")}catch{Wn=null}var Df=function(){throw new ai},dj=Wn?function(){try{return arguments.callee,Df}catch{try{return Wn(arguments,"callee").get}catch{return Df}}}():Df,mo=$r(),pj=jc(),Ve=Object.getPrototypeOf||(pj?function(t){return t.__proto__}:null),Ao={},hj=typeof Uint8Array>"u"||!Ve?X:Ve(Uint8Array),zn={"%AggregateError%":typeof AggregateError>"u"?X:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?X:ArrayBuffer,"%ArrayIteratorPrototype%":mo&&Ve?Ve([][Symbol.iterator]()):X,"%AsyncFromSyncIteratorPrototype%":X,"%AsyncFunction%":Ao,"%AsyncGenerator%":Ao,"%AsyncGeneratorFunction%":Ao,"%AsyncIteratorPrototype%":Ao,"%Atomics%":typeof Atomics>"u"?X:Atomics,"%BigInt%":typeof BigInt>"u"?X:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?X:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?X:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?X:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?X:Float32Array,"%Float64Array%":typeof Float64Array>"u"?X:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?X:FinalizationRegistry,"%Function%":Tw,"%GeneratorFunction%":Ao,"%Int8Array%":typeof Int8Array>"u"?X:Int8Array,"%Int16Array%":typeof Int16Array>"u"?X:Int16Array,"%Int32Array%":typeof Int32Array>"u"?X:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":mo&&Ve?Ve(Ve([][Symbol.iterator]())):X,"%JSON%":typeof JSON=="object"?JSON:X,"%Map%":typeof Map>"u"?X:Map,"%MapIteratorPrototype%":typeof Map>"u"||!mo||!Ve?X:Ve(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?X:Promise,"%Proxy%":typeof Proxy>"u"?X:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?X:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?X:Set,"%SetIteratorPrototype%":typeof Set>"u"||!mo||!Ve?X:Ve(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?X:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":mo&&Ve?Ve(""[Symbol.iterator]()):X,"%Symbol%":mo?Symbol:X,"%SyntaxError%":Ti,"%ThrowTypeError%":dj,"%TypedArray%":hj,"%TypeError%":ai,"%Uint8Array%":typeof Uint8Array>"u"?X:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?X:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?X:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?X:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?X:WeakMap,"%WeakRef%":typeof WeakRef>"u"?X:WeakRef,"%WeakSet%":typeof WeakSet>"u"?X:WeakSet};if(Ve)try{null.error}catch(t){var yj=Ve(Ve(t));zn["%Error.prototype%"]=yj}var gj=function t(e){var r;if(e==="%AsyncFunction%")r=$f("async function () {}");else if(e==="%GeneratorFunction%")r=$f("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=$f("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&Ve&&(r=Ve(o.prototype))}return zn[e]=r,r},Av={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ia=fj,Cu=Oc,mj=Ia.call(Function.call,Array.prototype.concat),vj=Ia.call(Function.apply,Array.prototype.splice),Iv=Ia.call(Function.call,String.prototype.replace),bu=Ia.call(Function.call,String.prototype.slice),_j=Ia.call(Function.call,RegExp.prototype.exec),xj=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Sj=/\\(\\)?/g,wj=function(e){var r=bu(e,0,1),n=bu(e,-1);if(r==="%"&&n!=="%")throw new Ti("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ti("invalid intrinsic syntax, expected opening `%`");var o=[];return Iv(e,xj,function(i,s,a,l){o[o.length]=a?Iv(l,Sj,"$1"):s||i}),o},Ej=function(e,r){var n=e,o;if(Cu(Av,n)&&(o=Av[n],n="%"+o[0]+"%"),Cu(zn,n)){var i=zn[n];if(i===Ao&&(i=gj(n)),typeof i>"u"&&!r)throw new ai("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Ti("intrinsic "+e+" does not exist!")},Cj=function(e,r){if(typeof e!="string"||e.length===0)throw new ai("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ai('"allowMissing" argument must be a boolean');if(_j(/^%?[^%]*%?$/,e)===null)throw new Ti("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=wj(e),o=n.length>0?n[0]:"",i=Ej("%"+o+"%",r),s=i.name,a=i.value,l=!1,u=i.alias;u&&(o=u[0],vj(n,mj([0,1],u)));for(var p=1,d=!0;p<n.length;p+=1){var f=n[p],y=bu(f,0,1),g=bu(f,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new Ti("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),o+="."+f,s="%"+o+"%",Cu(zn,s))a=zn[s];else if(a!=null){if(!(f in a)){if(!r)throw new ai("base intrinsic for "+e+" exists, but the property is not available.");return}if(Wn&&p+1>=n.length){var _=Wn(a,f);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[f]}else d=Cu(a,f),a=a[f];d&&!l&&(zn[s]=a)}}return a},bj="Function.prototype.bind called on incompatible ",Aj=Object.prototype.toString,Ij=Math.max,Pj="[object Function]",Pv=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},Nj=function(e,r){for(var n=[],o=r||0,i=0;o<e.length;o+=1,i+=1)n[i]=e[o];return n},kj=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Tj=function(e){var r=this;if(typeof r!="function"||Aj.apply(r)!==Pj)throw new TypeError(bj+r);for(var n=Nj(arguments,1),o,i=function(){if(this instanceof o){var p=r.apply(this,Pv(n,arguments));return Object(p)===p?p:this}return r.apply(e,Pv(n,arguments))},s=Ij(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(o=Function("binder","return function ("+kj(a,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},Rj=Tj,jj=Function.prototype.bind||Rj,Z,Ri=SyntaxError,Rw=Function,li=TypeError,Ff=function(t){try{return Rw('"use strict"; return ('+t+").constructor;")()}catch{}},Vn=Object.getOwnPropertyDescriptor;if(Vn)try{Vn({},"")}catch{Vn=null}var Mf=function(){throw new li},Oj=Vn?function(){try{return arguments.callee,Mf}catch{try{return Vn(arguments,"callee").get}catch{return Mf}}}():Mf,vo=$r(),$j=jc(),Ge=Object.getPrototypeOf||($j?function(t){return t.__proto__}:null),Io={},Dj=typeof Uint8Array>"u"||!Ge?Z:Ge(Uint8Array),Gn={"%AggregateError%":typeof AggregateError>"u"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":vo&&Ge?Ge([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":Io,"%AsyncGenerator%":Io,"%AsyncGeneratorFunction%":Io,"%AsyncIteratorPrototype%":Io,"%Atomics%":typeof Atomics>"u"?Z:Atomics,"%BigInt%":typeof BigInt>"u"?Z:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Z:FinalizationRegistry,"%Function%":Rw,"%GeneratorFunction%":Io,"%Int8Array%":typeof Int8Array>"u"?Z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":vo&&Ge?Ge(Ge([][Symbol.iterator]())):Z,"%JSON%":typeof JSON=="object"?JSON:Z,"%Map%":typeof Map>"u"?Z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!vo||!Ge?Z:Ge(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Z:Promise,"%Proxy%":typeof Proxy>"u"?Z:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!vo||!Ge?Z:Ge(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":vo&&Ge?Ge(""[Symbol.iterator]()):Z,"%Symbol%":vo?Symbol:Z,"%SyntaxError%":Ri,"%ThrowTypeError%":Oj,"%TypedArray%":Dj,"%TypeError%":li,"%Uint8Array%":typeof Uint8Array>"u"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Z:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Z:WeakSet};if(Ge)try{null.error}catch(t){var Fj=Ge(Ge(t));Gn["%Error.prototype%"]=Fj}var Mj=function t(e){var r;if(e==="%AsyncFunction%")r=Ff("async function () {}");else if(e==="%GeneratorFunction%")r=Ff("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ff("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&Ge&&(r=Ge(o.prototype))}return Gn[e]=r,r},Nv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Pa=jj,Au=Oc,Lj=Pa.call(Function.call,Array.prototype.concat),Bj=Pa.call(Function.apply,Array.prototype.splice),kv=Pa.call(Function.call,String.prototype.replace),Iu=Pa.call(Function.call,String.prototype.slice),Uj=Pa.call(Function.call,RegExp.prototype.exec),Wj=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zj=/\\(\\)?/g,Vj=function(e){var r=Iu(e,0,1),n=Iu(e,-1);if(r==="%"&&n!=="%")throw new Ri("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ri("invalid intrinsic syntax, expected opening `%`");var o=[];return kv(e,Wj,function(i,s,a,l){o[o.length]=a?kv(l,zj,"$1"):s||i}),o},Gj=function(e,r){var n=e,o;if(Au(Nv,n)&&(o=Nv[n],n="%"+o[0]+"%"),Au(Gn,n)){var i=Gn[n];if(i===Io&&(i=Mj(n)),typeof i>"u"&&!r)throw new li("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Ri("intrinsic "+e+" does not exist!")},Hj=function(e,r){if(typeof e!="string"||e.length===0)throw new li("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new li('"allowMissing" argument must be a boolean');if(Uj(/^%?[^%]*%?$/,e)===null)throw new Ri("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Vj(e),o=n.length>0?n[0]:"",i=Gj("%"+o+"%",r),s=i.name,a=i.value,l=!1,u=i.alias;u&&(o=u[0],Bj(n,Lj([0,1],u)));for(var p=1,d=!0;p<n.length;p+=1){var f=n[p],y=Iu(f,0,1),g=Iu(f,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new Ri("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),o+="."+f,s="%"+o+"%",Au(Gn,s))a=Gn[s];else if(a!=null){if(!(f in a)){if(!r)throw new li("base intrinsic for "+e+" exists, but the property is not available.");return}if(Vn&&p+1>=n.length){var _=Vn(a,f);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[f]}else d=Au(a,f),a=a[f];d&&!l&&(Gn[s]=a)}}return a},Qj=Dr,wl=Qj("%Object.getOwnPropertyDescriptor%",!0);if(wl)try{wl([],"length")}catch{wl=null}var Dc=wl,Kj=Gi(),Oy=Hj,ks=Kj&&Oy("%Object.defineProperty%",!0);if(ks)try{ks({},"a",{value:1})}catch{ks=!1}var qj=Oy("%SyntaxError%"),_o=Oy("%TypeError%"),Tv=Dc,$y=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new _o("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new _o("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new _o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new _o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new _o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new _o("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!Tv&&Tv(e,r);if(ks)ks(e,r,{configurable:s===null&&l?l.configurable:!s,enumerable:o===null&&l?l.enumerable:!o,value:n,writable:i===null&&l?l.writable:!i});else if(a||!o&&!i&&!s)e[r]=n;else throw new qj("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},jw=Cj,Rv=$y,Yj=Gi(),jv=Dc,Ov=jw("%TypeError%"),Jj=jw("%Math.floor%"),Ow=function(e,r){if(typeof e!="function")throw new Ov("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Jj(r)!==r)throw new Ov("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,i=!0;if("length"in e&&jv){var s=jv(e,"length");s&&!s.configurable&&(o=!1),s&&!s.writable&&(i=!1)}return(o||i||!n)&&(Yj?Rv(e,"length",r,!0,!0):Rv(e,"length",r)),e};(function(t){var e=Pw,r=$c,n=Ow,o=r("%TypeError%"),i=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(s,i),l=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(f){if(typeof f!="function")throw new o("a function is required");var y=a(e,s,arguments);return n(y,1+u(0,f.length-(arguments.length-1)),!0)};var p=function(){return a(e,i,arguments)};l?l(t.exports,"apply",{value:p}):t.exports.apply=p})(kw);var Xj=kw.exports,$w=$c,Dw=Xj,Zj=Dw($w("String.prototype.indexOf")),eO=function(e,r){var n=$w(e,!!r);return typeof n=="function"&&Zj(e,".prototype.")>-1?Dw(n):n},tO=Ca,rO=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",nO=Object.prototype.toString,oO=Array.prototype.concat,$v=$y,iO=function(t){return typeof t=="function"&&nO.call(t)==="[object Function]"},Fw=Gi(),sO=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!iO(n)||!n())return}Fw?$v(t,e,r,!0):$v(t,e,r)},Mw=function(t,e){var r=arguments.length>2?arguments[2]:{},n=tO(e);rO&&(n=oO.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)sO(t,n[o],e[n[o]],r[n[o]])};Mw.supportsDescriptors=!!Fw;var Dy=Mw,Lw={exports:{}},aO="Function.prototype.bind called on incompatible ",Lf=Array.prototype.slice,lO=Object.prototype.toString,uO="[object Function]",cO=function(e){var r=this;if(typeof r!="function"||lO.call(r)!==uO)throw new TypeError(aO+r);for(var n=Lf.call(arguments,1),o,i=function(){if(this instanceof o){var p=r.apply(this,n.concat(Lf.call(arguments)));return Object(p)===p?p:this}else return r.apply(e,n.concat(Lf.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},fO=cO,Bw=Function.prototype.bind||fO,ne,ji=SyntaxError,Uw=Function,ui=TypeError,Bf=function(t){try{return Uw('"use strict"; return ('+t+").constructor;")()}catch{}},Hn=Object.getOwnPropertyDescriptor;if(Hn)try{Hn({},"")}catch{Hn=null}var Uf=function(){throw new ui},dO=Hn?function(){try{return arguments.callee,Uf}catch{try{return Hn(arguments,"callee").get}catch{return Uf}}}():Uf,xo=$r(),Wr=Object.getPrototypeOf||function(t){return t.__proto__},Po={},pO=typeof Uint8Array>"u"?ne:Wr(Uint8Array),ci={"%AggregateError%":typeof AggregateError>"u"?ne:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ne:ArrayBuffer,"%ArrayIteratorPrototype%":xo?Wr([][Symbol.iterator]()):ne,"%AsyncFromSyncIteratorPrototype%":ne,"%AsyncFunction%":Po,"%AsyncGenerator%":Po,"%AsyncGeneratorFunction%":Po,"%AsyncIteratorPrototype%":Po,"%Atomics%":typeof Atomics>"u"?ne:Atomics,"%BigInt%":typeof BigInt>"u"?ne:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ne:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ne:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ne:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ne:FinalizationRegistry,"%Function%":Uw,"%GeneratorFunction%":Po,"%Int8Array%":typeof Int8Array>"u"?ne:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ne:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ne:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":xo?Wr(Wr([][Symbol.iterator]())):ne,"%JSON%":typeof JSON=="object"?JSON:ne,"%Map%":typeof Map>"u"?ne:Map,"%MapIteratorPrototype%":typeof Map>"u"||!xo?ne:Wr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ne:Promise,"%Proxy%":typeof Proxy>"u"?ne:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ne:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ne:Set,"%SetIteratorPrototype%":typeof Set>"u"||!xo?ne:Wr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ne:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":xo?Wr(""[Symbol.iterator]()):ne,"%Symbol%":xo?Symbol:ne,"%SyntaxError%":ji,"%ThrowTypeError%":dO,"%TypedArray%":pO,"%TypeError%":ui,"%Uint8Array%":typeof Uint8Array>"u"?ne:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ne:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ne:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ne:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ne:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ne:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ne:WeakSet},hO=function t(e){var r;if(e==="%AsyncFunction%")r=Bf("async function () {}");else if(e==="%GeneratorFunction%")r=Bf("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Bf("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(r=Wr(o.prototype))}return ci[e]=r,r},Dv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Na=Bw,Pu=Tc,yO=Na.call(Function.call,Array.prototype.concat),gO=Na.call(Function.apply,Array.prototype.splice),Fv=Na.call(Function.call,String.prototype.replace),Nu=Na.call(Function.call,String.prototype.slice),mO=Na.call(Function.call,RegExp.prototype.exec),vO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_O=/\\(\\)?/g,xO=function(e){var r=Nu(e,0,1),n=Nu(e,-1);if(r==="%"&&n!=="%")throw new ji("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ji("invalid intrinsic syntax, expected opening `%`");var o=[];return Fv(e,vO,function(i,s,a,l){o[o.length]=a?Fv(l,_O,"$1"):s||i}),o},SO=function(e,r){var n=e,o;if(Pu(Dv,n)&&(o=Dv[n],n="%"+o[0]+"%"),Pu(ci,n)){var i=ci[n];if(i===Po&&(i=hO(n)),typeof i>"u"&&!r)throw new ui("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new ji("intrinsic "+e+" does not exist!")},wO=function(e,r){if(typeof e!="string"||e.length===0)throw new ui("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ui('"allowMissing" argument must be a boolean');if(mO(/^%?[^%]*%?$/,e)===null)throw new ji("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=xO(e),o=n.length>0?n[0]:"",i=SO("%"+o+"%",r),s=i.name,a=i.value,l=!1,u=i.alias;u&&(o=u[0],gO(n,yO([0,1],u)));for(var p=1,d=!0;p<n.length;p+=1){var f=n[p],y=Nu(f,0,1),g=Nu(f,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new ji("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),o+="."+f,s="%"+o+"%",Pu(ci,s))a=ci[s];else if(a!=null){if(!(f in a)){if(!r)throw new ui("base intrinsic for "+e+" exists, but the property is not available.");return}if(Hn&&p+1>=n.length){var _=Hn(a,f);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[f]}else d=Pu(a,f),a=a[f];d&&!l&&(ci[s]=a)}}return a};(function(t){var e=Bw,r=wO,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var f=i(e,o,arguments);if(s&&a){var y=s(f,"length");y.configurable&&a(f,"length",{value:1+l(0,d.length-(arguments.length-1))})}return f};var u=function(){return i(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(Lw);var EO=Lw.exports,aa=function(){return typeof(function(){}).name=="string"},Ts=Object.getOwnPropertyDescriptor;if(Ts)try{Ts([],"length")}catch{Ts=null}aa.functionsHaveConfigurableNames=function(){if(!aa()||!Ts)return!1;var e=Ts(function(){},"name");return!!e&&!!e.configurable};var CO=Function.prototype.bind;aa.boundFunctionsHaveNames=function(){return aa()&&typeof CO=="function"&&(function(){}).bind().name!==""};var bO=aa,Mv=$y,AO=Gi(),IO=bO.functionsHaveConfigurableNames(),PO=TypeError,NO=function(e,r){if(typeof e!="function")throw new PO("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||IO)&&(AO?Mv(e,"name",r,!0,!0):Mv(e,"name",r)),e},kO=NO,TO=Object,RO=TypeError,Ww=kO(function(){if(this!=null&&this!==TO(this))throw new RO("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),jO=Ww,OO=Dy.supportsDescriptors,$O=Object.getOwnPropertyDescriptor,zw=function(){if(OO&&/a/mig.flags==="gim"){var e=$O(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),r==="dy")return e.get}}return jO},DO=Dy.supportsDescriptors,FO=zw,MO=Object.getOwnPropertyDescriptor,LO=Object.defineProperty,BO=TypeError,Lv=Object.getPrototypeOf,UO=/a/,WO=function(){if(!DO||!Lv)throw new BO("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=FO(),r=Lv(UO),n=MO(r,"flags");return(!n||n.get!==e)&&LO(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},zO=Dy,VO=EO,GO=Ww,Vw=zw,HO=WO,Gw=VO(Vw());zO(Gw,{getPolyfill:Vw,implementation:GO,shim:HO});var QO=Gw,El={exports:{}},KO=kc,wn=function(){return KO()&&!!Symbol.toStringTag},qO=wn(),YO=nr,jp=YO("Object.prototype.toString"),Fc=function(e){return qO&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:jp(e)==="[object Arguments]"},Hw=function(e){return Fc(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&jp(e)!=="[object Array]"&&jp(e.callee)==="[object Function]"},JO=function(){return Fc(arguments)}();Fc.isLegacyArguments=Hw;var Qw=JO?Fc:Hw;const XO={},ZO=Object.freeze(Object.defineProperty({__proto__:null,default:XO},Symbol.toStringTag,{value:"Module"})),e$=CC(ZO);var Fy=typeof Map=="function"&&Map.prototype,Wf=Object.getOwnPropertyDescriptor&&Fy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ku=Fy&&Wf&&typeof Wf.get=="function"?Wf.get:null,t$=Fy&&Map.prototype.forEach,My=typeof Set=="function"&&Set.prototype,zf=Object.getOwnPropertyDescriptor&&My?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Tu=My&&zf&&typeof zf.get=="function"?zf.get:null,r$=My&&Set.prototype.forEach,n$=typeof WeakMap=="function"&&WeakMap.prototype,Rs=n$?WeakMap.prototype.has:null,o$=typeof WeakSet=="function"&&WeakSet.prototype,js=o$?WeakSet.prototype.has:null,i$=typeof WeakRef=="function"&&WeakRef.prototype,Bv=i$?WeakRef.prototype.deref:null,s$=Boolean.prototype.valueOf,a$=Object.prototype.toString,l$=Function.prototype.toString,u$=String.prototype.match,Ly=String.prototype.slice,Yr=String.prototype.replace,c$=String.prototype.toUpperCase,Uv=String.prototype.toLowerCase,Kw=RegExp.prototype.test,Wv=Array.prototype.concat,sr=Array.prototype.join,f$=Array.prototype.slice,zv=Math.floor,Op=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Vf=Object.getOwnPropertySymbols,$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Oi||"symbol")?Symbol.toStringTag:null,qw=Object.prototype.propertyIsEnumerable,Vv=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Gv(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Kw.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-zv(-t):zv(t);if(n!==t){var o=String(n),i=Ly.call(e,o.length+1);return Yr.call(o,r,"$&_")+"."+Yr.call(Yr.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yr.call(e,r,"$&_")}var Dp=e$,Hv=Dp.custom,Qv=Jw(Hv)?Hv:null,d$=function t(e,r,n,o){var i=r||{};if(zr(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(zr(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=zr(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(zr(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(zr(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Zw(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Gv(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?Gv(e,u):u}var p=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof e=="object")return Fp(e)?"[Array]":"[Object]";var d=k$(i,n);if(typeof o>"u")o=[];else if(Xw(o,e)>=0)return"[Circular]";function f(W,ae,Oe){if(ae&&(o=f$.call(o),o.push(ae)),Oe){var Re={depth:i.depth};return zr(i,"quoteStyle")&&(Re.quoteStyle=i.quoteStyle),t(W,Re,n+1,o)}return t(W,i,n+1,o)}if(typeof e=="function"&&!Kv(e)){var y=S$(e),g=rl(e,f);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(g.length>0?" { "+sr.call(g,", ")+" }":"")}if(Jw(e)){var _=Oi?Yr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$p.call(e);return typeof e=="object"&&!Oi?as(_):_}if(I$(e)){for(var b="<"+Uv.call(String(e.nodeName)),v=e.attributes||[],h=0;h<v.length;h++)b+=" "+v[h].name+"="+Yw(p$(v[h].value),"double",i);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+Uv.call(String(e.nodeName))+">",b}if(Fp(e)){if(e.length===0)return"[]";var m=rl(e,f);return d&&!N$(m)?"["+Mp(m,d)+"]":"[ "+sr.call(m,", ")+" ]"}if(y$(e)){var E=rl(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!qw.call(e,"cause")?"{ ["+String(e)+"] "+sr.call(Wv.call("[cause]: "+f(e.cause),E),", ")+" }":E.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+sr.call(E,", ")+" }"}if(typeof e=="object"&&s){if(Qv&&typeof e[Qv]=="function"&&Dp)return Dp(e,{depth:p-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(w$(e)){var A=[];return t$.call(e,function(W,ae){A.push(f(ae,e,!0)+" => "+f(W,e))}),qv("Map",ku.call(e),A,d)}if(b$(e)){var I=[];return r$.call(e,function(W){I.push(f(W,e))}),qv("Set",Tu.call(e),I,d)}if(E$(e))return Gf("WeakMap");if(A$(e))return Gf("WeakSet");if(C$(e))return Gf("WeakRef");if(m$(e))return as(f(Number(e)));if(_$(e))return as(f(Op.call(e)));if(v$(e))return as(s$.call(e));if(g$(e))return as(f(String(e)));if(!h$(e)&&!Kv(e)){var T=rl(e,f),j=Vv?Vv(e)===Object.prototype:e instanceof Object||e.constructor===Object,Q=e instanceof Object?"":"null prototype",V=!j&&lt&&Object(e)===e&&lt in e?Ly.call(En(e),8,-1):Q?"Object":"",ve=j||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",H=ve+(V||Q?"["+sr.call(Wv.call([],V||[],Q||[]),": ")+"] ":"");return T.length===0?H+"{}":d?H+"{"+Mp(T,d)+"}":H+"{ "+sr.call(T,", ")+" }"}return String(e)};function Yw(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function p$(t){return Yr.call(String(t),/"/g,"&quot;")}function Fp(t){return En(t)==="[object Array]"&&(!lt||!(typeof t=="object"&&lt in t))}function h$(t){return En(t)==="[object Date]"&&(!lt||!(typeof t=="object"&&lt in t))}function Kv(t){return En(t)==="[object RegExp]"&&(!lt||!(typeof t=="object"&&lt in t))}function y$(t){return En(t)==="[object Error]"&&(!lt||!(typeof t=="object"&&lt in t))}function g$(t){return En(t)==="[object String]"&&(!lt||!(typeof t=="object"&&lt in t))}function m$(t){return En(t)==="[object Number]"&&(!lt||!(typeof t=="object"&&lt in t))}function v$(t){return En(t)==="[object Boolean]"&&(!lt||!(typeof t=="object"&&lt in t))}function Jw(t){if(Oi)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!$p)return!1;try{return $p.call(t),!0}catch{}return!1}function _$(t){if(!t||typeof t!="object"||!Op)return!1;try{return Op.call(t),!0}catch{}return!1}var x$=Object.prototype.hasOwnProperty||function(t){return t in this};function zr(t,e){return x$.call(t,e)}function En(t){return a$.call(t)}function S$(t){if(t.name)return t.name;var e=u$.call(l$.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Xw(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function w$(t){if(!ku||!t||typeof t!="object")return!1;try{ku.call(t);try{Tu.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function E$(t){if(!Rs||!t||typeof t!="object")return!1;try{Rs.call(t,Rs);try{js.call(t,js)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function C$(t){if(!Bv||!t||typeof t!="object")return!1;try{return Bv.call(t),!0}catch{}return!1}function b$(t){if(!Tu||!t||typeof t!="object")return!1;try{Tu.call(t);try{ku.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function A$(t){if(!js||!t||typeof t!="object")return!1;try{js.call(t,js);try{Rs.call(t,Rs)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function I$(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Zw(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Zw(Ly.call(t,0,e.maxStringLength),e)+n}var o=Yr.call(Yr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,P$);return Yw(o,"single",e)}function P$(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+c$.call(e.toString(16))}function as(t){return"Object("+t+")"}function Gf(t){return t+" { ? }"}function qv(t,e,r,n){var o=n?Mp(r,n):sr.call(r,", ");return t+" ("+e+") {"+o+"}"}function N$(t){for(var e=0;e<t.length;e++)if(Xw(t[e],`
`)>=0)return!1;return!0}function k$(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=sr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:sr.call(Array(e+1),r)}}function Mp(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+sr.call(t,","+r)+`
`+e.prev}function rl(t,e){var r=Fp(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=zr(t,o)?e(t[o],t):""}var i=typeof Vf=="function"?Vf(t):[],s;if(Oi){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var l in t)zr(t,l)&&(r&&String(Number(l))===l&&l<t.length||Oi&&s["$"+l]instanceof Symbol||(Kw.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof Vf=="function")for(var u=0;u<i.length;u++)qw.call(t,i[u])&&n.push("["+e(i[u])+"]: "+e(t[i[u]],t));return n}var By=Dr,Hi=nr,T$=d$,R$=By("%TypeError%"),nl=By("%WeakMap%",!0),ol=By("%Map%",!0),j$=Hi("WeakMap.prototype.get",!0),O$=Hi("WeakMap.prototype.set",!0),$$=Hi("WeakMap.prototype.has",!0),D$=Hi("Map.prototype.get",!0),F$=Hi("Map.prototype.set",!0),M$=Hi("Map.prototype.has",!0),Uy=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},L$=function(t,e){var r=Uy(t,e);return r&&r.value},B$=function(t,e,r){var n=Uy(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},U$=function(t,e){return!!Uy(t,e)},eE=function(){var e,r,n,o={assert:function(i){if(!o.has(i))throw new R$("Side channel does not contain "+T$(i))},get:function(i){if(nl&&i&&(typeof i=="object"||typeof i=="function")){if(e)return j$(e,i)}else if(ol){if(r)return D$(r,i)}else if(n)return L$(n,i)},has:function(i){if(nl&&i&&(typeof i=="object"||typeof i=="function")){if(e)return $$(e,i)}else if(ol){if(r)return M$(r,i)}else if(n)return U$(n,i);return!1},set:function(i,s){nl&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new nl),O$(e,i,s)):ol?(r||(r=new ol),F$(r,i,s)):(n||(n={key:{},next:null}),B$(n,i,s))}};return o},W$=Dr,z$=Tc,ls=eE(),mr=W$("%TypeError%"),Wy={assert:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new mr("`O` is not an object");if(typeof e!="string")throw new mr("`slot` must be a string");if(ls.assert(t),!Wy.has(t,e))throw new mr("`slot` is not present on `O`")},get:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new mr("`O` is not an object");if(typeof e!="string")throw new mr("`slot` must be a string");var r=ls.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new mr("`O` is not an object");if(typeof e!="string")throw new mr("`slot` must be a string");var r=ls.get(t);return!!r&&z$(r,"$"+e)},set:function(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new mr("`O` is not an object");if(typeof e!="string")throw new mr("`slot` must be a string");var n=ls.get(t);n||(n={},ls.set(t,n)),n["$"+e]=r}};Object.freeze&&Object.freeze(Wy);var V$=Wy,us=V$,G$=SyntaxError,Yv=typeof StopIteration=="object"?StopIteration:null,H$=function(e){if(!Yv)throw new G$("this environment lacks StopIteration");us.set(e,"[[Done]]",!1);var r={next:function(){var o=us.get(this,"[[Iterator]]"),i=us.get(o,"[[Done]]");try{return{done:i,value:i?void 0:o.next()}}catch(s){if(us.set(o,"[[Done]]",!0),s!==Yv)throw s;return{done:!0,value:void 0}}}};return us.set(r,"[[Iterator]]",e),r},Q$={}.toString,tE=Array.isArray||function(t){return Q$.call(t)=="[object Array]"},K$=String.prototype.valueOf,q$=function(e){try{return K$.call(e),!0}catch{return!1}},Y$=Object.prototype.toString,J$="[object String]",X$=wn(),rE=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:X$?q$(e):Y$.call(e)===J$},zy=typeof Map=="function"&&Map.prototype?Map:null,Z$=typeof Set=="function"&&Set.prototype?Set:null,Ru;zy||(Ru=function(e){return!1});var nE=zy?Map.prototype.has:null,Jv=Z$?Set.prototype.has:null;!Ru&&!nE&&(Ru=function(e){return!1});var oE=Ru||function(e){if(!e||typeof e!="object")return!1;try{if(nE.call(e),Jv)try{Jv.call(e)}catch{return!0}return e instanceof zy}catch{}return!1},eD=typeof Map=="function"&&Map.prototype?Map:null,Vy=typeof Set=="function"&&Set.prototype?Set:null,ju;Vy||(ju=function(e){return!1});var Xv=eD?Map.prototype.has:null,iE=Vy?Set.prototype.has:null;!ju&&!iE&&(ju=function(e){return!1});var sE=ju||function(e){if(!e||typeof e!="object")return!1;try{if(iE.call(e),Xv)try{Xv.call(e)}catch{return!0}return e instanceof Vy}catch{}return!1},Zv=Qw,e_=H$;if($r()||kc()){var Hf=Symbol.iterator;El.exports=function(e){if(e!=null&&typeof e[Hf]<"u")return e[Hf]();if(Zv(e))return Array.prototype[Hf].call(e)}}else{var tD=tE,rD=rE,t_=Dr,nD=t_("%Map%",!0),oD=t_("%Set%",!0),zt=nr,r_=zt("Array.prototype.push"),n_=zt("String.prototype.charCodeAt"),iD=zt("String.prototype.slice"),sD=function(e,r){var n=e.length;if(r+1>=n)return r+1;var o=n_(e,r);if(o<55296||o>56319)return r+1;var i=n_(e,r+1);return i<56320||i>57343?r+1:r+2},Qf=function(e){var r=0;return{next:function(){var o=r>=e.length,i;return o||(i=e[r],r+=1),{done:o,value:i}}}},o_=function(e,r){if(tD(e)||Zv(e))return Qf(e);if(rD(e)){var n=0;return{next:function(){var i=sD(e,n),s=iD(e,n,i);return n=i,{done:i>e.length,value:s}}}}if(r&&typeof e["_es6-shim iterator_"]<"u")return e["_es6-shim iterator_"]()};if(!nD&&!oD)El.exports=function(e){if(e!=null)return o_(e,!0)};else{var aD=oE,lD=sE,i_=zt("Map.prototype.forEach",!0),s_=zt("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var a_=zt("Map.prototype.iterator",!0),l_=zt("Set.prototype.iterator",!0);var u_=zt("Map.prototype.@@iterator",!0)||zt("Map.prototype._es6-shim iterator_",!0),c_=zt("Set.prototype.@@iterator",!0)||zt("Set.prototype._es6-shim iterator_",!0),uD=function(e){if(aD(e)){if(a_)return e_(a_(e));if(u_)return u_(e);if(i_){var r=[];return i_(e,function(o,i){r_(r,[i,o])}),Qf(r)}}if(lD(e)){if(l_)return e_(l_(e));if(c_)return c_(e);if(s_){var n=[];return s_(e,function(o){r_(n,o)}),Qf(n)}}};El.exports=function(e){return uD(e)||o_(e)}}}var cD=El.exports,fD=Ca,dD=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",pD=Object.prototype.toString,hD=Array.prototype.concat,aE=Object.defineProperty,yD=function(t){return typeof t=="function"&&pD.call(t)==="[object Function]"},gD=Gi(),lE=aE&&gD,mD=function(t,e,r,n){e in t&&(!yD(n)||!n())||(lE?aE(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},uE=function(t,e){var r=arguments.length>2?arguments[2]:{},n=fD(e);dD&&(n=hD.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)mD(t,n[o],e[n[o]],r[n[o]])};uE.supportsDescriptors=!!lE;var cE=uE,f_=function(t){return t!==t},fE=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||f_(e)&&f_(r))},vD=fE,dE=function(){return typeof Object.is=="function"?Object.is:vD},_D=dE,xD=cE,SD=function(){var e=_D();return xD(Object,{is:e},{is:function(){return Object.is!==e}}),e},wD=cE,ED=Rc,CD=fE,pE=dE,bD=SD,hE=ED(pE(),Object);wD(hE,{getPolyfill:pE,implementation:CD,shim:bD});var AD=hE,yE={exports:{}},ID="Function.prototype.bind called on incompatible ",Kf=Array.prototype.slice,PD=Object.prototype.toString,ND="[object Function]",kD=function(e){var r=this;if(typeof r!="function"||PD.call(r)!==ND)throw new TypeError(ID+r);for(var n=Kf.call(arguments,1),o,i=function(){if(this instanceof o){var p=r.apply(this,n.concat(Kf.call(arguments)));return Object(p)===p?p:this}else return r.apply(e,n.concat(Kf.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},TD=kD,gE=Function.prototype.bind||TD,oe,$i=SyntaxError,mE=Function,fi=TypeError,qf=function(t){try{return mE('"use strict"; return ('+t+").constructor;")()}catch{}},Qn=Object.getOwnPropertyDescriptor;if(Qn)try{Qn({},"")}catch{Qn=null}var Yf=function(){throw new fi},RD=Qn?function(){try{return arguments.callee,Yf}catch{try{return Qn(arguments,"callee").get}catch{return Yf}}}():Yf,So=$r(),Vr=Object.getPrototypeOf||function(t){return t.__proto__},No={},jD=typeof Uint8Array>"u"?oe:Vr(Uint8Array),di={"%AggregateError%":typeof AggregateError>"u"?oe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?oe:ArrayBuffer,"%ArrayIteratorPrototype%":So?Vr([][Symbol.iterator]()):oe,"%AsyncFromSyncIteratorPrototype%":oe,"%AsyncFunction%":No,"%AsyncGenerator%":No,"%AsyncGeneratorFunction%":No,"%AsyncIteratorPrototype%":No,"%Atomics%":typeof Atomics>"u"?oe:Atomics,"%BigInt%":typeof BigInt>"u"?oe:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?oe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?oe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?oe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?oe:FinalizationRegistry,"%Function%":mE,"%GeneratorFunction%":No,"%Int8Array%":typeof Int8Array>"u"?oe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?oe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?oe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":So?Vr(Vr([][Symbol.iterator]())):oe,"%JSON%":typeof JSON=="object"?JSON:oe,"%Map%":typeof Map>"u"?oe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!So?oe:Vr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?oe:Promise,"%Proxy%":typeof Proxy>"u"?oe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?oe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?oe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!So?oe:Vr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?oe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":So?Vr(""[Symbol.iterator]()):oe,"%Symbol%":So?Symbol:oe,"%SyntaxError%":$i,"%ThrowTypeError%":RD,"%TypedArray%":jD,"%TypeError%":fi,"%Uint8Array%":typeof Uint8Array>"u"?oe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?oe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?oe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?oe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?oe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?oe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?oe:WeakSet},OD=function t(e){var r;if(e==="%AsyncFunction%")r=qf("async function () {}");else if(e==="%GeneratorFunction%")r=qf("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=qf("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(r=Vr(o.prototype))}return di[e]=r,r},d_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ka=gE,Ou=Tc,$D=ka.call(Function.call,Array.prototype.concat),DD=ka.call(Function.apply,Array.prototype.splice),p_=ka.call(Function.call,String.prototype.replace),$u=ka.call(Function.call,String.prototype.slice),FD=ka.call(Function.call,RegExp.prototype.exec),MD=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,LD=/\\(\\)?/g,BD=function(e){var r=$u(e,0,1),n=$u(e,-1);if(r==="%"&&n!=="%")throw new $i("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new $i("invalid intrinsic syntax, expected opening `%`");var o=[];return p_(e,MD,function(i,s,a,l){o[o.length]=a?p_(l,LD,"$1"):s||i}),o},UD=function(e,r){var n=e,o;if(Ou(d_,n)&&(o=d_[n],n="%"+o[0]+"%"),Ou(di,n)){var i=di[n];if(i===No&&(i=OD(n)),typeof i>"u"&&!r)throw new fi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new $i("intrinsic "+e+" does not exist!")},vE=function(e,r){if(typeof e!="string"||e.length===0)throw new fi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new fi('"allowMissing" argument must be a boolean');if(FD(/^%?[^%]*%?$/,e)===null)throw new $i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=BD(e),o=n.length>0?n[0]:"",i=UD("%"+o+"%",r),s=i.name,a=i.value,l=!1,u=i.alias;u&&(o=u[0],DD(n,$D([0,1],u)));for(var p=1,d=!0;p<n.length;p+=1){var f=n[p],y=$u(f,0,1),g=$u(f,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new $i("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),o+="."+f,s="%"+o+"%",Ou(di,s))a=di[s];else if(a!=null){if(!(f in a)){if(!r)throw new fi("base intrinsic for "+e+" exists, but the property is not available.");return}if(Qn&&p+1>=n.length){var _=Qn(a,f);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[f]}else d=Ou(a,f),a=a[f];d&&!l&&(di[s]=a)}}return a};(function(t){var e=gE,r=vE,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var f=i(e,o,arguments);if(s&&a){var y=s(f,"length");y.configurable&&a(f,"length",{value:1+l(0,d.length-(arguments.length-1))})}return f};var u=function(){return i(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(yE);var _E=yE.exports,xE=vE,SE=_E,WD=SE(xE("String.prototype.indexOf")),zD=function(e,r){var n=xE(e,!!r);return typeof n=="function"&&WD(e,".prototype.")>-1?SE(n):n},wE=Function.prototype.toString,Go=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Lp,Cl;if(typeof Go=="function"&&typeof Object.defineProperty=="function")try{Lp=Object.defineProperty({},"length",{get:function(){throw Cl}}),Cl={},Go(function(){throw 42},null,Lp)}catch(t){t!==Cl&&(Go=null)}else Go=null;var VD=/^\s*class\b/,Bp=function(e){try{var r=wE.call(e);return VD.test(r)}catch{return!1}},Jf=function(e){try{return Bp(e)?!1:(wE.call(e),!0)}catch{return!1}},bl=Object.prototype.toString,GD="[object Object]",HD="[object Function]",QD="[object GeneratorFunction]",KD="[object HTMLAllCollection]",qD="[object HTML document.all class]",YD="[object HTMLCollection]",JD=typeof Symbol=="function"&&!!Symbol.toStringTag,XD=!(0 in[,]),Up=function(){return!1};if(typeof document=="object"){var ZD=document.all;bl.call(ZD)===bl.call(document.all)&&(Up=function(e){if((XD||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=bl.call(e);return(r===KD||r===qD||r===YD||r===GD)&&e("")==null}catch{}return!1})}var eF=Go?function(e){if(Up(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Go(e,null,Lp)}catch(r){if(r!==Cl)return!1}return!Bp(e)&&Jf(e)}:function(e){if(Up(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(JD)return Jf(e);if(Bp(e))return!1;var r=bl.call(e);return r!==HD&&r!==QD&&!/^\[object HTML/.test(r)?!1:Jf(e)},tF=eF,rF=Object.prototype.toString,EE=Object.prototype.hasOwnProperty,nF=function(e,r,n){for(var o=0,i=e.length;o<i;o++)EE.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},oF=function(e,r,n){for(var o=0,i=e.length;o<i;o++)n==null?r(e.charAt(o),o,e):r.call(n,e.charAt(o),o,e)},iF=function(e,r,n){for(var o in e)EE.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},sF=function(e,r,n){if(!tF(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),rF.call(e)==="[object Array]"?nF(e,r,o):typeof e=="string"?oF(e,r,o):iF(e,r,o)},CE=sF,Xf=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],aF=typeof globalThis>"u"?Xp:globalThis,bE=function(){for(var e=[],r=0;r<Xf.length;r++)typeof aF[Xf[r]]=="function"&&(e[e.length]=Xf[r]);return e},AE=CE,lF=bE,Gy=nr,uF=Gy("Object.prototype.toString"),IE=wn(),Al=Dc,cF=typeof globalThis>"u"?Xp:globalThis,PE=lF(),fF=Gy("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},dF=Gy("String.prototype.slice"),NE={},Zf=Object.getPrototypeOf;IE&&Al&&Zf&&AE(PE,function(t){var e=new cF[t];if(Symbol.toStringTag in e){var r=Zf(e),n=Al(r,Symbol.toStringTag);if(!n){var o=Zf(r);n=Al(o,Symbol.toStringTag)}NE[t]=n.get}});var pF=function(e){var r=!1;return AE(NE,function(n,o){if(!r)try{r=n.call(e)===o}catch{}}),r},kE=function(e){if(!e||typeof e!="object")return!1;if(!IE||!(Symbol.toStringTag in e)){var r=dF(uF(e),8,-1);return fF(PE,r)>-1}return Al?pF(e):!1},hF=_E,yF=zD,TE=$c,gF=kE,h_=TE("ArrayBuffer",!0),y_=TE("Float32Array",!0),Il=yF("ArrayBuffer.prototype.byteLength",!0),g_=h_&&!Il&&new h_().slice,m_=g_&&hF(g_),mF=Il||m_?function(e){if(!e||typeof e!="object")return!1;try{return Il?Il(e):m_(e,0),!0}catch{return!1}}:y_?function(e){try{return new y_(e).buffer===e&&!gF(e)}catch(r){return typeof e=="object"&&r.name==="RangeError"}}:function(e){return!1},vF=Date.prototype.getDay,_F=function(e){try{return vF.call(e),!0}catch{return!1}},xF=Object.prototype.toString,SF="[object Date]",wF=wn(),EF=function(e){return typeof e!="object"||e===null?!1:wF?_F(e):xF.call(e)===SF},Wp=nr,RE=wn(),jE,OE,zp,Vp;if(RE){jE=Wp("Object.prototype.hasOwnProperty"),OE=Wp("RegExp.prototype.exec"),zp={};var ed=function(){throw zp};Vp={toString:ed,valueOf:ed},typeof Symbol.toPrimitive=="symbol"&&(Vp[Symbol.toPrimitive]=ed)}var CF=Wp("Object.prototype.toString"),bF=Object.getOwnPropertyDescriptor,AF="[object RegExp]",IF=RE?function(e){if(!e||typeof e!="object")return!1;var r=bF(e,"lastIndex"),n=r&&jE(r,"value");if(!n)return!1;try{OE(e,Vp)}catch(o){return o===zp}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:CF(e)===AF},PF=nr,v_=PF("SharedArrayBuffer.prototype.byteLength",!0),NF=v_?function(e){if(!e||typeof e!="object")return!1;try{return v_(e),!0}catch{return!1}}:function(e){return!1},kF=Number.prototype.toString,TF=function(e){try{return kF.call(e),!0}catch{return!1}},RF=Object.prototype.toString,jF="[object Number]",OF=wn(),$F=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:OF?TF(e):RF.call(e)===jF},$E=nr,DF=$E("Boolean.prototype.toString"),FF=$E("Object.prototype.toString"),MF=function(e){try{return DF(e),!0}catch{return!1}},LF="[object Boolean]",BF=wn(),UF=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:BF&&Symbol.toStringTag in e?MF(e):FF(e)===LF},Gp={exports:{}},WF=Object.prototype.toString,zF=$r();if(zF){var VF=Symbol.prototype.toString,GF=/^Symbol\(.*\)$/,HF=function(e){return typeof e.valueOf()!="symbol"?!1:GF.test(VF.call(e))};Gp.exports=function(e){if(typeof e=="symbol")return!0;if(WF.call(e)!=="[object Symbol]")return!1;try{return HF(e)}catch{return!1}}}else Gp.exports=function(e){return!1};var QF=Gp.exports,Hp={exports:{}},__=typeof BigInt<"u"&&BigInt,KF=function(){return typeof __=="function"&&typeof BigInt=="function"&&typeof __(42)=="bigint"&&typeof BigInt(42)=="bigint"},qF=KF();if(qF){var YF=BigInt.prototype.valueOf,JF=function(e){try{return YF.call(e),!0}catch{}return!1};Hp.exports=function(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="function"?!1:typeof e=="bigint"?!0:JF(e)}}else Hp.exports=function(e){return!1};var XF=Hp.exports,ZF=rE,e3=$F,t3=UF,r3=QF,n3=XF,o3=function(e){if(e==null||typeof e!="object"&&typeof e!="function")return null;if(ZF(e))return"String";if(e3(e))return"Number";if(t3(e))return"Boolean";if(r3(e))return"Symbol";if(n3(e))return"BigInt"},Du=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,x_=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,Fu;Du||(Fu=function(e){return!1});var Qp=Du?Du.prototype.has:null,td=x_?x_.prototype.has:null;!Fu&&!Qp&&(Fu=function(e){return!1});var i3=Fu||function(e){if(!e||typeof e!="object")return!1;try{if(Qp.call(e,Qp),td)try{td.call(e,td)}catch{return!0}return e instanceof Du}catch{}return!1},Kp={exports:{}},s3=Dr,DE=nr,a3=s3("%WeakSet%",!0),rd=DE("WeakSet.prototype.has",!0);if(rd){var nd=DE("WeakMap.prototype.has",!0);Kp.exports=function(e){if(!e||typeof e!="object")return!1;try{if(rd(e,rd),nd)try{nd(e,nd)}catch{return!0}return e instanceof a3}catch{}return!1}}else Kp.exports=function(e){return!1};var l3=Kp.exports,u3=oE,c3=sE,f3=i3,d3=l3,p3=function(e){if(e&&typeof e=="object"){if(u3(e))return"Map";if(c3(e))return"Set";if(f3(e))return"WeakMap";if(d3(e))return"WeakSet"}return!1},FE={exports:{}},h3="Function.prototype.bind called on incompatible ",y3=Object.prototype.toString,g3=Math.max,m3="[object Function]",S_=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},v3=function(e,r){for(var n=[],o=r||0,i=0;o<e.length;o+=1,i+=1)n[i]=e[o];return n},_3=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},x3=function(e){var r=this;if(typeof r!="function"||y3.apply(r)!==m3)throw new TypeError(h3+r);for(var n=v3(arguments,1),o,i=function(){if(this instanceof o){var p=r.apply(this,S_(n,arguments));return Object(p)===p?p:this}return r.apply(e,S_(n,arguments))},s=g3(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(o=Function("binder","return function ("+_3(a,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},S3=x3,ME=Function.prototype.bind||S3,ee,Di=SyntaxError,LE=Function,pi=TypeError,od=function(t){try{return LE('"use strict"; return ('+t+").constructor;")()}catch{}},Kn=Object.getOwnPropertyDescriptor;if(Kn)try{Kn({},"")}catch{Kn=null}var id=function(){throw new pi},w3=Kn?function(){try{return arguments.callee,id}catch{try{return Kn(arguments,"callee").get}catch{return id}}}():id,wo=$r(),E3=jc(),He=Object.getPrototypeOf||(E3?function(t){return t.__proto__}:null),ko={},C3=typeof Uint8Array>"u"||!He?ee:He(Uint8Array),qn={"%AggregateError%":typeof AggregateError>"u"?ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ee:ArrayBuffer,"%ArrayIteratorPrototype%":wo&&He?He([][Symbol.iterator]()):ee,"%AsyncFromSyncIteratorPrototype%":ee,"%AsyncFunction%":ko,"%AsyncGenerator%":ko,"%AsyncGeneratorFunction%":ko,"%AsyncIteratorPrototype%":ko,"%Atomics%":typeof Atomics>"u"?ee:Atomics,"%BigInt%":typeof BigInt>"u"?ee:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ee:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ee:FinalizationRegistry,"%Function%":LE,"%GeneratorFunction%":ko,"%Int8Array%":typeof Int8Array>"u"?ee:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ee:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":wo&&He?He(He([][Symbol.iterator]())):ee,"%JSON%":typeof JSON=="object"?JSON:ee,"%Map%":typeof Map>"u"?ee:Map,"%MapIteratorPrototype%":typeof Map>"u"||!wo||!He?ee:He(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ee:Promise,"%Proxy%":typeof Proxy>"u"?ee:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ee:Set,"%SetIteratorPrototype%":typeof Set>"u"||!wo||!He?ee:He(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":wo&&He?He(""[Symbol.iterator]()):ee,"%Symbol%":wo?Symbol:ee,"%SyntaxError%":Di,"%ThrowTypeError%":w3,"%TypedArray%":C3,"%TypeError%":pi,"%Uint8Array%":typeof Uint8Array>"u"?ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ee:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ee:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ee:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ee:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ee:WeakSet};if(He)try{null.error}catch(t){var b3=He(He(t));qn["%Error.prototype%"]=b3}var A3=function t(e){var r;if(e==="%AsyncFunction%")r=od("async function () {}");else if(e==="%GeneratorFunction%")r=od("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=od("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&He&&(r=He(o.prototype))}return qn[e]=r,r},w_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ta=ME,Mu=Oc,I3=Ta.call(Function.call,Array.prototype.concat),P3=Ta.call(Function.apply,Array.prototype.splice),E_=Ta.call(Function.call,String.prototype.replace),Lu=Ta.call(Function.call,String.prototype.slice),N3=Ta.call(Function.call,RegExp.prototype.exec),k3=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T3=/\\(\\)?/g,R3=function(e){var r=Lu(e,0,1),n=Lu(e,-1);if(r==="%"&&n!=="%")throw new Di("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Di("invalid intrinsic syntax, expected opening `%`");var o=[];return E_(e,k3,function(i,s,a,l){o[o.length]=a?E_(l,T3,"$1"):s||i}),o},j3=function(e,r){var n=e,o;if(Mu(w_,n)&&(o=w_[n],n="%"+o[0]+"%"),Mu(qn,n)){var i=qn[n];if(i===ko&&(i=A3(n)),typeof i>"u"&&!r)throw new pi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Di("intrinsic "+e+" does not exist!")},BE=function(e,r){if(typeof e!="string"||e.length===0)throw new pi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new pi('"allowMissing" argument must be a boolean');if(N3(/^%?[^%]*%?$/,e)===null)throw new Di("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=R3(e),o=n.length>0?n[0]:"",i=j3("%"+o+"%",r),s=i.name,a=i.value,l=!1,u=i.alias;u&&(o=u[0],P3(n,I3([0,1],u)));for(var p=1,d=!0;p<n.length;p+=1){var f=n[p],y=Lu(f,0,1),g=Lu(f,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new Di("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),o+="."+f,s="%"+o+"%",Mu(qn,s))a=qn[s];else if(a!=null){if(!(f in a)){if(!r)throw new pi("base intrinsic for "+e+" exists, but the property is not available.");return}if(Kn&&p+1>=n.length){var _=Kn(a,f);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[f]}else d=Mu(a,f),a=a[f];d&&!l&&(qn[s]=a)}}return a};(function(t){var e=ME,r=BE,n=Ow,o=r("%TypeError%"),i=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(s,i),l=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(f){if(typeof f!="function")throw new o("a function is required");var y=a(e,s,arguments);return n(y,1+u(0,f.length-(arguments.length-1)),!0)};var p=function(){return a(e,i,arguments)};l?l(t.exports,"apply",{value:p}):t.exports.apply=p})(FE);var UE=FE.exports,WE=BE,zE=UE,O3=zE(WE("String.prototype.indexOf")),$3=function(e,r){var n=WE(e,!!r);return typeof n=="function"&&O3(e,".prototype.")>-1?zE(n):n},Bu=CE,D3=bE,C_=UE,Hy=$3,Pl=Dc,F3=Hy("Object.prototype.toString"),VE=wn(),b_=typeof globalThis>"u"?Xp:globalThis,qp=D3(),Qy=Hy("String.prototype.slice"),sd=Object.getPrototypeOf,M3=Hy("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Uu={__proto__:null};VE&&Pl&&sd?Bu(qp,function(t){var e=new b_[t];if(Symbol.toStringTag in e){var r=sd(e),n=Pl(r,Symbol.toStringTag);if(!n){var o=sd(r);n=Pl(o,Symbol.toStringTag)}Uu["$"+t]=C_(n.get)}}):Bu(qp,function(t){var e=new b_[t],r=e.slice||e.set;r&&(Uu["$"+t]=C_(r))});var L3=function(e){var r=!1;return Bu(Uu,function(n,o){if(!r)try{"$"+n(e)===o&&(r=Qy(o,1))}catch{}}),r},B3=function(e){var r=!1;return Bu(Uu,function(n,o){if(!r)try{n(e),r=Qy(o,1)}catch{}}),r},U3=function(e){if(!e||typeof e!="object")return!1;if(!VE){var r=Qy(F3(e),8,-1);return M3(qp,r)>-1?r:r!=="Object"?!1:B3(e)}return Pl?L3(e):null},ad,A_;function W3(){if(A_)return ad;A_=1;var t=Rc,e=nr,r=Dr,n=kE,o=r("ArrayBuffer",!0),i=r("Float32Array",!0),s=e("ArrayBuffer.prototype.byteLength",!0),a=o&&!s&&new o().slice,l=a&&t(a);return ad=s||l?function(p){if(!p||typeof p!="object")return!1;try{return s?s(p):l(p,0),!0}catch{return!1}}:i?function(p){try{return new i(p).buffer===p&&!n(p)}catch{return!1}}:function(p){return!1},ad}var z3=nr,I_=z3("ArrayBuffer.prototype.byteLength",!0),V3=W3(),G3=function(e){return V3(e)?I_?I_(e):e.byteLength:NaN},GE=E2,yr=eO,P_=QO,H3=$c,Fi=cD,Q3=eE,N_=AD,k_=Qw,T_=tE,R_=mF,j_=EF,O_=IF,$_=NF,D_=Ca,F_=o3,M_=p3,L_=U3,B_=G3,U_=yr("SharedArrayBuffer.prototype.byteLength",!0),W_=yr("Date.prototype.getTime"),ld=Object.getPrototypeOf,z_=yr("Object.prototype.toString"),Wu=H3("%Set%",!0),Yp=yr("Map.prototype.has",!0),zu=yr("Map.prototype.get",!0),V_=yr("Map.prototype.size",!0),Vu=yr("Set.prototype.add",!0),HE=yr("Set.prototype.delete",!0),Gu=yr("Set.prototype.has",!0),Nl=yr("Set.prototype.size",!0);function G_(t,e,r,n){for(var o=Fi(t),i;(i=o.next())&&!i.done;)if(er(e,i.value,r,n))return HE(t,i.value),!0;return!1}function QE(t){if(typeof t>"u")return null;if(typeof t!="object")return typeof t=="symbol"?!1:typeof t=="string"||typeof t=="number"?+t==+t:!0}function K3(t,e,r,n,o,i){var s=QE(r);if(s!=null)return s;var a=zu(e,s),l=GE({},o,{strict:!1});return typeof a>"u"&&!Yp(e,s)||!er(n,a,l,i)?!1:!Yp(t,s)&&er(n,a,l,i)}function q3(t,e,r){var n=QE(r);return n??(Gu(e,n)&&!Gu(t,n))}function H_(t,e,r,n,o,i){for(var s=Fi(t),a,l;(a=s.next())&&!a.done;)if(l=a.value,er(r,l,o,i)&&er(n,zu(e,l),o,i))return HE(t,l),!0;return!1}function er(t,e,r,n){var o=r||{};if(o.strict?N_(t,e):t===e)return!0;var i=F_(t),s=F_(e);if(i!==s)return!1;if(!t||!e||typeof t!="object"&&typeof e!="object")return o.strict?N_(t,e):t==e;var a=n.has(t),l=n.has(e),u;if(a&&l){if(n.get(t)===n.get(e))return!0}else u={};return a||n.set(t,u),l||n.set(e,u),X3(t,e,o,n)}function Q_(t){return!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Y3(t,e,r,n){if(Nl(t)!==Nl(e))return!1;for(var o=Fi(t),i=Fi(e),s,a,l;(s=o.next())&&!s.done;)if(s.value&&typeof s.value=="object")l||(l=new Wu),Vu(l,s.value);else if(!Gu(e,s.value)){if(r.strict||!q3(t,e,s.value))return!1;l||(l=new Wu),Vu(l,s.value)}if(l){for(;(a=i.next())&&!a.done;)if(a.value&&typeof a.value=="object"){if(!G_(l,a.value,r.strict,n))return!1}else if(!r.strict&&!Gu(t,a.value)&&!G_(l,a.value,r.strict,n))return!1;return Nl(l)===0}return!0}function J3(t,e,r,n){if(V_(t)!==V_(e))return!1;for(var o=Fi(t),i=Fi(e),s,a,l,u,p,d;(s=o.next())&&!s.done;)if(u=s.value[0],p=s.value[1],u&&typeof u=="object")l||(l=new Wu),Vu(l,u);else if(d=zu(e,u),typeof d>"u"&&!Yp(e,u)||!er(p,d,r,n)){if(r.strict||!K3(t,e,u,p,r,n))return!1;l||(l=new Wu),Vu(l,u)}if(l){for(;(a=i.next())&&!a.done;)if(u=a.value[0],d=a.value[1],u&&typeof u=="object"){if(!H_(l,t,u,d,r,n))return!1}else if(!r.strict&&(!t.has(u)||!er(zu(t,u),d,r,n))&&!H_(l,t,u,d,GE({},r,{strict:!1}),n))return!1;return Nl(l)===0}return!0}function X3(t,e,r,n){var o,i;if(typeof t!=typeof e||t==null||e==null||z_(t)!==z_(e)||k_(t)!==k_(e))return!1;var s=T_(t),a=T_(e);if(s!==a)return!1;var l=t instanceof Error,u=e instanceof Error;if(l!==u||(l||u)&&(t.name!==e.name||t.message!==e.message))return!1;var p=O_(t),d=O_(e);if(p!==d||(p||d)&&(t.source!==e.source||P_(t)!==P_(e)))return!1;var f=j_(t),y=j_(e);if(f!==y||(f||y)&&W_(t)!==W_(e)||r.strict&&ld&&ld(t)!==ld(e))return!1;var g=L_(t),_=L_(e);if(g!==_)return!1;if(g||_){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}var b=Q_(t),v=Q_(e);if(b!==v)return!1;if(b||v){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}var h=R_(t),m=R_(e);if(h!==m)return!1;if(h||m)return B_(t)!==B_(e)?!1:typeof Uint8Array=="function"&&er(new Uint8Array(t),new Uint8Array(e),r,n);var E=$_(t),A=$_(e);if(E!==A)return!1;if(E||A)return U_(t)!==U_(e)?!1:typeof Uint8Array=="function"&&er(new Uint8Array(t),new Uint8Array(e),r,n);if(typeof t!=typeof e)return!1;var I=D_(t),T=D_(e);if(I.length!==T.length)return!1;for(I.sort(),T.sort(),o=I.length-1;o>=0;o--)if(I[o]!=T[o])return!1;for(o=I.length-1;o>=0;o--)if(i=I[o],!er(t[i],e[i],r,n))return!1;var j=M_(t),Q=M_(e);return j!==Q?!1:j==="Set"||Q==="Set"?Y3(t,e,r,n):j==="Map"?J3(t,e,r,n):!0}var Z3=function(e,r,n){return er(e,r,n,Q3())};const eM=h0(Z3),tM=(t,e)=>eM(t,e),rM={apiKey:"AIzaSyCa4jaiAOgH5H8B6hSo4DU49WnkpGPeavA",authDomain:"hkmjbs-streaming.firebaseapp.com",databaseURL:"https://hkmjbs-streaming-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"hkmjbs-streaming",storageBucket:"hkmjbs-streaming.appspot.com",messagingSenderId:"537815456325",appId:"1:537815456325:web:c387796326f9db2726a12c"},nM=VS(rM),To=jR(nM);window.location.hostname==="localhost"&&dw(To,"localhost",9e3);const KE={database:To,get:t=>{const e=gs(To,t);return fw(e).then(r=>{if(r.exists())return r.val()}).catch(r=>{throw console.error(r),r})},set:(t,e)=>{const r=gs(To,t);return Ty(r,e).catch(n=>{throw console.error(n),n})},update:(t,e)=>{const r=gs(To,t);return cw(r,e).catch(n=>{throw console.error(n),n})},push:(t,e)=>{const r=gs(To,t);return uw(r,e).catch(n=>{throw console.error(n),n})}},Ky=S.createContext(KE);function oM({children:t}){return c.jsx(Ky.Provider,{value:KE,children:t})}const iM=()=>S.useContext(Ky),Rr=(t,e)=>{const{database:r}=S.useContext(Ky),n=S.useMemo(()=>gs(r,t),[r,t]),[o,i]=S.useState(),[s,a]=S.useState(e),l=S.useCallback(f=>Ty(n,f),[n]),u=S.useCallback(f=>cw(n,f),[n]),p=S.useCallback(f=>uw(n,f),[n]);return S.useEffect(()=>{tM(e,s)||a(e)},[s,e]),S.useEffect(()=>{const f=[];s!=null&&s.order&&s.order.byChild&&f.push(wR(s.order.byChild)),s!=null&&s.filter&&(typeof s.filter.equalTo<"u"&&f.push(CR(s.filter.equalTo)),typeof s.filter.limitToLast<"u"&&f.push(xR(s.filter.limitToLast)));const y=f.length>0?bR(n,...f):n;s!=null&&s.onlyOnce?fw(y).then(g=>{g.exists()&&i(g.val())}):gR(y,g=>{i(g.val())},s??{})},[s,n]),{data:S.useMemo(()=>o,[o]),set:l,update:u,push:p}};function qE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=qE(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function sM(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=qE(t))&&(n&&(n+=" "),n+=e);return n}const K_=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,q_=sM,qy=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return q_(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:i}=e,s=Object.keys(o).map(u=>{const p=r==null?void 0:r[u],d=i==null?void 0:i[u];if(p===null)return null;const f=K_(p)||K_(d);return o[u][f]}),a=r&&Object.entries(r).reduce((u,p)=>{let[d,f]=p;return f===void 0||(u[d]=f),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,p)=>{let{class:d,className:f,...y}=p;return Object.entries(y).every(g=>{let[_,b]=g;return Array.isArray(b)?b.includes({...i,...a}[_]):{...i,...a}[_]===b})?[...u,d,f]:u},[]);return q_(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},aM=qy(["font-semibold"],{variants:{variant:{contained:["border","rounded"],text:[],icon:["hover:enabled:bg-opacity-50 leading-4"]},color:{primary:[],secondary:[],success:[],danger:[],inverted:[]},size:{small:["text-sm"],medium:["text-base"],large:["text-md"],xlarge:["text-2xl"]},disabled:{true:["cursor-not-allowed opacity-30"]},loading:{true:["cursor-wait opacity-30"]}},compoundVariants:[{variant:"contained",size:"small",className:"py-1 px-2"},{variant:"contained",size:"medium",className:"py-2 px-4"},{variant:"contained",size:"large",className:"py-2 px-4"},{variant:"contained",size:"xlarge",className:"py-4 px-4"},{color:"primary",variant:"contained",className:"bg-teal-800 text-white border-transparent hover:enabled:bg-teal-700"},{color:"secondary",variant:"contained",className:"bg-white text-gray-800 border-gray-400 hover:enabled:bg-gray-100"},{color:"success",variant:"contained",className:"bg-green-100 text-green-500 border-green-400 hover:enabled:bg-green-200"},{color:"danger",variant:"contained",className:"bg-red-100 text-red-500 border-red-400 hover:enabled:bg-red-200"},{color:"primary",variant:"text",className:"text-teal-800 hover:enabled:text-teal-700"},{color:"secondary",variant:"text",className:"text-gray-800 hover:enabled:text-gray-700"},{color:"success",variant:"text",className:"text-green-800 hover:enabled:text-green-700"},{color:"danger",variant:"text",className:"text-red-800 hover:enabled:text-red-700"},{color:"inverted",variant:"text",className:"text-gray-100 hover:enabled:text-gray-0"},{color:"primary",variant:"icon",className:"text-teal-800 hover:enabled:text-teal-700 hover:enabled:bg-teal-100"},{color:"secondary",variant:"icon",className:"text-gray-800 hover:enabled:text-gray-700 hover:enabled:bg-gray-100"},{color:"success",variant:"icon",className:"text-green-800 hover:enabled:text-green-700 hover:enabled:bg-green-100"},{color:"danger",variant:"icon",className:"text-red-800 hover:enabled:text-red-700 hover:enabled:bg-red-100"},{color:"primary",size:"medium",className:"uppercase"}],defaultVariants:{color:"primary",size:"medium",variant:"contained"}});function xe({color:t,size:e,variant:r,className:n,type:o="button",loading:i,...s}){const a=S.useMemo(()=>aM({color:t,size:e,variant:r,disabled:s.disabled,loading:i,className:n}),[t,e,r,s.disabled,i,n]);return c.jsx("button",{type:o,className:a,disabled:s.disabled||i,...s})}function lM(){return c.jsx("div",{className:"container mx-auto max-w-screen-sm ",children:c.jsxs("div",{className:"h-screen flex flex-col py-16 gap-y-12",children:[c.jsx("div",{className:"shrink-0",children:c.jsx("h1",{className:"text-5xl text-center",children:"日麻比賽直播系統 (牌藝攻防)"})}),c.jsx("div",{className:"text-center",children:c.jsx("img",{src:"/images/master-logo.jpeg",className:"w-48 mx-auto",alt:"HKMSCA"})}),c.jsxs("div",{className:"shrink-0 space-y-4",children:[c.jsx("div",{children:c.jsx("a",{href:"/create-match",children:c.jsx(xe,{className:"w-full",size:"xlarge",children:"開新對局"})})}),c.jsx("div",{children:c.jsx("div",{className:"text-center",children:c.jsx("a",{href:"/obs/1",target:"_blank",children:c.jsx(xe,{color:"secondary",size:"large",children:"直播頁面"})})})}),c.jsx("div",{className:"flex gap-x-4"})]})]})})}const uM=t=>{const e={};for(let r=0;r<t.length;r+=1)e[r.toString()]=t[r];return e},Y_=t=>{if(t.length!==0)return t[t.length-1]},Qi=t=>{const{data:e,update:r}=Rr(`/matches/${t}`),{data:n,update:o,push:i}=Rr("matchRounds",{order:{byChild:"matchId"},filter:{equalTo:t}}),s=S.useMemo(()=>Y_(Object.values(n??{}))??void 0,[n]),a=S.useMemo(()=>Object.values((s==null?void 0:s.doras)??{}),[s]),l=S.useCallback(d=>{const f=Y_(Object.keys(n??{}));f&&o({[f]:{...s,...d}})},[s,n,o]),u=S.useCallback(d=>{l({doras:uM(d)})},[l]),p=S.useCallback(d=>{r({name:d})},[r]);return{match:e,matchRounds:n,matchCurrentRound:s,matchCurrentRoundDoras:a,setMatchName:p,setCurrentRoundDoras:u,updateCurrentMatchRound:l,pushMatchRound:i}};var tr=(t=>(t[t.Unknown=0]="Unknown",t[t.Exhausted=-1]="Exhausted",t[t.Ron=1]="Ron",t[t.SelfDrawn=2]="SelfDrawn",t[t.Hotfix=-2]="Hotfix",t))(tr||{}),Fe=(t=>(t[t.Unknown=0]="Unknown",t[t.NextRound=1]="NextRound",t[t.Extended=2]="Extended",t[t.NextRoundAndExtended=3]="NextRoundAndExtended",t[t.Hotfix=-2]="Hotfix",t[t.End=-1]="End",t))(Fe||{}),mt=(t=>(t[t.Win=1]="Win",t[t.Lose=-1]="Lose",t[t.None=0]="None",t))(mt||{}),Rn=(t=>(t[t.East=0]="East",t[t.South=1]="South",t[t.West=2]="West",t[t.North=3]="North",t))(Rn||{});let cM=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");const fM=(t=12)=>cM(t),dM=()=>{const t=new Date;return`${t.getFullYear()}${t.getMonth()+1}${t.getDate()}`},pM=t=>`https://api.qrserver.com/v1/create-qr-code/?size=512x512&data=${t}`,hM=t=>{let e=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),n=parseInt(t.substring(5,7),16);e=Math.round(e*1.5),r=Math.round(r*1.5),n=Math.round(n*1.5),e=e<255?e:255,r=r<255?r:255,n=n<255?n:255,e=Math.round(e),r=Math.round(r),n=Math.round(n);const o=e.toString(16).length===1?`0${e.toString(16)}`:e.toString(16),i=r.toString(16).length===1?`0${r.toString(16)}`:r.toString(16),s=n.toString(16).length===1?`0${n.toString(16)}`:n.toString(16);return`#${o}${i}${s}`},ud=(t,e)=>{switch((t+e-1)%4){case 0:return"東";case 1:return"南";case 2:return"西";case 3:return"北"}return"東"},cd=[Rn.East,Rn.South,Rn.West,Rn.North],J_=["0","1","2","3"],yM=t=>parseInt(t,10),Mc=(t,e)=>cd[(4+yM(t)-(e-1)%cd.length)%cd.length],Lc=(t,e)=>Mc(t,e)===Rn.East,cs={"1h20f":{ne:200,e:400,ner:1e3,er:1500},"1h25f":{ne:200,e:400,ner:1e3,er:1500},"1h30f":{ne:300,e:500,ner:1e3,er:1500},"1h40f":{ne:400,e:700,ner:1300,er:2e3},"1h50f":{ne:400,e:800,ner:1600,er:2400},"1h60f":{ne:500,e:1e3,ner:2e3,er:2900},"1h70f":{ne:600,e:1200,ner:2300,er:3400},"1h80f":{ne:700,e:1300,ner:2600,er:3900},"1h90f":{ne:800,e:1500,ner:2900,er:4400},"1h100f":{ne:800,e:1600,ner:3200,er:4800},"1h110f":{ne:900,e:1800,ner:3600,er:5300},"2h20f":{ne:400,e:700,ner:1500,er:2100},"2h25f":{ne:400,e:800,ner:1600,er:2400},"2h30f":{ne:500,e:1e3,ner:2e3,er:2900},"2h40f":{ne:700,e:1300,ner:2600,er:3900},"2h50f":{ne:800,e:1600,ner:3200,er:4800},"2h60f":{ne:1e3,e:2e3,ner:3900,er:5800},"2h70f":{ne:1200,e:2300,ner:4500,er:6800},"2h80f":{ne:1300,e:2600,ner:5200,er:7700},"2h90f":{ne:1500,e:2900,ner:5800,er:8700},"2h100f":{ne:1600,e:3200,ner:6400,er:9600},"2h110f":{ne:1800,e:3600,ner:7100,er:10600},"3h20f":{ne:700,e:1300,ner:2600,er:3900},"3h25f":{ne:800,e:1600,ner:3200,er:4800},"3h30f":{ne:1e3,e:2e3,ner:3900,er:5800},"3h40f":{ne:1300,e:2600,ner:5200,er:7700},"3h50f":{ne:1600,e:3200,ner:6400,er:9600},"3h60f":{ne:2e3,e:3900,ner:7700,er:11600},"4h20f":{ne:1300,e:2600,ner:5200,er:7700},"4h25f":{ne:1600,e:3200,ner:6400,er:9600},"4h30f":{ne:2e3,e:3900,ner:7700,er:11600},"5h":{ne:2e3,e:4e3,ner:8e3,er:12e3},"6h":{ne:3e3,e:6e3,ner:12e3,er:18e3},"7h":{ne:3e3,e:6e3,ner:12e3,er:18e3},"8h":{ne:4e3,e:8e3,ner:16e3,er:24e3},"9h":{ne:4e3,e:8e3,ner:16e3,er:24e3},"10h":{ne:4e3,e:8e3,ner:16e3,er:24e3},"11h":{ne:6e3,e:12e3,ner:24e3,er:36e3},"12h":{ne:6e3,e:12e3,ner:24e3,er:36e3},"13h":{ne:8e3,e:16e3,ner:32e3,er:48e3}},gM=(t,e,r)=>{let n;const o=parseInt(t,10);if(Number.isNaN(o))throw new Error(`han "${t}" is NaN`);const i=parseInt(e,10);if(Number.isNaN(i))throw new Error(`fu "${e}" is NaN`);if(o>=13?n=cs["13h"]:o>=5?n=cs[`${o}h`]:o>=4&&i>=(r!=null&&r.roundUp?30:40)||o>=3&&i>=(r!=null&&r.roundUp?60:70)?n=cs["5h"]:n=cs[`${o}h${i}f`],!n)throw new Error(`unrecongized han ${t} and fu ${e}`);return n},mM=t=>t.all||t.east?tr.SelfDrawn:t.target?tr.Ron:tr.Unknown,X_=t=>J_[(t-1)%J_.length],vM=t=>({0:{beforeScore:t[0].afterScore,afterScore:t[0].afterScore,isRevealed:!1,isRiichi:!1,type:mt.None,scoreChanges:[],prevScoreChanges:t[0].scoreChanges??[]},1:{beforeScore:t[1].afterScore,afterScore:t[1].afterScore,isRevealed:!1,isRiichi:!1,type:mt.None,scoreChanges:[],prevScoreChanges:t[1].scoreChanges??[]},2:{beforeScore:t[2].afterScore,afterScore:t[2].afterScore,isRevealed:!1,isRiichi:!1,type:mt.None,scoreChanges:[],prevScoreChanges:t[2].scoreChanges??[]},3:{beforeScore:t[3].afterScore,afterScore:t[3].afterScore,isRevealed:!1,isRiichi:!1,type:mt.None,scoreChanges:[],prevScoreChanges:t[3].scoreChanges??[]}}),Z_=t=>vM({0:t[0],1:t[1],2:t[2],3:t[3]}),_M=()=>`${dM()}-${fM(6)}`,Jp=(t,e,r)=>`${t}-${e}.${r}`,xM={1:"東 1 局",2:"東 2 局",3:"東 3 局",4:"東 4 局",5:"南 1 局",6:"南 2 局",7:"南 3 局",8:"南 4 局",9:"西 1 局",10:"西 2 局",11:"西 3 局",12:"西 4 局",13:"北 1 局",14:"北 2 局",15:"北 3 局",16:"北 4 局"},YE=(t,e,r=8)=>{try{const n=xM[Math.min(t,r)];if(!n)throw new Error(`Unable to parse round=${t} in MJMatchCounterSpan`);return e&&e!==0?`${n}${e}本場`:n}catch(n){return console.error(n),`${t}.${e??0}`}};function bt({signed:t,className:e,positiveClassName:r,negativeClassName:n,value:o,animated:i,hideZero:s}){const[a,l]=S.useState(o),u=S.useRef(null),p=S.useCallback(y=>y===0?s?"":y.toLocaleString("en-US"):y>0?`${t?"+":""}${Math.floor(y).toLocaleString("en-US")}`:Math.floor(y).toLocaleString("en-US"),[s,t]),d=S.useMemo(()=>p(a),[p,a]),f=S.useMemo(()=>o>0?`${e??""} ${r??""}`:o<0?`${e??""} ${n??""}`:e,[e,n,r,o]);return S.useEffect(()=>{if(a!==o)if(i){for(let _=16;_<1e3;_+=16)setTimeout(()=>{u.current&&(u.current.innerText=Math.floor(a-(a-o)*(_/1e3)).toLocaleString("en-US"))},_);setTimeout(()=>{l(o)},1e3+16)}else l(o)},[i,a,o]),S.useEffect(()=>{u.current&&(u.current.innerText=d)},[d]),c.jsx("span",{ref:u,className:f})}function SM(t){return c.jsx("div",{...t,children:c.jsx("div",{className:"relative w-full h-full bg-[#d1b571] overflow-hidden",children:c.jsx("div",{className:"origin-bottom w-[200%] h-[100%] bg-[#d1291d] animate-[riichi_8s_ease-in-out_infinite]"})})})}const e0={"1m":"bg-[left_0%_top_0%]","2m":"bg-[left_10%_top_0%]","3m":"bg-[left_20%_top_0%]","4m":"bg-[left_30%_top_0%]","5m":"bg-[left_40%_top_0%]","6m":"bg-[left_50%_top_0%]","7m":"bg-[left_60%_top_0%]","8m":"bg-[left_70%_top_0%]","9m":"bg-[left_80%_top_0%]","0m":"bg-[left_30%_top_80%]","1p":"bg-[left_0%_top_20%]","2p":"bg-[left_10%_top_20%]","3p":"bg-[left_20%_top_20%]","4p":"bg-[left_30%_top_20%]","5p":"bg-[left_40%_top_20%]","6p":"bg-[left_50%_top_20%]","7p":"bg-[left_60%_top_20%]","8p":"bg-[left_70%_top_20%]","9p":"bg-[left_80%_top_20%]","0p":"bg-[left_40%_top_80%]","1s":"bg-[left_0%_top_40%]","2s":"bg-[left_10%_top_40%]","3s":"bg-[left_20%_top_40%]","4s":"bg-[left_30%_top_40%]","5s":"bg-[left_40%_top_40%]","6s":"bg-[left_50%_top_40%]","7s":"bg-[left_60%_top_40%]","8s":"bg-[left_70%_top_40%]","9s":"bg-[left_80%_top_40%]","0s":"bg-[left_50%_top_80%]","1z":"bg-[left_0%_top_60%]","2z":"bg-[left_10%_top_60%]","3z":"bg-[left_20%_top_60%]","4z":"bg-[left_30%_top_60%]","5z":"bg-[left_40%_top_60%]","6z":"bg-[left_50%_top_60%]","7z":"bg-[left_60%_top_60%]",default:"bg-[left_70%_top_60%]"};function Ra({className:t,children:e,...r}){const n=S.useMemo(()=>e0[e==null?void 0:e.toString()]??e0.default,[e]);return c.jsx("div",{className:`mahjong-tile ${n} ${t}`,...r})}function Ki({player:t,playerIndex:e,score:r,scoreChanges:n=[],isEast:o,isRiichi:i,waitingTiles:s,onClickWaitingTiles:a,className:l,...u}){const[p,d]=S.useState(r),[f,y]=S.useState(void 0),g=S.useMemo(()=>hM(t.color),[t.color]),_=S.useMemo(()=>!!f,[f]);return S.useEffect(()=>{r!==p&&(y(n),setTimeout(()=>{d(r)},2550),setTimeout(()=>{y(void 0)},3e3))},[r,n,p]),c.jsxs("div",{className:"min-w-[5.35em] mx-auto [&_.hide-if-changing]:transition-opacity [&_.hide-if-changing]:data-[score-changing='1']:opacity-0","data-score-changing":_?"1":"0",children:[c.jsxs("div",{className:"flex items-end gap-x-[0.1em]",children:[c.jsx("div",{className:"shrink-0 w-[1.75em] h-full relative -bottom-[0.075em] -left-[0.075em] z-10",children:c.jsx("div",{className:"w-full aspect-[90/125] p-[0.075em]",children:c.jsxs("div",{className:"w-full h-full bg-white rounded-[0.08em]",style:{background:`linear-gradient(180deg, ${t.color}, ${g})`},children:[i&&c.jsx(SM,{className:"absolute -z-10 w-full h-full top-0 left-0 rounded-[0.08em] overflow-hidden"}),t.propicSrc&&c.jsx("img",{className:"w-full h-full rounded-[0.08em]",src:t.propicSrc,alt:t.name})]})})}),c.jsxs("div",{className:"flex-1 flex flex-col gap-y-[0.075em] items-start justify-end",children:[c.jsxs("div",{className:"bg-black bg-opacity-60 rounded text-[0.5em] flex gap-x-[0.2em] p-[0.1em] pr-[0.2em] opacity-0 transition-opacity data-[has-waiting-tiles='1']:opacity-100 hide-if-changing cursor-pointer","data-has-waiting-tiles":s&&s.length>0||a?"1":"0",onClick:a,"data-player-index":e,children:[c.jsx("div",{className:"flex-1 leading-none min-h-[1.19em] flex flex-wrap gap-[0.15em]",children:s==null?void 0:s.map(b=>c.jsx(Ra,{className:"inline-block align-bottom w-[0.85em] animate-[fadeIn_1s_ease-in-out]",children:b},b))}),c.jsx("div",{className:"bg-[#DDDDDD] w-px"}),c.jsxs("div",{className:"text-[#DDDDDD] text-[0.35em] leading-[1.2em] flex items-center",children:["待",c.jsx("br",{}),"牌"]})]}),c.jsxs("div",{className:`relative w-full text-left bg-white px-[0.1em] py-[0.1em] pt-[0.15em] ${l}`,...u,style:{background:`linear-gradient(260deg, transparent, transparent 22px, ${g} 23px, ${t.color} 100%`},children:[c.jsxs("div",{className:"flex flex-col justify-center h-[0.55em] gap-y-[0.1em]",children:[c.jsx("div",{className:"text-[0.225em] ml-[0.2em] leading-none text-white hide-if-changing",children:t.title||"　"}),c.jsx("div",{className:"text-[0.225em] ml-[0.2em] leading-none text-white hide-if-changing",children:t.name})]}),f&&c.jsx("div",{className:"absolute bottom-[2.25em] pr-[0.125em] left-0 text-[0.70em] leading-none animate-[drop_3s_ease-in-out] font-numeric",children:f.map(b=>c.jsx("div",{children:c.jsx(bt,{signed:!0,value:b,positiveClassName:"text-green-400",negativeClassName:"text-red-400"})}))}),c.jsx("div",{className:"text-[0.70em] flex-1 leading-none text-white font-numeric mt-[0.025em]",children:c.jsx(bt,{animated:!0,value:p})})]})]})]}),c.jsx("div",{className:`mt-[0.2em] h-[0.075em] rounded-full ${o&&"bg-red-500"}`})]})}function mn({roundCount:t,extendedRoundCount:e,max:r=16,...n}){const o=S.useMemo(()=>YE(t,e??0,r),[t,r,e]);return c.jsx("span",{...n,children:o})}mn.defaultProps={extendedRoundCount:0};function Ho({player:t,onClickEdit:e,children:r,...n}){const o=S.useCallback(()=>{e==null||e(t)},[e,t]);return c.jsxs("div",{className:"flex-1 flex items-center gap-x-2 rounded p-2 text-white",style:{background:t.color??"#115e59"},...n,children:[c.jsx("div",{className:"shrink-0",children:c.jsx("div",{className:"w-14 h-14 bg-center bg-contain bg-no-repeat rounded",style:{backgroundImage:`url(${t.propicSrc||"/images/portrait-placeholder.jpeg"})`}})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{children:t.title??"(無頭銜)"}),c.jsx("div",{className:"text-2xl",children:t.name??"(無名稱)"})]}),e&&c.jsx("div",{className:"shrink-0",children:c.jsx(xe,{variant:"icon",color:"inverted",type:"button",onClick:o,children:c.jsx("span",{className:"material-symbols-outlined",children:"edit"})})})]})}function il({value:t}){return c.jsx(bt,{value:t,positiveClassName:"text-green-600",negativeClassName:"text-red-600",signed:!0,hideZero:!0})}function Bc({players:t,matchRounds:e,...r}){const n=S.useMemo(()=>Object.entries(e??{}),[e]);return c.jsxs("table",{...r,children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-400 [&>th]:p-2",children:[c.jsx("th",{children:"局數"}),c.jsx("th",{className:"w-min-[120px]",children:c.jsx(Ho,{player:t[0]})}),c.jsx("th",{className:"w-min-[120px]",children:c.jsx(Ho,{player:t[1]})}),c.jsx("th",{className:"w-min-[120px]",children:c.jsx(Ho,{player:t[2]})}),c.jsx("th",{className:"w-min-[120px]",children:c.jsx(Ho,{player:t[3]})})]})}),c.jsxs("tbody",{children:[n[0]&&c.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[c.jsx("td",{className:"text-center"}),c.jsx("td",{className:"text-center",children:c.jsx(bt,{value:n[0][1].playerResults[0].beforeScore})}),c.jsx("td",{className:"text-center",children:c.jsx(bt,{value:n[0][1].playerResults[1].beforeScore})}),c.jsx("td",{className:"text-center",children:c.jsx(bt,{value:n[0][1].playerResults[2].beforeScore})}),c.jsx("td",{className:"text-center",children:c.jsx(bt,{value:n[0][1].playerResults[3].beforeScore})})]}),n.map(([o,i])=>i.resultType===tr.Hotfix?c.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[c.jsx("td",{className:"text-center",children:"手動調整"}),c.jsx("td",{className:"text-center",children:i.playerResults[0].afterScore}),c.jsx("td",{className:"text-center",children:i.playerResults[1].afterScore}),c.jsx("td",{className:"text-center",children:i.playerResults[2].afterScore}),c.jsx("td",{className:"text-center",children:i.playerResults[3].afterScore})]},o):c.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[c.jsx("td",{className:"text-center",children:c.jsx(mn,{roundCount:i.roundCount,extendedRoundCount:i.extendedRoundCount,max:8})}),c.jsx("td",{className:"text-center",children:c.jsx(il,{value:i.playerResults[0].afterScore-i.playerResults[0].beforeScore})}),c.jsx("td",{className:"text-center",children:c.jsx(il,{value:i.playerResults[1].afterScore-i.playerResults[1].beforeScore})}),c.jsx("td",{className:"text-center",children:c.jsx(il,{value:i.playerResults[2].afterScore-i.playerResults[2].beforeScore})}),c.jsx("td",{className:"text-center",children:c.jsx(il,{value:i.playerResults[3].afterScore-i.playerResults[3].beforeScore})})]},o)),n[n.length-1]&&c.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[c.jsx("td",{className:"text-center"}),c.jsx("td",{className:"text-center font-bold text-lg",children:c.jsx(bt,{value:n[n.length-1][1].playerResults[0].afterScore})}),c.jsx("td",{className:"text-center font-bold text-lg",children:c.jsx(bt,{value:n[n.length-1][1].playerResults[1].afterScore})}),c.jsx("td",{className:"text-center font-bold text-lg",children:c.jsx(bt,{value:n[n.length-1][1].playerResults[2].afterScore})}),c.jsx("td",{className:"text-center font-bold text-lg",children:c.jsx(bt,{value:n[n.length-1][1].playerResults[3].afterScore})})]})]})]})}function wM({params:{matchId:t}}){const{match:e,matchRounds:r,matchCurrentRound:n,matchCurrentRoundDoras:o}=Qi(t);return!e||!n?c.jsx("div",{children:"對局讀取失敗。"}):c.jsx("div",{children:c.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-6",children:[c.jsxs("div",{className:"flex flex-row items-stretch gap-x-4 text-white",children:[c.jsxs("div",{className:"shrink-0 rounded-[1rem] bg-black bg-opacity-50 p-2 flex items-stretch gap-x-4",children:[c.jsx("div",{className:"text-[2.5rem] leading-none border-[.25rem] rounded-[.75rem] pb-[0.3em] pt-[0.2em] px-4 border-current flex items-center justify-center",children:c.jsx(mn,{roundCount:n.roundCount,max:8})}),c.jsxs("div",{className:"flex flex-col justify-around",children:[c.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-2",children:[c.jsx("div",{className:"flex-1",children:c.jsx("img",{src:"/images/score-hundred.png",alt:"hundred",className:"h-4"})}),c.jsx("div",{children:n.extendedRoundCount??0})]}),c.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-2",children:[c.jsx("div",{className:"flex-1",children:c.jsx("img",{src:"/images/score-thousand.png",alt:"thousand",className:"h-4"})}),c.jsx("div",{children:n.cumulatedThousands??0})]})]}),c.jsx("div",{className:"flex items-center gap-x-2",children:o.map((i,s)=>c.jsx(Ra,{className:"w-9 cursor-pointer","data-index":s,children:i},i))})]}),c.jsx("div",{className:"flex-1"})]}),c.jsx("div",{className:"space-y-4",children:["0","1","2","3"].map(i=>c.jsx("div",{className:"flex gap-x-2 items-center",children:c.jsx("div",{className:"flex-1 text-[2.5rem]",children:c.jsx(Ki,{player:e.players[i],score:n.playerResults[i].beforeScore,scoreChanges:n.playerResults[i].prevScoreChanges,isEast:Lc(i,n.roundCount),isRiichi:n.playerResults[i].isRiichi})})}))}),c.jsx(Bc,{players:e.players,matchRounds:r,className:"w-full table-auto"})]})})}function t0({className:t,children:e,...r}){return c.jsx("div",{className:`w-screen h-screen mx-auto flex flex-col gap-y-4 items-stretch py-8 ${t} overflow-hidden text-[4.8rem]`,style:{background:"linear-gradient(transparent, transparent 73%, rgba(0, 0, 0, 0.25))"},...r,children:e})}const r0=`body { 
  background-color: rgba(0, 0, 0, 0); 
  color: rgba(0, 0, 0, 0); 
  margin: 0px auto; 
  overflow: hidden; 
}

.body-hidden {
  display: none;
}`;function EM({matchId:t}){const e=S.useMemo(()=>`${window.location.origin}/match/${t}/control`,[t]),r=S.useCallback(()=>{window.navigator.clipboard.writeText(r0)},[]);return c.jsxs("div",{className:"flex items-center justify-center gap-x-8",children:[c.jsxs("div",{children:[c.jsx("p",{children:"1. 打開OBS"}),c.jsxs("p",{children:["2. 來源 ","->"," + ","->"," 瀏覽器，然後照下面設定"]}),c.jsxs("p",{children:["- 網址 = 此頁的網址 ",c.jsx("strong",{children:window.location.href}),c.jsx("br",{}),"- 寬度 = 1920, 高度 = 1080",c.jsx("br",{})," - 自訂CSS ="," ",c.jsxs("div",{className:"relative bg-gray-700 text-white p-4 rounded",children:[c.jsx("pre",{children:r0}),c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx("button",{type:"button",onClick:r,children:c.jsx("span",{className:"material-symbols-outlined",children:"content_copy"})})})]})]})]}),c.jsxs("div",{children:[c.jsx("p",{children:'3. 在管理後台點擊右上角的 "開始OBS" '}),c.jsx("p",{children:"4. 確定"})]}),c.jsx("div",{className:"shrink-0",children:c.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"text-center underline",children:[c.jsx("img",{className:"block w-32 h-32",src:pM(e),alt:""}),c.jsx("p",{children:"管理後台"})]})})]})}function JE({params:{matchId:t}}){const{match:e,matchCurrentRound:r,matchCurrentRoundDoras:n}=Qi(t),o=S.useMemo(()=>!e||!r?[]:["0","1","2","3"].map(i=>({...e.players[i],color:e.players[i].color,currentStatus:{...r.playerResults[i],isEast:Lc(i,r.roundCount)}})),[e,r]);return!e||!r?c.jsx(t0,{children:c.jsx("div",{className:"text-current",children:"對局讀取失敗。"})}):c.jsxs(t0,{children:[c.jsxs("div",{className:"flex flex-row items-stretch gap-x-4 text-white",children:[c.jsxs("div",{className:"p-2 pl-10 pr-10 flex items-center gap-x-8 transition-[width]",style:{background:"linear-gradient(280deg, transparent, transparent 22px, #00000080 23px, #00000080 100%)"},children:[c.jsxs("div",{className:"text-[0.5em]",children:[c.jsx("div",{className:"text-[0.5em]",children:e.name}),c.jsxs("div",{className:"flex gap-x-8 items-center",children:[c.jsx("div",{className:"min-w-[3.5em]",children:c.jsx(mn,{roundCount:r.roundCount,max:8})}),c.jsxs("div",{className:"flex flex-col justify-around gap-2",children:[c.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[c.jsx("div",{className:"flex-1",children:c.jsx("img",{src:"/images/score-hundred.png",alt:"hundred",className:"h-2.5"})}),c.jsx("div",{className:"text-[0.4em] leading-none",children:r.extendedRoundCount??0})]}),c.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[c.jsx("div",{className:"flex-1",children:c.jsx("img",{src:"/images/score-thousand.png",alt:"thousand",className:"h-2.5"})}),c.jsx("div",{className:"text-[0.4em] leading-none",children:r.cumulatedThousands??0})]})]})]})]}),c.jsx("div",{className:"flex items-center gap-x-2",children:n.map(i=>c.jsx(Ra,{className:"w-14 animate-[fadeIn_0.5s_ease-in-out]",children:i},i))})]}),c.jsx("div",{className:"flex-1"})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsx("div",{className:"body-hidden mx-20 text-[16px]",children:c.jsx(EM,{matchId:t})})}),c.jsx("div",{className:"flex flex-row items-end justify-center gap-x-8 text-white px-10",children:o.map(i=>c.jsx(Ki,{player:i,score:i.currentStatus.afterScore,scoreChanges:i.currentStatus.scoreChanges,isEast:i.currentStatus.isEast,isRiichi:i.currentStatus.isRiichi,waitingTiles:i.currentStatus.waitingTiles},i.name))})]})}function jr({open:t,title:e,children:r,onClose:n,hideCloseButton:o}){const i=S.useRef(null);S.useEffect(()=>{if(i!=null&&i.current&&t){i.current.showModal();const{current:a}=i;return()=>{a.close()}}},[t]);const s=S.useCallback(()=>{n==null||n()},[n]);return c.jsx("dialog",{ref:i,onClose:s,children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex mb-4",children:[c.jsx("div",{className:"flex-1 items-center font-bold text-lg",children:e}),!o&&c.jsx("div",{className:"shrink-0",children:c.jsx("button",{type:"button",className:"absolute top-4 right-4",onClick:s,children:c.jsx("span",{className:"material-symbols-outlined",children:"close"})})})]}),r]})})}function CM({title:t,children:e,okButtonText:r="確認",cancelButtonText:n="取消",onClickOk:o,onClickCancel:i,...s}){const[a,l]=S.useState(!1),u=S.useCallback(()=>{o&&(l(!0),o().finally(()=>{l(!1)}))},[o]);return c.jsxs(jr,{title:t,...s,children:[c.jsx("div",{className:"mb-4",children:e}),c.jsxs("div",{className:"flex gap-x-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(xe,{type:"button",color:"secondary",className:"w-full",onClick:i,disabled:a,children:n})}),c.jsx("div",{className:"flex-1",children:c.jsx(xe,{type:"button",color:"danger",className:"w-full",onClick:u,disabled:a,children:a?c.jsx("span",{className:"material-symbols-outlined animate-spin leading-none",children:"horizontal_rule"}):r})})]})]})}const bM={isShowConfirmDialog:!1,setIsShowConfirmDialog:()=>{},confirmDialogOptions:{title:"警告"},setConfirmDialogOptions:()=>{}},XE=S.createContext(bM);function AM({children:t}){const[e,r]=S.useState(!1),[n,o]=S.useState({title:"警告"}),i=S.useMemo(()=>({isShowConfirmDialog:e,setIsShowConfirmDialog:r,confirmDialogOptions:n,setConfirmDialogOptions:o}),[n,e]),s=S.useCallback(()=>{r(!1)},[]);return c.jsxs(XE.Provider,{value:i,children:[t,c.jsx(CM,{open:e,okButtonText:n.okButtonText,cancelButtonText:n.cancelButtonText,onClickOk:n.onClickOk,onClickCancel:n.onClickCancel,onClose:s,...n,hideCloseButton:!0,children:n.content})]})}const IM=()=>{const t=S.useContext(XE);return{showConfirmDialog:S.useCallback(r=>{const n=async()=>(r.onClickOk??(async()=>Promise.resolve()))().then(()=>{t.setIsShowConfirmDialog(!1)}),o=async()=>(r.onClickCancel??(async()=>Promise.resolve()))().then(()=>{t.setIsShowConfirmDialog(!1)});t.setConfirmDialogOptions({...r,onClickOk:n,onClickCancel:o}),t.setIsShowConfirmDialog(!0)},[t])}};function Hu({className:t,onChange:e,onChangeValue:r,...n}){const o=S.useMemo(()=>`bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ${t}`,[t]),i=S.useCallback(s=>{e==null||e(s),r==null||r(s.currentTarget.value)},[e,r]);return c.jsx("select",{className:o,onChange:i,...n})}function PM({isEast:t,isRon:e,onChangeScore:r}){const[n,o]=S.useState("1"),[i,s]=S.useState("30");S.useEffect(()=>{if(!r)return;const u=gM(n,i);u&&r(t?e?{win:u.er,target:u.er}:{win:u.e*3,all:u.e}:e?{win:u.ner,target:u.ner}:{win:u.e+2*u.ne,east:u.e,others:u.ne})},[i,n,t,e,r]);const a=S.useCallback(u=>{const p=u.currentTarget.value;o(p)},[]),l=S.useCallback(u=>{const p=u.currentTarget.value;s(p)},[]);return c.jsx("div",{children:c.jsxs("div",{className:"flex gap-x-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs(Hu,{className:"w-full",placeholder:"番",value:n,onChange:a,children:[c.jsx("option",{value:1,children:"1番"}),c.jsx("option",{value:2,children:"2番"}),c.jsx("option",{value:3,children:"3番"}),c.jsx("option",{value:4,children:"4番"}),c.jsx("option",{value:5,children:"5番"}),c.jsx("option",{value:6,children:"6番"}),c.jsx("option",{value:7,children:"7番"}),c.jsx("option",{value:8,children:"8番"}),c.jsx("option",{value:9,children:"9番"}),c.jsx("option",{value:10,children:"10番"}),c.jsx("option",{value:11,children:"11番"}),c.jsx("option",{value:12,children:"12番"}),c.jsx("option",{value:13,children:"累計役滿"})]})}),c.jsx("div",{className:"flex-1",children:c.jsxs(Hu,{className:"w-full",placeholder:"符",value:i,onChange:l,children:[c.jsx("option",{value:20,children:"20符"}),c.jsx("option",{value:25,children:"25符"}),c.jsx("option",{value:30,children:"30符"}),c.jsx("option",{value:40,children:"40符"}),c.jsx("option",{value:50,children:"50符"}),c.jsx("option",{value:60,children:"60符"}),c.jsx("option",{value:70,children:"70符"}),c.jsx("option",{value:80,children:"80符"}),c.jsx("option",{value:90,children:"90符"}),c.jsx("option",{value:100,children:"100符"}),c.jsx("option",{value:110,children:"110符"})]})})]})})}function NM({score:t,...e}){const r=S.useMemo(()=>t?t.target?t.target:t.all?`${t.all} ALL`:`${t.others},${t.east}`:"(錯誤)",[t]);return c.jsx("div",{...e,children:r})}var Qu=function(){return Qu=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Qu.apply(this,arguments)};function kM(){var t=S.useRef(!1),e=S.useCallback(function(){return t.current},[]);return S.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e}function TM(t,e,r){e===void 0&&(e=[]),r===void 0&&(r={loading:!1});var n=S.useRef(0),o=kM(),i=S.useState(r),s=i[0],a=i[1],l=S.useCallback(function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var d=++n.current;return s.loading||a(function(f){return Qu(Qu({},f),{loading:!0})}),t.apply(void 0,u).then(function(f){return o()&&d===n.current&&a({value:f,loading:!1}),f},function(f){return o()&&d===n.current&&a({error:f,loading:!1}),f})},e);return[s,l]}var RM=function(t,e){return typeof e=="boolean"?e:!t},jM=function(t){return S.useReducer(RM,t)};const Yn=jM;function ZE({onChange:t,onChangeChecked:e,className:r,...n}){const o=S.useCallback(i=>{t==null||t(i),e==null||e(i.currentTarget.checked)},[t,e]);return c.jsx("input",{className:"mt-[0.3rem] mr-2 h-3.5 w-8 appearance-none rounded-[0.4375rem] bg-neutral-300 dark:bg-neutral-600 before:pointer-events-none before:absolute before:h-3.5 before:w-3.5 before:rounded-full before:bg-transparent before:content-[''] after:absolute after:z-[2] after:-mt-[0.1875rem] after:h-5 after:w-5 after:rounded-full after:border-none after:bg-neutral-100 dark:after:bg-neutral-400 after:shadow-[0_0px_3px_0_rgb(0_0_0_/_7%),_0_2px_2px_0_rgb(0_0_0_/_4%)] after:transition-[background-color_0.2s,transform_0.2s] after:content-[''] checked:bg-blue-600 dark:checked:bg-blue-600 checked:after:absolute checked:after:z-[2] checked:after:-mt-[3px] checked:after:ml-[1.0625rem] checked:after:h-5 checked:after:w-5 checked:after:rounded-full checked:after:border-none checked:after:bg-blue-600 dark:checked:after:bg-blue-600 checked:after:shadow-[0_3px_1px_-2px_rgba(0,0,0,0.2),_0_2px_2px_0_rgba(0,0,0,0.14),_0_1px_5px_0_rgba(0,0,0,0.12)] checked:after:transition-[background-color_0.2s,transform_0.2s] checked:after:content-[''] hover:cursor-pointer focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[3px_-1px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-5 focus:after:w-5 focus:after:rounded-full focus:after:content-[''] checked:focus:border-blue-600 checked:focus:bg-blue-600 checked:focus:before:ml-[1.0625rem] checked:focus:before:scale-100 checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",onChange:o,...n})}function n0({han:t,fu:e,raw:r,...n}){const o=S.useMemo(()=>r?typeof e<"u"?`${t}番${e}符`:`${t}番`:t>=13?"役滿":t>=11?"三倍滿":t>=8?"倍滿":t>=6?"跳滿":t>=5||t>=4&&typeof e<"u"&&e>=40?"滿貫":typeof e<"u"?`${t}番${e}符`:`${t}番`,[t,e,r]);return c.jsx("div",{...n,children:o})}const Qo=[{id:"riichi",label:"立直",han:1,hanIfOpened:0},{id:"ippatsu",label:"一發",han:1,hanIfOpened:0},{id:"menzenchin-tsumohou",label:"門前清自摸和",han:1,hanIfOpened:0},{id:"pinfu",label:"平和",han:1,hanIfOpened:0},{id:"iipeikou",label:"一盃口",han:1,hanIfOpened:0},{id:"haitei-raoyue",label:"海底撈月",han:1,hanIfOpened:1},{id:"houtei-raoyui",label:"河底撈魚",han:1,hanIfOpened:1},{id:"rinshan-kaihou",label:"嶺上開花",han:1,hanIfOpened:1},{id:"chankan",label:"搶槓",han:1,hanIfOpened:1},{id:"tanyao",label:"斷么九",han:1,hanIfOpened:1},{id:"yakuhai-match-kazehai",label:"場風",han:1,hanIfOpened:1},{id:"yakuhai-self-kazehai",label:"自風",han:1,hanIfOpened:1},{id:"yakuhai-double-kazehai",label:"雙風",han:2,hanIfOpened:2,hidden:!0},{id:"yakuhai-chun",label:"中",han:1,hanIfOpened:1},{id:"yakuhai-haku",label:"白",han:1,hanIfOpened:1},{id:"yakuhai-hatsu",label:"發",han:1,hanIfOpened:1},{id:"double-riichi",label:"雙立直",han:2,hanIfOpened:0},{id:"chantaiyao",label:"全帶么九",han:2,hanIfOpened:1},{id:"sanshoku-doujun",label:"三色同順",han:2,hanIfOpened:1},{id:"ittsu",label:"一氣通貫",han:2,hanIfOpened:1},{id:"toitoi",label:"對對和",han:2,hanIfOpened:2},{id:"sanankou",label:"三暗刻",han:2,hanIfOpened:2},{id:"sanshku-doukou",label:"三色同刻",han:2,hanIfOpened:2},{id:"sankantsu",label:"三槓子",han:2,hanIfOpened:2},{id:"chiitoitsu",label:"七對子",han:2,hanIfOpened:0,overrideFu:25},{id:"honroutou",label:"混老頭",han:2,hanIfOpened:2},{id:"shousangen",label:"小三元",han:2,hanIfOpened:2},{id:"honitsu",label:"混一色",han:3,hanIfOpened:2},{id:"junchan-taiyao",label:"純全帶么",han:3,hanIfOpened:2},{id:"ryanpeikou",label:"二盃口",han:3,hanIfOpened:0},{id:"chinitsu",label:"清一色",han:6,hanIfOpened:5}],sl={1:Qo.filter(({han:t,hidden:e})=>t===1&&!e),2:Qo.filter(({han:t,hidden:e})=>t===2&&!e),3:Qo.filter(({han:t,hidden:e})=>t===3&&!e),6:Qo.filter(({han:t,hidden:e})=>t===6&&!e)},al=({yaku:t,active:e,isOpened:r,disabled:n,onClick:o})=>c.jsx("button",{"data-id":t.id,"data-han":r?t.hanIfOpened:t.han,"data-active":e?"1":"0",disabled:n,className:"text-center px-3 rounded-full border border-neutral-200 text-neutral-400 cursor-pointer hover:opacity-80 data-[han='0']:cursor-not-allowed disabled:opacity-30 disabled:hover:opacity-30 data-[active='1']:enabled:border-teal-500 data-[active='1']:enabled:text-teal-600 data-[active='1']:enabled:bg-teal-100",onClick:o,children:t.label},t.id),OM=({round:t,activePlayerIndex:e})=>{const[r,n]=S.useState({}),[o,i]=Yn(!1),[s,a]=S.useState("0"),[l,u]=S.useState("0"),[p,d]=S.useState("0"),f=S.useCallback(g=>{const _=g.currentTarget.getAttribute("data-id");!_||!Qo.find(({id:v})=>v===_)||n(v=>({...v,[_]:!v[_]}))},[]),y=S.useMemo(()=>{let g=0,_;const b=[],v={...r};v["yakuhai-match-kazehai"]&&v["yakuhai-self-kazehai"]&&(v["yakuhai-double-kazehai"]=!0,v["yakuhai-match-kazehai"]=!1,v["yakuhai-self-kazehai"]=!1);const h=Qo.filter(({id:m})=>!!v[m]);for(const m of h){const E=o?m.hanIfOpened:m.han;E!==0&&(g+=E,typeof m.overrideFu<"u"&&(_=m.overrideFu),m.id==="yakuhai-match-kazehai"?b.push(ud(Math.floor((t-1)/4)+1,0)):m.id==="yakuhai-self-kazehai"?b.push(ud(t,parseInt(e))):m.id==="yakuhai-double-kazehai"?b.push(`雙${ud(t,parseInt(e))}`):b.push(m.label))}return s!=="0"&&(g+=parseInt(s),b.push(`寶牌${s}`)),l!=="0"&&(g+=parseInt(l),b.push(`赤寶牌${l}`)),p!=="0"&&(g+=parseInt(p),b.push(`裡寶牌${p}`)),{texts:b,han:g,fu:_}},[o,t,e,r,s,l,p]);return c.jsxs("div",{children:[c.jsxs("div",{children:[c.jsx(ZE,{checked:o,onChangeChecked:i})," ","有副露？"]}),c.jsx("table",{children:c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("th",{className:"bg-neutral-100 px-1 border-neutral-100 border-t border-b",children:"1番"}),c.jsx("td",{className:"py-1 pl-2 border-neutral-100 border-t border-b",colSpan:3,children:c.jsx("div",{className:"flex flex-wrap gap-1",children:sl[1].map(g=>c.jsx(al,{yaku:g,isOpened:o,active:r[g.id],disabled:o&&g.hanIfOpened===0,onClick:f,children:g.label},g.id))})})]}),c.jsxs("tr",{children:[c.jsx("th",{className:"bg-neutral-100 px-1 border-neutral-100 border-t border-b",children:"2番"}),c.jsx("td",{className:"py-1 pl-2 border-neutral-100 border-t border-b",colSpan:3,children:c.jsx("div",{className:"flex flex-wrap gap-1",children:sl[2].map(g=>c.jsx(al,{yaku:g,isOpened:o,active:r[g.id],disabled:o&&g.hanIfOpened===0,onClick:f,children:g.label},g.id))})})]}),c.jsxs("tr",{children:[c.jsx("th",{className:"bg-neutral-100 px-1 border-neutral-100 border-t border-b",children:"3番"}),c.jsx("td",{className:"py-1 pl-2 border-neutral-100 border-t border-b w-1/2",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:sl[3].map(g=>c.jsx(al,{yaku:g,isOpened:o,active:r[g.id],disabled:o&&g.hanIfOpened===0,onClick:f,children:g.label},g.id))})}),c.jsx("th",{className:"bg-neutral-100 px-1 border-neutral-100 border-t border-b",children:"6番"}),c.jsx("td",{className:"py-1 pl-2 border-neutral-100 border-t border-b w-1/2",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:sl[6].map(g=>c.jsx(al,{yaku:g,isOpened:o,active:r[g.id],disabled:o&&g.hanIfOpened===0,onClick:f,children:g.label},g.id))})})]})]})}),c.jsx("table",{className:"w-full mt-2",children:c.jsxs("tbody",{children:[c.jsx("th",{className:"w-16 bg-neutral-100 px-1 border-neutral-100 border-t border-b",children:"寶牌"}),c.jsx("td",{className:"w-auto pr-4",children:c.jsxs("select",{className:"w-full py-2 border border-neutral-100",value:s,onChange:g=>a(g.currentTarget.value),children:[c.jsx("option",{children:"0"}),c.jsx("option",{children:"1"}),c.jsx("option",{children:"2"}),c.jsx("option",{children:"3"}),c.jsx("option",{children:"4"}),c.jsx("option",{children:"5"}),c.jsx("option",{children:"6"}),c.jsx("option",{children:"7"}),c.jsx("option",{children:"8"}),c.jsx("option",{children:"9"}),c.jsx("option",{children:"10"}),c.jsx("option",{children:"11"}),c.jsx("option",{children:"12"}),c.jsx("option",{children:"13"}),c.jsx("option",{children:"14"}),c.jsx("option",{children:"15"}),c.jsx("option",{children:"16"}),c.jsx("option",{children:"17"}),c.jsx("option",{children:"18"})]})}),c.jsx("th",{className:"w-16 bg-neutral-100 px-1 border-neutral-100 border-t border-b",children:"赤寶牌"}),c.jsx("td",{className:"w-auto pr-4",children:c.jsxs("select",{className:"w-full py-2 border border-neutral-100",value:l,onChange:g=>u(g.currentTarget.value),children:[c.jsx("option",{children:"0"}),c.jsx("option",{children:"1"}),c.jsx("option",{children:"2"}),c.jsx("option",{children:"3"}),c.jsx("option",{children:"4"}),c.jsx("option",{children:"5"}),c.jsx("option",{children:"6"}),c.jsx("option",{children:"7"}),c.jsx("option",{children:"8"}),c.jsx("option",{children:"9"}),c.jsx("option",{children:"10"}),c.jsx("option",{children:"11"}),c.jsx("option",{children:"12"}),c.jsx("option",{children:"13"}),c.jsx("option",{children:"14"}),c.jsx("option",{children:"15"}),c.jsx("option",{children:"16"}),c.jsx("option",{children:"17"}),c.jsx("option",{children:"18"})]})}),c.jsx("th",{className:"w-16 bg-neutral-100 px-1 border-neutral-100 border-t border-b",children:"裡寶牌"}),c.jsx("td",{className:"w-auto pr-4",children:c.jsxs("select",{className:"w-full py-2 border border-neutral-100",value:p,onChange:g=>d(g.currentTarget.value),children:[c.jsx("option",{children:"0"}),c.jsx("option",{children:"1"}),c.jsx("option",{children:"2"}),c.jsx("option",{children:"3"}),c.jsx("option",{children:"4"}),c.jsx("option",{children:"5"}),c.jsx("option",{children:"6"}),c.jsx("option",{children:"7"}),c.jsx("option",{children:"8"}),c.jsx("option",{children:"9"}),c.jsx("option",{children:"10"}),c.jsx("option",{children:"11"}),c.jsx("option",{children:"12"}),c.jsx("option",{children:"13"}),c.jsx("option",{children:"14"}),c.jsx("option",{children:"15"}),c.jsx("option",{children:"16"}),c.jsx("option",{children:"17"}),c.jsx("option",{children:"18"})]})})]})}),c.jsx("table",{className:"w-full mt-2 bg-teal-100",children:c.jsxs("tbody",{children:[c.jsx("th",{className:"w-16 bg-teal-400 py-2 px-1 border-teal-100 border-t border-b",children:"結算"}),c.jsx("td",{className:"flex flex-wrap gap-2 p-2",children:y.texts.map(g=>c.jsx("span",{children:g},g))}),c.jsxs("td",{className:"w-32 bg-teal-400 text-center",children:[c.jsx(n0,{han:y.han,fu:y.fu}),c.jsx(n0,{className:"text-xs text-neutral-600",han:y.han,fu:y.fu,raw:!0})]})]})})]})};function $M({match:t,currentMatchRound:e,initialActivePlayerIndex:r="0",initialTargetPlayerIndex:n="-1",onSubmit:o,...i}){const[s,a]=S.useState({win:1e3,target:1e3}),l=S.useMemo(()=>Object.keys(t.players).map(m=>({index:m.toString(),name:t.players[m].name,position:Mc(m,e.roundCount)})),[t.players,e.roundCount]),[u,p]=S.useState(r),d=S.useMemo(()=>typeof u<"u"?l==null?void 0:l.find(({index:h})=>h===u):void 0,[u,l]),[f,y]=S.useState(n),g=S.useCallback(h=>{const m={...h};e.extendedRoundCount>0&&(m.win+=e.extendedRoundCount*300,m.target&&(m.target+=e.extendedRoundCount*300),m.all&&(m.all+=e.extendedRoundCount*100),m.east&&(m.east+=e.extendedRoundCount*100),m.others&&(m.others+=e.extendedRoundCount*100)),e.cumulatedThousands>0&&(m.win+=e.cumulatedThousands*1e3),a(m)},[e.cumulatedThousands,e.extendedRoundCount]),_=S.useMemo(()=>c.jsxs("div",{children:[c.jsx(mn,{roundCount:e.roundCount,extendedRoundCount:e.extendedRoundCount,max:8}),c.jsx("span",{children:" 和了"})]}),[e.roundCount,e.extendedRoundCount]),b=S.useMemo(()=>{const h=Object.keys(e.playerResults),m={0:{...e.playerResults[0],beforeScore:e.playerResults[0].beforeScore,afterScore:e.playerResults[0].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[0].scoreChanges??[]},1:{...e.playerResults[1],beforeScore:e.playerResults[1].beforeScore,afterScore:e.playerResults[1].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[1].scoreChanges??[]},2:{...e.playerResults[2],beforeScore:e.playerResults[2].beforeScore,afterScore:e.playerResults[2].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[2].scoreChanges??[]},3:{...e.playerResults[3],beforeScore:e.playerResults[3].beforeScore,afterScore:e.playerResults[3].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[3].scoreChanges??[]}};if(u===f)return m;let E=0;for(let A=0;A<h.length;A+=1){const I=h[A];I===u?(m[I].afterScore+=s.win,m[I].type=mt.Win,m[I].scoreChanges=[s.win]):s.target&&I===f?(m[I].afterScore-=s.target,m[I].type=mt.Lose,m[I].scoreChanges=[-s.target]):s.all?(m[I].afterScore-=s.all,m[I].type=mt.Lose,m[I].scoreChanges=[-s.all]):s.east&&s.others&&(Lc(I,e.roundCount)?(m[I].afterScore-=s.east,m[I].type=mt.Lose,m[I].scoreChanges=[-s.east]):(m[I].afterScore-=s.others,m[I].type=mt.Lose,m[I].scoreChanges=[-s.others])),I!==u&&m[I].isRiichi&&(m[I].afterScore-=1e3,m[I].scoreChanges.unshift(-1e3),E+=1e3)}return u&&E>0&&(m[u].afterScore+=E,m[u].scoreChanges.unshift(E)),m},[u,s.all,s.east,s.others,s.target,s.win,e,f]),v=S.useCallback(()=>{if(!o)return;const h={...e,resultType:mM(s),playerResults:b,cumulatedThousands:0};o(h)},[s,e,o,b]);return S.useEffect(()=>{i.open&&p(r)},[i.open,r]),c.jsx(jr,{title:_,...i,children:c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex gap-x-4 items-center",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Hu,{value:u,onChangeValue:p,children:l.map(({index:h,name:m})=>c.jsx("option",{value:h,children:m},h))})}),c.jsx("div",{className:"text-xs text-gray-500",children:"和了"}),c.jsx("div",{className:"flex-1",children:c.jsxs(Hu,{value:f,onChangeValue:y,children:[c.jsx("option",{value:"-1",children:"自摸"}),l.map(({index:h,name:m})=>c.jsx("option",{value:h,children:m},h))]})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h5",{className:"font-bold",children:"役種"}),c.jsx(OM,{round:e.roundCount,activePlayerIndex:r})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h5",{className:"font-bold",children:"番數／符數"}),c.jsx(PM,{isEast:(d==null?void 0:d.position)===Rn.East,isRon:f!=="-1",onChangeScore:g}),c.jsx("div",{className:"text-2xl font-bold text-center bg-gray-600 text-white py-2",children:c.jsx(NM,{score:s})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h5",{className:"font-bold",children:"分數變動"}),c.jsx("table",{className:"text-sm w-full",children:c.jsx("tbody",{children:Object.keys(t.players).map(h=>c.jsxs("tr",{children:[c.jsx("th",{children:t.players[h].name}),c.jsx("td",{children:b[h].beforeScore}),c.jsx("td",{children:c.jsx(bt,{signed:!0,value:b[h].afterScore-b[h].beforeScore,positiveClassName:"text-green-400",negativeClassName:"text-red-400"})}),c.jsx("td",{className:"text-right",children:b[h].afterScore})]},h))})})]}),c.jsx("div",{className:"space-y-2",children:c.jsx(xe,{onClick:v,className:"w-full",children:"提交並播出分數變動動畫"})})]})})}const DM=[["1m","2m","3m","4m","5m","6m","7m","8m","9m","0m"],["1p","2p","3p","4p","5p","6p","7p","8p","9p","0p"],["1s","2s","3s","4s","5s","6s","7s","8s","9s","0s"],["1z","2z","3z","4z","5z","6z","7z"]],o0={m:0,p:1,s:2,z:3},FM=(t,e)=>{const[r,n]=[t[0],t[1]],[o,i]=[e[0],e[1]];return n!==i?o0[n]-o0[i]:parseInt(r,10)-parseInt(o,10)};function i0({onSubmit:t,onRemove:e,canRemove:r,hideRedTiles:n,multiple:o,defaultValue:i}){const[s,a]=S.useState([]),l=S.useCallback(d=>{var y;const f=(y=d.currentTarget)==null?void 0:y.getAttribute("data-key");f&&a(o?g=>{const _=g.indexOf(f);if(_===-1)return[...g,f].sort(FM);const b=[...g];return b.splice(_,1),b}:[f])},[o]),u=S.useCallback(()=>{s&&t&&(t==null||t(s),a([]))},[t,s]),p=S.useCallback(()=>{r&&(e==null||e(),a([]))},[r,e]);return S.useEffect(()=>{a(i??[])},[i]),c.jsxs("div",{children:[c.jsx("div",{className:`mb-4 grid ${n?"grid-cols-9":"grid-cols-10"} gap-1 lg:gap-x-2 lg:gap-y-4 items-center text-center`,children:DM.map(d=>d.map(f=>(!f.startsWith("0")||!n)&&c.jsx("button",{type:"button",onClick:l,"data-key":f,className:`${s.indexOf(f)!==-1?"bg-blue-400":"bg-black bg-opacity-20"} rounded p-1 lg:p-2`,children:c.jsx(Ra,{children:f})})))}),c.jsxs("div",{className:"flex gap-x-4",children:[r&&c.jsx("div",{className:"flex-1",children:c.jsx(xe,{className:"w-full",type:"button",color:"secondary",onClick:p,children:"移除"})}),c.jsx("div",{className:"flex-1",children:c.jsx(xe,{className:"w-full",type:"button",color:"primary",onClick:u,disabled:s.length===0,children:"確定"})})]})]})}function MM({match:t,currentMatchRound:e,onSubmit:r,...n}){const o=S.useMemo(()=>Object.keys(t.players).map(f=>({index:f.toString(),name:t.players[f].name,position:Mc(f,e.roundCount)})),[t.players,e.roundCount]),[i,s]=S.useState({0:!1,1:!1,2:!1,3:!1}),a=S.useCallback(d=>{var g,_;const f=(g=d.currentTarget)==null?void 0:g.checked,y=(_=d.currentTarget)==null?void 0:_.getAttribute("data-player-index");typeof f>"u"||!y||s(b=>({...b,[y]:f}))},[]),l=S.useMemo(()=>c.jsxs("div",{children:[c.jsx(mn,{roundCount:e.roundCount,extendedRoundCount:e.extendedRoundCount,max:8}),c.jsx("span",{children:" 流局"})]}),[e.roundCount,e.extendedRoundCount]),u=S.useMemo(()=>{const d=Object.keys(e.playerResults),f={0:{...e.playerResults[0],beforeScore:e.playerResults[0].beforeScore,afterScore:e.playerResults[0].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[0].prevScoreChanges??[]},1:{...e.playerResults[1],beforeScore:e.playerResults[1].beforeScore,afterScore:e.playerResults[1].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[1].prevScoreChanges??[]},2:{...e.playerResults[2],beforeScore:e.playerResults[2].beforeScore,afterScore:e.playerResults[2].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[2].prevScoreChanges??[]},3:{...e.playerResults[3],beforeScore:e.playerResults[3].beforeScore,afterScore:e.playerResults[3].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[3].prevScoreChanges??[]}};let y=0,g=0;const _=Object.values(i).filter(b=>!!b).length;_===1?(y=3e3,g=1e3):_===2?(y=1500,g=1500):_===3&&(y=1e3,g=3e3);for(let b=0;b<d.length;b+=1){const v=d[b];y&&g&&(i[v]?(f[v].afterScore+=y,f[v].type=mt.Win,f[v].scoreChanges=[y]):(f[v].afterScore-=g,f[v].type=mt.Lose,f[v].scoreChanges=[-g])),f[v].isRiichi&&(f[v].afterScore-=1e3,f[v].scoreChanges.unshift(-1e3))}return f},[e.playerResults,i]),p=S.useCallback(()=>{if(!r)return;const d={...e,resultType:tr.Exhausted,playerResults:u,cumulatedThousands:e.cumulatedThousands+Object.values(u).filter(({isRiichi:f})=>!!f).length};r(d)},[e,r,u]);return S.useEffect(()=>{n.open&&s({0:!1,1:!1,2:!1,3:!1})},[n.open]),c.jsx(jr,{title:l,...n,children:c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-right text-xs text-gray-500",children:"聽牌？"}),o.map(d=>c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-1",children:d.name}),c.jsx("div",{className:"shrink-0",children:c.jsx(ZE,{checked:i[d.index],onChange:a,"data-player-index":d.index})})]},d.index))]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h5",{className:"font-bold",children:"分數變動"}),c.jsx("table",{className:"text-sm w-full",children:c.jsx("tbody",{children:Object.keys(t.players).map(d=>c.jsxs("tr",{children:[c.jsx("th",{children:t.players[d].name}),c.jsx("td",{children:u[d].beforeScore}),c.jsx("td",{children:c.jsx(bt,{signed:!0,value:u[d].afterScore-u[d].beforeScore,positiveClassName:"text-green-400",negativeClassName:"text-red-400"})}),c.jsx("td",{className:"text-right",children:u[d].afterScore})]},d))})})]}),c.jsx("div",{className:"space-y-2",children:c.jsx(xe,{onClick:p,className:"w-full",children:"提交並播出分數變動動畫"})})]})})}var ja=t=>t.type==="checkbox",Ko=t=>t instanceof Date,ct=t=>t==null;const eC=t=>typeof t=="object";var We=t=>!ct(t)&&!Array.isArray(t)&&eC(t)&&!Ko(t),tC=t=>We(t)&&t.target?ja(t.target)?t.target.checked:t.target.value:t,LM=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,rC=(t,e)=>t.has(LM(e)),BM=t=>{const e=t.constructor&&t.constructor.prototype;return We(e)&&e.hasOwnProperty("isPrototypeOf")},Yy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Yy&&(t instanceof Blob||t instanceof FileList))&&(r||We(t)))if(e=r?[]:{},!r&&!BM(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Gt(t[n]));else return t;return e}var Oa=t=>Array.isArray(t)?t.filter(Boolean):[],ke=t=>t===void 0,$=(t,e,r)=>{if(!e||!We(t))return r;const n=Oa(e.split(/[,[\].]+?/)).reduce((o,i)=>ct(o)?o:o[i],t);return ke(n)||n===t?ke(t[e])?r:t[e]:n},lr=t=>typeof t=="boolean";const Ku={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},UM=ge.createContext(null),Jy=()=>ge.useContext(UM);var nC=(t,e,r,n=!0)=>{const o={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(o,i,{get:()=>{const s=i;return e._proxyFormState[s]!==qt.all&&(e._proxyFormState[s]=!n||qt.all),r&&(r[s]=!0),t[s]}});return o},Rt=t=>We(t)&&!Object.keys(t).length,oC=(t,e,r,n)=>{r(t);const{name:o,...i}=t;return Rt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!n||qt.all))},kl=t=>Array.isArray(t)?t:[t],iC=(t,e,r)=>!t||!e||t===e||kl(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Xy(t){const e=ge.useRef(t);e.current=t,ge.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function WM(t){const e=Jy(),{control:r=e.control,disabled:n,name:o,exact:i}=t||{},[s,a]=ge.useState(r._formState),l=ge.useRef(!0),u=ge.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=ge.useRef(o);return p.current=o,Xy({disabled:n,next:d=>l.current&&iC(p.current,d.name,i)&&oC(d,u.current,r._updateFormState)&&a({...r._formState,...d}),subject:r._subjects.state}),ge.useEffect(()=>(l.current=!0,u.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),nC(s,r,u.current,!1)}var ur=t=>typeof t=="string",sC=(t,e,r,n,o)=>ur(t)?(n&&e.watch.add(t),$(r,t,o)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),$(r,i))):(n&&(e.watchAll=!0),r);function aC(t){const e=Jy(),{control:r=e.control,name:n,defaultValue:o,disabled:i,exact:s}=t||{},a=ge.useRef(n);a.current=n,Xy({disabled:i,subject:r._subjects.values,next:p=>{iC(a.current,p.name,s)&&u(Gt(sC(a.current,r._names,p.values||r._formValues,!1,o)))}});const[l,u]=ge.useState(r._getWatch(n,o));return ge.useEffect(()=>r._removeUnmounted()),l}var Zy=t=>/^\w*$/.test(t),lC=t=>Oa(t.replace(/["|']|\]/g,"").split(/\.|\[/));function de(t,e,r){let n=-1;const o=Zy(e)?[e]:lC(e),i=o.length,s=i-1;for(;++n<i;){const a=o[n];let l=r;if(n!==s){const u=t[a];l=We(u)||Array.isArray(u)?u:isNaN(+o[n+1])?{}:[]}t[a]=l,t=t[a]}return t}function zM(t){const e=Jy(),{name:r,disabled:n,control:o=e.control,shouldUnregister:i}=t,s=rC(o._names.array,r),a=aC({control:o,name:r,defaultValue:$(o._formValues,r,$(o._defaultValues,r,t.defaultValue)),exact:!0}),l=WM({control:o,name:r}),u=ge.useRef(o.register(r,{...t.rules,value:a}));return u.current=o.register(r,t.rules),ge.useEffect(()=>{const p=o._options.shouldUnregister||i,d=(f,y)=>{const g=$(o._fields,f);g&&(g._f.mount=y)};if(d(r,!0),p){const f=Gt($(o._options.defaultValues,r));de(o._defaultValues,r,f),ke($(o._formValues,r))&&de(o._formValues,r,f)}return()=>{(s?p&&!o._state.action:p)?o.unregister(r):d(r,!1)}},[r,o,s,i]),ge.useEffect(()=>{$(o._fields,r)&&o._updateDisabledField({disabled:n,fields:o._fields,name:r,value:$(o._fields,r)._f.value})},[n,r,o]),{field:{name:r,value:a,...lr(n)||lr(l.disabled)?{disabled:l.disabled||n}:{},onChange:ge.useCallback(p=>u.current.onChange({target:{value:tC(p),name:r},type:Ku.CHANGE}),[r]),onBlur:ge.useCallback(()=>u.current.onBlur({target:{value:$(o._formValues,r),name:r},type:Ku.BLUR}),[r,o]),ref:p=>{const d=$(o._fields,r);d&&p&&(d._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:f=>p.setCustomValidity(f),reportValidity:()=>p.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!$(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!$(l.touchedFields,r)},error:{enumerable:!0,get:()=>$(l.errors,r)}})}}const cr=t=>t.render(zM(t));var VM=(t,e,r,n,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:o||!0}}:{},s0=t=>({isOnSubmit:!t||t===qt.onSubmit,isOnBlur:t===qt.onBlur,isOnChange:t===qt.onChange,isOnAll:t===qt.all,isOnTouch:t===qt.onTouched}),a0=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Tl=(t,e,r,n)=>{for(const o of r||Object.keys(t)){const i=$(t,o);if(i){const{_f:s,...a}=i;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],o)&&!n)break;if(s.ref&&e(s.ref,s.name)&&!n)break}else We(a)&&Tl(a,e)}}};var GM=(t,e,r)=>{const n=Oa($(t,r));return de(n,"root",e[r]),de(t,r,n),t},eg=t=>t.type==="file",Jr=t=>typeof t=="function",qu=t=>{if(!Yy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Rl=t=>ur(t),tg=t=>t.type==="radio",Yu=t=>t instanceof RegExp;const l0={value:!1,isValid:!1},u0={value:!0,isValid:!0};var uC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ke(t[0].attributes.value)?ke(t[0].value)||t[0].value===""?u0:{value:t[0].value,isValid:!0}:u0:l0}return l0};const c0={isValid:!1,value:null};var cC=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,c0):c0;function f0(t,e,r="validate"){if(Rl(t)||Array.isArray(t)&&t.every(Rl)||lr(t)&&!t)return{type:r,message:Rl(t)?t:"",ref:e}}var Eo=t=>We(t)&&!Yu(t)?t:{value:t,message:""},d0=async(t,e,r,n,o)=>{const{ref:i,refs:s,required:a,maxLength:l,minLength:u,min:p,max:d,pattern:f,validate:y,name:g,valueAsNumber:_,mount:b,disabled:v}=t._f,h=$(e,g);if(!b||v)return{};const m=s?s[0]:i,E=H=>{n&&m.reportValidity&&(m.setCustomValidity(lr(H)?"":H||""),m.reportValidity())},A={},I=tg(i),T=ja(i),j=I||T,Q=(_||eg(i))&&ke(i.value)&&ke(h)||qu(i)&&i.value===""||h===""||Array.isArray(h)&&!h.length,V=VM.bind(null,g,r,A),ve=(H,W,ae,Oe=vr.maxLength,Re=vr.minLength)=>{const nt=H?W:ae;A[g]={type:H?Oe:Re,message:nt,ref:i,...V(H?Oe:Re,nt)}};if(o?!Array.isArray(h)||!h.length:a&&(!j&&(Q||ct(h))||lr(h)&&!h||T&&!uC(s).isValid||I&&!cC(s).isValid)){const{value:H,message:W}=Rl(a)?{value:!!a,message:a}:Eo(a);if(H&&(A[g]={type:vr.required,message:W,ref:m,...V(vr.required,W)},!r))return E(W),A}if(!Q&&(!ct(p)||!ct(d))){let H,W;const ae=Eo(d),Oe=Eo(p);if(!ct(h)&&!isNaN(h)){const Re=i.valueAsNumber||h&&+h;ct(ae.value)||(H=Re>ae.value),ct(Oe.value)||(W=Re<Oe.value)}else{const Re=i.valueAsDate||new Date(h),nt=G=>new Date(new Date().toDateString()+" "+G),R=i.type=="time",M=i.type=="week";ur(ae.value)&&h&&(H=R?nt(h)>nt(ae.value):M?h>ae.value:Re>new Date(ae.value)),ur(Oe.value)&&h&&(W=R?nt(h)<nt(Oe.value):M?h<Oe.value:Re<new Date(Oe.value))}if((H||W)&&(ve(!!H,ae.message,Oe.message,vr.max,vr.min),!r))return E(A[g].message),A}if((l||u)&&!Q&&(ur(h)||o&&Array.isArray(h))){const H=Eo(l),W=Eo(u),ae=!ct(H.value)&&h.length>+H.value,Oe=!ct(W.value)&&h.length<+W.value;if((ae||Oe)&&(ve(ae,H.message,W.message),!r))return E(A[g].message),A}if(f&&!Q&&ur(h)){const{value:H,message:W}=Eo(f);if(Yu(H)&&!h.match(H)&&(A[g]={type:vr.pattern,message:W,ref:i,...V(vr.pattern,W)},!r))return E(W),A}if(y){if(Jr(y)){const H=await y(h,e),W=f0(H,m);if(W&&(A[g]={...W,...V(vr.validate,W.message)},!r))return E(W.message),A}else if(We(y)){let H={};for(const W in y){if(!Rt(H)&&!r)break;const ae=f0(await y[W](h,e),m,W);ae&&(H={...ae,...V(W,ae.message)},E(ae.message),r&&(A[g]=H))}if(!Rt(H)&&(A[g]={ref:m,...H},!r))return A}}return E(!0),A};function HM(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ke(t)?n++:t[e[n++]];return t}function QM(t){for(const e in t)if(t.hasOwnProperty(e)&&!ke(t[e]))return!1;return!0}function Je(t,e){const r=Array.isArray(e)?e:Zy(e)?[e]:lC(e),n=r.length===1?t:HM(t,r),o=r.length-1,i=r[o];return n&&delete n[i],o!==0&&(We(n)&&Rt(n)||Array.isArray(n)&&QM(n))&&Je(t,r.slice(0,-1)),t}function fd(){let t=[];return{get observers(){return t},next:o=>{for(const i of t)i.next&&i.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(i=>i!==o)}}),unsubscribe:()=>{t=[]}}}var Ju=t=>ct(t)||!eC(t);function jn(t,e){if(Ju(t)||Ju(e))return t===e;if(Ko(t)&&Ko(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const o of r){const i=t[o];if(!n.includes(o))return!1;if(o!=="ref"){const s=e[o];if(Ko(i)&&Ko(s)||We(i)&&We(s)||Array.isArray(i)&&Array.isArray(s)?!jn(i,s):i!==s)return!1}}return!0}var fC=t=>t.type==="select-multiple",KM=t=>tg(t)||ja(t),dd=t=>qu(t)&&t.isConnected,dC=t=>{for(const e in t)if(Jr(t[e]))return!0;return!1};function Xu(t,e={}){const r=Array.isArray(t);if(We(t)||r)for(const n in t)Array.isArray(t[n])||We(t[n])&&!dC(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Xu(t[n],e[n])):ct(t[n])||(e[n]=!0);return e}function pC(t,e,r){const n=Array.isArray(t);if(We(t)||n)for(const o in t)Array.isArray(t[o])||We(t[o])&&!dC(t[o])?ke(e)||Ju(r[o])?r[o]=Array.isArray(t[o])?Xu(t[o],[]):{...Xu(t[o])}:pC(t[o],ct(e)?{}:e[o],r[o]):r[o]=!jn(t[o],e[o]);return r}var pd=(t,e)=>pC(t,e,Xu(e)),hC=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ke(t)?t:e?t===""?NaN:t&&+t:r&&ur(t)?new Date(t):n?n(t):t;function hd(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return eg(e)?e.files:tg(e)?cC(t.refs).value:fC(e)?[...e.selectedOptions].map(({value:r})=>r):ja(e)?uC(t.refs).value:hC(ke(e.value)?t.ref.value:e.value,t)}var qM=(t,e,r,n)=>{const o={};for(const i of t){const s=$(e,i);s&&de(o,i,s._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:n}},fs=t=>ke(t)?t:Yu(t)?t.source:We(t)?Yu(t.value)?t.value.source:t.value:t,YM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function p0(t,e,r){const n=$(t,r);if(n||Zy(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const i=o.join("."),s=$(e,i),a=$(t,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};o.pop()}return{name:r}}var JM=(t,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:(r?n.isOnChange:o.isOnChange)?t:!0,XM=(t,e)=>!Oa($(t,e)).length&&Je(t,e);const ZM={mode:qt.onSubmit,reValidateMode:qt.onChange,shouldFocusError:!0};function eL(t={},e){let r={...ZM,...t},n={submitCount:0,isDirty:!1,isLoading:Jr(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{},disabled:!1},o={},i=We(r.defaultValues)||We(r.values)?Gt(r.defaultValues||r.values)||{}:{},s=r.shouldUnregister?{}:Gt(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,p=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:fd(),array:fd(),state:fd()},y=t.resetOptions&&t.resetOptions.keepDirtyValues,g=s0(r.mode),_=s0(r.reValidateMode),b=r.criteriaMode===qt.all,v=x=>w=>{clearTimeout(p),p=setTimeout(x,w)},h=async x=>{if(d.isValid||x){const w=r.resolver?Rt((await Q()).errors):await ve(o,!0);w!==n.isValid&&f.state.next({isValid:w})}},m=x=>d.isValidating&&f.state.next({isValidating:x}),E=(x,w=[],C,L,O=!0,k=!0)=>{if(L&&C){if(a.action=!0,k&&Array.isArray($(o,x))){const U=C($(o,x),L.argA,L.argB);O&&de(o,x,U)}if(k&&Array.isArray($(n.errors,x))){const U=C($(n.errors,x),L.argA,L.argB);O&&de(n.errors,x,U),XM(n.errors,x)}if(d.touchedFields&&k&&Array.isArray($(n.touchedFields,x))){const U=C($(n.touchedFields,x),L.argA,L.argB);O&&de(n.touchedFields,x,U)}d.dirtyFields&&(n.dirtyFields=pd(i,s)),f.state.next({name:x,isDirty:W(x,w),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else de(s,x,w)},A=(x,w)=>{de(n.errors,x,w),f.state.next({errors:n.errors})},I=(x,w,C,L)=>{const O=$(o,x);if(O){const k=$(s,x,ke(C)?$(i,x):C);ke(k)||L&&L.defaultChecked||w?de(s,x,w?k:hd(O._f)):Re(x,k),a.mount&&h()}},T=(x,w,C,L,O)=>{let k=!1,U=!1;const fe={name:x};if(!C||L){d.isDirty&&(U=n.isDirty,n.isDirty=fe.isDirty=W(),k=U!==fe.isDirty);const $e=jn($(i,x),w);U=$(n.dirtyFields,x),$e?Je(n.dirtyFields,x):de(n.dirtyFields,x,!0),fe.dirtyFields=n.dirtyFields,k=k||d.dirtyFields&&U!==!$e}if(C){const $e=$(n.touchedFields,x);$e||(de(n.touchedFields,x,C),fe.touchedFields=n.touchedFields,k=k||d.touchedFields&&$e!==C)}return k&&O&&f.state.next(fe),k?fe:{}},j=(x,w,C,L)=>{const O=$(n.errors,x),k=d.isValid&&lr(w)&&n.isValid!==w;if(t.delayError&&C?(u=v(()=>A(x,C)),u(t.delayError)):(clearTimeout(p),u=null,C?de(n.errors,x,C):Je(n.errors,x)),(C?!jn(O,C):O)||!Rt(L)||k){const U={...L,...k&&lr(w)?{isValid:w}:{},errors:n.errors,name:x};n={...n,...U},f.state.next(U)}m(!1)},Q=async x=>r.resolver(s,r.context,qM(x||l.mount,o,r.criteriaMode,r.shouldUseNativeValidation)),V=async x=>{const{errors:w}=await Q(x);if(x)for(const C of x){const L=$(w,C);L?de(n.errors,C,L):Je(n.errors,C)}else n.errors=w;return w},ve=async(x,w,C={valid:!0})=>{for(const L in x){const O=x[L];if(O){const{_f:k,...U}=O;if(k){const fe=l.array.has(k.name),$e=await d0(O,s,b,r.shouldUseNativeValidation&&!w,fe);if($e[k.name]&&(C.valid=!1,w))break;!w&&($($e,k.name)?fe?GM(n.errors,$e,k.name):de(n.errors,k.name,$e[k.name]):Je(n.errors,k.name))}U&&await ve(U,w,C)}}return C.valid},H=()=>{for(const x of l.unMount){const w=$(o,x);w&&(w._f.refs?w._f.refs.every(C=>!dd(C)):!dd(w._f.ref))&&B(x)}l.unMount=new Set},W=(x,w)=>(x&&w&&de(s,x,w),!jn(Ee(),i)),ae=(x,w,C)=>sC(x,l,{...a.mount?s:ke(w)?i:ur(x)?{[x]:w}:w},C,w),Oe=x=>Oa($(a.mount?s:i,x,t.shouldUnregister?$(i,x,[]):[])),Re=(x,w,C={})=>{const L=$(o,x);let O=w;if(L){const k=L._f;k&&(!k.disabled&&de(s,x,hC(w,k)),O=qu(k.ref)&&ct(w)?"":w,fC(k.ref)?[...k.ref.options].forEach(U=>U.selected=O.includes(U.value)):k.refs?ja(k.ref)?k.refs.length>1?k.refs.forEach(U=>(!U.defaultChecked||!U.disabled)&&(U.checked=Array.isArray(O)?!!O.find(fe=>fe===U.value):O===U.value)):k.refs[0]&&(k.refs[0].checked=!!O):k.refs.forEach(U=>U.checked=U.value===O):eg(k.ref)?k.ref.value="":(k.ref.value=O,k.ref.type||f.values.next({name:x,values:{...s}})))}(C.shouldDirty||C.shouldTouch)&&T(x,O,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&ce(x)},nt=(x,w,C)=>{for(const L in w){const O=w[L],k=`${x}.${L}`,U=$(o,k);(l.array.has(x)||!Ju(O)||U&&!U._f)&&!Ko(O)?nt(k,O,C):Re(k,O,C)}},R=(x,w,C={})=>{const L=$(o,x),O=l.array.has(x),k=Gt(w);de(s,x,k),O?(f.array.next({name:x,values:{...s}}),(d.isDirty||d.dirtyFields)&&C.shouldDirty&&f.state.next({name:x,dirtyFields:pd(i,s),isDirty:W(x,k)})):L&&!L._f&&!ct(k)?nt(x,k,C):Re(x,k,C),a0(x,l)&&f.state.next({...n}),f.values.next({name:x,values:{...s}}),!a.mount&&e()},M=async x=>{const w=x.target;let C=w.name,L=!0;const O=$(o,C),k=()=>w.type?hd(O._f):tC(x),U=fe=>{L=Number.isNaN(fe)||fe===$(s,C,fe)};if(O){let fe,$e;const Da=k(),fo=x.type===Ku.BLUR||x.type===Ku.FOCUS_OUT,xC=!YM(O._f)&&!r.resolver&&!$(n.errors,C)&&!O._f.deps||JM(fo,$(n.touchedFields,C),n.isSubmitted,_,g),Uc=a0(C,l,fo);de(s,C,Da),fo?(O._f.onBlur&&O._f.onBlur(x),u&&u(0)):O._f.onChange&&O._f.onChange(x);const Wc=T(C,Da,fo,!1),SC=!Rt(Wc)||Uc;if(!fo&&f.values.next({name:C,type:x.type,values:{...s}}),xC)return d.isValid&&h(),SC&&f.state.next({name:C,...Uc?{}:Wc});if(!fo&&Uc&&f.state.next({...n}),m(!0),r.resolver){const{errors:sg}=await Q([C]);if(U(Da),L){const wC=p0(n.errors,o,C),ag=p0(sg,o,wC.name||C);fe=ag.error,C=ag.name,$e=Rt(sg)}}else fe=(await d0(O,s,b,r.shouldUseNativeValidation))[C],U(Da),L&&(fe?$e=!1:d.isValid&&($e=await ve(o,!0)));L&&(O._f.deps&&ce(O._f.deps),j(C,$e,fe,Wc))}},G=(x,w)=>{if($(n.errors,w)&&x.focus)return x.focus(),1},ce=async(x,w={})=>{let C,L;const O=kl(x);if(m(!0),r.resolver){const k=await V(ke(x)?x:O);C=Rt(k),L=x?!O.some(U=>$(k,U)):C}else x?(L=(await Promise.all(O.map(async k=>{const U=$(o,k);return await ve(U&&U._f?{[k]:U}:U)}))).every(Boolean),!(!L&&!n.isValid)&&h()):L=C=await ve(o);return f.state.next({...!ur(x)||d.isValid&&C!==n.isValid?{}:{name:x},...r.resolver||!x?{isValid:C}:{},errors:n.errors,isValidating:!1}),w.shouldFocus&&!L&&Tl(o,G,x?O:l.mount),L},Ee=x=>{const w={...i,...a.mount?s:{}};return ke(x)?w:ur(x)?$(w,x):x.map(C=>$(w,C))},gr=(x,w)=>({invalid:!!$((w||n).errors,x),isDirty:!!$((w||n).dirtyFields,x),isTouched:!!$((w||n).touchedFields,x),error:$((w||n).errors,x)}),Ut=x=>{x&&kl(x).forEach(w=>Je(n.errors,w)),f.state.next({errors:x?n.errors:{}})},Fr=(x,w,C)=>{const L=($(o,x,{_f:{}})._f||{}).ref;de(n.errors,x,{...w,ref:L}),f.state.next({name:x,errors:n.errors,isValid:!1}),C&&C.shouldFocus&&L&&L.focus&&L.focus()},D=(x,w)=>Jr(x)?f.values.subscribe({next:C=>x(ae(void 0,w),C)}):ae(x,w,!0),B=(x,w={})=>{for(const C of x?kl(x):l.mount)l.mount.delete(C),l.array.delete(C),w.keepValue||(Je(o,C),Je(s,C)),!w.keepError&&Je(n.errors,C),!w.keepDirty&&Je(n.dirtyFields,C),!w.keepTouched&&Je(n.touchedFields,C),!r.shouldUnregister&&!w.keepDefaultValue&&Je(i,C);f.values.next({values:{...s}}),f.state.next({...n,...w.keepDirty?{isDirty:W()}:{}}),!w.keepIsValid&&h()},Pe=({disabled:x,name:w,field:C,fields:L,value:O})=>{if(lr(x)){const k=x?void 0:ke(O)?hd(C?C._f:$(L,w)._f):O;de(s,w,k),T(w,k,!1,!1,!0)}},Et=(x,w={})=>{let C=$(o,x);const L=lr(w.disabled);return de(o,x,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:x}},name:x,mount:!0,...w}}),l.mount.add(x),C?Pe({field:C,disabled:w.disabled,name:x}):I(x,!0,w.value),{...L?{disabled:w.disabled}:{},...r.progressive?{required:!!w.required,min:fs(w.min),max:fs(w.max),minLength:fs(w.minLength),maxLength:fs(w.maxLength),pattern:fs(w.pattern)}:{},name:x,onChange:M,onBlur:M,ref:O=>{if(O){Et(x,w),C=$(o,x);const k=ke(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,U=KM(k),fe=C._f.refs||[];if(U?fe.find($e=>$e===k):k===C._f.ref)return;de(o,x,{_f:{...C._f,...U?{refs:[...fe.filter(dd),k,...Array.isArray($(i,x))?[{}]:[]],ref:{type:k.type,name:x}}:{ref:k}}}),I(x,!1,void 0,k)}else C=$(o,x,{}),C._f&&(C._f.mount=!1),(r.shouldUnregister||w.shouldUnregister)&&!(rC(l.array,x)&&a.action)&&l.unMount.add(x)}}},$a=()=>r.shouldFocusError&&Tl(o,G,l.mount),vC=x=>{lr(x)&&(f.state.next({disabled:x}),Tl(o,w=>{w.disabled=x},0,!1))},ng=(x,w)=>async C=>{C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let L=Gt(s);if(f.state.next({isSubmitting:!0}),r.resolver){const{errors:O,values:k}=await Q();n.errors=O,L=k}else await ve(o);Je(n.errors,"root"),Rt(n.errors)?(f.state.next({errors:{}}),await x(L,C)):(w&&await w({...n.errors},C),$a(),setTimeout($a)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rt(n.errors),submitCount:n.submitCount+1,errors:n.errors})},_C=(x,w={})=>{$(o,x)&&(ke(w.defaultValue)?R(x,$(i,x)):(R(x,w.defaultValue),de(i,x,w.defaultValue)),w.keepTouched||Je(n.touchedFields,x),w.keepDirty||(Je(n.dirtyFields,x),n.isDirty=w.defaultValue?W(x,$(i,x)):W()),w.keepError||(Je(n.errors,x),d.isValid&&h()),f.state.next({...n}))},og=(x,w={})=>{const C=x?Gt(x):i,L=Gt(C),O=x&&!Rt(x)?L:i;if(w.keepDefaultValues||(i=C),!w.keepValues){if(w.keepDirtyValues||y)for(const k of l.mount)$(n.dirtyFields,k)?de(O,k,$(s,k)):R(k,$(O,k));else{if(Yy&&ke(x))for(const k of l.mount){const U=$(o,k);if(U&&U._f){const fe=Array.isArray(U._f.refs)?U._f.refs[0]:U._f.ref;if(qu(fe)){const $e=fe.closest("form");if($e){$e.reset();break}}}}o={}}s=t.shouldUnregister?w.keepDefaultValues?Gt(i):{}:Gt(O),f.array.next({values:{...O}}),f.values.next({values:{...O}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!w.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:w.keepSubmitCount?n.submitCount:0,isDirty:w.keepDirty?n.isDirty:!!(w.keepDefaultValues&&!jn(x,i)),isSubmitted:w.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:w.keepDirtyValues?n.dirtyFields:w.keepDefaultValues&&x?pd(i,x):{},touchedFields:w.keepTouched?n.touchedFields:{},errors:w.keepErrors?n.errors:{},isSubmitSuccessful:w.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ig=(x,w)=>og(Jr(x)?x(s):x,w);return{control:{register:Et,unregister:B,getFieldState:gr,handleSubmit:ng,setError:Fr,_executeSchema:Q,_getWatch:ae,_getDirty:W,_updateValid:h,_removeUnmounted:H,_updateFieldArray:E,_updateDisabledField:Pe,_getFieldArray:Oe,_reset:og,_resetDefaultValues:()=>Jr(r.defaultValues)&&r.defaultValues().then(x=>{ig(x,r.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:x=>{n={...n,...x}},_disableForm:vC,_subjects:f,_proxyFormState:d,get _fields(){return o},get _formValues(){return s},get _state(){return a},set _state(x){a=x},get _defaultValues(){return i},get _names(){return l},set _names(x){l=x},get _formState(){return n},set _formState(x){n=x},get _options(){return r},set _options(x){r={...r,...x}}},trigger:ce,register:Et,handleSubmit:ng,watch:D,setValue:R,getValues:Ee,reset:ig,resetField:_C,clearErrors:Ut,unregister:B,setError:Fr,setFocus:(x,w={})=>{const C=$(o,x),L=C&&C._f;if(L){const O=L.refs?L.refs[0]:L.ref;O.focus&&(O.focus(),w.shouldSelect&&O.select())}},getFieldState:gr}}function rg(t={}){const e=ge.useRef(),r=ge.useRef(),[n,o]=ge.useState({isDirty:!1,isValidating:!1,isLoading:Jr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},disabled:!1,defaultValues:Jr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...eL(t,()=>o(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,Xy({subject:i._subjects.state,next:s=>{oC(s,i._proxyFormState,i._updateFormState,!0)&&o({...i._formState})}}),ge.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ge.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),ge.useEffect(()=>{t.values&&!jn(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values):i._resetDefaultValues()},[t.values,i]),ge.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=nC(n,i),e.current}const tL=qy(["block w-full rounded-md border-0 p-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"]);function Cr({className:t,...e}){const r=S.useMemo(()=>tL({className:t}),[t]);return c.jsx("input",{className:r,...e})}function rL({match:t,currentMatchRound:e,onSubmit:r,...n}){const{reset:o,handleSubmit:i,control:s}=rg({defaultValues:{player_0:0,player_1:0,player_2:0,player_3:0,cumulatedThousands:0,roundCount:0,extendedRoundCount:0}}),a=S.useMemo(()=>Object.keys(t.players).map(p=>({...t.players[p],index:p.toString(),position:Mc(p,e.roundCount)})),[t.players,e.roundCount]),l=S.useMemo(()=>i(u=>{if(!r)return;const p={...e,resultType:tr.Hotfix,playerResults:{0:{...e.playerResults[0],afterScore:parseInt(u.player_0,10)},1:{...e.playerResults[1],afterScore:parseInt(u.player_1,10)},2:{...e.playerResults[2],afterScore:parseInt(u.player_2,10)},3:{...e.playerResults[3],afterScore:parseInt(u.player_3,10)}},cumulatedThousands:parseInt(u.cumulatedThousands,10),roundCount:parseInt(u.roundCount,10),extendedRoundCount:parseInt(u.extendedRoundCount,10)};r(p)}),[e,i,r]);return S.useEffect(()=>{n.open&&o({player_0:e.playerResults[0].beforeScore,player_1:e.playerResults[1].beforeScore,player_2:e.playerResults[2].beforeScore,player_3:e.playerResults[3].beforeScore,cumulatedThousands:e.cumulatedThousands,roundCount:e.roundCount,extendedRoundCount:e.extendedRoundCount})},[e.cumulatedThousands,e.extendedRoundCount,e.playerResults,e.roundCount,n.open,o]),c.jsx(jr,{title:"手動調整分數",...n,children:c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"space-y-2",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"w-1/2",children:"玩家"}),c.jsx("th",{className:"w-1/4",children:"現在分數"}),c.jsx("th",{className:"w-1/4",children:"新的分數"})]})}),c.jsxs("tbody",{children:[a.map(u=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:c.jsx(Ho,{player:u})}),c.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.playerResults[u.index].beforeScore}),c.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:c.jsx(cr,{name:`player_${u.index}`,control:s,rules:{required:!0},render:({field:p})=>c.jsx(Cr,{className:"text-center",type:"number",...p})})})]},u.index)),c.jsxs("tr",{children:[c.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:"供托"}),c.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.cumulatedThousands}),c.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:c.jsx(cr,{name:"cumulatedThousands",control:s,rules:{required:!0},render:({field:u})=>c.jsx(Cr,{className:"text-center",type:"number",...u})})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:"局數(東1局=1, 東2局=2, ...)"}),c.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.roundCount}),c.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:c.jsx(cr,{name:"roundCount",control:s,rules:{required:!0},render:({field:u})=>c.jsx(Cr,{className:"text-center",type:"number",...u})})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:"本場數"}),c.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.extendedRoundCount}),c.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:c.jsx(cr,{name:"extendedRoundCount",control:s,rules:{required:!0},render:({field:u})=>c.jsx(Cr,{className:"text-center",type:"number",...u})})})]})]})]})}),c.jsx("div",{className:"space-y-2",children:c.jsx(xe,{onClick:l,className:"w-full",children:"提交並更新直播畫面"})})]})})}function nL({params:{matchId:t}}){const{data:e,set:r}=Rr("obs/1"),{match:n,matchRounds:o,matchCurrentRound:i,matchCurrentRoundDoras:s,updateCurrentMatchRound:a,pushMatchRound:l,setCurrentRoundDoras:u,setMatchName:p}=Qi(t),[d,f]=S.useState(void 0),[y,g]=Yn(!1),[_,b]=S.useState({initialActivePlayerIndex:"0"}),v=IM(),[h,m]=Yn(!1),[E,A]=Yn(!1);S.useCallback(D=>{const B=D.currentTarget.getAttribute("data-player-index");!B||!(n!=null&&n.players[B])||a({playerResults:{...i==null?void 0:i.playerResults,[B]:{...i==null?void 0:i.playerResults[B],isRevealed:!(i!=null&&i.playerResults[B].isRevealed)}}})},[n==null?void 0:n.players,i==null?void 0:i.playerResults,a]);const I=S.useCallback(D=>{const B=D.currentTarget.getAttribute("data-player-index");if(!B)return;const Pe=n==null?void 0:n.players[B];if(!Pe)return;const Et=!(i!=null&&i.playerResults[B].isRiichi);v.showConfirmDialog({title:Et?"確定要立直嗎？":"取消立直？",content:Et?`一旦點擊確定，就會播出立直動畫，請確定立直的是 ${Pe.name}！`:`你是否想取消 ${Pe.name} 的立直？`,onClickOk:async()=>(a({playerResults:{...i==null?void 0:i.playerResults,[B]:{...i==null?void 0:i.playerResults[B],isRiichi:!(i!=null&&i.playerResults[B].isRiichi)}}}),new Promise($a=>{setTimeout($a,Et?3e3:10)}))})},[v,n==null?void 0:n.players,i==null?void 0:i.playerResults,a]),T=S.useCallback(D=>{var Pe;const B=parseInt((Pe=D.currentTarget)==null?void 0:Pe.getAttribute("data-index"),10);typeof B<"u"&&!Number.isNaN(B)&&f(B)},[]),j=S.useCallback(D=>{if(typeof d<"u"){const B=D[0];if(!B)return;const Pe=[...s];d===-1?Pe.push(B):Pe[d]=B,u(Pe),f(void 0)}},[d,s,u]),Q=S.useCallback(()=>{if(typeof d<"u"){const D=[...s];d>-1&&(D.splice(d,1),u(D),f(void 0))}},[d,s,u]),V=S.useCallback(()=>{f(void 0)},[]),ve=S.useCallback(D=>{const B=D==null?void 0:D.currentTarget.getAttribute("data-player-index");B&&(b({initialActivePlayerIndex:B}),g())},[g]),H=S.useCallback(()=>{m(!0)},[m]),W=S.useCallback(()=>{A(!0)},[A]),ae=S.useCallback(D=>{try{const B=X_(D.roundCount),Pe=D.playerResults[B].type===mt.Win,Et=!Pe&&D.roundCount>=8;Et&&alert("對局結束。"),a({...D,nextRoundType:Et?Fe.End:Pe?Fe.Extended:Fe.NextRound}),g(!1)}catch(B){console.error(B)}},[g,a]),Oe=S.useCallback(D=>{try{const B=X_(D.roundCount),Pe=D.playerResults[B].type!==mt.Win,Et=Pe&&D.roundCount>=8;Et&&alert("對局結束。"),a({...D,nextRoundType:Et?Fe.End:Pe?Fe.NextRoundAndExtended:Fe.Extended}),m(!1)}catch(B){console.error(B)}},[m,a]),Re=S.useCallback(D=>{try{a({playerResults:D.playerResults,resultType:tr.Hotfix});const B={matchId:t,code:Jp(t,D.roundCount,D.extendedRoundCount),roundCount:D.roundCount,extendedRoundCount:D.extendedRoundCount,cumulatedThousands:D.cumulatedThousands,resultType:tr.Unknown,nextRoundType:Fe.Unknown,playerResults:Z_(D.playerResults),doras:{}};l(B),A(!1)}catch(B){console.error(B)}},[t,l,A,a]),nt=S.useCallback(()=>{if(!i)return;const D=i.nextRoundType===Fe.NextRound||i.nextRoundType===Fe.NextRoundAndExtended?i.roundCount+1:i.roundCount,B=i.nextRoundType===Fe.Extended||i.nextRoundType===Fe.NextRoundAndExtended?i.extendedRoundCount+1:0,Pe={matchId:t,code:Jp(t,D,B),roundCount:D,extendedRoundCount:B,cumulatedThousands:i.cumulatedThousands,resultType:tr.Unknown,nextRoundType:Fe.Unknown,playerResults:Z_(i.playerResults),doras:{}};l(Pe),f(-1)},[i,t,l]),R=S.useCallback(()=>{r({matchId:t})},[t,r]),[M,G]=S.useState(null),ce=S.useCallback(D=>{const B=D.currentTarget.getAttribute("data-player-index");typeof B>"u"||!(i!=null&&i.playerResults[B])||G({index:B,tiles:(i==null?void 0:i.playerResults[B].waitingTiles)??[]})},[i==null?void 0:i.playerResults]),Ee=S.useCallback(()=>{G(null)},[]),gr=S.useCallback(D=>{M&&(a({playerResults:{...i==null?void 0:i.playerResults,[M.index]:{...i==null?void 0:i.playerResults[M.index],waitingTiles:D}}}),G(null))},[M,i==null?void 0:i.playerResults,a]),Ut=S.useCallback(()=>{M&&(a({playerResults:{...i==null?void 0:i.playerResults,[M.index]:{...i==null?void 0:i.playerResults[M.index],waitingTiles:[]}}}),G(null))},[M,i==null?void 0:i.playerResults,a]),Fr=S.useCallback(D=>{if(D.preventDefault(),!n)return;const B=prompt("對局名稱",n.name);B&&p(B)},[n,p]);return!n||!i?c.jsx("div",{children:"對局讀取失敗。"}):c.jsxs("div",{children:[c.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-6",children:[c.jsxs("div",{className:"flex flex-row items-center gap-x-4 text-white",children:[c.jsxs("div",{className:"p-2 pl-4 pr-10 flex items-center gap-x-8 transition-[width] text-[4rem]",style:{background:"linear-gradient(280deg, transparent, transparent 22px, #00000080 23px, #00000080 100%)"},children:[c.jsxs("div",{className:"text-[0.5em]",children:[c.jsxs("div",{className:"text-[0.5em]",children:[n.name," ",c.jsx("button",{type:"button",onClick:Fr,children:c.jsx("span",{className:"material-symbols-outlined text-sm underline decoration-dotted",children:"edit"})})]}),c.jsxs("div",{className:"flex gap-x-8 items-center",children:[c.jsx("div",{children:c.jsx(mn,{roundCount:i.roundCount,max:8})}),c.jsxs("div",{className:"flex flex-col justify-around",children:[c.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[c.jsx("div",{className:"flex-1",children:c.jsx("img",{src:"/images/score-hundred.png",alt:"hundred",className:"h-2"})}),c.jsx("div",{className:"text-[0.4em] pb-1.5 leading-none",children:i.extendedRoundCount??0})]}),c.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[c.jsx("div",{className:"flex-1",children:c.jsx("img",{src:"/images/score-thousand.png",alt:"thousand",className:"h-2"})}),c.jsx("div",{className:"text-[0.4em] pb-1.5 leading-none",children:i.cumulatedThousands??0})]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-x-2",children:[s.map((D,B)=>c.jsx("button",{"data-index":B,onClick:T,className:"hover:opacity-80",children:c.jsx(Ra,{className:"w-12 animate-[fadeIn_0.5s_ease-in-out]",children:D},D)})),c.jsx(xe,{type:"button",color:"secondary",className:`${s.length===0&&"animate-bounce"}`,"data-index":"-1",onClick:T,children:"+懸賞"})]})]}),c.jsx("div",{className:"flex-1"}),c.jsx("div",{className:"shrink-0",children:(e==null?void 0:e.matchId)!==t&&c.jsx(xe,{color:"success",type:"button",className:"animate-pulse",onClick:R,children:"開始OBS"})})]}),c.jsxs("div",{className:"text-right space-x-4",children:[i.nextRoundType!==Fe.Unknown&&i.nextRoundType!==Fe.End&&c.jsxs(xe,{color:"success",type:"button",className:"animate-pulse",onClick:nt,children:["進入",c.jsx(mn,{roundCount:i.nextRoundType===Fe.NextRound||i.nextRoundType===Fe.NextRoundAndExtended?i.roundCount+1:i.roundCount,extendedRoundCount:i.nextRoundType===Fe.Extended||i.nextRoundType===Fe.NextRoundAndExtended?i.extendedRoundCount+1:0})]}),c.jsx(xe,{color:"secondary",type:"button",onClick:H,children:"流局"})]}),c.jsx("div",{className:"space-y-4",children:["0","1","2","3"].map(D=>c.jsxs("div",{className:"flex gap-x-2 items-center",children:[c.jsx("div",{className:"flex-1 text-[2.5rem]",children:c.jsx(Ki,{player:n.players[D],playerIndex:D,score:i.playerResults[D].afterScore,scoreChanges:i.playerResults[D].scoreChanges,isEast:Lc(D,i.roundCount),isRiichi:i.playerResults[D].isRiichi,waitingTiles:i.playerResults[D].waitingTiles,onClickWaitingTiles:ce})}),c.jsx("div",{children:c.jsx("button",{type:"button",className:`${i.playerResults[D].isRiichi?"bg-orange-600 text-white":"bg-white text-orange-600 opacity-30"} h-16 w-16 border-2 border-orange-600  rounded-full text-lg`,onClick:I,"data-player-index":D,children:i.playerResults[D].isRiichi?"已立直":"立直?"})}),c.jsx("div",{className:"pl-6",children:c.jsx(xe,{color:"danger",type:"button",onClick:ve,"data-player-index":D,children:"和了"})})]}))}),c.jsx(Bc,{players:n.players,matchRounds:o??{},className:"w-full table-auto"}),c.jsx("div",{children:c.jsx(xe,{color:"secondary",type:"button",onClick:W,children:"手動調整分數"})})]}),c.jsx(jr,{open:typeof d<"u",title:"選擇懸賞",onClose:V,children:c.jsx(i0,{hideRedTiles:!0,onSubmit:j,onRemove:Q,canRemove:typeof d<"u"&&d>0,defaultValue:typeof d<"u"?[s[d]]:void 0})}),c.jsx(jr,{open:!!M,title:"選擇待牌",onClose:Ee,children:c.jsx(i0,{hideRedTiles:!0,onSubmit:gr,onRemove:Ut,defaultValue:M==null?void 0:M.tiles,multiple:!0,canRemove:!0})}),c.jsx($M,{match:n,currentMatchRound:i,open:y,onSubmit:ae,onClose:()=>g(!1),..._}),c.jsx(MM,{match:n,currentMatchRound:i,open:h,onSubmit:Oe,onClose:()=>m(!1),..._}),c.jsx(rL,{match:n,currentMatchRound:i,open:E,onSubmit:Re,onClose:()=>A(!1),..._})]})}function On({children:t,label:e,...r}){return c.jsx("div",{...r,children:c.jsxs("label",{children:[c.jsx("div",{className:"text-sm text-gray-800 mb-1",children:e}),c.jsx("div",{children:t})]})})}const oL=qy(["block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"]);function yC({className:t,...e}){const r=S.useMemo(()=>oL({className:t}),[t]);return c.jsx("input",{type:"color",className:r,...e})}const ll={title:"",name:"新的玩家",color:"#FF0000",propicSrc:""};function gC({defaultValue:t,onSubmit:e}){const[r,n]=S.useState(ll),{reset:o,getValues:i,control:s,handleSubmit:a}=rg({defaultValues:ll}),[{loading:l},u]=TM(e,[e]),p=S.useMemo(()=>a(f=>{u(f)}),[u,a]),d=S.useCallback(()=>{n(i())},[i]);return S.useEffect(()=>{o(t??ll),n(t??ll)},[t,o]),c.jsxs("form",{onSubmit:p,onBlur:d,className:"space-y-6",children:[c.jsx(On,{label:"顏色（務必選能看清楚白字的深色）",children:c.jsx(cr,{name:"color",control:s,render:({field:f})=>c.jsx(yC,{...f}),disabled:l})}),c.jsx(On,{label:"稱號",children:c.jsx(cr,{name:"title",control:s,render:({field:f})=>c.jsx(Cr,{type:"text",...f,placeholder:"例：天鳳鳳位、雀魂x段",disabled:l})})}),c.jsx(On,{className:"mb-6",label:"名字",children:c.jsx(cr,{name:"name",control:s,rules:{required:!0},render:({field:f})=>c.jsx(Cr,{...f}),disabled:l})}),c.jsxs(On,{className:"mb-6",label:"圖片URL (https://...)",children:[c.jsx(cr,{name:"propicSrc",control:s,render:({field:f})=>c.jsx(Cr,{type:"url",placeholder:"https://",...f,disabled:l})}),c.jsx("p",{className:"text-sm",children:"建議大小 360px * 500px (18:25)、使用去背的 .png"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"mb-2",children:"預覽"}),c.jsx("div",{className:"text-[4rem] p-4 bg-gray-800 text-white",children:c.jsx(Ki,{player:r,score:25e3,waitingTiles:["5m","6m","7m"],isRiichi:!0,isEast:!0})})]}),c.jsx("div",{children:c.jsx(xe,{type:"submit",loading:l,children:"儲存"})})]})}function iL(){const[t,e]=S.useState(),r=S.useMemo(()=>[],[]),[n,o]=Yn(!1),i=S.useCallback(()=>o(!1),[o]),s=S.useCallback(()=>{e(void 0),o(!0)},[o]),a=S.useCallback(u=>{e(u),o(!0)},[o]),l=S.useCallback(()=>Promise.resolve(),[]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"container mx-auto max-w-screen-sm space-y-4 py-16",children:[c.jsx("div",{className:"shrink-0",children:c.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{children:c.jsx("h1",{className:"text-4xl",children:"玩家"})}),c.jsx("div",{children:c.jsx(xe,{onClick:s,children:"新增"})})]}),c.jsx("div",{className:"space-y-2",children:r.map(u=>c.jsx(Ho,{player:u,onClickEdit:a}))})]}),c.jsx(jr,{title:"新增／修改玩家",open:n,onClose:i,children:c.jsx("div",{className:"container space-y-6",children:c.jsx(gC,{onSubmit:l,defaultValue:t})})})]})}const sL={0:"東",1:"南",2:"西",3:"北"};function aL({playerIndex:t,...e}){return c.jsx("span",{...e,children:sL[t]})}const lL={0:{title:"",name:"玩家A",color:"#6700cf"},1:{title:"",name:"玩家B",color:"#00b5de"},2:{title:"",name:"玩家C",color:"#e3277b"},3:{title:"",name:"玩家D",color:"#03ada5"}},uL=`${new Date().toISOString().substring(0,10)} 對局`;function cL(){const t=iM(),[,e]=PI(),[r,n]=S.useState(lL),[o,i]=S.useState(),[s,a]=S.useState(uL),[l,u]=Yn(!1),p=S.useCallback(_=>{const b=_.currentTarget.getAttribute("data-player-index");if(!b)return;const v=r[b];i({index:b,player:v}),u(!0)},[r,u]),d=S.useCallback(async _=>{o&&(n(b=>({...b,[o.index]:{...b[o.index],..._}})),u(!1))},[o,u]),f=S.useCallback(()=>{u(!1)},[u]),y=S.useCallback(_=>{const b=_.currentTarget;if(!b)return;const v=b.getAttribute("data-player-index");if(!v)return;const h=v==="0"?"1":v==="1"?"2":"3";n(m=>({...m,[v]:m[h],[h]:m[v]}))},[]),g=S.useCallback(async()=>{const _={code:_M(),name:s,remark:"",createdAt:new Date().toISOString(),createdBy:"Dicky",updatedAt:new Date().toISOString(),updatedBy:"Dicky",setting:{template:"mleague"},players:r},v={matchId:(await t.push("matches",_)).key,code:Jp(_.code,1,0),roundCount:1,extendedRoundCount:0,cumulatedThousands:0,resultType:0,nextRoundType:0,playerResults:{0:{beforeScore:25e3,afterScore:25e3,type:0,scoreChanges:[],prevScoreChanges:[]},1:{beforeScore:25e3,afterScore:25e3,type:0,scoreChanges:[],prevScoreChanges:[]},2:{beforeScore:25e3,afterScore:25e3,type:0,scoreChanges:[],prevScoreChanges:[]},3:{beforeScore:25e3,afterScore:25e3,type:0,scoreChanges:[],prevScoreChanges:[]}},doras:[]};await t.push("matchRounds",v),e(`/match/${v.matchId}/obs`)},[t,s,r,e]);return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"container mx-auto max-w-screen-sm",children:c.jsxs("div",{className:"min-h-screen flex flex-col py-16 gap-y-4",children:[c.jsx("div",{className:"shrink-0",children:c.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"space-y-12",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h1",{className:"text-4xl",children:"對局"}),c.jsx(On,{label:"對局名稱",children:c.jsx(Cr,{name:"name",value:s,onChange:_=>a(_.currentTarget.value)})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h1",{className:"text-4xl",children:"玩家"}),c.jsx("div",{className:"space-y-2",children:["0","1","2","3"].map(_=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-x-2",children:[c.jsx("div",{className:"shrink-0",children:c.jsx("div",{className:"h-14 w-14 border-4 rounded border-black text-[2.5rem] flex items-center justify-center",children:c.jsx(aL,{playerIndex:_})})}),c.jsx("div",{className:"flex-1 text-[2.5em]",children:c.jsx(Ki,{player:r[_],score:25e3})}),c.jsx("div",{className:"shrink-0 space-x-2",children:c.jsx(xe,{type:"button","data-player-index":_,onClick:p,disabled:!r[_],children:"修改"})})]},_),_!=="3"&&c.jsx("div",{className:"text-center",children:c.jsx(xe,{variant:"icon",color:"secondary",type:"button","data-player-index":_,onClick:y,children:c.jsx("span",{className:"material-symbols-outlined",children:"swap_vert"})})})]}))})]})]})}),c.jsx("div",{className:"shrink-0 space-y-4",children:c.jsx(xe,{size:"xlarge",className:"w-full",onClick:g,type:"submit",children:"開始對局"})})]})}),c.jsx(jr,{title:"修改玩家",open:l,onClose:f,children:c.jsx("div",{className:"container space-y-6",children:c.jsx(gC,{onSubmit:d,defaultValue:o==null?void 0:o.player})})})]})}function fL({team:t,onClickEdit:e,children:r,...n}){const o=S.useCallback(()=>{e==null||e(t)},[e,t]);return c.jsxs("div",{className:"flex-1 flex items-center gap-x-2 rounded p-2 text-white",style:{background:t.color??"#115e59"},...n,children:[c.jsx("div",{className:"flex-1",children:c.jsx("div",{className:"text-2xl",children:t.name??"(無名稱)"})}),e&&c.jsx("div",{className:"shrink-0",children:c.jsx(xe,{variant:"icon",color:"inverted",type:"button",onClick:o,children:c.jsx("span",{className:"material-symbols-outlined",children:"edit"})})})]})}function dL(){const{data:t,update:e,push:r}=Rr("teams"),n=S.useMemo(()=>Object.entries(t??{}).reverse().map(([v,h])=>({...h,_id:v})),[t]),[o,i]=Yn(!1),{register:s,reset:a,handleSubmit:l,control:u}=rg({defaultValues:{_id:void 0,name:"新的隊伍",color:"#000000"}}),p=aC({control:u}),d=S.useMemo(()=>({name:"隊員名字",title:p.name??"",color:p.color??"#000000"}),[p.color,p.name]),f=S.useRef(null),y=S.useCallback(()=>i(!1),[i]),g=S.useCallback(()=>{a({_id:"",name:"新的隊伍",color:"#000000"}),i(!0)},[a,i]),_=S.useCallback(v=>{a({...v}),i(!0)},[a,i]),b=S.useMemo(()=>l(v=>{v._id?e({[v._id]:v}):r(v),i(!1)}),[l,r,i,e]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"container mx-auto max-w-screen-sm space-y-4 py-16",children:[c.jsx("div",{className:"shrink-0",children:c.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{children:c.jsx("h1",{className:"text-4xl",children:"隊伍"})}),c.jsx("div",{children:c.jsx(xe,{onClick:g,children:"新增"})})]}),c.jsx("div",{className:"space-y-2",children:n.map(v=>c.jsx(fL,{team:v,onClickEdit:_},v._id))})]}),c.jsx(jr,{title:"新增／修改隊伍",open:o,onClose:y,children:c.jsx("div",{className:"container",children:c.jsxs("form",{ref:f,onSubmit:b,children:[c.jsx("input",{type:"hidden",...s("_id")}),c.jsxs("div",{children:[c.jsx(On,{className:"mb-6",label:"名字",children:c.jsx(cr,{name:"name",control:u,rules:{required:!0},render:({field:v})=>c.jsx(Cr,{...v})})}),c.jsx(On,{className:"mb-6",label:"顏色（務必選能看清楚白字的深色）",children:c.jsx(cr,{name:"color",control:u,rules:{required:!0},render:({field:v})=>c.jsx(yC,{...v})})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"mb-2",children:"預覽"}),c.jsx("div",{className:"text-[4rem] px-4 pt-6 pb-1 bg-gray-800 text-white relative",children:c.jsx(Ki,{player:d,score:25e3})})]}),c.jsxs("div",{className:"flex gap-x-2",children:[c.jsx("div",{className:"flex-1",children:c.jsx(xe,{className:"w-full",color:"secondary",type:"button",onClick:y,children:"取消"})}),c.jsx("div",{className:"flex-1",children:c.jsx(xe,{className:"w-full",type:"submit",children:"儲存"})})]})]})})})]})}function pL({params:{obsRoomId:t}}){const{data:e}=Rr(`obs/${t}`),r=S.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return console.log(e),!r||!r.matchId?c.jsx(c.Fragment,{children:"讀取中…"}):c.jsx(JE,{params:r})}function hL({params:{obsRoomId:t}}){const{data:e}=Rr(`obs/${t}`),{match:r,matchRounds:n,matchCurrentRound:o}=Qi((e==null?void 0:e.matchId)??"");return!r||!o?c.jsx("div",{children:"對局讀取失敗。"}):c.jsx("div",{children:c.jsx("div",{className:"container mx-auto my-8 px-8 space-y-6",children:c.jsx(Bc,{players:r.players,matchRounds:n,className:"w-full table-auto"})})})}function yL(){const{data:t}=Rr("matches"),e=S.useMemo(()=>Object.entries(t??{}).reverse().map(([r,n])=>({...n,_id:r})),[t]);return c.jsxs("div",{className:"container mx-auto max-w-screen-sm space-y-4 py-16",children:[c.jsx("div",{className:"shrink-0",children:c.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("div",{children:c.jsx("h1",{className:"text-4xl",children:"玩家"})})}),c.jsx("div",{className:"space-y-2",children:e.map(()=>"123")})]})}function mC({players:t,matchRounds:e}){return S.useMemo(()=>{const r=Object.values(e??{}),n=r[r.length-1];return[...r.map(o=>({name:o.resultType===tr.Hotfix?"分數調整":YE(o.roundCount,o.extendedRoundCount,8),p0:o.playerResults[0].beforeScore,p1:o.playerResults[1].beforeScore,p2:o.playerResults[2].beforeScore,p3:o.playerResults[3].beforeScore})),{name:"完結",p0:n.playerResults[0].afterScore,p1:n.playerResults[1].afterScore,p2:n.playerResults[2].afterScore,p3:n.playerResults[3].afterScore}]},[e]),c.jsx("div",{className:"bg-white"})}function gL({params:{obsRoomId:t}}){const{data:e}=Rr(`obs/${t}`),{match:r,matchRounds:n,matchCurrentRound:o}=Qi((e==null?void 0:e.matchId)??"");return!r||!o?c.jsx("div",{children:"對局讀取失敗。"}):c.jsx("div",{children:c.jsx("div",{className:"container mx-auto my-8 px-8 space-y-6",children:c.jsx(mC,{players:r.players,matchRounds:n})})})}function mL({params:{obsRoomId:t}}){const{data:e}=Rr(`obs/${t}`),{match:r,matchRounds:n,matchCurrentRound:o}=Qi((e==null?void 0:e.matchId)??""),[i,s]=S.useState(0);return S.useEffect(()=>{const l=setInterval(()=>{s(u=>1-u)},8e3);return()=>{clearInterval(l)}},[]),!r||!o?c.jsx("div",{children:"對局讀取失敗。"}):c.jsxs("div",{children:[c.jsx("div",{className:i===0?"block":"hidden",children:c.jsx(Bc,{players:r.players,matchRounds:n,className:"w-full table-auto"})}),c.jsx("div",{className:i===1?"block":"hidden",children:c.jsx(mC,{players:r.players,matchRounds:n})})]})}yd.createRoot(document.getElementById("root")).render(c.jsx(ge.StrictMode,{children:c.jsx(oM,{children:c.jsx(AM,{children:c.jsxs(TI,{children:[c.jsx(Tt,{path:"/",component:lM}),c.jsx(Tt,{path:"/create-match",component:cL}),c.jsx(Tt,{path:"/match/:matchId",component:wM}),c.jsx(Tt,{path:"/match/:matchId/obs",component:JE}),c.jsx(Tt,{path:"/match/:matchId/control",component:nL}),c.jsx(Tt,{path:"/obs/:obsRoomId",component:pL}),c.jsx(Tt,{path:"/obs/:obsRoomId/score",component:hL}),c.jsx(Tt,{path:"/obs/:obsRoomId/chart",component:gL}),c.jsx(Tt,{path:"/obs/:obsRoomId/carousel",component:mL}),c.jsx(Tt,{path:"/players",component:iL}),c.jsx(Tt,{path:"/teams",component:dL}),c.jsx(Tt,{path:"/matches",component:yL})]})})})}));$I();
