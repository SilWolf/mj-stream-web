var IS=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var $=(t,e,r)=>(IS(t,e,"read from private field"),r?r.call(t):e.get(t)),de=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},oe=(t,e,r,n)=>(IS(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var ev=(t,e,r,n)=>({set _(i){oe(t,e,i,r)},get _(){return $(t,e,n)}}),Oe=(t,e,r)=>(IS(t,e,"access private method"),r);function vJ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bJ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var UV={exports:{}},nw={},VV={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=Symbol.for("react.element"),xJ=Symbol.for("react.portal"),_J=Symbol.for("react.fragment"),wJ=Symbol.for("react.strict_mode"),SJ=Symbol.for("react.profiler"),EJ=Symbol.for("react.provider"),AJ=Symbol.for("react.context"),CJ=Symbol.for("react.forward_ref"),TJ=Symbol.for("react.suspense"),PJ=Symbol.for("react.memo"),IJ=Symbol.for("react.lazy"),c$=Symbol.iterator;function NJ(t){return t===null||typeof t!="object"?null:(t=c$&&t[c$]||t["@@iterator"],typeof t=="function"?t:null)}var WV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zV=Object.assign,GV={};function Rd(t,e,r){this.props=t,this.context=e,this.refs=GV,this.updater=r||WV}Rd.prototype.isReactComponent={};Rd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qV(){}qV.prototype=Rd.prototype;function aN(t,e,r){this.props=t,this.context=e,this.refs=GV,this.updater=r||WV}var lN=aN.prototype=new qV;lN.constructor=aN;zV(lN,Rd.prototype);lN.isPureReactComponent=!0;var u$=Array.isArray,HV=Object.prototype.hasOwnProperty,cN={current:null},KV={key:!0,ref:!0,__self:!0,__source:!0};function YV(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)HV.call(e,n)&&!KV.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:qy,type:t,key:o,ref:s,props:i,_owner:cN.current}}function kJ(t,e){return{$$typeof:qy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uN(t){return typeof t=="object"&&t!==null&&t.$$typeof===qy}function OJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var f$=/\/+/g;function NS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OJ(""+t.key):e.toString(36)}function l0(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qy:case xJ:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+NS(s,0):n,u$(i)?(r="",t!=null&&(r=t.replace(f$,"$&/")+"/"),l0(i,e,r,"",function(c){return c})):i!=null&&(uN(i)&&(i=kJ(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(f$,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",u$(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+NS(o,a);s+=l0(o,e,r,l,i)}else if(l=NJ(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+NS(o,a++),s+=l0(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function tv(t,e,r){if(t==null)return t;var n=[],i=0;return l0(t,n,"","",function(o){return e.call(r,o,i++)}),n}function RJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pn={current:null},c0={transition:null},jJ={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:c0,ReactCurrentOwner:cN};We.Children={map:tv,forEach:function(t,e,r){tv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return tv(t,function(){e++}),e},toArray:function(t){return tv(t,function(e){return e})||[]},only:function(t){if(!uN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=Rd;We.Fragment=_J;We.Profiler=SJ;We.PureComponent=aN;We.StrictMode=wJ;We.Suspense=TJ;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jJ;We.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zV({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=cN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HV.call(e,l)&&!KV.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:qy,type:t.type,key:i,ref:o,props:n,_owner:s}};We.createContext=function(t){return t={$$typeof:AJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EJ,_context:t},t.Consumer=t};We.createElement=YV;We.createFactory=function(t){var e=YV.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:CJ,render:t}};We.isValidElement=uN;We.lazy=function(t){return{$$typeof:IJ,_payload:{_status:-1,_result:t},_init:RJ}};We.memo=function(t,e){return{$$typeof:PJ,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=c0.transition;c0.transition={};try{t()}finally{c0.transition=e}};We.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};We.useCallback=function(t,e){return Pn.current.useCallback(t,e)};We.useContext=function(t){return Pn.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return Pn.current.useDeferredValue(t)};We.useEffect=function(t,e){return Pn.current.useEffect(t,e)};We.useId=function(){return Pn.current.useId()};We.useImperativeHandle=function(t,e,r){return Pn.current.useImperativeHandle(t,e,r)};We.useInsertionEffect=function(t,e){return Pn.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return Pn.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return Pn.current.useMemo(t,e)};We.useReducer=function(t,e,r){return Pn.current.useReducer(t,e,r)};We.useRef=function(t){return Pn.current.useRef(t)};We.useState=function(t){return Pn.current.useState(t)};We.useSyncExternalStore=function(t,e,r){return Pn.current.useSyncExternalStore(t,e,r)};We.useTransition=function(){return Pn.current.useTransition()};We.version="18.2.0";VV.exports=We;var E=VV.exports;const k=ot(E),$J=vJ({__proto__:null,default:k},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DJ=E,MJ=Symbol.for("react.element"),FJ=Symbol.for("react.fragment"),LJ=Object.prototype.hasOwnProperty,BJ=DJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UJ={key:!0,ref:!0,__self:!0,__source:!0};function QV(t,e,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)LJ.call(e,n)&&!UJ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:MJ,type:t,key:o,ref:s,props:i,_owner:BJ.current}}nw.Fragment=FJ;nw.jsx=QV;nw.jsxs=QV;UV.exports=nw;var d=UV.exports,cC={},XV={exports:{}},si={},JV={exports:{}},ZV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,F){var G=D.length;D.push(F);e:for(;0<G;){var ce=G-1>>>1,te=D[ce];if(0<i(te,F))D[ce]=F,D[G]=te,G=ce;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var F=D[0],G=D.pop();if(G!==F){D[0]=G;e:for(var ce=0,te=D.length,be=te>>>1;ce<be;){var st=2*(ce+1)-1,rt=D[st],Vt=st+1,pt=D[Vt];if(0>i(rt,G))Vt<te&&0>i(pt,rt)?(D[ce]=pt,D[Vt]=G,ce=Vt):(D[ce]=rt,D[st]=G,ce=st);else if(Vt<te&&0>i(pt,G))D[ce]=pt,D[Vt]=G,ce=Vt;else break e}}return F}function i(D,F){var G=D.sortIndex-F.sortIndex;return G!==0?G:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var F=r(c);F!==null;){if(F.callback===null)n(c);else if(F.startTime<=D)n(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=r(c)}}function S(D){if(y=!1,x(D),!m)if(r(l)!==null)m=!0,U(_);else{var F=r(c);F!==null&&V(S,F.startTime-D)}}function _(D,F){m=!1,y&&(y=!1,b(C),C=-1),p=!0;var G=h;try{for(x(F),f=r(l);f!==null&&(!(f.expirationTime>F)||D&&!P());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var te=ce(f.expirationTime<=F);F=t.unstable_now(),typeof te=="function"?f.callback=te:f===r(l)&&n(l),x(F)}else n(l);f=r(l)}if(f!==null)var be=!0;else{var st=r(c);st!==null&&V(S,st.startTime-F),be=!1}return be}finally{f=null,h=G,p=!1}}var w=!1,A=null,C=-1,I=5,T=-1;function P(){return!(t.unstable_now()-T<I)}function O(){if(A!==null){var D=t.unstable_now();T=D;var F=!0;try{F=A(!0,D)}finally{F?N():(w=!1,A=null)}}else w=!1}var N;if(typeof v=="function")N=function(){v(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,L=R.port2;R.port1.onmessage=O,N=function(){L.postMessage(null)}}else N=function(){g(O,0)};function U(D){A=D,w||(w=!0,N())}function V(D,F){C=g(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(_))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var G=h;h=F;try{return D()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=h;h=D;try{return F()}finally{h=G}},t.unstable_scheduleCallback=function(D,F,G){var ce=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ce+G:ce):G=ce,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=G+te,D={id:u++,callback:F,priorityLevel:D,startTime:G,expirationTime:te,sortIndex:-1},G>ce?(D.sortIndex=G,e(c,D),r(l)===null&&D===r(c)&&(y?(b(C),C=-1):y=!0,V(S,G-ce))):(D.sortIndex=te,e(l,D),m||p||(m=!0,U(_))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var F=h;return function(){var G=h;h=F;try{return D.apply(this,arguments)}finally{h=G}}}})(ZV);JV.exports=ZV;var VJ=JV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e6=E,ni=VJ;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t6=new Set,Qp={};function Rc(t,e){Nf(t,e),Nf(t+"Capture",e)}function Nf(t,e){for(Qp[t]=e,t=0;t<e.length;t++)t6.add(e[t])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uC=Object.prototype.hasOwnProperty,WJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d$={},h$={};function zJ(t){return uC.call(h$,t)?!0:uC.call(d$,t)?!1:WJ.test(t)?h$[t]=!0:(d$[t]=!0,!1)}function GJ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qJ(t,e,r,n){if(e===null||typeof e>"u"||GJ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yr[t]=new In(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yr[e]=new In(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yr[t]=new In(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yr[t]=new In(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yr[t]=new In(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yr[t]=new In(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yr[t]=new In(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yr[t]=new In(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yr[t]=new In(t,5,!1,t.toLowerCase(),null,!1,!1)});var fN=/[\-:]([a-z])/g;function dN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fN,dN);Yr[e]=new In(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fN,dN);Yr[e]=new In(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fN,dN);Yr[e]=new In(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yr[t]=new In(t,1,!1,t.toLowerCase(),null,!1,!1)});Yr.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yr[t]=new In(t,1,!1,t.toLowerCase(),null,!0,!0)});function hN(t,e,r,n){var i=Yr.hasOwnProperty(e)?Yr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qJ(e,r,i,n)&&(r=null),n||i===null?zJ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ns=e6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rv=Symbol.for("react.element"),xu=Symbol.for("react.portal"),_u=Symbol.for("react.fragment"),pN=Symbol.for("react.strict_mode"),fC=Symbol.for("react.profiler"),r6=Symbol.for("react.provider"),n6=Symbol.for("react.context"),mN=Symbol.for("react.forward_ref"),dC=Symbol.for("react.suspense"),hC=Symbol.for("react.suspense_list"),yN=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),i6=Symbol.for("react.offscreen"),p$=Symbol.iterator;function hh(t){return t===null||typeof t!="object"?null:(t=p$&&t[p$]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Object.assign,kS;function Kh(t){if(kS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);kS=e&&e[1]||""}return`
`+kS+t}var OS=!1;function RS(t,e){if(!t||OS)return"";OS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{OS=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Kh(t):""}function HJ(t){switch(t.tag){case 5:return Kh(t.type);case 16:return Kh("Lazy");case 13:return Kh("Suspense");case 19:return Kh("SuspenseList");case 0:case 2:case 15:return t=RS(t.type,!1),t;case 11:return t=RS(t.type.render,!1),t;case 1:return t=RS(t.type,!0),t;default:return""}}function pC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _u:return"Fragment";case xu:return"Portal";case fC:return"Profiler";case pN:return"StrictMode";case dC:return"Suspense";case hC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n6:return(t.displayName||"Context")+".Consumer";case r6:return(t._context.displayName||"Context")+".Provider";case mN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yN:return e=t.displayName||null,e!==null?e:pC(t.type)||"Memo";case qs:e=t._payload,t=t._init;try{return pC(t(e))}catch{}}return null}function KJ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pC(e);case 8:return e===pN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function La(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YJ(t){var e=o6(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nv(t){t._valueTracker||(t._valueTracker=YJ(t))}function s6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=o6(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function eb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mC(t,e){var r=e.checked;return Bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function m$(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=La(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function a6(t,e){e=e.checked,e!=null&&hN(t,"checked",e,!1)}function yC(t,e){a6(t,e);var r=La(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gC(t,e.type,r):e.hasOwnProperty("defaultValue")&&gC(t,e.type,La(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y$(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function gC(t,e,r){(e!=="number"||eb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Yh=Array.isArray;function Wu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+La(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function g$(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Y(92));if(Yh(r)){if(1<r.length)throw Error(Y(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:La(r)}}function l6(t,e){var r=La(e.value),n=La(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function v$(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function c6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?c6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var iv,u6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(iv=iv||document.createElement("div"),iv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=iv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xp(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QJ=["Webkit","ms","Moz","O"];Object.keys(mp).forEach(function(t){QJ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mp[e]=mp[t]})});function f6(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||mp.hasOwnProperty(t)&&mp[t]?(""+e).trim():e+"px"}function d6(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=f6(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var XJ=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xC(t,e){if(e){if(XJ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function _C(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wC=null;function gN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var SC=null,zu=null,Gu=null;function b$(t){if(t=Yy(t)){if(typeof SC!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=lw(e),SC(t.stateNode,t.type,e))}}function h6(t){zu?Gu?Gu.push(t):Gu=[t]:zu=t}function p6(){if(zu){var t=zu,e=Gu;if(Gu=zu=null,b$(t),e)for(t=0;t<e.length;t++)b$(e[t])}}function m6(t,e){return t(e)}function y6(){}var jS=!1;function g6(t,e,r){if(jS)return t(e,r);jS=!0;try{return m6(t,e,r)}finally{jS=!1,(zu!==null||Gu!==null)&&(y6(),p6())}}function Jp(t,e){var r=t.stateNode;if(r===null)return null;var n=lw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Y(231,e,typeof r));return r}var EC=!1;if(vs)try{var ph={};Object.defineProperty(ph,"passive",{get:function(){EC=!0}}),window.addEventListener("test",ph,ph),window.removeEventListener("test",ph,ph)}catch{EC=!1}function JJ(t,e,r,n,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var yp=!1,tb=null,rb=!1,AC=null,ZJ={onError:function(t){yp=!0,tb=t}};function eZ(t,e,r,n,i,o,s,a,l){yp=!1,tb=null,JJ.apply(ZJ,arguments)}function tZ(t,e,r,n,i,o,s,a,l){if(eZ.apply(this,arguments),yp){if(yp){var c=tb;yp=!1,tb=null}else throw Error(Y(198));rb||(rb=!0,AC=c)}}function jc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function v6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x$(t){if(jc(t)!==t)throw Error(Y(188))}function rZ(t){var e=t.alternate;if(!e){if(e=jc(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return x$(i),t;if(o===n)return x$(i),e;o=o.sibling}throw Error(Y(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?t:e}function b6(t){return t=rZ(t),t!==null?x6(t):null}function x6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=x6(t);if(e!==null)return e;t=t.sibling}return null}var _6=ni.unstable_scheduleCallback,_$=ni.unstable_cancelCallback,nZ=ni.unstable_shouldYield,iZ=ni.unstable_requestPaint,Xt=ni.unstable_now,oZ=ni.unstable_getCurrentPriorityLevel,vN=ni.unstable_ImmediatePriority,w6=ni.unstable_UserBlockingPriority,nb=ni.unstable_NormalPriority,sZ=ni.unstable_LowPriority,S6=ni.unstable_IdlePriority,iw=null,Do=null;function aZ(t){if(Do&&typeof Do.onCommitFiberRoot=="function")try{Do.onCommitFiberRoot(iw,t,void 0,(t.current.flags&128)===128)}catch{}}var no=Math.clz32?Math.clz32:uZ,lZ=Math.log,cZ=Math.LN2;function uZ(t){return t>>>=0,t===0?32:31-(lZ(t)/cZ|0)|0}var ov=64,sv=4194304;function Qh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ib(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=Qh(a):(o&=s,o!==0&&(n=Qh(o)))}else s=r&~i,s!==0?n=Qh(s):o!==0&&(n=Qh(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-no(e),i=1<<r,n|=t[r],e&=~i;return n}function fZ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dZ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-no(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=fZ(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function CC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E6(){var t=ov;return ov<<=1,!(ov&4194240)&&(ov=64),t}function $S(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hy(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-no(e),t[e]=r}function hZ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-no(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function bN(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-no(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var lt=0;function A6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var C6,xN,T6,P6,I6,TC=!1,av=[],_a=null,wa=null,Sa=null,Zp=new Map,em=new Map,Js=[],pZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w$(t,e){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Zp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":em.delete(e.pointerId)}}function mh(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Yy(e),e!==null&&xN(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mZ(t,e,r,n,i){switch(e){case"focusin":return _a=mh(_a,t,e,r,n,i),!0;case"dragenter":return wa=mh(wa,t,e,r,n,i),!0;case"mouseover":return Sa=mh(Sa,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Zp.set(o,mh(Zp.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,em.set(o,mh(em.get(o)||null,t,e,r,n,i)),!0}return!1}function N6(t){var e=Nl(t.target);if(e!==null){var r=jc(e);if(r!==null){if(e=r.tag,e===13){if(e=v6(r),e!==null){t.blockedOn=e,I6(t.priority,function(){T6(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function u0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=PC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wC=n,r.target.dispatchEvent(n),wC=null}else return e=Yy(r),e!==null&&xN(e),t.blockedOn=r,!1;e.shift()}return!0}function S$(t,e,r){u0(t)&&r.delete(e)}function yZ(){TC=!1,_a!==null&&u0(_a)&&(_a=null),wa!==null&&u0(wa)&&(wa=null),Sa!==null&&u0(Sa)&&(Sa=null),Zp.forEach(S$),em.forEach(S$)}function yh(t,e){t.blockedOn===e&&(t.blockedOn=null,TC||(TC=!0,ni.unstable_scheduleCallback(ni.unstable_NormalPriority,yZ)))}function tm(t){function e(i){return yh(i,t)}if(0<av.length){yh(av[0],t);for(var r=1;r<av.length;r++){var n=av[r];n.blockedOn===t&&(n.blockedOn=null)}}for(_a!==null&&yh(_a,t),wa!==null&&yh(wa,t),Sa!==null&&yh(Sa,t),Zp.forEach(e),em.forEach(e),r=0;r<Js.length;r++)n=Js[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Js.length&&(r=Js[0],r.blockedOn===null);)N6(r),r.blockedOn===null&&Js.shift()}var qu=Ns.ReactCurrentBatchConfig,ob=!0;function gZ(t,e,r,n){var i=lt,o=qu.transition;qu.transition=null;try{lt=1,_N(t,e,r,n)}finally{lt=i,qu.transition=o}}function vZ(t,e,r,n){var i=lt,o=qu.transition;qu.transition=null;try{lt=4,_N(t,e,r,n)}finally{lt=i,qu.transition=o}}function _N(t,e,r,n){if(ob){var i=PC(t,e,r,n);if(i===null)GS(t,e,n,sb,r),w$(t,n);else if(mZ(i,t,e,r,n))n.stopPropagation();else if(w$(t,n),e&4&&-1<pZ.indexOf(t)){for(;i!==null;){var o=Yy(i);if(o!==null&&C6(o),o=PC(t,e,r,n),o===null&&GS(t,e,n,sb,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else GS(t,e,n,null,r)}}var sb=null;function PC(t,e,r,n){if(sb=null,t=gN(n),t=Nl(t),t!==null)if(e=jc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=v6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sb=t,null}function k6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oZ()){case vN:return 1;case w6:return 4;case nb:case sZ:return 16;case S6:return 536870912;default:return 16}default:return 16}}var la=null,wN=null,f0=null;function O6(){if(f0)return f0;var t,e=wN,r=e.length,n,i="value"in la?la.value:la.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return f0=i.slice(t,1<n?1-n:void 0)}function d0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lv(){return!0}function E$(){return!1}function ai(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?lv:E$,this.isPropagationStopped=E$,this}return Bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lv)},persist:function(){},isPersistent:lv}),e}var jd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SN=ai(jd),Ky=Bt({},jd,{view:0,detail:0}),bZ=ai(Ky),DS,MS,gh,ow=Bt({},Ky,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gh&&(gh&&t.type==="mousemove"?(DS=t.screenX-gh.screenX,MS=t.screenY-gh.screenY):MS=DS=0,gh=t),DS)},movementY:function(t){return"movementY"in t?t.movementY:MS}}),A$=ai(ow),xZ=Bt({},ow,{dataTransfer:0}),_Z=ai(xZ),wZ=Bt({},Ky,{relatedTarget:0}),FS=ai(wZ),SZ=Bt({},jd,{animationName:0,elapsedTime:0,pseudoElement:0}),EZ=ai(SZ),AZ=Bt({},jd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CZ=ai(AZ),TZ=Bt({},jd,{data:0}),C$=ai(TZ),PZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kZ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NZ[t])?!!e[t]:!1}function EN(){return kZ}var OZ=Bt({},Ky,{key:function(t){if(t.key){var e=PZ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=d0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IZ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EN,charCode:function(t){return t.type==="keypress"?d0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?d0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RZ=ai(OZ),jZ=Bt({},ow,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T$=ai(jZ),$Z=Bt({},Ky,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EN}),DZ=ai($Z),MZ=Bt({},jd,{propertyName:0,elapsedTime:0,pseudoElement:0}),FZ=ai(MZ),LZ=Bt({},ow,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BZ=ai(LZ),UZ=[9,13,27,32],AN=vs&&"CompositionEvent"in window,gp=null;vs&&"documentMode"in document&&(gp=document.documentMode);var VZ=vs&&"TextEvent"in window&&!gp,R6=vs&&(!AN||gp&&8<gp&&11>=gp),P$=String.fromCharCode(32),I$=!1;function j6(t,e){switch(t){case"keyup":return UZ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wu=!1;function WZ(t,e){switch(t){case"compositionend":return $6(e);case"keypress":return e.which!==32?null:(I$=!0,P$);case"textInput":return t=e.data,t===P$&&I$?null:t;default:return null}}function zZ(t,e){if(wu)return t==="compositionend"||!AN&&j6(t,e)?(t=O6(),f0=wN=la=null,wu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return R6&&e.locale!=="ko"?null:e.data;default:return null}}var GZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N$(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GZ[t.type]:e==="textarea"}function D6(t,e,r,n){h6(n),e=ab(e,"onChange"),0<e.length&&(r=new SN("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vp=null,rm=null;function qZ(t){H6(t,0)}function sw(t){var e=Au(t);if(s6(e))return t}function HZ(t,e){if(t==="change")return e}var M6=!1;if(vs){var LS;if(vs){var BS="oninput"in document;if(!BS){var k$=document.createElement("div");k$.setAttribute("oninput","return;"),BS=typeof k$.oninput=="function"}LS=BS}else LS=!1;M6=LS&&(!document.documentMode||9<document.documentMode)}function O$(){vp&&(vp.detachEvent("onpropertychange",F6),rm=vp=null)}function F6(t){if(t.propertyName==="value"&&sw(rm)){var e=[];D6(e,rm,t,gN(t)),g6(qZ,e)}}function KZ(t,e,r){t==="focusin"?(O$(),vp=e,rm=r,vp.attachEvent("onpropertychange",F6)):t==="focusout"&&O$()}function YZ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sw(rm)}function QZ(t,e){if(t==="click")return sw(e)}function XZ(t,e){if(t==="input"||t==="change")return sw(e)}function JZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ao=typeof Object.is=="function"?Object.is:JZ;function nm(t,e){if(ao(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!uC.call(e,i)||!ao(t[i],e[i]))return!1}return!0}function R$(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j$(t,e){var r=R$(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=R$(r)}}function L6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function B6(){for(var t=window,e=eb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=eb(t.document)}return e}function CN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZZ(t){var e=B6(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&L6(r.ownerDocument.documentElement,r)){if(n!==null&&CN(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=j$(r,o);var s=j$(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eee=vs&&"documentMode"in document&&11>=document.documentMode,Su=null,IC=null,bp=null,NC=!1;function $$(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;NC||Su==null||Su!==eb(n)||(n=Su,"selectionStart"in n&&CN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bp&&nm(bp,n)||(bp=n,n=ab(IC,"onSelect"),0<n.length&&(e=new SN("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Su)))}function cv(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Eu={animationend:cv("Animation","AnimationEnd"),animationiteration:cv("Animation","AnimationIteration"),animationstart:cv("Animation","AnimationStart"),transitionend:cv("Transition","TransitionEnd")},US={},U6={};vs&&(U6=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function aw(t){if(US[t])return US[t];if(!Eu[t])return t;var e=Eu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in U6)return US[t]=e[r];return t}var V6=aw("animationend"),W6=aw("animationiteration"),z6=aw("animationstart"),G6=aw("transitionend"),q6=new Map,D$="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xa(t,e){q6.set(t,e),Rc(e,[t])}for(var VS=0;VS<D$.length;VS++){var WS=D$[VS],tee=WS.toLowerCase(),ree=WS[0].toUpperCase()+WS.slice(1);Xa(tee,"on"+ree)}Xa(V6,"onAnimationEnd");Xa(W6,"onAnimationIteration");Xa(z6,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(G6,"onTransitionEnd");Nf("onMouseEnter",["mouseout","mouseover"]);Nf("onMouseLeave",["mouseout","mouseover"]);Nf("onPointerEnter",["pointerout","pointerover"]);Nf("onPointerLeave",["pointerout","pointerover"]);Rc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xh));function M$(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,tZ(n,e,void 0,t),t.currentTarget=null}function H6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;M$(i,a,c),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;M$(i,a,c),o=l}}}if(rb)throw t=AC,rb=!1,AC=null,t}function Ct(t,e){var r=e[$C];r===void 0&&(r=e[$C]=new Set);var n=t+"__bubble";r.has(n)||(K6(e,t,2,!1),r.add(n))}function zS(t,e,r){var n=0;e&&(n|=4),K6(r,t,n,e)}var uv="_reactListening"+Math.random().toString(36).slice(2);function im(t){if(!t[uv]){t[uv]=!0,t6.forEach(function(r){r!=="selectionchange"&&(nee.has(r)||zS(r,!1,t),zS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uv]||(e[uv]=!0,zS("selectionchange",!1,e))}}function K6(t,e,r,n){switch(k6(e)){case 1:var i=gZ;break;case 4:i=vZ;break;default:i=_N}r=i.bind(null,e,r,t),i=void 0,!EC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function GS(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Nl(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}g6(function(){var c=o,u=gN(r),f=[];e:{var h=q6.get(t);if(h!==void 0){var p=SN,m=t;switch(t){case"keypress":if(d0(r)===0)break e;case"keydown":case"keyup":p=RZ;break;case"focusin":m="focus",p=FS;break;case"focusout":m="blur",p=FS;break;case"beforeblur":case"afterblur":p=FS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=A$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_Z;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DZ;break;case V6:case W6:case z6:p=EZ;break;case G6:p=FZ;break;case"scroll":p=bZ;break;case"wheel":p=BZ;break;case"copy":case"cut":case"paste":p=CZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=T$}var y=(e&4)!==0,g=!y&&t==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var v=c,x;v!==null;){x=v;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,b!==null&&(S=Jp(v,b),S!=null&&y.push(om(v,S,x)))),g)break;v=v.return}0<y.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==wC&&(m=r.relatedTarget||r.fromElement)&&(Nl(m)||m[bs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Nl(m):null,m!==null&&(g=jc(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=A$,S="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=T$,S="onPointerLeave",b="onPointerEnter",v="pointer"),g=p==null?h:Au(p),x=m==null?h:Au(m),h=new y(S,v+"leave",p,r,u),h.target=g,h.relatedTarget=x,S=null,Nl(u)===c&&(y=new y(b,v+"enter",m,r,u),y.target=x,y.relatedTarget=g,S=y),g=S,p&&m)t:{for(y=p,b=m,v=0,x=y;x;x=qc(x))v++;for(x=0,S=b;S;S=qc(S))x++;for(;0<v-x;)y=qc(y),v--;for(;0<x-v;)b=qc(b),x--;for(;v--;){if(y===b||b!==null&&y===b.alternate)break t;y=qc(y),b=qc(b)}y=null}else y=null;p!==null&&F$(f,h,p,y,!1),m!==null&&g!==null&&F$(f,g,m,y,!0)}}e:{if(h=c?Au(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=HZ;else if(N$(h))if(M6)_=XZ;else{_=YZ;var w=KZ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=QZ);if(_&&(_=_(t,c))){D6(f,_,r,u);break e}w&&w(t,h,c),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&gC(h,"number",h.value)}switch(w=c?Au(c):window,t){case"focusin":(N$(w)||w.contentEditable==="true")&&(Su=w,IC=c,bp=null);break;case"focusout":bp=IC=Su=null;break;case"mousedown":NC=!0;break;case"contextmenu":case"mouseup":case"dragend":NC=!1,$$(f,r,u);break;case"selectionchange":if(eee)break;case"keydown":case"keyup":$$(f,r,u)}var A;if(AN)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else wu?j6(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(R6&&r.locale!=="ko"&&(wu||C!=="onCompositionStart"?C==="onCompositionEnd"&&wu&&(A=O6()):(la=u,wN="value"in la?la.value:la.textContent,wu=!0)),w=ab(c,C),0<w.length&&(C=new C$(C,t,null,r,u),f.push({event:C,listeners:w}),A?C.data=A:(A=$6(r),A!==null&&(C.data=A)))),(A=VZ?WZ(t,r):zZ(t,r))&&(c=ab(c,"onBeforeInput"),0<c.length&&(u=new C$("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=A))}H6(f,e)})}function om(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ab(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Jp(t,r),o!=null&&n.unshift(om(t,o,i)),o=Jp(t,e),o!=null&&n.push(om(t,o,i))),t=t.return}return n}function qc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F$(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=Jp(r,o),l!=null&&s.unshift(om(r,l,a))):i||(l=Jp(r,o),l!=null&&s.push(om(r,l,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var iee=/\r\n?/g,oee=/\u0000|\uFFFD/g;function L$(t){return(typeof t=="string"?t:""+t).replace(iee,`
`).replace(oee,"")}function fv(t,e,r){if(e=L$(e),L$(t)!==e&&r)throw Error(Y(425))}function lb(){}var kC=null,OC=null;function RC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jC=typeof setTimeout=="function"?setTimeout:void 0,see=typeof clearTimeout=="function"?clearTimeout:void 0,B$=typeof Promise=="function"?Promise:void 0,aee=typeof queueMicrotask=="function"?queueMicrotask:typeof B$<"u"?function(t){return B$.resolve(null).then(t).catch(lee)}:jC;function lee(t){setTimeout(function(){throw t})}function qS(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),tm(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);tm(e)}function Ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function U$(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var $d=Math.random().toString(36).slice(2),wo="__reactFiber$"+$d,sm="__reactProps$"+$d,bs="__reactContainer$"+$d,$C="__reactEvents$"+$d,cee="__reactListeners$"+$d,uee="__reactHandles$"+$d;function Nl(t){var e=t[wo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bs]||r[wo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=U$(t);t!==null;){if(r=t[wo])return r;t=U$(t)}return e}t=r,r=t.parentNode}return null}function Yy(t){return t=t[wo]||t[bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Au(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function lw(t){return t[sm]||null}var DC=[],Cu=-1;function Ja(t){return{current:t}}function Nt(t){0>Cu||(t.current=DC[Cu],DC[Cu]=null,Cu--)}function At(t,e){Cu++,DC[Cu]=t.current,t.current=e}var Ba={},hn=Ja(Ba),Mn=Ja(!1),mc=Ba;function kf(t,e){var r=t.type.contextTypes;if(!r)return Ba;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(t){return t=t.childContextTypes,t!=null}function cb(){Nt(Mn),Nt(hn)}function V$(t,e,r){if(hn.current!==Ba)throw Error(Y(168));At(hn,e),At(Mn,r)}function Y6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Y(108,KJ(t)||"Unknown",i));return Bt({},r,n)}function ub(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ba,mc=hn.current,At(hn,t),At(Mn,Mn.current),!0}function W$(t,e,r){var n=t.stateNode;if(!n)throw Error(Y(169));r?(t=Y6(t,e,mc),n.__reactInternalMemoizedMergedChildContext=t,Nt(Mn),Nt(hn),At(hn,t)):Nt(Mn),At(Mn,r)}var ns=null,cw=!1,HS=!1;function Q6(t){ns===null?ns=[t]:ns.push(t)}function fee(t){cw=!0,Q6(t)}function Za(){if(!HS&&ns!==null){HS=!0;var t=0,e=lt;try{var r=ns;for(lt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ns=null,cw=!1}catch(i){throw ns!==null&&(ns=ns.slice(t+1)),_6(vN,Za),i}finally{lt=e,HS=!1}}return null}var Tu=[],Pu=0,fb=null,db=0,bi=[],xi=0,yc=null,os=1,ss="";function hl(t,e){Tu[Pu++]=db,Tu[Pu++]=fb,fb=t,db=e}function X6(t,e,r){bi[xi++]=os,bi[xi++]=ss,bi[xi++]=yc,yc=t;var n=os;t=ss;var i=32-no(n)-1;n&=~(1<<i),r+=1;var o=32-no(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,os=1<<32-no(e)+i|r<<i|n,ss=o+t}else os=1<<o|r<<i|n,ss=t}function TN(t){t.return!==null&&(hl(t,1),X6(t,1,0))}function PN(t){for(;t===fb;)fb=Tu[--Pu],Tu[Pu]=null,db=Tu[--Pu],Tu[Pu]=null;for(;t===yc;)yc=bi[--xi],bi[xi]=null,ss=bi[--xi],bi[xi]=null,os=bi[--xi],bi[xi]=null}var ei=null,Qn=null,Ot=!1,Ki=null;function J6(t,e){var r=Ei(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function z$(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ei=t,Qn=Ea(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ei=t,Qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yc!==null?{id:os,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ei(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ei=t,Qn=null,!0):!1;default:return!1}}function MC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function FC(t){if(Ot){var e=Qn;if(e){var r=e;if(!z$(t,e)){if(MC(t))throw Error(Y(418));e=Ea(r.nextSibling);var n=ei;e&&z$(t,e)?J6(n,r):(t.flags=t.flags&-4097|2,Ot=!1,ei=t)}}else{if(MC(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ot=!1,ei=t}}}function G$(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ei=t}function dv(t){if(t!==ei)return!1;if(!Ot)return G$(t),Ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!RC(t.type,t.memoizedProps)),e&&(e=Qn)){if(MC(t))throw Z6(),Error(Y(418));for(;e;)J6(t,e),e=Ea(e.nextSibling)}if(G$(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Qn=Ea(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Qn=null}}else Qn=ei?Ea(t.stateNode.nextSibling):null;return!0}function Z6(){for(var t=Qn;t;)t=Ea(t.nextSibling)}function Of(){Qn=ei=null,Ot=!1}function IN(t){Ki===null?Ki=[t]:Ki.push(t)}var dee=Ns.ReactCurrentBatchConfig;function Vi(t,e){if(t&&t.defaultProps){e=Bt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var hb=Ja(null),pb=null,Iu=null,NN=null;function kN(){NN=Iu=pb=null}function ON(t){var e=hb.current;Nt(hb),t._currentValue=e}function LC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Hu(t,e){pb=t,NN=Iu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function Ri(t){var e=t._currentValue;if(NN!==t)if(t={context:t,memoizedValue:e,next:null},Iu===null){if(pb===null)throw Error(Y(308));Iu=t,pb.dependencies={lanes:0,firstContext:t}}else Iu=Iu.next=t;return e}var kl=null;function RN(t){kl===null?kl=[t]:kl.push(t)}function e5(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,RN(e)):(r.next=i.next,i.next=r),e.interleaved=r,xs(t,n)}function xs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hs=!1;function jN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xs(t,r)}return i=n.interleaved,i===null?(e.next=e,RN(n)):(e.next=i.next,i.next=e),n.interleaved=e,xs(t,r)}function h0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bN(t,r)}}function q$(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function mb(t,e,r,n){var i=t.updateQueue;Hs=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Bt({},f,h);break e;case 2:Hs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vc|=s,t.lanes=s,t.memoizedState=f}}function H$(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Y(191,i));i.call(n)}}}var r5=new e6.Component().refs;function BC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Bt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var uw={isMounted:function(t){return(t=t._reactInternals)?jc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Cn(),i=Ta(t),o=hs(n,i);o.payload=e,r!=null&&(o.callback=r),e=Aa(t,o,i),e!==null&&(io(e,t,i,n),h0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Cn(),i=Ta(t),o=hs(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Aa(t,o,i),e!==null&&(io(e,t,i,n),h0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Cn(),n=Ta(t),i=hs(r,n);i.tag=2,e!=null&&(i.callback=e),e=Aa(t,i,n),e!==null&&(io(e,t,n,r),h0(e,t,n))}};function K$(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!nm(r,n)||!nm(i,o):!0}function n5(t,e,r){var n=!1,i=Ba,o=e.contextType;return typeof o=="object"&&o!==null?o=Ri(o):(i=Fn(e)?mc:hn.current,n=e.contextTypes,o=(n=n!=null)?kf(t,i):Ba),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Y$(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&uw.enqueueReplaceState(e,e.state,null)}function UC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=r5,jN(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ri(o):(o=Fn(e)?mc:hn.current,i.context=kf(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(BC(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uw.enqueueReplaceState(i,i.state,null),mb(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===r5&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,t))}return t}function hv(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q$(t){var e=t._init;return e(t._payload)}function i5(t){function e(b,v){if(t){var x=b.deletions;x===null?(b.deletions=[v],b.flags|=16):x.push(v)}}function r(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=Pa(b,v),b.index=0,b.sibling=null,b}function o(b,v,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<v?(b.flags|=2,v):x):(b.flags|=2,v)):(b.flags|=1048576,v)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,v,x,S){return v===null||v.tag!==6?(v=eE(x,b.mode,S),v.return=b,v):(v=i(v,x),v.return=b,v)}function l(b,v,x,S){var _=x.type;return _===_u?u(b,v,x.props.children,S,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qs&&Q$(_)===v.type)?(S=i(v,x.props),S.ref=vh(b,v,x),S.return=b,S):(S=b0(x.type,x.key,x.props,null,b.mode,S),S.ref=vh(b,v,x),S.return=b,S)}function c(b,v,x,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=tE(x,b.mode,S),v.return=b,v):(v=i(v,x.children||[]),v.return=b,v)}function u(b,v,x,S,_){return v===null||v.tag!==7?(v=Xl(x,b.mode,S,_),v.return=b,v):(v=i(v,x),v.return=b,v)}function f(b,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=eE(""+v,b.mode,x),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rv:return x=b0(v.type,v.key,v.props,null,b.mode,x),x.ref=vh(b,null,v),x.return=b,x;case xu:return v=tE(v,b.mode,x),v.return=b,v;case qs:var S=v._init;return f(b,S(v._payload),x)}if(Yh(v)||hh(v))return v=Xl(v,b.mode,x,null),v.return=b,v;hv(b,v)}return null}function h(b,v,x,S){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(b,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rv:return x.key===_?l(b,v,x,S):null;case xu:return x.key===_?c(b,v,x,S):null;case qs:return _=x._init,h(b,v,_(x._payload),S)}if(Yh(x)||hh(x))return _!==null?null:u(b,v,x,S,null);hv(b,x)}return null}function p(b,v,x,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(x)||null,a(v,b,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rv:return b=b.get(S.key===null?x:S.key)||null,l(v,b,S,_);case xu:return b=b.get(S.key===null?x:S.key)||null,c(v,b,S,_);case qs:var w=S._init;return p(b,v,x,w(S._payload),_)}if(Yh(S)||hh(S))return b=b.get(x)||null,u(v,b,S,_,null);hv(v,S)}return null}function m(b,v,x,S){for(var _=null,w=null,A=v,C=v=0,I=null;A!==null&&C<x.length;C++){A.index>C?(I=A,A=null):I=A.sibling;var T=h(b,A,x[C],S);if(T===null){A===null&&(A=I);break}t&&A&&T.alternate===null&&e(b,A),v=o(T,v,C),w===null?_=T:w.sibling=T,w=T,A=I}if(C===x.length)return r(b,A),Ot&&hl(b,C),_;if(A===null){for(;C<x.length;C++)A=f(b,x[C],S),A!==null&&(v=o(A,v,C),w===null?_=A:w.sibling=A,w=A);return Ot&&hl(b,C),_}for(A=n(b,A);C<x.length;C++)I=p(A,b,C,x[C],S),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?C:I.key),v=o(I,v,C),w===null?_=I:w.sibling=I,w=I);return t&&A.forEach(function(P){return e(b,P)}),Ot&&hl(b,C),_}function y(b,v,x,S){var _=hh(x);if(typeof _!="function")throw Error(Y(150));if(x=_.call(x),x==null)throw Error(Y(151));for(var w=_=null,A=v,C=v=0,I=null,T=x.next();A!==null&&!T.done;C++,T=x.next()){A.index>C?(I=A,A=null):I=A.sibling;var P=h(b,A,T.value,S);if(P===null){A===null&&(A=I);break}t&&A&&P.alternate===null&&e(b,A),v=o(P,v,C),w===null?_=P:w.sibling=P,w=P,A=I}if(T.done)return r(b,A),Ot&&hl(b,C),_;if(A===null){for(;!T.done;C++,T=x.next())T=f(b,T.value,S),T!==null&&(v=o(T,v,C),w===null?_=T:w.sibling=T,w=T);return Ot&&hl(b,C),_}for(A=n(b,A);!T.done;C++,T=x.next())T=p(A,b,C,T.value,S),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?C:T.key),v=o(T,v,C),w===null?_=T:w.sibling=T,w=T);return t&&A.forEach(function(O){return e(b,O)}),Ot&&hl(b,C),_}function g(b,v,x,S){if(typeof x=="object"&&x!==null&&x.type===_u&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case rv:e:{for(var _=x.key,w=v;w!==null;){if(w.key===_){if(_=x.type,_===_u){if(w.tag===7){r(b,w.sibling),v=i(w,x.props.children),v.return=b,b=v;break e}}else if(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qs&&Q$(_)===w.type){r(b,w.sibling),v=i(w,x.props),v.ref=vh(b,w,x),v.return=b,b=v;break e}r(b,w);break}else e(b,w);w=w.sibling}x.type===_u?(v=Xl(x.props.children,b.mode,S,x.key),v.return=b,b=v):(S=b0(x.type,x.key,x.props,null,b.mode,S),S.ref=vh(b,v,x),S.return=b,b=S)}return s(b);case xu:e:{for(w=x.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(b,v.sibling),v=i(v,x.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else e(b,v);v=v.sibling}v=tE(x,b.mode,S),v.return=b,b=v}return s(b);case qs:return w=x._init,g(b,v,w(x._payload),S)}if(Yh(x))return m(b,v,x,S);if(hh(x))return y(b,v,x,S);hv(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(b,v.sibling),v=i(v,x),v.return=b,b=v):(r(b,v),v=eE(x,b.mode,S),v.return=b,b=v),s(b)):r(b,v)}return g}var Rf=i5(!0),o5=i5(!1),Qy={},Mo=Ja(Qy),am=Ja(Qy),lm=Ja(Qy);function Ol(t){if(t===Qy)throw Error(Y(174));return t}function $N(t,e){switch(At(lm,e),At(am,t),At(Mo,Qy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bC(e,t)}Nt(Mo),At(Mo,e)}function jf(){Nt(Mo),Nt(am),Nt(lm)}function s5(t){Ol(lm.current);var e=Ol(Mo.current),r=bC(e,t.type);e!==r&&(At(am,t),At(Mo,r))}function DN(t){am.current===t&&(Nt(Mo),Nt(am))}var Dt=Ja(0);function yb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var KS=[];function MN(){for(var t=0;t<KS.length;t++)KS[t]._workInProgressVersionPrimary=null;KS.length=0}var p0=Ns.ReactCurrentDispatcher,YS=Ns.ReactCurrentBatchConfig,gc=0,Lt=null,ar=null,Tr=null,gb=!1,xp=!1,cm=0,hee=0;function en(){throw Error(Y(321))}function FN(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ao(t[r],e[r]))return!1;return!0}function LN(t,e,r,n,i,o){if(gc=o,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,p0.current=t===null||t.memoizedState===null?gee:vee,t=r(n,i),xp){o=0;do{if(xp=!1,cm=0,25<=o)throw Error(Y(301));o+=1,Tr=ar=null,e.updateQueue=null,p0.current=bee,t=r(n,i)}while(xp)}if(p0.current=vb,e=ar!==null&&ar.next!==null,gc=0,Tr=ar=Lt=null,gb=!1,e)throw Error(Y(300));return t}function BN(){var t=cm!==0;return cm=0,t}function yo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Lt.memoizedState=Tr=t:Tr=Tr.next=t,Tr}function ji(){if(ar===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=Tr===null?Lt.memoizedState:Tr.next;if(e!==null)Tr=e,ar=t;else{if(t===null)throw Error(Y(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},Tr===null?Lt.memoizedState=Tr=t:Tr=Tr.next=t}return Tr}function um(t,e){return typeof e=="function"?e(t):e}function QS(t){var e=ji(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=ar,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((gc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=n):l=l.next=f,Lt.lanes|=u,vc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=n:l.next=a,ao(n,e.memoizedState)||(jn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Lt.lanes|=o,vc|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function XS(t){var e=ji(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ao(o,e.memoizedState)||(jn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function a5(){}function l5(t,e){var r=Lt,n=ji(),i=e(),o=!ao(n.memoizedState,i);if(o&&(n.memoizedState=i,jn=!0),n=n.queue,UN(f5.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Tr!==null&&Tr.memoizedState.tag&1){if(r.flags|=2048,fm(9,u5.bind(null,r,n,i,e),void 0,null),Pr===null)throw Error(Y(349));gc&30||c5(r,e,i)}return i}function c5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function u5(t,e,r,n){e.value=r,e.getSnapshot=n,d5(e)&&h5(t)}function f5(t,e,r){return r(function(){d5(e)&&h5(t)})}function d5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ao(t,r)}catch{return!0}}function h5(t){var e=xs(t,1);e!==null&&io(e,t,1,-1)}function X$(t){var e=yo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:um,lastRenderedState:t},e.queue=t,t=t.dispatch=yee.bind(null,Lt,t),[e.memoizedState,t]}function fm(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function p5(){return ji().memoizedState}function m0(t,e,r,n){var i=yo();Lt.flags|=t,i.memoizedState=fm(1|e,r,void 0,n===void 0?null:n)}function fw(t,e,r,n){var i=ji();n=n===void 0?null:n;var o=void 0;if(ar!==null){var s=ar.memoizedState;if(o=s.destroy,n!==null&&FN(n,s.deps)){i.memoizedState=fm(e,r,o,n);return}}Lt.flags|=t,i.memoizedState=fm(1|e,r,o,n)}function J$(t,e){return m0(8390656,8,t,e)}function UN(t,e){return fw(2048,8,t,e)}function m5(t,e){return fw(4,2,t,e)}function y5(t,e){return fw(4,4,t,e)}function g5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function v5(t,e,r){return r=r!=null?r.concat([t]):null,fw(4,4,g5.bind(null,e,t),r)}function VN(){}function b5(t,e){var r=ji();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&FN(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function x5(t,e){var r=ji();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&FN(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _5(t,e,r){return gc&21?(ao(r,e)||(r=E6(),Lt.lanes|=r,vc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=r)}function pee(t,e){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var n=YS.transition;YS.transition={};try{t(!1),e()}finally{lt=r,YS.transition=n}}function w5(){return ji().memoizedState}function mee(t,e,r){var n=Ta(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},S5(t))E5(e,r);else if(r=e5(t,e,r,n),r!==null){var i=Cn();io(r,t,n,i),A5(r,e,n)}}function yee(t,e,r){var n=Ta(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(S5(t))E5(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,ao(a,s)){var l=e.interleaved;l===null?(i.next=i,RN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=e5(t,e,i,n),r!==null&&(i=Cn(),io(r,t,n,i),A5(r,e,n))}}function S5(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function E5(t,e){xp=gb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function A5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bN(t,r)}}var vb={readContext:Ri,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},gee={readContext:Ri,useCallback:function(t,e){return yo().memoizedState=[t,e===void 0?null:e],t},useContext:Ri,useEffect:J$,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,m0(4194308,4,g5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return m0(4194308,4,t,e)},useInsertionEffect:function(t,e){return m0(4,2,t,e)},useMemo:function(t,e){var r=yo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=yo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=mee.bind(null,Lt,t),[n.memoizedState,t]},useRef:function(t){var e=yo();return t={current:t},e.memoizedState=t},useState:X$,useDebugValue:VN,useDeferredValue:function(t){return yo().memoizedState=t},useTransition:function(){var t=X$(!1),e=t[0];return t=pee.bind(null,t[1]),yo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Lt,i=yo();if(Ot){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=e(),Pr===null)throw Error(Y(349));gc&30||c5(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,J$(f5.bind(null,n,o,t),[t]),n.flags|=2048,fm(9,u5.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=yo(),e=Pr.identifierPrefix;if(Ot){var r=ss,n=os;r=(n&~(1<<32-no(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=cm++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hee++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vee={readContext:Ri,useCallback:b5,useContext:Ri,useEffect:UN,useImperativeHandle:v5,useInsertionEffect:m5,useLayoutEffect:y5,useMemo:x5,useReducer:QS,useRef:p5,useState:function(){return QS(um)},useDebugValue:VN,useDeferredValue:function(t){var e=ji();return _5(e,ar.memoizedState,t)},useTransition:function(){var t=QS(um)[0],e=ji().memoizedState;return[t,e]},useMutableSource:a5,useSyncExternalStore:l5,useId:w5,unstable_isNewReconciler:!1},bee={readContext:Ri,useCallback:b5,useContext:Ri,useEffect:UN,useImperativeHandle:v5,useInsertionEffect:m5,useLayoutEffect:y5,useMemo:x5,useReducer:XS,useRef:p5,useState:function(){return XS(um)},useDebugValue:VN,useDeferredValue:function(t){var e=ji();return ar===null?e.memoizedState=t:_5(e,ar.memoizedState,t)},useTransition:function(){var t=XS(um)[0],e=ji().memoizedState;return[t,e]},useMutableSource:a5,useSyncExternalStore:l5,useId:w5,unstable_isNewReconciler:!1};function $f(t,e){try{var r="",n=e;do r+=HJ(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function JS(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function VC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xee=typeof WeakMap=="function"?WeakMap:Map;function C5(t,e,r){r=hs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xb||(xb=!0,JC=n),VC(t,e)},r}function T5(t,e,r){r=hs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){VC(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){VC(t,e),typeof n!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function Z$(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xee;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=jee.bind(null,t,e,r),e.then(t,t))}function e2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=hs(-1,1),e.tag=2,Aa(r,e,1))),r.lanes|=1),t)}var _ee=Ns.ReactCurrentOwner,jn=!1;function bn(t,e,r,n){e.child=t===null?o5(e,null,r,n):Rf(e,t.child,r,n)}function r2(t,e,r,n,i){r=r.render;var o=e.ref;return Hu(e,i),n=LN(t,e,r,n,o,i),r=BN(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_s(t,e,i)):(Ot&&r&&TN(e),e.flags|=1,bn(t,e,n,i),e.child)}function n2(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!QN(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,P5(t,e,o,n,i)):(t=b0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:nm,r(s,n)&&t.ref===e.ref)return _s(t,e,i)}return e.flags|=1,t=Pa(o,n),t.ref=e.ref,t.return=e,e.child=t}function P5(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(nm(o,n)&&t.ref===e.ref)if(jn=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,_s(t,e,i)}return WC(t,e,r,n,i)}function I5(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(ku,qn),qn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(ku,qn),qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,At(ku,qn),qn|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,At(ku,qn),qn|=n;return bn(t,e,i,r),e.child}function N5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function WC(t,e,r,n,i){var o=Fn(r)?mc:hn.current;return o=kf(e,o),Hu(e,i),r=LN(t,e,r,n,o,i),n=BN(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_s(t,e,i)):(Ot&&n&&TN(e),e.flags|=1,bn(t,e,r,i),e.child)}function i2(t,e,r,n,i){if(Fn(r)){var o=!0;ub(e)}else o=!1;if(Hu(e,i),e.stateNode===null)y0(t,e),n5(e,r,n),UC(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ri(c):(c=Fn(r)?mc:hn.current,c=kf(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Y$(e,s,n,c),Hs=!1;var h=e.memoizedState;s.state=h,mb(e,n,s,i),l=e.memoizedState,a!==n||h!==l||Mn.current||Hs?(typeof u=="function"&&(BC(e,r,u,n),l=e.memoizedState),(a=Hs||K$(e,r,a,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,t5(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vi(e.type,a),s.props=c,f=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ri(l):(l=Fn(r)?mc:hn.current,l=kf(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Y$(e,s,n,l),Hs=!1,h=e.memoizedState,s.state=h,mb(e,n,s,i);var m=e.memoizedState;a!==f||h!==m||Mn.current||Hs?(typeof p=="function"&&(BC(e,r,p,n),m=e.memoizedState),(c=Hs||K$(e,r,c,n,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return zC(t,e,r,n,o,i)}function zC(t,e,r,n,i,o){N5(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&W$(e,r,!1),_s(t,e,o);n=e.stateNode,_ee.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Rf(e,t.child,null,o),e.child=Rf(e,null,a,o)):bn(t,e,a,o),e.memoizedState=n.state,i&&W$(e,r,!0),e.child}function k5(t){var e=t.stateNode;e.pendingContext?V$(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V$(t,e.context,!1),$N(t,e.containerInfo)}function o2(t,e,r,n,i){return Of(),IN(i),e.flags|=256,bn(t,e,r,n),e.child}var GC={dehydrated:null,treeContext:null,retryLane:0};function qC(t){return{baseLanes:t,cachePool:null,transitions:null}}function O5(t,e,r){var n=e.pendingProps,i=Dt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),At(Dt,i&1),t===null)return FC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=pw(s,n,0,null),t=Xl(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=qC(r),e.memoizedState=GC,t):WN(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wee(t,e,s,n,a,i,r);if(o){o=n.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Pa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Pa(a,o):(o=Xl(o,s,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=t.child.memoizedState,s=s===null?qC(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=GC,n}return o=t.child,t=o.sibling,n=Pa(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function WN(t,e){return e=pw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pv(t,e,r,n){return n!==null&&IN(n),Rf(e,t.child,null,r),t=WN(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wee(t,e,r,n,i,o,s){if(r)return e.flags&256?(e.flags&=-257,n=JS(Error(Y(422))),pv(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=pw({mode:"visible",children:n.children},i,0,null),o=Xl(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Rf(e,t.child,null,s),e.child.memoizedState=qC(s),e.memoizedState=GC,o);if(!(e.mode&1))return pv(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(Y(419)),n=JS(o,n,void 0),pv(t,e,s,n)}if(a=(s&t.childLanes)!==0,jn||a){if(n=Pr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xs(t,i),io(n,t,i,-1))}return YN(),n=JS(Error(Y(421))),pv(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$ee.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Qn=Ea(i.nextSibling),ei=e,Ot=!0,Ki=null,t!==null&&(bi[xi++]=os,bi[xi++]=ss,bi[xi++]=yc,os=t.id,ss=t.overflow,yc=e),e=WN(e,n.children),e.flags|=4096,e)}function s2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),LC(t.return,e,r)}function ZS(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function R5(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(bn(t,e,n.children,r),n=Dt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s2(t,r,e);else if(t.tag===19)s2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(Dt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&yb(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ZS(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yb(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ZS(e,!0,r,null,o);break;case"together":ZS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function y0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _s(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),vc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,r=Pa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Pa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function See(t,e,r){switch(e.tag){case 3:k5(e),Of();break;case 5:s5(e);break;case 1:Fn(e.type)&&ub(e);break;case 4:$N(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;At(hb,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(At(Dt,Dt.current&1),e.flags|=128,null):r&e.child.childLanes?O5(t,e,r):(At(Dt,Dt.current&1),t=_s(t,e,r),t!==null?t.sibling:null);At(Dt,Dt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return R5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(Dt,Dt.current),n)break;return null;case 22:case 23:return e.lanes=0,I5(t,e,r)}return _s(t,e,r)}var j5,HC,$5,D5;j5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};HC=function(){};$5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ol(Mo.current);var o=null;switch(r){case"input":i=mC(t,i),n=mC(t,n),o=[];break;case"select":i=Bt({},i,{value:void 0}),n=Bt({},n,{value:void 0}),o=[];break;case"textarea":i=vC(t,i),n=vC(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=lb)}xC(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qp.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ct("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};D5=function(t,e,r,n){r!==n&&(e.flags|=4)};function bh(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Eee(t,e,r){var n=e.pendingProps;switch(PN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Fn(e.type)&&cb(),tn(e),null;case 3:return n=e.stateNode,jf(),Nt(Mn),Nt(hn),MN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(dv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ki!==null&&(tT(Ki),Ki=null))),HC(t,e),tn(e),null;case 5:DN(e);var i=Ol(lm.current);if(r=e.type,t!==null&&e.stateNode!=null)$5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Y(166));return tn(e),null}if(t=Ol(Mo.current),dv(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[wo]=e,n[sm]=o,t=(e.mode&1)!==0,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(i=0;i<Xh.length;i++)Ct(Xh[i],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":m$(n,o),Ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ct("invalid",n);break;case"textarea":g$(n,o),Ct("invalid",n)}xC(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&fv(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&fv(n.textContent,a,t),i=["children",""+a]):Qp.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ct("scroll",n)}switch(r){case"input":nv(n),y$(n,o,!0);break;case"textarea":nv(n),v$(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=lb)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=c6(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[wo]=e,t[sm]=n,j5(t,e,!1,!1),e.stateNode=t;e:{switch(s=_C(r,n),r){case"dialog":Ct("cancel",t),Ct("close",t),i=n;break;case"iframe":case"object":case"embed":Ct("load",t),i=n;break;case"video":case"audio":for(i=0;i<Xh.length;i++)Ct(Xh[i],t);i=n;break;case"source":Ct("error",t),i=n;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),i=n;break;case"details":Ct("toggle",t),i=n;break;case"input":m$(t,n),i=mC(t,n),Ct("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Bt({},n,{value:void 0}),Ct("invalid",t);break;case"textarea":g$(t,n),i=vC(t,n),Ct("invalid",t);break;default:i=n}xC(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?d6(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&u6(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Xp(t,l):typeof l=="number"&&Xp(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ct("scroll",t):l!=null&&hN(t,o,l,s))}switch(r){case"input":nv(t),y$(t,n,!1);break;case"textarea":nv(t),v$(t);break;case"option":n.value!=null&&t.setAttribute("value",""+La(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Wu(t,!!n.multiple,o,!1):n.defaultValue!=null&&Wu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)D5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Y(166));if(r=Ol(lm.current),Ol(Mo.current),dv(e)){if(n=e.stateNode,r=e.memoizedProps,n[wo]=e,(o=n.nodeValue!==r)&&(t=ei,t!==null))switch(t.tag){case 3:fv(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fv(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wo]=e,e.stateNode=n}return tn(e),null;case 13:if(Nt(Dt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&Qn!==null&&e.mode&1&&!(e.flags&128))Z6(),Of(),e.flags|=98560,o=!1;else if(o=dv(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(Y(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[wo]=e}else Of(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),o=!1}else Ki!==null&&(tT(Ki),Ki=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?fr===0&&(fr=3):YN())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return jf(),HC(t,e),t===null&&im(e.stateNode.containerInfo),tn(e),null;case 10:return ON(e.type._context),tn(e),null;case 17:return Fn(e.type)&&cb(),tn(e),null;case 19:if(Nt(Dt),o=e.memoizedState,o===null)return tn(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)bh(o,!1);else{if(fr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=yb(t),s!==null){for(e.flags|=128,bh(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(Dt,Dt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xt()>Df&&(e.flags|=128,n=!0,bh(o,!1),e.lanes=4194304)}else{if(!n)if(t=yb(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ot)return tn(e),null}else 2*Xt()-o.renderingStartTime>Df&&r!==1073741824&&(e.flags|=128,n=!0,bh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,r=Dt.current,At(Dt,n?r&1|2:r&1),e):(tn(e),null);case 22:case 23:return KN(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function Aee(t,e){switch(PN(e),e.tag){case 1:return Fn(e.type)&&cb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jf(),Nt(Mn),Nt(hn),MN(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return DN(e),null;case 13:if(Nt(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Of()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nt(Dt),null;case 4:return jf(),null;case 10:return ON(e.type._context),null;case 22:case 23:return KN(),null;case 24:return null;default:return null}}var mv=!1,ln=!1,Cee=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Nu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gt(t,e,n)}else r.current=null}function KC(t,e,r){try{r()}catch(n){Gt(t,e,n)}}var a2=!1;function Tee(t,e){if(kC=ob,t=B6(),CN(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(a=s+i),f!==o||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(a=s),h===o&&++u===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(OC={focusedElem:t,selectionRange:r},ob=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,g=m.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Vi(e.type,y),g);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(S){Gt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return m=a2,a2=!1,m}function _p(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&KC(e,r,o)}i=i.next}while(i!==n)}}function dw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function YC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function M5(t){var e=t.alternate;e!==null&&(t.alternate=null,M5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wo],delete e[sm],delete e[$C],delete e[cee],delete e[uee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F5(t){return t.tag===5||t.tag===3||t.tag===4}function l2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function QC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=lb));else if(n!==4&&(t=t.child,t!==null))for(QC(t,e,r),t=t.sibling;t!==null;)QC(t,e,r),t=t.sibling}function XC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(XC(t,e,r),t=t.sibling;t!==null;)XC(t,e,r),t=t.sibling}var Fr=null,Gi=!1;function Ds(t,e,r){for(r=r.child;r!==null;)L5(t,e,r),r=r.sibling}function L5(t,e,r){if(Do&&typeof Do.onCommitFiberUnmount=="function")try{Do.onCommitFiberUnmount(iw,r)}catch{}switch(r.tag){case 5:ln||Nu(r,e);case 6:var n=Fr,i=Gi;Fr=null,Ds(t,e,r),Fr=n,Gi=i,Fr!==null&&(Gi?(t=Fr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Fr.removeChild(r.stateNode));break;case 18:Fr!==null&&(Gi?(t=Fr,r=r.stateNode,t.nodeType===8?qS(t.parentNode,r):t.nodeType===1&&qS(t,r),tm(t)):qS(Fr,r.stateNode));break;case 4:n=Fr,i=Gi,Fr=r.stateNode.containerInfo,Gi=!0,Ds(t,e,r),Fr=n,Gi=i;break;case 0:case 11:case 14:case 15:if(!ln&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&KC(r,e,s),i=i.next}while(i!==n)}Ds(t,e,r);break;case 1:if(!ln&&(Nu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Gt(r,e,a)}Ds(t,e,r);break;case 21:Ds(t,e,r);break;case 22:r.mode&1?(ln=(n=ln)||r.memoizedState!==null,Ds(t,e,r),ln=n):Ds(t,e,r);break;default:Ds(t,e,r)}}function c2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Cee),e.forEach(function(n){var i=Dee.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Li(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Fr=a.stateNode,Gi=!1;break e;case 3:Fr=a.stateNode.containerInfo,Gi=!0;break e;case 4:Fr=a.stateNode.containerInfo,Gi=!0;break e}a=a.return}if(Fr===null)throw Error(Y(160));L5(o,s,i),Fr=null,Gi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B5(e,t),e=e.sibling}function B5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Li(e,t),po(t),n&4){try{_p(3,t,t.return),dw(3,t)}catch(y){Gt(t,t.return,y)}try{_p(5,t,t.return)}catch(y){Gt(t,t.return,y)}}break;case 1:Li(e,t),po(t),n&512&&r!==null&&Nu(r,r.return);break;case 5:if(Li(e,t),po(t),n&512&&r!==null&&Nu(r,r.return),t.flags&32){var i=t.stateNode;try{Xp(i,"")}catch(y){Gt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&a6(i,o),_C(a,s);var c=_C(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?d6(i,f):u==="dangerouslySetInnerHTML"?u6(i,f):u==="children"?Xp(i,f):hN(i,u,f,c)}switch(a){case"input":yC(i,o);break;case"textarea":l6(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Wu(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Wu(i,!!o.multiple,o.defaultValue,!0):Wu(i,!!o.multiple,o.multiple?[]:"",!1))}i[sm]=o}catch(y){Gt(t,t.return,y)}}break;case 6:if(Li(e,t),po(t),n&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Gt(t,t.return,y)}}break;case 3:if(Li(e,t),po(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tm(e.containerInfo)}catch(y){Gt(t,t.return,y)}break;case 4:Li(e,t),po(t);break;case 13:Li(e,t),po(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qN=Xt())),n&4&&c2(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ln=(c=ln)||u,Li(e,t),ln=c):Li(e,t),po(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ae=t,u=t.child;u!==null;){for(f=ae=u;ae!==null;){switch(h=ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:_p(4,h,h.return);break;case 1:Nu(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Gt(n,r,y)}}break;case 5:Nu(h,h.return);break;case 22:if(h.memoizedState!==null){f2(f);continue}}p!==null?(p.return=h,ae=p):f2(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=f6("display",s))}catch(y){Gt(t,t.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Gt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Li(e,t),po(t),n&4&&c2(t);break;case 21:break;default:Li(e,t),po(t)}}function po(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(F5(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Xp(i,""),n.flags&=-33);var o=l2(t);XC(t,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=l2(t);QC(t,a,s);break;default:throw Error(Y(161))}}catch(l){Gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pee(t,e,r){ae=t,U5(t)}function U5(t,e,r){for(var n=(t.mode&1)!==0;ae!==null;){var i=ae,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||mv;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=mv;var c=ln;if(mv=s,(ln=l)&&!c)for(ae=i;ae!==null;)s=ae,l=s.child,s.tag===22&&s.memoizedState!==null?d2(i):l!==null?(l.return=s,ae=l):d2(i);for(;o!==null;)ae=o,U5(o),o=o.sibling;ae=i,mv=a,ln=c}u2(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ae=o):u2(t)}}function u2(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||dw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ln)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Vi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&H$(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}H$(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&tm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}ln||e.flags&512&&YC(e)}catch(h){Gt(e,e.return,h)}}if(e===t){ae=null;break}if(r=e.sibling,r!==null){r.return=e.return,ae=r;break}ae=e.return}}function f2(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ae=r;break}ae=e.return}}function d2(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{dw(4,e)}catch(l){Gt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Gt(e,i,l)}}var o=e.return;try{YC(e)}catch(l){Gt(e,o,l)}break;case 5:var s=e.return;try{YC(e)}catch(l){Gt(e,s,l)}}}catch(l){Gt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var Iee=Math.ceil,bb=Ns.ReactCurrentDispatcher,zN=Ns.ReactCurrentOwner,Pi=Ns.ReactCurrentBatchConfig,Je=0,Pr=null,rr=null,qr=0,qn=0,ku=Ja(0),fr=0,dm=null,vc=0,hw=0,GN=0,wp=null,On=null,qN=0,Df=1/0,rs=null,xb=!1,JC=null,Ca=null,yv=!1,ca=null,_b=0,Sp=0,ZC=null,g0=-1,v0=0;function Cn(){return Je&6?Xt():g0!==-1?g0:g0=Xt()}function Ta(t){return t.mode&1?Je&2&&qr!==0?qr&-qr:dee.transition!==null?(v0===0&&(v0=E6()),v0):(t=lt,t!==0||(t=window.event,t=t===void 0?16:k6(t.type)),t):1}function io(t,e,r,n){if(50<Sp)throw Sp=0,ZC=null,Error(Y(185));Hy(t,r,n),(!(Je&2)||t!==Pr)&&(t===Pr&&(!(Je&2)&&(hw|=r),fr===4&&Zs(t,qr)),Ln(t,n),r===1&&Je===0&&!(e.mode&1)&&(Df=Xt()+500,cw&&Za()))}function Ln(t,e){var r=t.callbackNode;dZ(t,e);var n=ib(t,t===Pr?qr:0);if(n===0)r!==null&&_$(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&_$(r),e===1)t.tag===0?fee(h2.bind(null,t)):Q6(h2.bind(null,t)),aee(function(){!(Je&6)&&Za()}),r=null;else{switch(A6(n)){case 1:r=vN;break;case 4:r=w6;break;case 16:r=nb;break;case 536870912:r=S6;break;default:r=nb}r=Y5(r,V5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function V5(t,e){if(g0=-1,v0=0,Je&6)throw Error(Y(327));var r=t.callbackNode;if(Ku()&&t.callbackNode!==r)return null;var n=ib(t,t===Pr?qr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=wb(t,n);else{e=n;var i=Je;Je|=2;var o=z5();(Pr!==t||qr!==e)&&(rs=null,Df=Xt()+500,Ql(t,e));do try{Oee();break}catch(a){W5(t,a)}while(1);kN(),bb.current=o,Je=i,rr!==null?e=0:(Pr=null,qr=0,e=fr)}if(e!==0){if(e===2&&(i=CC(t),i!==0&&(n=i,e=eT(t,i))),e===1)throw r=dm,Ql(t,0),Zs(t,n),Ln(t,Xt()),r;if(e===6)Zs(t,n);else{if(i=t.current.alternate,!(n&30)&&!Nee(i)&&(e=wb(t,n),e===2&&(o=CC(t),o!==0&&(n=o,e=eT(t,o))),e===1))throw r=dm,Ql(t,0),Zs(t,n),Ln(t,Xt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Y(345));case 2:pl(t,On,rs);break;case 3:if(Zs(t,n),(n&130023424)===n&&(e=qN+500-Xt(),10<e)){if(ib(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jC(pl.bind(null,t,On,rs),e);break}pl(t,On,rs);break;case 4:if(Zs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-no(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Iee(n/1960))-n,10<n){t.timeoutHandle=jC(pl.bind(null,t,On,rs),n);break}pl(t,On,rs);break;case 5:pl(t,On,rs);break;default:throw Error(Y(329))}}}return Ln(t,Xt()),t.callbackNode===r?V5.bind(null,t):null}function eT(t,e){var r=wp;return t.current.memoizedState.isDehydrated&&(Ql(t,e).flags|=256),t=wb(t,e),t!==2&&(e=On,On=r,e!==null&&tT(e)),t}function tT(t){On===null?On=t:On.push.apply(On,t)}function Nee(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!ao(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zs(t,e){for(e&=~GN,e&=~hw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-no(e),n=1<<r;t[r]=-1,e&=~n}}function h2(t){if(Je&6)throw Error(Y(327));Ku();var e=ib(t,0);if(!(e&1))return Ln(t,Xt()),null;var r=wb(t,e);if(t.tag!==0&&r===2){var n=CC(t);n!==0&&(e=n,r=eT(t,n))}if(r===1)throw r=dm,Ql(t,0),Zs(t,e),Ln(t,Xt()),r;if(r===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pl(t,On,rs),Ln(t,Xt()),null}function HN(t,e){var r=Je;Je|=1;try{return t(e)}finally{Je=r,Je===0&&(Df=Xt()+500,cw&&Za())}}function bc(t){ca!==null&&ca.tag===0&&!(Je&6)&&Ku();var e=Je;Je|=1;var r=Pi.transition,n=lt;try{if(Pi.transition=null,lt=1,t)return t()}finally{lt=n,Pi.transition=r,Je=e,!(Je&6)&&Za()}}function KN(){qn=ku.current,Nt(ku)}function Ql(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,see(r)),rr!==null)for(r=rr.return;r!==null;){var n=r;switch(PN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&cb();break;case 3:jf(),Nt(Mn),Nt(hn),MN();break;case 5:DN(n);break;case 4:jf();break;case 13:Nt(Dt);break;case 19:Nt(Dt);break;case 10:ON(n.type._context);break;case 22:case 23:KN()}r=r.return}if(Pr=t,rr=t=Pa(t.current,null),qr=qn=e,fr=0,dm=null,GN=hw=vc=0,On=wp=null,kl!==null){for(e=0;e<kl.length;e++)if(r=kl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}kl=null}return t}function W5(t,e){do{var r=rr;try{if(kN(),p0.current=vb,gb){for(var n=Lt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gb=!1}if(gc=0,Tr=ar=Lt=null,xp=!1,cm=0,zN.current=null,r===null||r.return===null){fr=1,dm=e,rr=null;break}e:{var o=t,s=r.return,a=r,l=e;if(e=qr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=e2(s);if(p!==null){p.flags&=-257,t2(p,s,a,o,e),p.mode&1&&Z$(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){Z$(o,c,e),YN();break e}l=Error(Y(426))}}else if(Ot&&a.mode&1){var g=e2(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),t2(g,s,a,o,e),IN($f(l,a));break e}}o=l=$f(l,a),fr!==4&&(fr=2),wp===null?wp=[o]:wp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=C5(o,l,e);q$(o,b);break e;case 1:a=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ca===null||!Ca.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=T5(o,a,e);q$(o,S);break e}}o=o.return}while(o!==null)}q5(r)}catch(_){e=_,rr===r&&r!==null&&(rr=r=r.return);continue}break}while(1)}function z5(){var t=bb.current;return bb.current=vb,t===null?vb:t}function YN(){(fr===0||fr===3||fr===2)&&(fr=4),Pr===null||!(vc&268435455)&&!(hw&268435455)||Zs(Pr,qr)}function wb(t,e){var r=Je;Je|=2;var n=z5();(Pr!==t||qr!==e)&&(rs=null,Ql(t,e));do try{kee();break}catch(i){W5(t,i)}while(1);if(kN(),Je=r,bb.current=n,rr!==null)throw Error(Y(261));return Pr=null,qr=0,fr}function kee(){for(;rr!==null;)G5(rr)}function Oee(){for(;rr!==null&&!nZ();)G5(rr)}function G5(t){var e=K5(t.alternate,t,qn);t.memoizedProps=t.pendingProps,e===null?q5(t):rr=e,zN.current=null}function q5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Aee(r,e),r!==null){r.flags&=32767,rr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fr=6,rr=null;return}}else if(r=Eee(r,e,qn),r!==null){rr=r;return}if(e=e.sibling,e!==null){rr=e;return}rr=e=t}while(e!==null);fr===0&&(fr=5)}function pl(t,e,r){var n=lt,i=Pi.transition;try{Pi.transition=null,lt=1,Ree(t,e,r,n)}finally{Pi.transition=i,lt=n}return null}function Ree(t,e,r,n){do Ku();while(ca!==null);if(Je&6)throw Error(Y(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(hZ(t,o),t===Pr&&(rr=Pr=null,qr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yv||(yv=!0,Y5(nb,function(){return Ku(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Pi.transition,Pi.transition=null;var s=lt;lt=1;var a=Je;Je|=4,zN.current=null,Tee(t,r),B5(r,t),ZZ(OC),ob=!!kC,OC=kC=null,t.current=r,Pee(r),iZ(),Je=a,lt=s,Pi.transition=o}else t.current=r;if(yv&&(yv=!1,ca=t,_b=i),o=t.pendingLanes,o===0&&(Ca=null),aZ(r.stateNode),Ln(t,Xt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xb)throw xb=!1,t=JC,JC=null,t;return _b&1&&t.tag!==0&&Ku(),o=t.pendingLanes,o&1?t===ZC?Sp++:(Sp=0,ZC=t):Sp=0,Za(),null}function Ku(){if(ca!==null){var t=A6(_b),e=Pi.transition,r=lt;try{if(Pi.transition=null,lt=16>t?16:t,ca===null)var n=!1;else{if(t=ca,ca=null,_b=0,Je&6)throw Error(Y(331));var i=Je;for(Je|=4,ae=t.current;ae!==null;){var o=ae,s=o.child;if(ae.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:_p(8,u,o)}var f=u.child;if(f!==null)f.return=u,ae=f;else for(;ae!==null;){u=ae;var h=u.sibling,p=u.return;if(M5(u),u===c){ae=null;break}if(h!==null){h.return=p,ae=h;break}ae=p}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(y!==null)}}ae=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ae=s;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_p(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ae=b;break e}ae=o.return}}var v=t.current;for(ae=v;ae!==null;){s=ae;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,ae=x;else e:for(s=v;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dw(9,a)}}catch(_){Gt(a,a.return,_)}if(a===s){ae=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ae=S;break e}ae=a.return}}if(Je=i,Za(),Do&&typeof Do.onPostCommitFiberRoot=="function")try{Do.onPostCommitFiberRoot(iw,t)}catch{}n=!0}return n}finally{lt=r,Pi.transition=e}}return!1}function p2(t,e,r){e=$f(r,e),e=C5(t,e,1),t=Aa(t,e,1),e=Cn(),t!==null&&(Hy(t,1,e),Ln(t,e))}function Gt(t,e,r){if(t.tag===3)p2(t,t,r);else for(;e!==null;){if(e.tag===3){p2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ca===null||!Ca.has(n))){t=$f(r,t),t=T5(e,t,1),e=Aa(e,t,1),t=Cn(),e!==null&&(Hy(e,1,t),Ln(e,t));break}}e=e.return}}function jee(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&r,Pr===t&&(qr&r)===r&&(fr===4||fr===3&&(qr&130023424)===qr&&500>Xt()-qN?Ql(t,0):GN|=r),Ln(t,e)}function H5(t,e){e===0&&(t.mode&1?(e=sv,sv<<=1,!(sv&130023424)&&(sv=4194304)):e=1);var r=Cn();t=xs(t,e),t!==null&&(Hy(t,e,r),Ln(t,r))}function $ee(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),H5(t,r)}function Dee(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(e),H5(t,r)}var K5;K5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)jn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return jn=!1,See(t,e,r);jn=!!(t.flags&131072)}else jn=!1,Ot&&e.flags&1048576&&X6(e,db,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;y0(t,e),t=e.pendingProps;var i=kf(e,hn.current);Hu(e,r),i=LN(null,e,n,t,i,r);var o=BN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(n)?(o=!0,ub(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jN(e),i.updater=uw,e.stateNode=i,i._reactInternals=e,UC(e,n,t,r),e=zC(null,e,n,!0,o,r)):(e.tag=0,Ot&&o&&TN(e),bn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(y0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Fee(n),t=Vi(n,t),i){case 0:e=WC(null,e,n,t,r);break e;case 1:e=i2(null,e,n,t,r);break e;case 11:e=r2(null,e,n,t,r);break e;case 14:e=n2(null,e,n,Vi(n.type,t),r);break e}throw Error(Y(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vi(n,i),WC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vi(n,i),i2(t,e,n,i,r);case 3:e:{if(k5(e),t===null)throw Error(Y(387));n=e.pendingProps,o=e.memoizedState,i=o.element,t5(t,e),mb(e,n,null,r);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=$f(Error(Y(423)),e),e=o2(t,e,n,r,i);break e}else if(n!==i){i=$f(Error(Y(424)),e),e=o2(t,e,n,r,i);break e}else for(Qn=Ea(e.stateNode.containerInfo.firstChild),ei=e,Ot=!0,Ki=null,r=o5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Of(),n===i){e=_s(t,e,r);break e}bn(t,e,n,r)}e=e.child}return e;case 5:return s5(e),t===null&&FC(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,RC(n,i)?s=null:o!==null&&RC(n,o)&&(e.flags|=32),N5(t,e),bn(t,e,s,r),e.child;case 6:return t===null&&FC(e),null;case 13:return O5(t,e,r);case 4:return $N(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Rf(e,null,n,r):bn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vi(n,i),r2(t,e,n,i,r);case 7:return bn(t,e,e.pendingProps,r),e.child;case 8:return bn(t,e,e.pendingProps.children,r),e.child;case 12:return bn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,At(hb,n._currentValue),n._currentValue=s,o!==null)if(ao(o.value,s)){if(o.children===i.children&&!Mn.current){e=_s(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=hs(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),LC(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Y(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),LC(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}bn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Hu(e,r),i=Ri(i),n=n(i),e.flags|=1,bn(t,e,n,r),e.child;case 14:return n=e.type,i=Vi(n,e.pendingProps),i=Vi(n.type,i),n2(t,e,n,i,r);case 15:return P5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vi(n,i),y0(t,e),e.tag=1,Fn(n)?(t=!0,ub(e)):t=!1,Hu(e,r),n5(e,n,i),UC(e,n,i,r),zC(null,e,n,!0,t,r);case 19:return R5(t,e,r);case 22:return I5(t,e,r)}throw Error(Y(156,e.tag))};function Y5(t,e){return _6(t,e)}function Mee(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(t,e,r,n){return new Mee(t,e,r,n)}function QN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fee(t){if(typeof t=="function")return QN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mN)return 11;if(t===yN)return 14}return 2}function Pa(t,e){var r=t.alternate;return r===null?(r=Ei(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function b0(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")QN(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case _u:return Xl(r.children,i,o,e);case pN:s=8,i|=8;break;case fC:return t=Ei(12,r,e,i|2),t.elementType=fC,t.lanes=o,t;case dC:return t=Ei(13,r,e,i),t.elementType=dC,t.lanes=o,t;case hC:return t=Ei(19,r,e,i),t.elementType=hC,t.lanes=o,t;case i6:return pw(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r6:s=10;break e;case n6:s=9;break e;case mN:s=11;break e;case yN:s=14;break e;case qs:s=16,n=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Ei(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Xl(t,e,r,n){return t=Ei(7,t,n,e),t.lanes=r,t}function pw(t,e,r,n){return t=Ei(22,t,n,e),t.elementType=i6,t.lanes=r,t.stateNode={isHidden:!1},t}function eE(t,e,r){return t=Ei(6,t,null,e),t.lanes=r,t}function tE(t,e,r){return e=Ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lee(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$S(0),this.expirationTimes=$S(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$S(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function XN(t,e,r,n,i,o,s,a,l){return t=new Lee(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ei(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jN(o),t}function Bee(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Q5(t){if(!t)return Ba;t=t._reactInternals;e:{if(jc(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var r=t.type;if(Fn(r))return Y6(t,r,e)}return e}function X5(t,e,r,n,i,o,s,a,l){return t=XN(r,n,!0,t,i,o,s,a,l),t.context=Q5(null),r=t.current,n=Cn(),i=Ta(r),o=hs(n,i),o.callback=e??null,Aa(r,o,i),t.current.lanes=i,Hy(t,i,n),Ln(t,n),t}function mw(t,e,r,n){var i=e.current,o=Cn(),s=Ta(i);return r=Q5(r),e.context===null?e.context=r:e.pendingContext=r,e=hs(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Aa(i,e,s),t!==null&&(io(t,i,s,o),h0(t,i,s)),s}function Sb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function JN(t,e){m2(t,e),(t=t.alternate)&&m2(t,e)}function Uee(){return null}var J5=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZN(t){this._internalRoot=t}yw.prototype.render=ZN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));mw(t,e,null,null)};yw.prototype.unmount=ZN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bc(function(){mw(null,t,null,null)}),e[bs]=null}};function yw(t){this._internalRoot=t}yw.prototype.unstable_scheduleHydration=function(t){if(t){var e=P6();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Js.length&&e!==0&&e<Js[r].priority;r++);Js.splice(r,0,t),r===0&&N6(t)}};function ek(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y2(){}function Vee(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=Sb(s);o.call(c)}}var s=X5(e,n,t,0,null,!1,!1,"",y2);return t._reactRootContainer=s,t[bs]=s.current,im(t.nodeType===8?t.parentNode:t),bc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Sb(l);a.call(c)}}var l=XN(t,0,!1,null,null,!1,!1,"",y2);return t._reactRootContainer=l,t[bs]=l.current,im(t.nodeType===8?t.parentNode:t),bc(function(){mw(e,l,r,n)}),l}function vw(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Sb(s);a.call(l)}}mw(e,s,t,i)}else s=Vee(r,e,t,i,n);return Sb(s)}C6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qh(e.pendingLanes);r!==0&&(bN(e,r|1),Ln(e,Xt()),!(Je&6)&&(Df=Xt()+500,Za()))}break;case 13:bc(function(){var n=xs(t,1);if(n!==null){var i=Cn();io(n,t,1,i)}}),JN(t,1)}};xN=function(t){if(t.tag===13){var e=xs(t,134217728);if(e!==null){var r=Cn();io(e,t,134217728,r)}JN(t,134217728)}};T6=function(t){if(t.tag===13){var e=Ta(t),r=xs(t,e);if(r!==null){var n=Cn();io(r,t,e,n)}JN(t,e)}};P6=function(){return lt};I6=function(t,e){var r=lt;try{return lt=t,e()}finally{lt=r}};SC=function(t,e,r){switch(e){case"input":if(yC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=lw(n);if(!i)throw Error(Y(90));s6(n),yC(n,i)}}}break;case"textarea":l6(t,r);break;case"select":e=r.value,e!=null&&Wu(t,!!r.multiple,e,!1)}};m6=HN;y6=bc;var Wee={usingClientEntryPoint:!1,Events:[Yy,Au,lw,h6,p6,HN]},xh={findFiberByHostInstance:Nl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zee={bundleType:xh.bundleType,version:xh.version,rendererPackageName:xh.rendererPackageName,rendererConfig:xh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b6(t),t===null?null:t.stateNode},findFiberByHostInstance:xh.findFiberByHostInstance||Uee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gv.isDisabled&&gv.supportsFiber)try{iw=gv.inject(zee),Do=gv}catch{}}si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wee;si.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ek(e))throw Error(Y(200));return Bee(t,e,null,r)};si.createRoot=function(t,e){if(!ek(t))throw Error(Y(299));var r=!1,n="",i=J5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=XN(t,1,!1,null,null,r,!1,n,i),t[bs]=e.current,im(t.nodeType===8?t.parentNode:t),new ZN(e)};si.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=b6(e),t=t===null?null:t.stateNode,t};si.flushSync=function(t){return bc(t)};si.hydrate=function(t,e,r){if(!gw(e))throw Error(Y(200));return vw(null,t,e,!0,r)};si.hydrateRoot=function(t,e,r){if(!ek(t))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=J5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=X5(e,null,t,1,r??null,i,!1,o,s),t[bs]=e.current,im(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new yw(e)};si.render=function(t,e,r){if(!gw(e))throw Error(Y(200));return vw(null,t,e,!1,r)};si.unmountComponentAtNode=function(t){if(!gw(t))throw Error(Y(40));return t._reactRootContainer?(bc(function(){vw(null,null,t,!1,function(){t._reactRootContainer=null,t[bs]=null})}),!0):!1};si.unstable_batchedUpdates=HN;si.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!gw(r))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return vw(t,e,r,!1,n)};si.version="18.2.0-next-9e3b772b8-20220608";function Z5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z5)}catch(t){console.error(t)}}Z5(),XV.exports=si;var Xy=XV.exports;const Gee=ot(Xy);var g2=Xy;cC.createRoot=g2.createRoot,cC.hydrateRoot=g2.hydrateRoot;var eW={exports:{}},tW={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf=E;function qee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hee=typeof Object.is=="function"?Object.is:qee,Kee=Mf.useState,Yee=Mf.useEffect,Qee=Mf.useLayoutEffect,Xee=Mf.useDebugValue;function Jee(t,e){var r=e(),n=Kee({inst:{value:r,getSnapshot:e}}),i=n[0].inst,o=n[1];return Qee(function(){i.value=r,i.getSnapshot=e,rE(i)&&o({inst:i})},[t,r,e]),Yee(function(){return rE(i)&&o({inst:i}),t(function(){rE(i)&&o({inst:i})})},[t]),Xee(r),r}function rE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Hee(t,r)}catch{return!0}}function Zee(t,e){return e()}var ete=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zee:Jee;tW.useSyncExternalStore=Mf.useSyncExternalStore!==void 0?Mf.useSyncExternalStore:ete;eW.exports=tW;var tk=eW.exports;const{useEffect:tte,useLayoutEffect:rte,useRef:nte,useInsertionEffect:ite}=$J,ote=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ste=ote?rte:tte,ate=ite||ste,rW=t=>{const e=nte([t,(...r)=>e[0](...r)]).current;return ate(()=>{e[0]=t}),e[1]},lte=(t="",e=location.pathname)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",cte=(t,e="")=>t[0]==="~"?t.slice(1):e+t,ute="popstate",rk="pushState",nk="replaceState",fte="hashchange",v2=[ute,rk,nk,fte],dte=t=>{for(const e of v2)addEventListener(e,t);return()=>{for(const e of v2)removeEventListener(e,t)}},hte=(t,e)=>tk.useSyncExternalStore(dte,t,e),b2=()=>location.pathname,pte=({ssrPath:t}={})=>hte(b2,t?()=>t:b2),mte=(t,{replace:e=!1}={})=>history[e?nk:rk](null,"",t),yte=(t={})=>[lte(t.base,pte(t)),rW((e,r)=>mte(cte(e,t.base),r))];if(typeof history<"u")for(const t of[rk,nk]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}function gte(t=bte){let e={};const r=n=>e[n]||(e[n]=t(n));return(n,i)=>{const{regexp:o,keys:s}=r(n||""),a=o.exec(i);return a?[!0,s.reduce((c,u,f)=>(c[u.name]=a[f+1],c),{})]:[!1,null]}}const x2=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),vte=(t,e,r)=>{let n=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&r&&(n="(?:\\/"+n+")"),n+(e?"?":"")},bte=t=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let r=null,n=0,i=[],o="";for(;(r=e.exec(t))!==null;){const[s,a,l]=r,c=l==="+"||l==="*",u=l==="?"||l==="*",f=u&&t[r.index-1]==="/"?1:0,h=t.substring(n,r.index-f);i.push({name:a}),n=e.lastIndex,o+=x2(h)+vte(c,u,f)}return o+=x2(t.substring(n)),{keys:i,regexp:new RegExp("^"+o+"(?:\\/)?$","i")}},xte={hook:yte,matcher:gte(),base:""},_te=E.createContext(xte),bw=()=>E.useContext(_te),xw=t=>t.hook(t),wte=()=>xw(bw()),Ste=t=>{const e=bw(),[r]=xw(e);return e.matcher(t,r)},nW=E.createContext({params:{}}),Ete=()=>E.useContext(nW).params,_2=(t,e)=>E.createElement(nW.Provider,{value:{params:t},children:e}),at=({path:t,match:e,component:r,children:n})=>{const i=Ste(t),[o,s]=e||i;return o?r?_2(s,E.createElement(r,{params:s})):_2(s,typeof n=="function"?n(s):n):null};E.forwardRef((t,e)=>{const r=bw(),[,n]=xw(r),{to:i,href:o=i,children:s,onClick:a}=t,l=rW(f=>{f.ctrlKey||f.metaKey||f.altKey||f.shiftKey||f.button!==0||(a&&a(f),f.defaultPrevented||(f.preventDefault(),n(i||o,t)))}),c={href:o[0]==="~"?o.slice(1):r.base+o,onClick:l,to:null,ref:e},u=E.isValidElement(s)?s:E.createElement("a",t);return E.cloneElement(u,c)});const rT=t=>Array.isArray(t)?[].concat(...t.map(e=>e&&e.type===E.Fragment?rT(e.props.children):rT(e))):[t],Ate=({children:t,location:e})=>{const r=bw(),n=r.matcher,[i]=xw(r);for(const o of rT(t)){let s=0;if(E.isValidElement(o)&&(s=o.props.path?n(o.props.path,e||i):[!0,{}])[0])return E.cloneElement(o,{match:s})}return null};const Cte="modulepreload",Tte=function(t){return"/"+t},w2={},iW=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=Tte(o),o in w2)return;w2[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":Cte,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},Pte=t=>{t&&t instanceof Function&&iW(()=>import("./web-vitals-9f4c2f45.js"),[]).then(({getCLS:e,getFID:r,getFCP:n,getLCP:i,getTTFB:o})=>{e(t),r(t),n(t),i(t),o(t)})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X=function(t,e){if(!t)throw Dd(e)},Dd=function(t){return new Error("Firebase Database ("+oW.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Ite=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],a=t[r++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ik={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ite(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new Nte;const h=o<<2|a>>4;if(n.push(h),c!==64){const p=a<<4&240|c>>2;if(n.push(p),f!==64){const m=c<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aW=function(t){const e=sW(t);return ik.encodeByteArray(e,!0)},Eb=function(t){return aW(t).replace(/\./g,"")},nT=function(t){try{return ik.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kte(t){return lW(void 0,t)}function lW(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Ote(r)||(t[r]=lW(t[r],e[r]));return t}function Ote(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jte=()=>Rte().__FIREBASE_DEFAULTS__,$te=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Dte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nT(t[1]);return e&&JSON.parse(e)},ok=()=>{try{return jte()||$te()||Dte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mte=t=>{var e,r;return(r=(e=ok())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},sk=t=>{const e=Mte(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},cW=()=>{var t;return(t=ok())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Eb(JSON.stringify(r)),Eb(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fte())}function Lte(){var t;const e=(t=ok())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fW(){return oW.NODE_ADMIN===!0}function Ute(){try{return typeof indexedDB=="object"}catch{return!1}}function Vte(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wte="FirebaseError";class $c extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Wte,Object.setPrototypeOf(this,$c.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dW.prototype.create)}}class dW{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?zte(o,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new $c(i,a,n)}}function zte(t,e){return t.replace(Gte,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Gte=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return JSON.parse(t)}function cr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=function(t){let e={},r={},n={},i="";try{const o=t.split(".");e=hm(nT(o[0])||""),r=hm(nT(o[1])||""),i=o[2],n=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:n,signature:i}},qte=function(t){const e=hW(t),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Hte=function(t){const e=hW(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ff(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function S2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ab(t,e,r){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e.call(r,t[i],i,t));return n}function iT(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(E2(o)&&E2(s)){if(!iT(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function E2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kte(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const n=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)n[f]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let f=0;f<16;f++)n[f]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let f=16;f<80;f++){const h=n[f-3]^n[f-8]^n[f-14]^n[f-16];n[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):f<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+n[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const n=r-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<r;){if(s===0)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<r;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<r;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[n]=this.chain_[i]>>o&255,++n;return e}}function Zy(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qte=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i>=55296&&i<=56319){const o=i-55296;n++,X(n<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(n)-56320;i=65536+(o<<10)+s}i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):i<65536?(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},_w=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){return t&&t._delegate?t._delegate:t}class xc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xte=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Jy;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zte(e))try{this.getOrInitializeService({instanceIdentifier:ml})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ml){return this.instances.has(e)}getOptions(e=ml){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Jte(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ml){return this.component?this.component.multipleInstances?e:ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Jte(t){return t===ml?void 0:t}function Zte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Xte(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const tre={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},rre=Ye.INFO,nre={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},ire=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=nre[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lk{constructor(e){this.name=e,this._logLevel=rre,this._logHandler=ire,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tre[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const ore=(t,e)=>e.some(r=>t instanceof r);let A2,C2;function sre(){return A2||(A2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function are(){return C2||(C2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pW=new WeakMap,oT=new WeakMap,mW=new WeakMap,nE=new WeakMap,ck=new WeakMap;function lre(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(Ia(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&pW.set(r,t)}).catch(()=>{}),ck.set(e,t),e}function cre(t){if(oT.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});oT.set(t,e)}let sT={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return oT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mW.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ia(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ure(t){sT=t(sT)}function fre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(iE(this),e,...r);return mW.set(n,e.sort?e.sort():[e]),Ia(n)}:are().includes(t)?function(...e){return t.apply(iE(this),e),Ia(pW.get(this))}:function(...e){return Ia(t.apply(iE(this),e))}}function dre(t){return typeof t=="function"?fre(t):(t instanceof IDBTransaction&&cre(t),ore(t,sre())?new Proxy(t,sT):t)}function Ia(t){if(t instanceof IDBRequest)return lre(t);if(nE.has(t))return nE.get(t);const e=dre(t);return e!==t&&(nE.set(t,e),ck.set(e,t)),e}const iE=t=>ck.get(t);function hre(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ia(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Ia(s.result),l.oldVersion,l.newVersion,Ia(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pre=["get","getKey","getAll","getAllKeys","count"],mre=["put","add","delete","clear"],oE=new Map;function T2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oE.get(e))return oE.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=mre.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||pre.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[r](...a),i&&l.done]))[0]};return oE.set(e,o),o}ure(t=>({...t,get:(e,r,n)=>T2(e,r)||t.get(e,r,n),has:(e,r)=>!!T2(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(gre(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function gre(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const aT="@firebase/app",P2="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new lk("@firebase/app"),vre="@firebase/app-compat",bre="@firebase/analytics-compat",xre="@firebase/analytics",_re="@firebase/app-check-compat",wre="@firebase/app-check",Sre="@firebase/auth",Ere="@firebase/auth-compat",Are="@firebase/database",Cre="@firebase/database-compat",Tre="@firebase/functions",Pre="@firebase/functions-compat",Ire="@firebase/installations",Nre="@firebase/installations-compat",kre="@firebase/messaging",Ore="@firebase/messaging-compat",Rre="@firebase/performance",jre="@firebase/performance-compat",$re="@firebase/remote-config",Dre="@firebase/remote-config-compat",Mre="@firebase/storage",Fre="@firebase/storage-compat",Lre="@firebase/firestore",Bre="@firebase/firestore-compat",Ure="firebase",Vre="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="[DEFAULT]",Wre={[aT]:"fire-core",[vre]:"fire-core-compat",[xre]:"fire-analytics",[bre]:"fire-analytics-compat",[wre]:"fire-app-check",[_re]:"fire-app-check-compat",[Sre]:"fire-auth",[Ere]:"fire-auth-compat",[Are]:"fire-rtdb",[Cre]:"fire-rtdb-compat",[Tre]:"fire-fn",[Pre]:"fire-fn-compat",[Ire]:"fire-iid",[Nre]:"fire-iid-compat",[kre]:"fire-fcm",[Ore]:"fire-fcm-compat",[Rre]:"fire-perf",[jre]:"fire-perf-compat",[$re]:"fire-rc",[Dre]:"fire-rc-compat",[Mre]:"fire-gcs",[Fre]:"fire-gcs-compat",[Lre]:"fire-fst",[Bre]:"fire-fst-compat","fire-js":"fire-js",[Ure]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Map,cT=new Map;function zre(t,e){try{t.container.addComponent(e)}catch(r){_c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Lf(t){const e=t.name;if(cT.has(e))return _c.debug(`There were multiple attempts to register component ${e}.`),!1;cT.set(e,t);for(const r of Cb.values())zre(r,t);return!0}function uk(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Na=new dW("app","Firebase",Gre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qre{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=Vre;function yW(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:lT,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(r||(r=cW()),!r)throw Na.create("no-options");const o=Cb.get(i);if(o){if(iT(r,o.options)&&iT(n,o.config))return o;throw Na.create("duplicate-app",{appName:i})}const s=new ere(i);for(const l of cT.values())s.addComponent(l);const a=new qre(r,n,s);return Cb.set(i,a),a}function dk(t=lT){const e=Cb.get(t);if(!e&&t===lT&&cW())return yW();if(!e)throw Na.create("no-app",{appName:t});return e}function Fo(t,e,r){var n;let i=(n=Wre[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_c.warn(a.join(" "));return}Lf(new xc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hre="firebase-heartbeat-database",Kre=1,pm="firebase-heartbeat-store";let sE=null;function gW(){return sE||(sE=hre(Hre,Kre,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pm)}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),sE}async function Yre(t){try{return await(await gW()).transaction(pm).objectStore(pm).get(vW(t))}catch(e){if(e instanceof $c)_c.warn(e.message);else{const r=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_c.warn(r.message)}}}async function I2(t,e){try{const n=(await gW()).transaction(pm,"readwrite");await n.objectStore(pm).put(e,vW(t)),await n.done}catch(r){if(r instanceof $c)_c.warn(r.message);else{const n=Na.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});_c.warn(n.message)}}}function vW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre=1024,Xre=30*24*60*60*1e3;class Jre{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new ene(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=N2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=Xre}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N2(),{heartbeatsToSend:r,unsentEntries:n}=Zre(this._heartbeatsCache.heartbeats),i=Eb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function N2(){return new Date().toISOString().substring(0,10)}function Zre(t,e=Qre){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),k2(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),k2(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class ene{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ute()?Vte().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Yre(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return I2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return I2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function k2(t){return Eb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tne(t){Lf(new xc("platform-logger",e=>new yre(e),"PRIVATE")),Lf(new xc("heartbeat",e=>new Jre(e),"PRIVATE")),Fo(aT,P2,t),Fo(aT,P2,"esm2017"),Fo("fire-js","")}tne("");const O2="@firebase/database",R2="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bW="";function rne(t){bW=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),cr(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:hm(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return Ko(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nne(e)}}catch{}return new ine},Rl=xW("localStorage"),uT=xW("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new lk("@firebase/database"),one=function(){let t=1;return function(){return t++}}(),_W=function(t){const e=Qte(t),r=new Yte;r.update(e);const n=r.digest();return ik.encodeByteArray(n)},eg=function(...t){let e="";for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=eg.apply(null,n):typeof n=="object"?e+=cr(n):e+=n,e+=" "}return e};let Jl=null,j2=!0;const sne=function(t,e){X(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Yu.logLevel=Ye.VERBOSE,Jl=Yu.log.bind(Yu),e&&uT.set("logging_enabled",!0)):typeof t=="function"?Jl=t:(Jl=null,uT.remove("logging_enabled"))},Br=function(...t){if(j2===!0&&(j2=!1,Jl===null&&uT.get("logging_enabled")===!0&&sne(!0)),Jl){const e=eg.apply(null,t);Jl(e)}},tg=function(t){return function(...e){Br(t,...e)}},fT=function(...t){const e="FIREBASE INTERNAL ERROR: "+eg(...t);Yu.error(e)},ws=function(...t){const e=`FIREBASE FATAL ERROR: ${eg(...t)}`;throw Yu.error(e),new Error(e)},Tn=function(...t){const e="FIREBASE WARNING: "+eg(...t);Yu.warn(e)},ane=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},lne=function(t){if(document.readyState==="complete")t();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},wc="[MIN_NAME]",Ua="[MAX_NAME]",Dc=function(t,e){if(t===e)return 0;if(t===wc||e===Ua)return-1;if(e===wc||t===Ua)return 1;{const r=$2(t),n=$2(e);return r!==null?n!==null?r-n===0?t.length-e.length:r-n:-1:n!==null?1:t<e?-1:1}},cne=function(t,e){return t===e?0:t<e?-1:1},_h=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+cr(e))},pk=function(t){if(typeof t!="object"||t===null)return cr(t);const e=[];for(const n in t)e.push(n);e.sort();let r="{";for(let n=0;n<e.length;n++)n!==0&&(r+=","),r+=cr(e[n]),r+=":",r+=pk(t[e[n]]);return r+="}",r},wW=function(t,e){const r=t.length;if(r<=e)return[t];const n=[];for(let i=0;i<r;i+=e)i+e>r?n.push(t.substring(i,r)):n.push(t.substring(i,i+e));return n};function Xr(t,e){for(const r in t)t.hasOwnProperty(r)&&e(r,t[r])}const SW=function(t){X(!hk(t),"Invalid JSON number");const e=11,r=52,n=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),n),o=a+n,s=Math.round(t*Math.pow(2,r-a)-Math.pow(2,r))):(o=0,s=Math.round(t/Math.pow(2,1-n-r))));const c=[];for(l=r;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},une=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fne=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dne(t,e){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const n=new Error(t+" at "+e._path.toString()+": "+r);return n.code=t.toUpperCase(),n}const hne=new RegExp("^-?(0*)\\d{1,10}$"),pne=-2147483648,mne=2147483647,$2=function(t){if(hne.test(t)){const e=Number(t);if(e>=pne&&e<=mne)return e}return null},Md=function(t){try{t()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Tn("Exception was thrown by user callback.",r),e},Math.floor(0))}},yne=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ep=function(t,e){const r=setTimeout(t,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Tn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(e,r,n){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(Br("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tn(e)}}class Qu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="5",EW="v",AW="s",CW="r",TW="f",PW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,IW="ls",NW="p",dT="ac",kW="websocket",OW="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{constructor(e,r,n,i,o=!1,s="",a=!1,l=!1){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function bne(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function jW(t,e,r){X(typeof e=="string","typeof type must == string"),X(typeof r=="object","typeof params must == object");let n;if(e===kW)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===OW)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bne(t)&&(r.ns=t.namespace);const i=[];return Xr(r,(o,s)=>{i.push(o+"="+s)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(){this.counters_={}}incrementCounter(e,r=1){Ko(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return kte(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={},lE={};function yk(t){const e=t.toString();return aE[e]||(aE[e]=new xne),aE[e]}function _ne(t,e){const r=t.toString();return lE[r]||(lE[r]=e()),lE[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&Md(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="start",Sne="close",Ene="pLPCommand",Ane="pRTLPCB",$W="id",DW="pw",MW="ser",Cne="cb",Tne="seg",Pne="ts",Ine="d",Nne="dframe",FW=1870,LW=30,kne=FW-LW,One=25e3,Rne=3e4;class Ou{constructor(e,r,n,i,o,s,a){this.connId=e,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tg(e),this.stats_=yk(r),this.urlFn=l=>(this.appCheckToken&&(l[dT]=this.appCheckToken),jW(r,OW,l))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new wne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Rne)),lne(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gk((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===D2)this.id=a,this.password=l;else if(s===Sne)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const n={};n[D2]="t",n[MW]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[Cne]=this.scriptTagHolder.uniqueCallbackIdentifier),n[EW]=mk,this.transportSessionId&&(n[AW]=this.transportSessionId),this.lastSessionId&&(n[IW]=this.lastSessionId),this.applicationId&&(n[NW]=this.applicationId),this.appCheckToken&&(n[dT]=this.appCheckToken),typeof location<"u"&&location.hostname&&PW.test(location.hostname)&&(n[CW]=TW);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ou.forceAllow_=!0}static forceDisallow(){Ou.forceDisallow_=!0}static isAvailable(){return Ou.forceAllow_?!0:!Ou.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!une()&&!fne()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=cr(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=aW(r),i=wW(n,kne);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[Nne]="t",n[$W]=e,n[DW]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=cr(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class gk{constructor(e,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=one(),window[Ene+this.uniqueCallbackIdentifier]=e,window[Ane+this.uniqueCallbackIdentifier]=r,this.myIFrame=gk.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Br("frame writing exception"),a.stack&&Br(a.stack),Br(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Br("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[$W]=this.myID,e[DW]=this.myPW,e[MW]=this.currentSerial;let r=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+LW+n.length<=FW;){const s=this.pendingSegs.shift();n=n+"&"+Tne+i+"="+s.seg+"&"+Pne+i+"="+s.ts+"&"+Ine+i+"="+s.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,n){this.pendingSegs.push({seg:e,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(One)),o=()=>{clearTimeout(i),n()};this.addTag(e,o)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{Br("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jne=16384,$ne=45e3;let Tb=null;typeof MozWebSocket<"u"?Tb=MozWebSocket:typeof WebSocket<"u"&&(Tb=WebSocket);class Qi{constructor(e,r,n,i,o,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tg(this.connId),this.stats_=yk(r),this.connURL=Qi.connectionURL_(r,s,a,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,n,i,o){const s={};return s[EW]=mk,typeof location<"u"&&location.hostname&&PW.test(location.hostname)&&(s[CW]=TW),r&&(s[AW]=r),n&&(s[IW]=n),i&&(s[dT]=i),o&&(s[NW]=o),jW(e,kW,s)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rl.set("previous_websocket_failure",!0);try{let n;fW(),this.mySock=new Tb(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Qi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&Tb!==null&&!Qi.forceDisallow_}static previouslyFailed(){return Rl.isInMemoryStorage||Rl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=hm(r);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(X(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const r=cr(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=wW(r,jne);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($ne))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qi.responsesRequiredToBeHealthy=2;Qi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ou,Qi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=Qi&&Qi.isAvailable();let n=r&&!Qi.previouslyFailed();if(e.webSocketOnly&&(r||Tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Qi];else{const i=this.transports_=[];for(const o of mm.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);mm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mm.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne=6e4,Mne=5e3,Fne=10*1024,Lne=100*1024,cE="t",M2="d",Bne="s",F2="r",Une="e",L2="o",B2="a",U2="n",V2="p",Vne="h";class Wne{constructor(e,r,n,i,o,s,a,l,c,u){this.id=e,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tg("c:"+this.id+":"),this.transportManager_=new mm(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ep(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Lne?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Fne?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cE in e){const r=e[cE];r===B2?this.upgradeIfSecondaryHealthy_():r===F2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===L2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=_h("t",e),n=_h("d",e);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:V2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:B2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:U2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=_h("t",e),n=_h("d",e);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=_h(cE,e);if(M2 in e){const n=e[M2];if(r===Vne){const i=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===U2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===Bne?this.onConnectionShutdown_(n):r===F2?this.onReset_(n):r===Une?fT("Server Error: "+n):r===L2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fT("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),mk!==n&&Tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),Ep(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Dne))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ep(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Mne))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:V2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{put(e,r,n,i){}merge(e,r,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,n){}onDisconnectMerge(e,r,n){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UW=class{constructor(e){this.allowedEvents_=e,this.listeners_={},X(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(e,r,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:n});const i=this.getInitialEvent(e);i&&r.apply(n,i)}off(e,r,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===r&&(!n||n===i[o].context)){i.splice(o,1);return}}validateEventType_(e){X(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends UW{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!uW()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pb}getInitialEvent(e){return X(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=32,z2=768;let ut=class{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}};function et(){return new ut("")}function Re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Va(t){return t.pieces_.length-t.pieceNum_}function Et(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ut(t.pieces_,e)}function vk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function zne(t){let e="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[r])));return e||"/"}function ym(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function VW(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)e.push(t.pieces_[r]);return new ut(e,0)}function Ht(t,e){const r=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);if(e instanceof ut)for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);else{const n=e.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new ut(r,0)}function je(t){return t.pieceNum_>=t.pieces_.length}function Sn(t,e){const r=Re(t),n=Re(e);if(r===null)return e;if(r===n)return Sn(Et(t),Et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Gne(t,e){const r=ym(t,0),n=ym(e,0);for(let i=0;i<r.length&&i<n.length;i++){const o=Dc(r[i],n[i]);if(o!==0)return o}return r.length===n.length?0:r.length<n.length?-1:1}function bk(t,e){if(Va(t)!==Va(e))return!1;for(let r=t.pieceNum_,n=e.pieceNum_;r<=t.pieces_.length;r++,n++)if(t.pieces_[r]!==e.pieces_[n])return!1;return!0}function Ai(t,e){let r=t.pieceNum_,n=e.pieceNum_;if(Va(t)>Va(e))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==e.pieces_[n])return!1;++r,++n}return!0}class qne{constructor(e,r){this.errorPrefix_=r,this.parts_=ym(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=_w(this.parts_[n]);WW(this)}}function Hne(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=_w(e),WW(t)}function Kne(t){const e=t.parts_.pop();t.byteLength_-=_w(e),t.parts_.length>0&&(t.byteLength_-=1)}function WW(t){if(t.byteLength_>z2)throw new Error(t.errorPrefix_+"has a key path longer than "+z2+" bytes ("+t.byteLength_+").");if(t.parts_.length>W2)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+W2+") or object contains a cycle "+yl(t))}function yl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk extends UW{constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new xk}getInitialEvent(e){return X(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=1e3,Yne=60*5*1e3,G2=30*1e3,Qne=1.3,Xne=3e4,Jne="server_kill",q2=3;class ps extends BW{constructor(e,r,n,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ps.nextPersistentConnectionId_++,this.log_=tg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wh,this.maxReconnectDelay_=Yne,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!fW())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xk.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pb.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,n){const i=++this.requestNumber_,o={r:i,a:e,b:r};this.log_(cr(o)),X(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const r=new Jy,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?r.resolve(a):r.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(e,r,n,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),X(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:r,query:e,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(e){const r=e.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const o={p:n},s="q";e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;ps.warnOnListenWarnings_(l,r),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(n,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&Ko(e,"w")){const n=Ff(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Hte(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=G2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=qte(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,n=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(e,r){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,r)}sendUnlisten_(e,r,n,i){this.log_("Unlisten on "+e+" for "+r);const o={p:e},s="n";i&&(o.q=n,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:n})}onDisconnectMerge(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:n})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,n,i){const o={p:r,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,r,n,i){this.putInternal("p",e,r,n,i)}merge(e,r,n,i){this.putInternal("m",e,r,n,i)}putInternal(e,r,n,i,o){this.initConnection_();const s={p:r,d:n};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const o=n.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+cr(e));const r=e.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):fT("Unrecognized action received from server: "+cr(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){X(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=wh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Xne&&(this.reconnectDelay_=wh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Qne)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ps.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},c=function(f){X(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Br("getToken() completed but was canceled"):(Br("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,a=new Wne(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,n,p=>{Tn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Jne)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Tn(f),l())}}}interrupt(e){Br("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Br("Resuming connection for reason: "+e),delete this.interruptReasons_[e],S2(this.interruptReasons_)&&(this.reconnectDelay_=wh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let n;r?n=r.map(o=>pk(o)).join("$"):n="default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,r){const n=new ut(e).toString();let i;if(this.listens.has(n)){const o=this.listens.get(n);i=o.get(r),o.delete(r),o.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,r){Br("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=q2&&(this.reconnectDelay_=G2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Br("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=q2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+bW.replace(/\./g,"-")]=1,uW()?e["framework.cordova"]=1:Bte()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pb.getInstance().currentlyOnline();return S2(this.interruptReasons_)&&e}}ps.nextPersistentConnectionId_=0;ps.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new $e(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const n=new $e(wc,e),i=new $e(wc,r);return this.compare(n,i)!==0}minPost(){return $e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv;class zW extends ww{static get __EMPTY_NODE(){return vv}static set __EMPTY_NODE(e){vv=e}compare(e,r){return Dc(e.name,r.name)}isDefinedOn(e){throw Dd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return $e.MIN}maxPost(){return new $e(Ua,vv)}makePost(e,r){return X(typeof e=="string","KeyIndex indexValue must always be a string."),new $e(e,vv)}toString(){return".key"}}const Zl=new zW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv=class{constructor(e,r,n,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=r?n(e.key,r):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Hn=class Jh{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??Jh.RED,this.left=i??To.EMPTY_NODE,this.right=o??To.EMPTY_NODE}copy(e,r,n,i,o){return new Jh(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return To.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let n,i;if(n=this,r(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(e,n.key)===0){if(n.right.isEmpty())return To.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Jh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Jh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Hn.RED=!0;Hn.BLACK=!1;class Zne{copy(e,r,n,i,o){return this}insert(e,r,n){return new Hn(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let To=class x0{constructor(e,r=x0.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new x0(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,Hn.BLACK,null,null))}remove(e){return new x0(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Hn.BLACK,null,null))}get(e){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(e,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(e){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(e,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new bv(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new bv(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new bv(this.root_,null,this.comparator_,!0,e)}};To.EMPTY_NODE=new Zne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eie(t,e){return Dc(t.name,e.name)}function _k(t,e){return Dc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hT;function tie(t){hT=t}const GW=function(t){return typeof t=="number"?"number:"+SW(t):"string:"+t},qW=function(t){if(t.isLeafNode()){const e=t.val();X(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ko(e,".sv"),"Priority must be a string or number.")}else X(t===hT||t.isEmpty(),"priority of unexpected type.");X(t===hT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H2;class Sr{constructor(e,r=Sr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,X(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qW(this.priorityNode_)}static set __childrenNodeConstructor(e){H2=e}static get __childrenNodeConstructor(){return H2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Sr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Sr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return je(e)?this:Re(e)===".priority"?this.priorityNode_:Sr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Sr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const n=Re(e);return n===null?r:r.isEmpty()&&n!==".priority"?this:(X(n!==".priority"||Va(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,Sr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Et(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+GW(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=SW(this.value_):e+=this.value_,this.lazyHash_=_W(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Sr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Sr.__childrenNodeConstructor?-1:(X(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,n=typeof this.value_,i=Sr.VALUE_TYPE_ORDER.indexOf(r),o=Sr.VALUE_TYPE_ORDER.indexOf(n);return X(i>=0,"Unknown leaf type: "+r),X(o>=0,"Unknown leaf type: "+n),i===o?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Sr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HW,KW;function rie(t){HW=t}function nie(t){KW=t}class iie extends ww{compare(e,r){const n=e.node.getPriority(),i=r.node.getPriority(),o=n.compareTo(i);return o===0?Dc(e.name,r.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return $e.MIN}maxPost(){return new $e(Ua,new Sr("[PRIORITY-POST]",KW))}makePost(e,r){const n=HW(e);return new $e(r,new Sr("[PRIORITY-POST]",n))}toString(){return".priority"}}const Ft=new iie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oie=Math.log(2);class sie{constructor(e){const r=o=>parseInt(Math.log(o)/oie,10),n=o=>parseInt(Array(o+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const i=n(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ib=function(t,e,r,n){t.sort(e);const i=function(l,c){const u=c-l;let f,h;if(u===0)return null;if(u===1)return f=t[l],h=r?r(f):f,new Hn(h,f.node,Hn.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),y=i(p+1,c);return f=t[p],h=r?r(f):f,new Hn(h,f.node,Hn.BLACK,m,y)}},o=function(l){let c=null,u=null,f=t.length;const h=function(m,y){const g=f-m,b=f;f-=m;const v=i(g+1,b),x=t[g],S=r?r(x):x;p(new Hn(S,x.node,y,null,v))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const y=l.nextBitIsOne(),g=Math.pow(2,l.count-(m+1));y?h(g,Hn.BLACK):(h(g,Hn.BLACK),h(g,Hn.RED))}return u},s=new sie(t.length),a=o(s);return new To(n||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uE;const Hc={};class as{constructor(e,r){this.indexes_=e,this.indexSet_=r}static get Default(){return X(Hc&&Ft,"ChildrenNode.ts has not been loaded"),uE=uE||new as({".priority":Hc},{".priority":Ft}),uE}get(e){const r=Ff(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof To?r:null}hasIndex(e){return Ko(this.indexSet_,e.toString())}addIndex(e,r){X(e!==Zl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const o=r.getIterator($e.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),n.push(s),s=o.getNext();let a;i?a=Ib(n,e.getCompare()):a=Hc;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new as(u,c)}addToIndexes(e,r){const n=Ab(this.indexes_,(i,o)=>{const s=Ff(this.indexSet_,o);if(X(s,"Missing index implementation for "+o),i===Hc)if(s.isDefinedOn(e.node)){const a=[],l=r.getIterator($e.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ib(a,s.getCompare())}else return Hc;else{const a=r.get(e.name);let l=i;return a&&(l=l.remove(new $e(e.name,a))),l.insert(e,e.node)}});return new as(n,this.indexSet_)}removeFromIndexes(e,r){const n=Ab(this.indexes_,i=>{if(i===Hc)return i;{const o=r.get(e.name);return o?i.remove(new $e(e.name,o)):i}});return new as(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh;class _e{constructor(e,r,n){this.children_=e,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&qW(this.priorityNode_),this.children_.isEmpty()&&X(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Sh||(Sh=new _e(new To(_k),null,as.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sh}updatePriority(e){return this.children_.isEmpty()?this:new _e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Sh:r}}getChild(e){const r=Re(e);return r===null?this:this.getImmediateChild(r).getChild(Et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(X(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const n=new $e(e,r);let i,o;r.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,r),o=this.indexMap_.addToIndexes(n,this.children_));const s=i.isEmpty()?Sh:this.priorityNode_;return new _e(i,s,o)}}updateChild(e,r){const n=Re(e);if(n===null)return r;{X(Re(e)!==".priority"||Va(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(Et(e),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let n=0,i=0,o=!0;if(this.forEachChild(Ft,(s,a)=>{r[s]=a.val(e),n++,o&&_e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*n){const s=[];for(const a in r)s[a]=r[a];return s}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+GW(this.getPriority().val())+":"),this.forEachChild(Ft,(r,n)=>{const i=n.hash();i!==""&&(e+=":"+r+":"+i)}),this.lazyHash_=e===""?"":_W(e)}return this.lazyHash_}getPredecessorChildName(e,r,n){const i=this.resolveIndex_(n);if(i){const o=i.getPredecessorKey(new $e(e,r));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new $e(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new $e(r,this.children_.get(r)):null}forEachChild(e,r){const n=this.resolveIndex_(e);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,$e.Wrap);let o=i.peek();for(;o!=null&&r.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,$e.Wrap);let o=i.peek();for(;o!=null&&r.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rg?-1:0}withIndex(e){if(e===Zl||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new _e(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Zl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(Ft),i=r.getIterator(Ft);let o=n.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=n.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Zl?null:this.indexMap_.get(e.toString())}}_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aie extends _e{constructor(){super(new To(_k),_e.EMPTY_NODE,as.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}}const rg=new aie;Object.defineProperties($e,{MIN:{value:new $e(wc,_e.EMPTY_NODE)},MAX:{value:new $e(Ua,rg)}});zW.__EMPTY_NODE=_e.EMPTY_NODE;Sr.__childrenNodeConstructor=_e;tie(rg);nie(rg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lie=!0;function lr(t,e=null){if(t===null)return _e.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),X(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new Sr(r,lr(e))}if(!(t instanceof Array)&&lie){const r=[];let n=!1;if(Xr(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=lr(a);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),r.push(new $e(s,l)))}}),r.length===0)return _e.EMPTY_NODE;const o=Ib(r,eie,s=>s.name,_k);if(n){const s=Ib(r,Ft.getCompare());return new _e(o,lr(e),new as({".priority":s},{".priority":Ft}))}else return new _e(o,lr(e),as.Default)}else{let r=_e.EMPTY_NODE;return Xr(t,(n,i)=>{if(Ko(t,n)&&n.substring(0,1)!=="."){const o=lr(i);(o.isLeafNode()||!o.isEmpty())&&(r=r.updateImmediateChild(n,o))}}),r.updatePriority(lr(e))}}rie(lr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk extends ww{constructor(e){super(),this.indexPath_=e,X(!je(e)&&Re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const n=this.extractChild(e.node),i=this.extractChild(r.node),o=n.compareTo(i);return o===0?Dc(e.name,r.name):o}makePost(e,r){const n=lr(e),i=_e.EMPTY_NODE.updateChild(this.indexPath_,n);return new $e(r,i)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,rg);return new $e(Ua,e)}toString(){return ym(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie extends ww{compare(e,r){const n=e.node.compareTo(r.node);return n===0?Dc(e.name,r.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return $e.MIN}maxPost(){return $e.MAX}makePost(e,r){const n=lr(e);return new $e(r,n)}toString(){return".value"}}const YW=new cie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t){return{type:"value",snapshotNode:t}}function Bf(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function gm(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vm(t,e,r){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:r}}function uie(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.index_=e}updateChild(e,r,n,i,o,s){X(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(r);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()||(s!=null&&(n.isEmpty()?e.hasChild(r)?s.trackChildChange(gm(r,a)):X(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Bf(r,n)):s.trackChildChange(vm(r,n,a))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(e,r,n){return n!=null&&(e.isLeafNode()||e.forEachChild(Ft,(i,o)=>{r.hasChild(i)||n.trackChildChange(gm(i,o))}),r.isLeafNode()||r.forEachChild(Ft,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||n.trackChildChange(vm(i,o,s))}else n.trackChildChange(Bf(i,o))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?_e.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.indexedFilter_=new Sk(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bm.getStartPost_(e),this.endPost_=bm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&n}updateChild(e,r,n,i,o,s){return this.matches(new $e(r,n))||(n=_e.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,n,i,o,s)}updateFullNode(e,r,n){r.isLeafNode()&&(r=_e.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority(_e.EMPTY_NODE);const o=this;return r.forEachChild(Ft,(s,a)=>{o.matches(new $e(s,a))||(i=i.updateImmediateChild(s,_e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fie{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new bm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,n,i,o,s){return this.rangedFilter_.matches(new $e(r,n))||(n=_e.EMPTY_NODE),e.getImmediateChild(r).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,n,i,o,s):this.fullLimitUpdateChild_(e,r,n,o,s)}updateFullNode(e,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=_e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=_e.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority(_e.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,_e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,n,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(h,p)=>f(p,h)}else s=this.index_.getCompare();const a=e;X(a.numChildren()===this.limit_,"");const l=new $e(r,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(r)){const f=a.getImmediateChild(r);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===r||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:s(h,l);if(u&&!n.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(vm(r,n,f)),a.updateImmediateChild(r,n);{o!=null&&o.trackChildChange(gm(r,f));const y=a.updateImmediateChild(r,_e.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(Bf(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return n.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(gm(c.name,c.node)),o.trackChildChange(Bf(r,n))),a.updateImmediateChild(r,n).updateImmediateChild(c.name,_e.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return X(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return X(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wc}hasEnd(){return this.endSet_}getIndexEndValue(){return X(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return X(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ua}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return X(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ft}copy(){const e=new Ek;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function die(t){return t.loadsAllData()?new Sk(t.getIndex()):t.hasLimit()?new fie(t):new bm(t)}function hie(t,e){const r=t.copy();return r.limitSet_=!0,r.limit_=e,r.viewFrom_="r",r}function pie(t,e,r){const n=t.copy();return n.startSet_=!0,e===void 0&&(e=null),n.indexStartValue_=e,r!=null?(n.startNameSet_=!0,n.indexStartName_=r):(n.startNameSet_=!1,n.indexStartName_=""),n}function mie(t,e,r){const n=t.copy();return n.endSet_=!0,e===void 0&&(e=null),n.indexEndValue_=e,r!==void 0?(n.endNameSet_=!0,n.indexEndName_=r):(n.endNameSet_=!1,n.indexEndName_=""),n}function yie(t,e){const r=t.copy();return r.index_=e,r}function K2(t){const e={};if(t.isDefault())return e;let r;if(t.index_===Ft?r="$priority":t.index_===YW?r="$value":t.index_===Zl?r="$key":(X(t.index_ instanceof wk,"Unrecognized index type!"),r=t.index_.toString()),e.orderBy=cr(r),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=cr(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+cr(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=cr(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+cr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Y2(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),e.vf=r}return t.index_!==Ft&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends BW{constructor(e,r,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=tg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(X(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,r,n,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Nb.getListenId_(e,n),a={};this.listens_[s]=a;const l=K2(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(o,f,!1,n),Ff(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,r){const n=Nb.getListenId_(e,r);delete this.listens_[n]}get(e){const r=K2(e._queryParams),n=e._path.toString(),i=new Jy;return this.restRequest_(n+".json",r,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(n,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(r.auth=i.accessToken),o&&o.token&&(r.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Kte(r);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=hm(a.responseText)}catch{Tn("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,l)}else a.status!==401&&a.status!==404&&Tn("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return{value:null,children:new Map}}function XW(t,e,r){if(je(e))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,r);else{const n=Re(e);t.children.has(n)||t.children.set(n,kb());const i=t.children.get(n);e=Et(e),XW(i,e,r)}}function pT(t,e,r){t.value!==null?r(e,t.value):vie(t,(n,i)=>{const o=new ut(e.toString()+"/"+n);pT(i,o,r)})}function vie(t,e){t.children.forEach((r,n)=>{e(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&Xr(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=10*1e3,xie=30*1e3,_ie=5*60*1e3;class wie{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new bie(e);const n=Q2+(xie-Q2)*Math.random();Ep(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),r={};let n=!1;Xr(e,(i,o)=>{o>0&&Ko(this.statsToReport_,i)&&(r[i]=o,n=!0)}),n&&this.server_.reportStats(r),Ep(this.reportStats_.bind(this),Math.floor(Math.random()*2*_ie))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zi||(Zi={}));function Ak(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ck(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,r,n){this.path=e,this.affectedTree=r,this.revert=n,this.type=Zi.ACK_USER_WRITE,this.source=Ak()}operationForChild(e){if(je(this.path)){if(this.affectedTree.value!=null)return X(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ut(e));return new Ob(et(),r,this.revert)}}else return X(Re(this.path)===e,"operationForChild called for unrelated child."),new Ob(Et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,r){this.source=e,this.path=r,this.type=Zi.LISTEN_COMPLETE}operationForChild(e){return je(this.path)?new xm(this.source,et()):new xm(this.source,Et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,r,n){this.source=e,this.path=r,this.snap=n,this.type=Zi.OVERWRITE}operationForChild(e){return je(this.path)?new Sc(this.source,et(),this.snap.getImmediateChild(e)):new Sc(this.source,Et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,r,n){this.source=e,this.path=r,this.children=n,this.type=Zi.MERGE}operationForChild(e){if(je(this.path)){const r=this.children.subtree(new ut(e));return r.isEmpty()?null:r.value?new Sc(this.source,et(),r.value):new Uf(this.source,et(),r)}else return X(Re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Uf(this.source,Et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,r,n){this.node_=e,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(je(e))return this.isFullyInitialized()&&!this.filtered_;const r=Re(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Eie(t,e,r,n){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(uie(s.childName,s.snapshotNode))}),Eh(t,i,"child_removed",e,n,r),Eh(t,i,"child_added",e,n,r),Eh(t,i,"child_moved",o,n,r),Eh(t,i,"child_changed",e,n,r),Eh(t,i,"value",e,n,r),i}function Eh(t,e,r,n,i,o){const s=n.filter(a=>a.type===r);s.sort((a,l)=>Cie(t,a,l)),s.forEach(a=>{const l=Aie(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Aie(t,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Cie(t,e,r){if(e.childName==null||r.childName==null)throw Dd("Should only compare child_ events.");const n=new $e(e.childName,e.snapshotNode),i=new $e(r.childName,r.snapshotNode);return t.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){return{eventCache:t,serverCache:e}}function Ap(t,e,r,n){return Sw(new Wa(e,r,n),t.serverCache)}function JW(t,e,r,n){return Sw(t.eventCache,new Wa(e,r,n))}function Rb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ec(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fE;const Tie=()=>(fE||(fE=new To(cne)),fE);class wt{constructor(e,r=Tie()){this.value=e,this.children=r}static fromObject(e){let r=new wt(null);return Xr(e,(n,i)=>{r=r.set(new ut(n),i)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:et(),value:this.value};if(je(e))return null;{const n=Re(e),i=this.children.get(n);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Et(e),r);return o!=null?{path:Ht(new ut(n),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(je(e))return this;{const r=Re(e),n=this.children.get(r);return n!==null?n.subtree(Et(e)):new wt(null)}}set(e,r){if(je(e))return new wt(r,this.children);{const n=Re(e),o=(this.children.get(n)||new wt(null)).set(Et(e),r),s=this.children.insert(n,o);return new wt(this.value,s)}}remove(e){if(je(e))return this.children.isEmpty()?new wt(null):new wt(null,this.children);{const r=Re(e),n=this.children.get(r);if(n){const i=n.remove(Et(e));let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),this.value===null&&o.isEmpty()?new wt(null):new wt(this.value,o)}else return this}}get(e){if(je(e))return this.value;{const r=Re(e),n=this.children.get(r);return n?n.get(Et(e)):null}}setTree(e,r){if(je(e))return r;{const n=Re(e),o=(this.children.get(n)||new wt(null)).setTree(Et(e),r);let s;return o.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,o),new wt(this.value,s)}}fold(e){return this.fold_(et(),e)}fold_(e,r){const n={};return this.children.inorderTraversal((i,o)=>{n[i]=o.fold_(Ht(e,i),r)}),r(e,this.value,n)}findOnPath(e,r){return this.findOnPath_(e,et(),r)}findOnPath_(e,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if(je(e))return null;{const o=Re(e),s=this.children.get(o);return s?s.findOnPath_(Et(e),Ht(r,o),n):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,et(),r)}foreachOnPath_(e,r,n){if(je(e))return this;{this.value&&n(r,this.value);const i=Re(e),o=this.children.get(i);return o?o.foreachOnPath_(Et(e),Ht(r,i),n):new wt(null)}}foreach(e){this.foreach_(et(),e)}foreach_(e,r){this.children.inorderTraversal((n,i)=>{i.foreach_(Ht(e,n),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,n)=>{n.value&&e(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.writeTree_=e}static empty(){return new oo(new wt(null))}}function Cp(t,e,r){if(je(e))return new oo(new wt(r));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const i=n.path;let o=n.value;const s=Sn(i,e);return o=o.updateChild(s,r),new oo(t.writeTree_.set(i,o))}else{const i=new wt(r),o=t.writeTree_.setTree(e,i);return new oo(o)}}}function mT(t,e,r){let n=t;return Xr(r,(i,o)=>{n=Cp(n,Ht(e,i),o)}),n}function X2(t,e){if(je(e))return oo.empty();{const r=t.writeTree_.setTree(e,new wt(null));return new oo(r)}}function yT(t,e){return Mc(t,e)!=null}function Mc(t,e){const r=t.writeTree_.findRootMostValueAndPath(e);return r!=null?t.writeTree_.get(r.path).getChild(Sn(r.path,e)):null}function J2(t){const e=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ft,(n,i)=>{e.push(new $e(n,i))}):t.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&e.push(new $e(n,i.value))}),e}function ka(t,e){if(je(e))return t;{const r=Mc(t,e);return r!=null?new oo(new wt(r)):new oo(t.writeTree_.subtree(e))}}function gT(t){return t.writeTree_.isEmpty()}function Vf(t,e){return ZW(et(),t.writeTree_,e)}function ZW(t,e,r){if(e.value!=null)return r.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(X(o.value!==null,"Priority writes must always be leaf nodes"),n=o.value):r=ZW(Ht(t,i),o,r)}),!r.getChild(t).isEmpty()&&n!==null&&(r=r.updateChild(Ht(t,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t,e){return n8(e,t)}function Pie(t,e,r,n,i){X(n>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:r,writeId:n,visible:i}),i&&(t.visibleWrites=Cp(t.visibleWrites,e,r)),t.lastWriteId=n}function Iie(t,e,r,n){X(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:r,writeId:n,visible:!0}),t.visibleWrites=mT(t.visibleWrites,e,r),t.lastWriteId=n}function Nie(t,e){for(let r=0;r<t.allWrites.length;r++){const n=t.allWrites[r];if(n.writeId===e)return n}return null}function kie(t,e){const r=t.allWrites.findIndex(a=>a.writeId===e);X(r>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[r];t.allWrites.splice(r,1);let i=n.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=r&&Oie(a,n.path)?i=!1:Ai(n.path,a.path)&&(o=!0)),s--}if(i){if(o)return Rie(t),!0;if(n.snap)t.visibleWrites=X2(t.visibleWrites,n.path);else{const a=n.children;Xr(a,l=>{t.visibleWrites=X2(t.visibleWrites,Ht(n.path,l))})}return!0}else return!1}function Oie(t,e){if(t.snap)return Ai(t.path,e);for(const r in t.children)if(t.children.hasOwnProperty(r)&&Ai(Ht(t.path,r),e))return!0;return!1}function Rie(t){t.visibleWrites=e8(t.allWrites,jie,et()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function jie(t){return t.visible}function e8(t,e,r){let n=oo.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Ai(r,s)?(a=Sn(r,s),n=Cp(n,a,o.snap)):Ai(s,r)&&(a=Sn(s,r),n=Cp(n,et(),o.snap.getChild(a)));else if(o.children){if(Ai(r,s))a=Sn(r,s),n=mT(n,a,o.children);else if(Ai(s,r))if(a=Sn(s,r),je(a))n=mT(n,et(),o.children);else{const l=Ff(o.children,Re(a));if(l){const c=l.getChild(Et(a));n=Cp(n,et(),c)}}}else throw Dd("WriteRecord should have .snap or .children")}}return n}function t8(t,e,r,n,i){if(!n&&!i){const o=Mc(t.visibleWrites,e);if(o!=null)return o;{const s=ka(t.visibleWrites,e);if(gT(s))return r;if(r==null&&!yT(s,et()))return null;{const a=r||_e.EMPTY_NODE;return Vf(s,a)}}}else{const o=ka(t.visibleWrites,e);if(!i&&gT(o))return r;if(!i&&r==null&&!yT(o,et()))return null;{const s=function(c){return(c.visible||i)&&(!n||!~n.indexOf(c.writeId))&&(Ai(c.path,e)||Ai(e,c.path))},a=e8(t.allWrites,s,e),l=r||_e.EMPTY_NODE;return Vf(a,l)}}}function $ie(t,e,r){let n=_e.EMPTY_NODE;const i=Mc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ft,(o,s)=>{n=n.updateImmediateChild(o,s)}),n;if(r){const o=ka(t.visibleWrites,e);return r.forEachChild(Ft,(s,a)=>{const l=Vf(ka(o,new ut(s)),a);n=n.updateImmediateChild(s,l)}),J2(o).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}else{const o=ka(t.visibleWrites,e);return J2(o).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}}function Die(t,e,r,n,i){X(n||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ht(e,r);if(yT(t.visibleWrites,o))return null;{const s=ka(t.visibleWrites,o);return gT(s)?i.getChild(r):Vf(s,i.getChild(r))}}function Mie(t,e,r,n){const i=Ht(e,r),o=Mc(t.visibleWrites,i);if(o!=null)return o;if(n.isCompleteForChild(r)){const s=ka(t.visibleWrites,i);return Vf(s,n.getNode().getImmediateChild(r))}else return null}function Fie(t,e){return Mc(t.visibleWrites,e)}function Lie(t,e,r,n,i,o,s){let a;const l=ka(t.visibleWrites,e),c=Mc(l,et());if(c!=null)a=c;else if(r!=null)a=Vf(l,r);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],f=s.getCompare(),h=o?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s);let p=h.getNext();for(;p&&u.length<i;)f(p,n)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Bie(){return{visibleWrites:oo.empty(),allWrites:[],lastWriteId:-1}}function jb(t,e,r,n){return t8(t.writeTree,t.treePath,e,r,n)}function Pk(t,e){return $ie(t.writeTree,t.treePath,e)}function Z2(t,e,r,n){return Die(t.writeTree,t.treePath,e,r,n)}function $b(t,e){return Fie(t.writeTree,Ht(t.treePath,e))}function Uie(t,e,r,n,i,o){return Lie(t.writeTree,t.treePath,e,r,n,i,o)}function Ik(t,e,r){return Mie(t.writeTree,t.treePath,e,r)}function r8(t,e){return n8(Ht(t.treePath,e),t.writeTree)}function n8(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,n=e.childName;X(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),X(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const o=i.type;if(r==="child_added"&&o==="child_removed")this.changeMap.set(n,vm(n,e.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&o==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&o==="child_changed")this.changeMap.set(n,gm(n,i.oldSnap));else if(r==="child_changed"&&o==="child_added")this.changeMap.set(n,Bf(n,e.snapshotNode));else if(r==="child_changed"&&o==="child_changed")this.changeMap.set(n,vm(n,e.snapshotNode,i.oldSnap));else throw Dd("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{getCompleteChild(e){return null}getChildAfterChild(e,r,n){return null}}const i8=new Wie;class Nk{constructor(e,r,n=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new Wa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ik(this.writes_,e,n)}}getChildAfterChild(e,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ec(this.viewCache_),o=Uie(this.writes_,i,r,1,n,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zie(t){return{filter:t}}function Gie(t,e){X(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),X(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function qie(t,e,r,n,i){const o=new Vie;let s,a;if(r.type===Zi.OVERWRITE){const c=r;c.source.fromUser?s=vT(t,e,c.path,c.snap,n,i,o):(X(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!je(c.path),s=Db(t,e,c.path,c.snap,n,i,a,o))}else if(r.type===Zi.MERGE){const c=r;c.source.fromUser?s=Kie(t,e,c.path,c.children,n,i,o):(X(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=bT(t,e,c.path,c.children,n,i,a,o))}else if(r.type===Zi.ACK_USER_WRITE){const c=r;c.revert?s=Xie(t,e,c.path,n,i,o):s=Yie(t,e,c.path,c.affectedTree,n,i,o)}else if(r.type===Zi.LISTEN_COMPLETE)s=Qie(t,e,r.path,n,o);else throw Dd("Unknown operation type: "+r.type);const l=o.getChanges();return Hie(e,s,l),{viewCache:s,changes:l}}function Hie(t,e,r){const n=e.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=Rb(t);(r.length>0||!t.eventCache.isFullyInitialized()||i&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&r.push(QW(Rb(e)))}}function o8(t,e,r,n,i,o){const s=e.eventCache;if($b(n,r)!=null)return e;{let a,l;if(je(r))if(X(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ec(e),u=c instanceof _e?c:_e.EMPTY_NODE,f=Pk(n,u);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const c=jb(n,Ec(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=Re(r);if(c===".priority"){X(Va(r)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const f=Z2(n,r,u,l);f!=null?a=t.filter.updatePriority(u,f):a=s.getNode()}else{const u=Et(r);let f;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Z2(n,r,s.getNode(),l);h!=null?f=s.getNode().getImmediateChild(c).updateChild(u,h):f=s.getNode().getImmediateChild(c)}else f=Ik(n,c,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),c,f,u,i,o):a=s.getNode()}}return Ap(e,a,s.isFullyInitialized()||je(r),t.filter.filtersNodes())}}function Db(t,e,r,n,i,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(je(r))c=u.updateFullNode(l.getNode(),n,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(r,n);c=u.updateFullNode(l.getNode(),p,null)}else{const p=Re(r);if(!l.isCompleteForPath(r)&&Va(r)>1)return e;const m=Et(r),g=l.getNode().getImmediateChild(p).updateChild(m,n);p===".priority"?c=u.updatePriority(l.getNode(),g):c=u.updateChild(l.getNode(),p,g,m,i8,null)}const f=JW(e,c,l.isFullyInitialized()||je(r),u.filtersNodes()),h=new Nk(i,f,o);return o8(t,f,r,i,h,a)}function vT(t,e,r,n,i,o,s){const a=e.eventCache;let l,c;const u=new Nk(i,e,o);if(je(r))c=t.filter.updateFullNode(e.eventCache.getNode(),n,s),l=Ap(e,c,!0,t.filter.filtersNodes());else{const f=Re(r);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),n),l=Ap(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Et(r),p=a.getNode().getImmediateChild(f);let m;if(je(h))m=n;else{const y=u.getCompleteChild(f);y!=null?vk(h)===".priority"&&y.getChild(VW(h)).isEmpty()?m=y:m=y.updateChild(h,n):m=_e.EMPTY_NODE}if(p.equals(m))l=e;else{const y=t.filter.updateChild(a.getNode(),f,m,h,u,s);l=Ap(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function eD(t,e){return t.eventCache.isCompleteForChild(e)}function Kie(t,e,r,n,i,o,s){let a=e;return n.foreach((l,c)=>{const u=Ht(r,l);eD(e,Re(u))&&(a=vT(t,a,u,c,i,o,s))}),n.foreach((l,c)=>{const u=Ht(r,l);eD(e,Re(u))||(a=vT(t,a,u,c,i,o,s))}),a}function tD(t,e,r){return r.foreach((n,i)=>{e=e.updateChild(n,i)}),e}function bT(t,e,r,n,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;je(r)?c=n:c=new wt(null).setTree(r,n);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),m=tD(t,p,h);l=Db(t,l,new ut(f),m,i,o,s,a)}}),c.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!p){const m=e.serverCache.getNode().getImmediateChild(f),y=tD(t,m,h);l=Db(t,l,new ut(f),y,i,o,s,a)}}),l}function Yie(t,e,r,n,i,o,s){if($b(i,r)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(n.value!=null){if(je(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return Db(t,e,r,l.getNode().getChild(r),i,o,a,s);if(je(r)){let c=new wt(null);return l.getNode().forEachChild(Zl,(u,f)=>{c=c.set(new ut(u),f)}),bT(t,e,r,c,i,o,a,s)}else return e}else{let c=new wt(null);return n.foreach((u,f)=>{const h=Ht(r,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),bT(t,e,r,c,i,o,a,s)}}function Qie(t,e,r,n,i){const o=e.serverCache,s=JW(e,o.getNode(),o.isFullyInitialized()||je(r),o.isFiltered());return o8(t,s,r,n,i8,i)}function Xie(t,e,r,n,i,o){let s;if($b(n,r)!=null)return e;{const a=new Nk(n,e,i),l=e.eventCache.getNode();let c;if(je(r)||Re(r)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=jb(n,Ec(e));else{const f=e.serverCache.getNode();X(f instanceof _e,"serverChildren would be complete if leaf node"),u=Pk(n,f)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=Re(r);let f=Ik(n,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=l.getImmediateChild(u)),f!=null?c=t.filter.updateChild(l,u,f,Et(r),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,_e.EMPTY_NODE,Et(r),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=jb(n,Ec(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||$b(n,et())!=null,Ap(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Sk(n.getIndex()),o=die(n);this.processor_=zie(o);const s=r.serverCache,a=r.eventCache,l=i.updateFullNode(_e.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(_e.EMPTY_NODE,a.getNode(),null),u=new Wa(l,s.isFullyInitialized(),i.filtersNodes()),f=new Wa(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Sw(f,u),this.eventGenerator_=new Sie(this.query_)}get query(){return this.query_}}function Zie(t){return t.viewCache_.serverCache.getNode()}function eoe(t){return Rb(t.viewCache_)}function toe(t,e){const r=Ec(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!je(e)&&!r.getImmediateChild(Re(e)).isEmpty())?r.getChild(e):null}function rD(t){return t.eventRegistrations_.length===0}function roe(t,e){t.eventRegistrations_.push(e)}function nD(t,e,r){const n=[];if(r){X(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(r,i);s&&n.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return n}function iD(t,e,r,n){e.type===Zi.MERGE&&e.source.queryId!==null&&(X(Ec(t.viewCache_),"We should always have a full cache before handling merges"),X(Rb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=qie(t.processor_,i,e,r,n);return Gie(t.processor_,o.viewCache),X(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,s8(t,o.changes,o.viewCache.eventCache.getNode(),null)}function noe(t,e){const r=t.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ft,(o,s)=>{n.push(Bf(o,s))}),r.isFullyInitialized()&&n.push(QW(r.getNode())),s8(t,n,r.getNode(),e)}function s8(t,e,r,n){const i=n?[n]:t.eventRegistrations_;return Eie(t.eventGenerator_,e,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mb;class a8{constructor(){this.views=new Map}}function ioe(t){X(!Mb,"__referenceConstructor has already been defined"),Mb=t}function ooe(){return X(Mb,"Reference.ts has not been loaded"),Mb}function soe(t){return t.views.size===0}function kk(t,e,r,n){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return X(o!=null,"SyncTree gave us an op for an invalid query."),iD(o,e,r,n)}else{let o=[];for(const s of t.views.values())o=o.concat(iD(s,e,r,n));return o}}function l8(t,e,r,n,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=jb(r,i?n:null),l=!1;a?l=!0:n instanceof _e?(a=Pk(r,n),l=!1):(a=_e.EMPTY_NODE,l=!1);const c=Sw(new Wa(a,l,!1),new Wa(n,i,!1));return new Jie(e,c)}return s}function aoe(t,e,r,n,i,o){const s=l8(t,e,n,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),roe(s,r),noe(s,r)}function loe(t,e,r,n){const i=e._queryIdentifier,o=[];let s=[];const a=za(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(nD(c,r,n)),rD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(nD(l,r,n)),rD(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!za(t)&&o.push(new(ooe())(e._repo,e._path)),{removed:o,events:s}}function c8(t){const e=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function Oa(t,e){let r=null;for(const n of t.views.values())r=r||toe(n,e);return r}function u8(t,e){if(e._queryParams.loadsAllData())return Aw(t);{const n=e._queryIdentifier;return t.views.get(n)}}function f8(t,e){return u8(t,e)!=null}function za(t){return Aw(t)!=null}function Aw(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fb;function coe(t){X(!Fb,"__referenceConstructor has already been defined"),Fb=t}function uoe(){return X(Fb,"Reference.ts has not been loaded"),Fb}let foe=1;class oD{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wt(null),this.pendingWriteTree_=Bie(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function d8(t,e,r,n,i){return Pie(t.pendingWriteTree_,e,r,n,i),i?Fd(t,new Sc(Ak(),e,r)):[]}function doe(t,e,r,n){Iie(t.pendingWriteTree_,e,r,n);const i=wt.fromObject(r);return Fd(t,new Uf(Ak(),e,i))}function ua(t,e,r=!1){const n=Nie(t.pendingWriteTree_,e);if(kie(t.pendingWriteTree_,e)){let o=new wt(null);return n.snap!=null?o=o.set(et(),!0):Xr(n.children,s=>{o=o.set(new ut(s),!0)}),Fd(t,new Ob(n.path,o,r))}else return[]}function ng(t,e,r){return Fd(t,new Sc(Ck(),e,r))}function hoe(t,e,r){const n=wt.fromObject(r);return Fd(t,new Uf(Ck(),e,n))}function poe(t,e){return Fd(t,new xm(Ck(),e))}function moe(t,e,r){const n=Rk(t,r);if(n){const i=jk(n),o=i.path,s=i.queryId,a=Sn(o,e),l=new xm(Tk(s),a);return $k(t,o,l)}else return[]}function Lb(t,e,r,n,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||f8(s,e))){const l=loe(s,e,r,n);soe(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(h,p)=>za(p));if(u&&!f){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=voe(h);for(let m=0;m<p.length;++m){const y=p[m],g=y.query,b=y8(t,y);t.listenProvider_.startListening(Tp(g),_m(t,g),b.hashFn,b.onComplete)}}}!f&&c.length>0&&!n&&(u?t.listenProvider_.stopListening(Tp(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(Cw(h));t.listenProvider_.stopListening(Tp(h),p)}))}boe(t,c)}return a}function h8(t,e,r,n){const i=Rk(t,n);if(i!=null){const o=jk(i),s=o.path,a=o.queryId,l=Sn(s,e),c=new Sc(Tk(a),l,r);return $k(t,s,c)}else return[]}function yoe(t,e,r,n){const i=Rk(t,n);if(i){const o=jk(i),s=o.path,a=o.queryId,l=Sn(s,e),c=wt.fromObject(r),u=new Uf(Tk(a),l,c);return $k(t,s,u)}else return[]}function xT(t,e,r,n=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const m=Sn(h,i);o=o||Oa(p,m),s=s||za(p)});let a=t.syncPointTree_.get(i);a?(s=s||za(a),o=o||Oa(a,et())):(a=new a8,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=_e.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const y=Oa(m,et());y&&(o=o.updateImmediateChild(p,y))}));const c=f8(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Cw(e);X(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=xoe();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=Ew(t.pendingWriteTree_,i);let f=aoe(a,e,r,u,o,l);if(!c&&!s&&!n){const h=u8(a,e);f=f.concat(_oe(t,e,h))}return f}function Ok(t,e,r){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Sn(s,e),c=Oa(a,l);if(c)return c});return t8(i,e,o,r,!0)}function goe(t,e){const r=e._path;let n=null;t.syncPointTree_.foreachOnPath(r,(c,u)=>{const f=Sn(c,r);n=n||Oa(u,f)});let i=t.syncPointTree_.get(r);i?n=n||Oa(i,et()):(i=new a8,t.syncPointTree_=t.syncPointTree_.set(r,i));const o=n!=null,s=o?new Wa(n,!0,!1):null,a=Ew(t.pendingWriteTree_,e._path),l=l8(i,e,a,o?s.getNode():_e.EMPTY_NODE,o);return eoe(l)}function Fd(t,e){return p8(e,t.syncPointTree_,null,Ew(t.pendingWriteTree_,et()))}function p8(t,e,r,n){if(je(t.path))return m8(t,e,r,n);{const i=e.get(et());r==null&&i!=null&&(r=Oa(i,et()));let o=[];const s=Re(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=r?r.getImmediateChild(s):null,u=r8(n,s);o=o.concat(p8(a,l,c,u))}return i&&(o=o.concat(kk(i,t,n,r))),o}}function m8(t,e,r,n){const i=e.get(et());r==null&&i!=null&&(r=Oa(i,et()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=r?r.getImmediateChild(s):null,c=r8(n,s),u=t.operationForChild(s);u&&(o=o.concat(m8(u,a,l,c)))}),i&&(o=o.concat(kk(i,t,n,r))),o}function y8(t,e){const r=e.query,n=_m(t,r);return{hashFn:()=>(Zie(e)||_e.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?moe(t,r._path,n):poe(t,r._path);{const o=dne(i,r);return Lb(t,r,null,o)}}}}function _m(t,e){const r=Cw(e);return t.queryToTagMap.get(r)}function Cw(t){return t._path.toString()+"$"+t._queryIdentifier}function Rk(t,e){return t.tagToQueryMap.get(e)}function jk(t){const e=t.indexOf("$");return X(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ut(t.substr(0,e))}}function $k(t,e,r){const n=t.syncPointTree_.get(e);X(n,"Missing sync point for query tag that we're tracking");const i=Ew(t.pendingWriteTree_,e);return kk(n,r,i,null)}function voe(t){return t.fold((e,r,n)=>{if(r&&za(r))return[Aw(r)];{let i=[];return r&&(i=c8(r)),Xr(n,(o,s)=>{i=i.concat(s)}),i}})}function Tp(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(uoe())(t._repo,t._path):t}function boe(t,e){for(let r=0;r<e.length;++r){const n=e[r];if(!n._queryParams.loadsAllData()){const i=Cw(n),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function xoe(){return foe++}function _oe(t,e,r){const n=e._path,i=_m(t,e),o=y8(t,r),s=t.listenProvider_.startListening(Tp(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(n);if(i)X(!za(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,f)=>{if(!je(c)&&u&&za(u))return[Aw(u).query];{let h=[];return u&&(h=h.concat(c8(u).map(p=>p.query))),Xr(f,(p,m)=>{h=h.concat(m)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Tp(u),_m(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new Dk(r)}node(){return this.node_}}class Mk{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=Ht(this.path_,e);return new Mk(this.syncTree_,r)}node(){return Ok(this.syncTree_,this.path_)}}const woe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},sD=function(t,e,r){if(!t||typeof t!="object")return t;if(X(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Soe(t[".sv"],e,r);if(typeof t[".sv"]=="object")return Eoe(t[".sv"],e);X(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Soe=function(t,e,r){switch(t){case"timestamp":return r.timestamp;default:X(!1,"Unexpected server value: "+t)}},Eoe=function(t,e,r){t.hasOwnProperty("increment")||X(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&X(!1,"Unexpected increment value: "+n);const i=e.node();if(X(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const s=i.getValue();return typeof s!="number"?n:s+n},g8=function(t,e,r,n){return Fk(e,new Mk(r,t),n)},v8=function(t,e,r){return Fk(t,new Dk(e),r)};function Fk(t,e,r){const n=t.getPriority().val(),i=sD(n,e.getImmediateChild(".priority"),r);let o;if(t.isLeafNode()){const s=t,a=sD(s.getValue(),e,r);return a!==s.getValue()||i!==s.getPriority().val()?new Sr(a,lr(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Sr(i))),s.forEachChild(Ft,(a,l)=>{const c=Fk(l,e.getImmediateChild(a),r);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e="",r=null,n={children:{},childCount:0}){this.name=e,this.parent=r,this.node=n}}function Bk(t,e){let r=e instanceof ut?e:new ut(e),n=t,i=Re(r);for(;i!==null;){const o=Ff(n.node.children,i)||{children:{},childCount:0};n=new Lk(i,n,o),r=Et(r),i=Re(r)}return n}function Ld(t){return t.node.value}function b8(t,e){t.node.value=e,_T(t)}function x8(t){return t.node.childCount>0}function Aoe(t){return Ld(t)===void 0&&!x8(t)}function Tw(t,e){Xr(t.node.children,(r,n)=>{e(new Lk(r,t,n))})}function _8(t,e,r,n){r&&!n&&e(t),Tw(t,i=>{_8(i,e,!0,n)}),r&&n&&e(t)}function Coe(t,e,r){let n=r?t:t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function ig(t){return new ut(t.parent===null?t.name:ig(t.parent)+"/"+t.name)}function _T(t){t.parent!==null&&Toe(t.parent,t.name,t)}function Toe(t,e,r){const n=Aoe(r),i=Ko(t.node.children,e);n&&i?(delete t.node.children[e],t.node.childCount--,_T(t)):!n&&!i&&(t.node.children[e]=r.node,t.node.childCount++,_T(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe=/[\[\].#$\/\u0000-\u001F\u007F]/,Ioe=/[\[\].#$\u0000-\u001F\u007F]/,dE=10*1024*1024,Pw=function(t){return typeof t=="string"&&t.length!==0&&!Poe.test(t)},w8=function(t){return typeof t=="string"&&t.length!==0&&!Ioe.test(t)},Noe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),w8(t)},wT=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!hk(t)||t&&typeof t=="object"&&Ko(t,".sv")},og=function(t,e,r,n){n&&e===void 0||Iw(Zy(t,"value"),e,r)},Iw=function(t,e,r){const n=r instanceof ut?new qne(r,t):r;if(e===void 0)throw new Error(t+"contains undefined "+yl(n));if(typeof e=="function")throw new Error(t+"contains a function "+yl(n)+" with contents = "+e.toString());if(hk(e))throw new Error(t+"contains "+e.toString()+" "+yl(n));if(typeof e=="string"&&e.length>dE/3&&_w(e)>dE)throw new Error(t+"contains a string greater than "+dE+" utf8 bytes "+yl(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Xr(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Pw(s)))throw new Error(t+" contains an invalid key ("+s+") "+yl(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Hne(n,s),Iw(t,a,n),Kne(n)}),i&&o)throw new Error(t+' contains ".value" child '+yl(n)+" in addition to actual children.")}},koe=function(t,e){let r,n;for(r=0;r<e.length;r++){n=e[r];const o=ym(n);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Pw(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Gne);let i=null;for(r=0;r<e.length;r++){if(n=e[r],i!==null&&Ai(i,n))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+n.toString());i=n}},Ooe=function(t,e,r,n){if(n&&e===void 0)return;const i=Zy(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Xr(e,(s,a)=>{const l=new ut(s);if(Iw(i,a,Ht(r,l)),vk(l)===".priority"&&!wT(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),koe(i,o)},Roe=function(t,e,r,n){if(!(n&&r===void 0)&&!Pw(r))throw new Error(Zy(t,e)+'was an invalid key = "'+r+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Uk=function(t,e,r,n){if(!(n&&r===void 0)&&!w8(r))throw new Error(Zy(t,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},joe=function(t,e,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Uk(t,e,r,n)},S8=function(t,e){if(Re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$oe=function(t,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Pw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!Noe(r))throw new Error(Zy(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nw(t,e){let r=null;for(let n=0;n<e.length;n++){const i=e[n],o=i.getPath();r!==null&&!bk(o,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:o}),r.events.push(i)}r&&t.eventLists_.push(r)}function E8(t,e,r){Nw(t,r),A8(t,n=>bk(n,e))}function $i(t,e,r){Nw(t,r),A8(t,n=>Ai(n,e)||Ai(e,n))}function A8(t,e){t.recursionDepth_++;let r=!0;for(let n=0;n<t.eventLists_.length;n++){const i=t.eventLists_[n];if(i){const o=i.path;e(o)?(Moe(t.eventLists_[n]),t.eventLists_[n]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function Moe(t){for(let e=0;e<t.events.length;e++){const r=t.events[e];if(r!==null){t.events[e]=null;const n=r.getEventRunner();Jl&&Br("event: "+r.toString()),Md(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe="repo_interrupt",Loe=25;class Boe{constructor(e,r,n,i){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Doe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kb(),this.transactionQueueTree_=new Lk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Uoe(t,e,r){if(t.stats_=yk(t.repoInfo_),t.forceRestClient_||yne())t.server_=new Nb(t.repoInfo_,(n,i,o,s)=>{aD(t,n,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lD(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{cr(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new ps(t.repoInfo_,e,(n,i,o,s)=>{aD(t,n,i,o,s)},n=>{lD(t,n)},n=>{Voe(t,n)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=_ne(t.repoInfo_,()=>new wie(t.stats_,t.server_)),t.infoData_=new gie,t.infoSyncTree_=new oD({startListening:(n,i,o,s)=>{let a=[];const l=t.infoData_.getNode(n._path);return l.isEmpty()||(a=ng(t.infoSyncTree_,n._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Vk(t,"connected",!1),t.serverSyncTree_=new oD({startListening:(n,i,o,s)=>(t.server_.listen(n,o,i,(a,l)=>{const c=s(a,l);$i(t.eventQueue_,n._path,c)}),[]),stopListening:(n,i)=>{t.server_.unlisten(n,i)}})}function C8(t){const r=t.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function kw(t){return woe({timestamp:C8(t)})}function aD(t,e,r,n,i){t.dataUpdateCount++;const o=new ut(e);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,r):r;let s=[];if(i)if(n){const l=Ab(r,c=>lr(c));s=yoe(t.serverSyncTree_,o,l,i)}else{const l=lr(r);s=h8(t.serverSyncTree_,o,l,i)}else if(n){const l=Ab(r,c=>lr(c));s=hoe(t.serverSyncTree_,o,l)}else{const l=lr(r);s=ng(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Wf(t,o)),$i(t.eventQueue_,a,s)}function lD(t,e){Vk(t,"connected",e),e===!1&&qoe(t)}function Voe(t,e){Xr(e,(r,n)=>{Vk(t,r,n)})}function Vk(t,e,r){const n=new ut("/.info/"+e),i=lr(r);t.infoData_.updateSnapshot(n,i);const o=ng(t.infoSyncTree_,n,i);$i(t.eventQueue_,n,o)}function Wk(t){return t.nextWriteId_++}function Woe(t,e,r){const n=goe(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(i=>{const o=lr(i).withIndex(e._queryParams.getIndex());xT(t.serverSyncTree_,e,r,!0);let s;if(e._queryParams.loadsAllData())s=ng(t.serverSyncTree_,e._path,o);else{const a=_m(t.serverSyncTree_,e);s=h8(t.serverSyncTree_,e._path,o,a)}return $i(t.eventQueue_,e._path,s),Lb(t.serverSyncTree_,e,r,null,!0),o},i=>(sg(t,"get for query "+cr(e)+" failed: "+i),Promise.reject(new Error(i))))}function zoe(t,e,r,n,i){sg(t,"set",{path:e.toString(),value:r,priority:n});const o=kw(t),s=lr(r,n),a=Ok(t.serverSyncTree_,e),l=v8(s,a,o),c=Wk(t),u=d8(t.serverSyncTree_,e,l,c,!0);Nw(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,p)=>{const m=h==="ok";m||Tn("set at "+e+" failed: "+h);const y=ua(t.serverSyncTree_,c,!m);$i(t.eventQueue_,e,y),ST(t,i,h,p)});const f=Gk(t,e);Wf(t,f),$i(t.eventQueue_,f,[])}function Goe(t,e,r,n){sg(t,"update",{path:e.toString(),value:r});let i=!0;const o=kw(t),s={};if(Xr(r,(a,l)=>{i=!1,s[a]=g8(Ht(e,a),lr(l),t.serverSyncTree_,o)}),i)Br("update() called with empty data.  Don't do anything."),ST(t,n,"ok",void 0);else{const a=Wk(t),l=doe(t.serverSyncTree_,e,s,a);Nw(t.eventQueue_,l),t.server_.merge(e.toString(),r,(c,u)=>{const f=c==="ok";f||Tn("update at "+e+" failed: "+c);const h=ua(t.serverSyncTree_,a,!f),p=h.length>0?Wf(t,e):e;$i(t.eventQueue_,p,h),ST(t,n,c,u)}),Xr(r,c=>{const u=Gk(t,Ht(e,c));Wf(t,u)}),$i(t.eventQueue_,e,[])}}function qoe(t){sg(t,"onDisconnectEvents");const e=kw(t),r=kb();pT(t.onDisconnect_,et(),(i,o)=>{const s=g8(i,o,t.serverSyncTree_,e);XW(r,i,s)});let n=[];pT(r,et(),(i,o)=>{n=n.concat(ng(t.serverSyncTree_,i,o));const s=Gk(t,i);Wf(t,s)}),t.onDisconnect_=kb(),$i(t.eventQueue_,et(),n)}function Hoe(t,e,r){let n;Re(e._path)===".info"?n=xT(t.infoSyncTree_,e,r):n=xT(t.serverSyncTree_,e,r),E8(t.eventQueue_,e._path,n)}function cD(t,e,r){let n;Re(e._path)===".info"?n=Lb(t.infoSyncTree_,e,r):n=Lb(t.serverSyncTree_,e,r),E8(t.eventQueue_,e._path,n)}function Koe(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Foe)}function sg(t,...e){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Br(r,...e)}function ST(t,e,r,n){e&&Md(()=>{if(r==="ok")e(null);else{const i=(r||"error").toUpperCase();let o=i;n&&(o+=": "+n);const s=new Error(o);s.code=i,e(s)}})}function T8(t,e,r){return Ok(t.serverSyncTree_,e,r)||_e.EMPTY_NODE}function zk(t,e=t.transactionQueueTree_){if(e||Ow(t,e),Ld(e)){const r=I8(t,e);X(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&Yoe(t,ig(e),r)}else x8(e)&&Tw(e,r=>{zk(t,r)})}function Yoe(t,e,r){const n=r.map(c=>c.currentWriteId),i=T8(t,e,n);let o=i;const s=i.hash();for(let c=0;c<r.length;c++){const u=r[c];X(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=Sn(e,u.path);o=o.updateChild(f,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{sg(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<r.length;h++)r[h].status=2,u=u.concat(ua(t.serverSyncTree_,r[h].currentWriteId)),r[h].onComplete&&f.push(()=>r[h].onComplete(null,!0,r[h].currentOutputSnapshotResolved)),r[h].unwatcher();Ow(t,Bk(t.transactionQueueTree_,e)),zk(t,t.transactionQueueTree_),$i(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)Md(f[h])}else{if(c==="datastale")for(let f=0;f<r.length;f++)r[f].status===3?r[f].status=4:r[f].status=0;else{Tn("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<r.length;f++)r[f].status=4,r[f].abortReason=c}Wf(t,e)}},s)}function Wf(t,e){const r=P8(t,e),n=ig(r),i=I8(t,r);return Qoe(t,i,n),n}function Qoe(t,e,r){if(e.length===0)return;const n=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Sn(r,l.path);let u=!1,f;if(X(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,f=l.abortReason,i=i.concat(ua(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Loe)u=!0,f="maxretry",i=i.concat(ua(t.serverSyncTree_,l.currentWriteId,!0));else{const h=T8(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){Iw("transaction failed: Data returned ",p,l.path);let m=lr(p);typeof p=="object"&&p!=null&&Ko(p,".priority")||(m=m.updatePriority(h.getPriority()));const g=l.currentWriteId,b=kw(t),v=v8(m,h,b);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=Wk(t),s.splice(s.indexOf(g),1),i=i.concat(d8(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(ua(t.serverSyncTree_,g,!0))}else u=!0,f="nodata",i=i.concat(ua(t.serverSyncTree_,l.currentWriteId,!0))}$i(t.eventQueue_,r,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?n.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):n.push(()=>e[a].onComplete(new Error(f),!1,null))))}Ow(t,t.transactionQueueTree_);for(let a=0;a<n.length;a++)Md(n[a]);zk(t,t.transactionQueueTree_)}function P8(t,e){let r,n=t.transactionQueueTree_;for(r=Re(e);r!==null&&Ld(n)===void 0;)n=Bk(n,r),e=Et(e),r=Re(e);return n}function I8(t,e){const r=[];return N8(t,e,r),r.sort((n,i)=>n.order-i.order),r}function N8(t,e,r){const n=Ld(e);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);Tw(e,i=>{N8(t,i,r)})}function Ow(t,e){const r=Ld(e);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,b8(e,r.length>0?r:void 0)}Tw(e,n=>{Ow(t,n)})}function Gk(t,e){const r=ig(P8(t,e)),n=Bk(t.transactionQueueTree_,e);return Coe(n,i=>{hE(t,i)}),hE(t,n),_8(n,i=>{hE(t,i)}),r}function hE(t,e){const r=Ld(e);if(r){const n=[];let i=[],o=-1;for(let s=0;s<r.length;s++)r[s].status===3||(r[s].status===1?(X(o===s-1,"All SENT items should be at beginning of queue."),o=s,r[s].status=3,r[s].abortReason="set"):(X(r[s].status===0,"Unexpected transaction status in abort"),r[s].unwatcher(),i=i.concat(ua(t.serverSyncTree_,r[s].currentWriteId,!0)),r[s].onComplete&&n.push(r[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?b8(e,void 0):r.length=o+1,$i(t.eventQueue_,ig(e),i);for(let s=0;s<n.length;s++)Md(n[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xoe(t){let e="";const r=t.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Joe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Tn(`Invalid query segment '${r}' in query '${t}'`)}return e}const uD=function(t,e){const r=Zoe(t),n=r.namespace;r.domain==="firebase.com"&&ws(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&ws("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||ane();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new RW(r.host,r.secure,n,i,e,"",n!==r.subdomain),path:new ut(r.pathString)}},Zoe=function(t){let e="",r="",n="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=Xoe(t.substring(u,f)));const h=Joe(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")r="localhost";else if(p.split(".").length<=2)r=p;else{const m=e.indexOf(".");n=e.substring(0,m).toLowerCase(),r=e.substring(m+1),o=n}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:r,subdomain:n,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ese=function(){let t=0;const e=[];return function(r){const n=r===t;t=r;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=fD.charAt(r%64),r=Math.floor(r/64);X(r===0,"Cannot push at time == 0");let s=o.join("");if(n){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=fD.charAt(e[i]);return X(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,r,n,i){this.eventType=e,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+cr(this.snapshot.exportVal())}}class O8{constructor(e,r,n){this.eventRegistration=e,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return X(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,r,n,i){this._repo=e,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return je(this._path)?null:vk(this._path)}get ref(){return new Yo(this._repo,this._path)}get _queryIdentifier(){const e=Y2(this._queryParams),r=pk(e);return r==="{}"?"default":r}get _queryObject(){return Y2(this._queryParams)}isEqual(e){if(e=Qr(e),!(e instanceof Fc))return!1;const r=this._repo===e._repo,n=bk(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+zne(this._path)}}function tse(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function qk(t){let e=null,r=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(r=t.getIndexEndValue()),t.getIndex()===Zl){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==wc)throw new Error(n);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ua)throw new Error(n);if(typeof r!="string")throw new Error(i)}}else if(t.getIndex()===Ft){if(e!=null&&!wT(e)||r!=null&&!wT(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(X(t.getIndex()instanceof wk||t.getIndex()===YW,"unknown index type."),e!=null&&typeof e=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function j8(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Yo extends Fc{constructor(e,r){super(e,r,new Ek,!1)}get parent(){const e=VW(this._path);return e===null?null:new Yo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class zf{constructor(e,r,n){this._node=e,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new ut(e),n=Gf(this.ref,e);return new zf(this._node.getChild(r),n,Ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>e(new zf(i,Gf(this.ref,n),Ft)))}hasChild(e){const r=new ut(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zh(t,e){return t=Qr(t),t._checkNotDeleted("ref"),e!==void 0?Gf(t._root,e):t._root}function Gf(t,e){return t=Qr(t),Re(t._path)===null?joe("child","path",e,!1):Uk("child","path",e,!1),new Yo(t._repo,Ht(t._path,e))}function $8(t,e){t=Qr(t),S8("push",t._path),og("push",e,t._path,!0);const r=C8(t._repo),n=ese(r),i=Gf(t,n),o=Gf(t,n);let s;return e!=null?s=Hk(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Hk(t,e){t=Qr(t),S8("set",t._path),og("set",e,t._path,!1);const r=new Jy;return zoe(t._repo,t._path,e,null,r.wrapCallback(()=>{})),r.promise}function D8(t,e){Ooe("update",e,t._path,!1);const r=new Jy;return Goe(t._repo,t._path,e,r.wrapCallback(()=>{})),r.promise}function M8(t){t=Qr(t);const e=new R8(()=>{}),r=new Rw(e);return Woe(t._repo,t,r).then(n=>new zf(n,new Yo(t._repo,t._path),t._queryParams.getIndex()))}class Rw{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const n=r._queryParams.getIndex();return new k8("value",this,new zf(e.snapshotNode,new Yo(r._repo,r._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new O8(this,e,r):null}matches(e){return e instanceof Rw?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Kk{constructor(e,r){this.eventType=e,this.callbackContext=r}respondsTo(e){let r=e==="children_added"?"child_added":e;return r=r==="children_removed"?"child_removed":r,this.eventType===r}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new O8(this,e,r):null}createEvent(e,r){X(e.childName!=null,"Child events should have a childName.");const n=Gf(new Yo(r._repo,r._path),e.childName),i=r._queryParams.getIndex();return new k8(e.type,this,new zf(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Kk?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function rse(t,e,r,n,i){let o;if(typeof n=="object"&&(o=void 0,i=n),typeof n=="function"&&(o=n),i&&i.onlyOnce){const l=r,c=(u,f)=>{cD(t._repo,t,a),l(u,f)};c.userCallback=r.userCallback,c.context=r.context,r=c}const s=new R8(r,o||void 0),a=e==="value"?new Rw(s):new Kk(e,s);return Hoe(t._repo,t,a),()=>cD(t._repo,t,a)}function nse(t,e,r,n){return rse(t,"value",e,r,n)}class ag{}class ise extends ag{constructor(e,r){super(),this._value=e,this._key=r}_apply(e){og("endAt",this._value,e._path,!0);const r=mie(e._queryParams,this._value,this._key);if(j8(r),qk(r),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fc(e._repo,e._path,r,e._orderByCalled)}}class ose extends ag{constructor(e,r){super(),this._value=e,this._key=r}_apply(e){og("startAt",this._value,e._path,!0);const r=pie(e._queryParams,this._value,this._key);if(j8(r),qk(r),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fc(e._repo,e._path,r,e._orderByCalled)}}class sse extends ag{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fc(e._repo,e._path,hie(e._queryParams,this._limit),e._orderByCalled)}}function ase(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new sse(t)}class lse extends ag{constructor(e){super(),this._path=e}_apply(e){tse(e,"orderByChild");const r=new ut(this._path);if(je(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new wk(r),i=yie(e._queryParams,n);return qk(i),new Fc(e._repo,e._path,i,!0)}}function cse(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Uk("orderByChild","path",t,!1),new lse(t)}class use extends ag{constructor(e,r){super(),this._value=e,this._key=r}_apply(e){if(og("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ise(this._value,this._key)._apply(new ose(this._value,this._key)._apply(e))}}function fse(t,e){return Roe("equalTo","key",e,!0),new use(t,e)}function dse(t,...e){let r=Qr(t);for(const n of e)r=n._apply(r);return r}ioe(Yo);coe(Yo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hse="FIREBASE_DATABASE_EMULATOR_HOST",ET={};let pse=!1;function mse(t,e,r,n){t.repoInfo_=new RW(`${e}:${r}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),n&&(t.authTokenProvider_=n)}function yse(t,e,r,n,i){let o=n||t.options.databaseURL;o===void 0&&(t.options.projectId||ws("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Br("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=uD(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[hse]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=uD(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const u=i&&l?new Qu(Qu.OWNER):new vne(t.name,t.options,e);$oe("Invalid Firebase Database URL",s),je(s.path)||ws("Database URL must point to the root of a Firebase Database (not including a child path).");const f=vse(a,t,u,new gne(t.name,r));return new bse(f,t)}function gse(t,e){const r=ET[e];(!r||r[t.key]!==t)&&ws(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Koe(t),delete r[t.key]}function vse(t,e,r,n){let i=ET[e.name];i||(i={},ET[e.name]=i);let o=i[t.toURLString()];return o&&ws("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Boe(t,pse,r,n),i[t.toURLString()]=o,o}class bse{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Uoe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yo(this._repo,et())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gse(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ws("Cannot call "+e+" on a deleted database.")}}function xse(t=dk(),e){const r=uk(t,"database").getImmediate({identifier:e});if(!r._instanceStarted){const n=sk("database");n&&_se(r,...n)}return r}function _se(t,e,r,n={}){t=Qr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ws("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)n.mockUserToken&&ws('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Qu(Qu.OWNER);else if(n.mockUserToken){const s=typeof n.mockUserToken=="string"?n.mockUserToken:ak(n.mockUserToken,t.app.options.projectId);o=new Qu(s)}mse(i,e,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wse(t){rne(fk),Lf(new xc("database",(e,{instanceIdentifier:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return yse(n,i,o,r)},"PUBLIC").setMultipleInstances(!0)),Fo(O2,R2,t),Fo(O2,R2,"esm2017")}ps.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ps.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wse();var dD=Object.prototype.toString,F8=function(e){var r=dD.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&dD.call(e.callee)==="[object Function]"),n},pE,hD;function Sse(){if(hD)return pE;hD=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=F8,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(h){var p=h.constructor;return p&&p.prototype===h},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!c["$"+h]&&e.call(window,h)&&window[h]!==null&&typeof window[h]=="object")try{l(window[h])}catch{return!0}}catch{return!0}return!1}(),f=function(h){if(typeof window>"u"||!u)return l(h);try{return l(h)}catch{return!1}};t=function(p){var m=p!==null&&typeof p=="object",y=r.call(p)==="[object Function]",g=n(p),b=m&&r.call(p)==="[object String]",v=[];if(!m&&!y&&!g)throw new TypeError("Object.keys called on a non-object");var x=s&&y;if(b&&p.length>0&&!e.call(p,0))for(var S=0;S<p.length;++S)v.push(String(S));if(g&&p.length>0)for(var _=0;_<p.length;++_)v.push(String(_));else for(var w in p)!(x&&w==="prototype")&&e.call(p,w)&&v.push(String(w));if(o)for(var A=f(p),C=0;C<a.length;++C)!(A&&a[C]==="constructor")&&e.call(p,a[C])&&v.push(a[C]);return v}}return pE=t,pE}var Ese=Array.prototype.slice,Ase=F8,pD=Object.keys,_0=pD?function(e){return pD(e)}:Sse(),mD=Object.keys;_0.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return Ase(n)?mD(Ese.call(n)):mD(n)})}else Object.keys=_0;return Object.keys||_0};var jw=_0,$w=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},yD=typeof Symbol<"u"&&Symbol,Cse=$w,el=function(){return typeof yD!="function"||typeof Symbol!="function"||typeof yD("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Cse()},Tse="Function.prototype.bind called on incompatible ",mE=Array.prototype.slice,Pse=Object.prototype.toString,Ise="[object Function]",Nse=function(e){var r=this;if(typeof r!="function"||Pse.call(r)!==Ise)throw new TypeError(Tse+r);for(var n=mE.call(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,n.concat(mE.call(arguments)));return Object(u)===u?u:this}else return r.apply(e,n.concat(mE.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},kse=Nse,Yk=Function.prototype.bind||kse,Ose=Yk,Qk=Ose.call(Function.call,Object.prototype.hasOwnProperty),He,qf=SyntaxError,L8=Function,Xu=TypeError,yE=function(t){try{return L8('"use strict"; return ('+t+").constructor;")()}catch{}},ec=Object.getOwnPropertyDescriptor;if(ec)try{ec({},"")}catch{ec=null}var gE=function(){throw new Xu},Rse=ec?function(){try{return arguments.callee,gE}catch{try{return ec(arguments,"callee").get}catch{return gE}}}():gE,Kc=el(),Ks=Object.getPrototypeOf||function(t){return t.__proto__},lu={},jse=typeof Uint8Array>"u"?He:Ks(Uint8Array),Ju={"%AggregateError%":typeof AggregateError>"u"?He:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?He:ArrayBuffer,"%ArrayIteratorPrototype%":Kc?Ks([][Symbol.iterator]()):He,"%AsyncFromSyncIteratorPrototype%":He,"%AsyncFunction%":lu,"%AsyncGenerator%":lu,"%AsyncGeneratorFunction%":lu,"%AsyncIteratorPrototype%":lu,"%Atomics%":typeof Atomics>"u"?He:Atomics,"%BigInt%":typeof BigInt>"u"?He:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?He:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?He:Float32Array,"%Float64Array%":typeof Float64Array>"u"?He:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?He:FinalizationRegistry,"%Function%":L8,"%GeneratorFunction%":lu,"%Int8Array%":typeof Int8Array>"u"?He:Int8Array,"%Int16Array%":typeof Int16Array>"u"?He:Int16Array,"%Int32Array%":typeof Int32Array>"u"?He:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Kc?Ks(Ks([][Symbol.iterator]())):He,"%JSON%":typeof JSON=="object"?JSON:He,"%Map%":typeof Map>"u"?He:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Kc?He:Ks(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?He:Promise,"%Proxy%":typeof Proxy>"u"?He:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?He:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?He:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Kc?He:Ks(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?He:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Kc?Ks(""[Symbol.iterator]()):He,"%Symbol%":Kc?Symbol:He,"%SyntaxError%":qf,"%ThrowTypeError%":Rse,"%TypedArray%":jse,"%TypeError%":Xu,"%Uint8Array%":typeof Uint8Array>"u"?He:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?He:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?He:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?He:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?He:WeakMap,"%WeakRef%":typeof WeakRef>"u"?He:WeakRef,"%WeakSet%":typeof WeakSet>"u"?He:WeakSet},$se=function t(e){var r;if(e==="%AsyncFunction%")r=yE("async function () {}");else if(e==="%GeneratorFunction%")r=yE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=yE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Ks(i.prototype))}return Ju[e]=r,r},gD={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},lg=Yk,Bb=Qk,Dse=lg.call(Function.call,Array.prototype.concat),Mse=lg.call(Function.apply,Array.prototype.splice),vD=lg.call(Function.call,String.prototype.replace),Ub=lg.call(Function.call,String.prototype.slice),Fse=lg.call(Function.call,RegExp.prototype.exec),Lse=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Bse=/\\(\\)?/g,Use=function(e){var r=Ub(e,0,1),n=Ub(e,-1);if(r==="%"&&n!=="%")throw new qf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new qf("invalid intrinsic syntax, expected opening `%`");var i=[];return vD(e,Lse,function(o,s,a,l){i[i.length]=a?vD(l,Bse,"$1"):s||o}),i},Vse=function(e,r){var n=e,i;if(Bb(gD,n)&&(i=gD[n],n="%"+i[0]+"%"),Bb(Ju,n)){var o=Ju[n];if(o===lu&&(o=$se(n)),typeof o>"u"&&!r)throw new Xu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new qf("intrinsic "+e+" does not exist!")},ks=function(e,r){if(typeof e!="string"||e.length===0)throw new Xu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Xu('"allowMissing" argument must be a boolean');if(Fse(/^%?[^%]*%?$/,e)===null)throw new qf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Use(e),i=n.length>0?n[0]:"",o=Vse("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],Mse(n,Dse([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=Ub(h,0,1),m=Ub(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new qf("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,s="%"+i+"%",Bb(Ju,s))a=Ju[s];else if(a!=null){if(!(h in a)){if(!r)throw new Xu("base intrinsic for "+e+" exists, but the property is not available.");return}if(ec&&u+1>=n.length){var y=ec(a,h);f=!!y,f&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else f=Bb(a,h),a=a[h];f&&!l&&(Ju[s]=a)}}return a},Wse=ks,AT=Wse("%Object.defineProperty%",!0),CT=function(){if(AT)try{return AT({},"a",{value:1}),!0}catch{return!1}return!1};CT.hasArrayLengthDefineBug=function(){if(!CT())return null;try{return AT([],"length",{value:1}).length!==1}catch{return!0}};var cg=CT,zse=jw,Gse=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",qse=Object.prototype.toString,Hse=Array.prototype.concat,B8=Object.defineProperty,Kse=function(t){return typeof t=="function"&&qse.call(t)==="[object Function]"},Yse=cg(),U8=B8&&Yse,Qse=function(t,e,r,n){e in t&&(!Kse(n)||!n())||(U8?B8(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},V8=function(t,e){var r=arguments.length>2?arguments[2]:{},n=zse(e);Gse&&(n=Hse.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Qse(t,n[i],e[n[i]],r[n[i]])};V8.supportsDescriptors=!!U8;var Dw=V8,W8={exports:{}};(function(t){var e=Yk,r=ks,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(f){var h=o(e,i,arguments);if(s&&a){var p=s(h,"length");p.configurable&&a(h,"length",{value:1+l(0,f.length-(arguments.length-1))})}return h};var c=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(W8);var ug=W8.exports,z8=ks,G8=ug,Xse=G8(z8("String.prototype.indexOf")),uo=function(e,r){var n=z8(e,!!r);return typeof n=="function"&&Xse(e,".prototype.")>-1?G8(n):n},Jse=jw,q8=$w(),H8=uo,bD=Object,Zse=H8("Array.prototype.push"),xD=H8("Object.prototype.propertyIsEnumerable"),eae=q8?Object.getOwnPropertySymbols:null,K8=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=bD(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var o=bD(arguments[i]),s=Jse(o),a=q8&&(Object.getOwnPropertySymbols||eae);if(a)for(var l=a(o),c=0;c<l.length;++c){var u=l[c];xD(o,u)&&Zse(s,u)}for(var f=0;f<s.length;++f){var h=s[f];if(xD(o,h)){var p=o[h];n[h]=p}}}return n},vE=K8,tae=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),o="";for(var s in i)o+=s;return t!==o},rae=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},Y8=function(){return!Object.assign||tae()||rae()?vE:Object.assign},nae=Dw,iae=Y8,oae=function(){var e=iae();return nae(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},sae=Dw,aae=ug,lae=K8,Q8=Y8,cae=oae,uae=aae.apply(Q8()),X8=function(e,r){return uae(Object,arguments)};sae(X8,{getPolyfill:Q8,implementation:lae,shim:cae});var fae=X8,_D={foo:{}},dae=Object,Mw=function(){return{__proto__:_D}.foo===_D.foo&&!({__proto__:null}instanceof dae)},hae="Function.prototype.bind called on incompatible ",pae=Object.prototype.toString,mae=Math.max,yae="[object Function]",wD=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},gae=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},vae=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},bae=function(e){var r=this;if(typeof r!="function"||pae.apply(r)!==yae)throw new TypeError(hae+r);for(var n=gae(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,wD(n,arguments));return Object(u)===u?u:this}return r.apply(e,wD(n,arguments))},s=mae(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+vae(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},xae=bae,J8=Function.prototype.bind||xae,_ae="Function.prototype.bind called on incompatible ",wae=Object.prototype.toString,Sae=Math.max,Eae="[object Function]",SD=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Aae=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},Cae=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Tae=function(e){var r=this;if(typeof r!="function"||wae.apply(r)!==Eae)throw new TypeError(_ae+r);for(var n=Aae(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,SD(n,arguments));return Object(u)===u?u:this}return r.apply(e,SD(n,arguments))},s=Sae(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+Cae(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Pae=Tae,Iae=Function.prototype.bind||Pae,Nae=Function.prototype.call,kae=Object.prototype.hasOwnProperty,Oae=Iae,Fw=Oae.call(Nae,kae),Fe,Hf=SyntaxError,Z8=Function,Zu=TypeError,bE=function(t){try{return Z8('"use strict"; return ('+t+").constructor;")()}catch{}},tc=Object.getOwnPropertyDescriptor;if(tc)try{tc({},"")}catch{tc=null}var xE=function(){throw new Zu},Rae=tc?function(){try{return arguments.callee,xE}catch{try{return tc(arguments,"callee").get}catch{return xE}}}():xE,Yc=el(),jae=Mw(),br=Object.getPrototypeOf||(jae?function(t){return t.__proto__}:null),cu={},$ae=typeof Uint8Array>"u"||!br?Fe:br(Uint8Array),rc={"%AggregateError%":typeof AggregateError>"u"?Fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Fe:ArrayBuffer,"%ArrayIteratorPrototype%":Yc&&br?br([][Symbol.iterator]()):Fe,"%AsyncFromSyncIteratorPrototype%":Fe,"%AsyncFunction%":cu,"%AsyncGenerator%":cu,"%AsyncGeneratorFunction%":cu,"%AsyncIteratorPrototype%":cu,"%Atomics%":typeof Atomics>"u"?Fe:Atomics,"%BigInt%":typeof BigInt>"u"?Fe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Fe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Fe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Fe:FinalizationRegistry,"%Function%":Z8,"%GeneratorFunction%":cu,"%Int8Array%":typeof Int8Array>"u"?Fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Yc&&br?br(br([][Symbol.iterator]())):Fe,"%JSON%":typeof JSON=="object"?JSON:Fe,"%Map%":typeof Map>"u"?Fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Yc||!br?Fe:br(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Fe:Promise,"%Proxy%":typeof Proxy>"u"?Fe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Yc||!br?Fe:br(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Yc&&br?br(""[Symbol.iterator]()):Fe,"%Symbol%":Yc?Symbol:Fe,"%SyntaxError%":Hf,"%ThrowTypeError%":Rae,"%TypedArray%":$ae,"%TypeError%":Zu,"%Uint8Array%":typeof Uint8Array>"u"?Fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Fe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Fe:WeakSet};if(br)try{null.error}catch(t){var Dae=br(br(t));rc["%Error.prototype%"]=Dae}var Mae=function t(e){var r;if(e==="%AsyncFunction%")r=bE("async function () {}");else if(e==="%GeneratorFunction%")r=bE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=bE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&br&&(r=br(i.prototype))}return rc[e]=r,r},ED={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fg=J8,Vb=Fw,Fae=fg.call(Function.call,Array.prototype.concat),Lae=fg.call(Function.apply,Array.prototype.splice),AD=fg.call(Function.call,String.prototype.replace),Wb=fg.call(Function.call,String.prototype.slice),Bae=fg.call(Function.call,RegExp.prototype.exec),Uae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Vae=/\\(\\)?/g,Wae=function(e){var r=Wb(e,0,1),n=Wb(e,-1);if(r==="%"&&n!=="%")throw new Hf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Hf("invalid intrinsic syntax, expected opening `%`");var i=[];return AD(e,Uae,function(o,s,a,l){i[i.length]=a?AD(l,Vae,"$1"):s||o}),i},zae=function(e,r){var n=e,i;if(Vb(ED,n)&&(i=ED[n],n="%"+i[0]+"%"),Vb(rc,n)){var o=rc[n];if(o===cu&&(o=Mae(n)),typeof o>"u"&&!r)throw new Zu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Hf("intrinsic "+e+" does not exist!")},Lw=function(e,r){if(typeof e!="string"||e.length===0)throw new Zu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Zu('"allowMissing" argument must be a boolean');if(Bae(/^%?[^%]*%?$/,e)===null)throw new Hf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Wae(e),i=n.length>0?n[0]:"",o=zae("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],Lae(n,Fae([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=Wb(h,0,1),m=Wb(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Hf("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,s="%"+i+"%",Vb(rc,s))a=rc[s];else if(a!=null){if(!(h in a)){if(!r)throw new Zu("base intrinsic for "+e+" exists, but the property is not available.");return}if(tc&&u+1>=n.length){var y=tc(a,h);f=!!y,f&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else f=Vb(a,h),a=a[h];f&&!l&&(rc[s]=a)}}return a},ez={exports:{}},Gae="Function.prototype.bind called on incompatible ",qae=Object.prototype.toString,Hae=Math.max,Kae="[object Function]",CD=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Yae=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},Qae=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Xae=function(e){var r=this;if(typeof r!="function"||qae.apply(r)!==Kae)throw new TypeError(Gae+r);for(var n=Yae(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,CD(n,arguments));return Object(u)===u?u:this}return r.apply(e,CD(n,arguments))},s=Hae(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+Qae(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Jae=Xae,Zae=Function.prototype.bind||Jae,Le,Kf=SyntaxError,tz=Function,ef=TypeError,_E=function(t){try{return tz('"use strict"; return ('+t+").constructor;")()}catch{}},nc=Object.getOwnPropertyDescriptor;if(nc)try{nc({},"")}catch{nc=null}var wE=function(){throw new ef},ele=nc?function(){try{return arguments.callee,wE}catch{try{return nc(arguments,"callee").get}catch{return wE}}}():wE,Qc=el(),tle=Mw(),xr=Object.getPrototypeOf||(tle?function(t){return t.__proto__}:null),uu={},rle=typeof Uint8Array>"u"||!xr?Le:xr(Uint8Array),ic={"%AggregateError%":typeof AggregateError>"u"?Le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Le:ArrayBuffer,"%ArrayIteratorPrototype%":Qc&&xr?xr([][Symbol.iterator]()):Le,"%AsyncFromSyncIteratorPrototype%":Le,"%AsyncFunction%":uu,"%AsyncGenerator%":uu,"%AsyncGeneratorFunction%":uu,"%AsyncIteratorPrototype%":uu,"%Atomics%":typeof Atomics>"u"?Le:Atomics,"%BigInt%":typeof BigInt>"u"?Le:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Le:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Le:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Le:FinalizationRegistry,"%Function%":tz,"%GeneratorFunction%":uu,"%Int8Array%":typeof Int8Array>"u"?Le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Qc&&xr?xr(xr([][Symbol.iterator]())):Le,"%JSON%":typeof JSON=="object"?JSON:Le,"%Map%":typeof Map>"u"?Le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Qc||!xr?Le:xr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Le:Promise,"%Proxy%":typeof Proxy>"u"?Le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Qc||!xr?Le:xr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Qc&&xr?xr(""[Symbol.iterator]()):Le,"%Symbol%":Qc?Symbol:Le,"%SyntaxError%":Kf,"%ThrowTypeError%":ele,"%TypedArray%":rle,"%TypeError%":ef,"%Uint8Array%":typeof Uint8Array>"u"?Le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Le:WeakSet};if(xr)try{null.error}catch(t){var nle=xr(xr(t));ic["%Error.prototype%"]=nle}var ile=function t(e){var r;if(e==="%AsyncFunction%")r=_E("async function () {}");else if(e==="%GeneratorFunction%")r=_E("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=_E("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&xr&&(r=xr(i.prototype))}return ic[e]=r,r},TD={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},dg=Zae,zb=Fw,ole=dg.call(Function.call,Array.prototype.concat),sle=dg.call(Function.apply,Array.prototype.splice),PD=dg.call(Function.call,String.prototype.replace),Gb=dg.call(Function.call,String.prototype.slice),ale=dg.call(Function.call,RegExp.prototype.exec),lle=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,cle=/\\(\\)?/g,ule=function(e){var r=Gb(e,0,1),n=Gb(e,-1);if(r==="%"&&n!=="%")throw new Kf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Kf("invalid intrinsic syntax, expected opening `%`");var i=[];return PD(e,lle,function(o,s,a,l){i[i.length]=a?PD(l,cle,"$1"):s||o}),i},fle=function(e,r){var n=e,i;if(zb(TD,n)&&(i=TD[n],n="%"+i[0]+"%"),zb(ic,n)){var o=ic[n];if(o===uu&&(o=ile(n)),typeof o>"u"&&!r)throw new ef("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Kf("intrinsic "+e+" does not exist!")},dle=function(e,r){if(typeof e!="string"||e.length===0)throw new ef("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ef('"allowMissing" argument must be a boolean');if(ale(/^%?[^%]*%?$/,e)===null)throw new Kf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ule(e),i=n.length>0?n[0]:"",o=fle("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],sle(n,ole([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=Gb(h,0,1),m=Gb(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Kf("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,s="%"+i+"%",zb(ic,s))a=ic[s];else if(a!=null){if(!(h in a)){if(!r)throw new ef("base intrinsic for "+e+" exists, but the property is not available.");return}if(nc&&u+1>=n.length){var y=nc(a,h);f=!!y,f&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else f=zb(a,h),a=a[h];f&&!l&&(ic[s]=a)}}return a},hle="Function.prototype.bind called on incompatible ",ple=Object.prototype.toString,mle=Math.max,yle="[object Function]",ID=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},gle=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},vle=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},ble=function(e){var r=this;if(typeof r!="function"||ple.apply(r)!==yle)throw new TypeError(hle+r);for(var n=gle(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,ID(n,arguments));return Object(u)===u?u:this}return r.apply(e,ID(n,arguments))},s=mle(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+vle(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},xle=ble,_le=Function.prototype.bind||xle,Be,Yf=SyntaxError,rz=Function,tf=TypeError,SE=function(t){try{return rz('"use strict"; return ('+t+").constructor;")()}catch{}},oc=Object.getOwnPropertyDescriptor;if(oc)try{oc({},"")}catch{oc=null}var EE=function(){throw new tf},wle=oc?function(){try{return arguments.callee,EE}catch{try{return oc(arguments,"callee").get}catch{return EE}}}():EE,Xc=el(),Sle=Mw(),_r=Object.getPrototypeOf||(Sle?function(t){return t.__proto__}:null),fu={},Ele=typeof Uint8Array>"u"||!_r?Be:_r(Uint8Array),sc={"%AggregateError%":typeof AggregateError>"u"?Be:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Be:ArrayBuffer,"%ArrayIteratorPrototype%":Xc&&_r?_r([][Symbol.iterator]()):Be,"%AsyncFromSyncIteratorPrototype%":Be,"%AsyncFunction%":fu,"%AsyncGenerator%":fu,"%AsyncGeneratorFunction%":fu,"%AsyncIteratorPrototype%":fu,"%Atomics%":typeof Atomics>"u"?Be:Atomics,"%BigInt%":typeof BigInt>"u"?Be:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Be:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Be:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Be:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Be:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Be:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Be:FinalizationRegistry,"%Function%":rz,"%GeneratorFunction%":fu,"%Int8Array%":typeof Int8Array>"u"?Be:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Be:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Be:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xc&&_r?_r(_r([][Symbol.iterator]())):Be,"%JSON%":typeof JSON=="object"?JSON:Be,"%Map%":typeof Map>"u"?Be:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xc||!_r?Be:_r(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Be:Promise,"%Proxy%":typeof Proxy>"u"?Be:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Be:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Be:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xc||!_r?Be:_r(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Be:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xc&&_r?_r(""[Symbol.iterator]()):Be,"%Symbol%":Xc?Symbol:Be,"%SyntaxError%":Yf,"%ThrowTypeError%":wle,"%TypedArray%":Ele,"%TypeError%":tf,"%Uint8Array%":typeof Uint8Array>"u"?Be:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Be:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Be:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Be:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Be:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Be:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Be:WeakSet};if(_r)try{null.error}catch(t){var Ale=_r(_r(t));sc["%Error.prototype%"]=Ale}var Cle=function t(e){var r;if(e==="%AsyncFunction%")r=SE("async function () {}");else if(e==="%GeneratorFunction%")r=SE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=SE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&_r&&(r=_r(i.prototype))}return sc[e]=r,r},ND={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},hg=_le,qb=Fw,Tle=hg.call(Function.call,Array.prototype.concat),Ple=hg.call(Function.apply,Array.prototype.splice),kD=hg.call(Function.call,String.prototype.replace),Hb=hg.call(Function.call,String.prototype.slice),Ile=hg.call(Function.call,RegExp.prototype.exec),Nle=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,kle=/\\(\\)?/g,Ole=function(e){var r=Hb(e,0,1),n=Hb(e,-1);if(r==="%"&&n!=="%")throw new Yf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Yf("invalid intrinsic syntax, expected opening `%`");var i=[];return kD(e,Nle,function(o,s,a,l){i[i.length]=a?kD(l,kle,"$1"):s||o}),i},Rle=function(e,r){var n=e,i;if(qb(ND,n)&&(i=ND[n],n="%"+i[0]+"%"),qb(sc,n)){var o=sc[n];if(o===fu&&(o=Cle(n)),typeof o>"u"&&!r)throw new tf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Yf("intrinsic "+e+" does not exist!")},jle=function(e,r){if(typeof e!="string"||e.length===0)throw new tf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new tf('"allowMissing" argument must be a boolean');if(Ile(/^%?[^%]*%?$/,e)===null)throw new Yf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Ole(e),i=n.length>0?n[0]:"",o=Rle("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],Ple(n,Tle([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=Hb(h,0,1),m=Hb(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Yf("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,s="%"+i+"%",qb(sc,s))a=sc[s];else if(a!=null){if(!(h in a)){if(!r)throw new tf("base intrinsic for "+e+" exists, but the property is not available.");return}if(oc&&u+1>=n.length){var y=oc(a,h);f=!!y,f&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else f=qb(a,h),a=a[h];f&&!l&&(sc[s]=a)}}return a},$le=ks,w0=$le("%Object.getOwnPropertyDescriptor%",!0);if(w0)try{w0([],"length")}catch{w0=null}var Bw=w0,Dle=cg(),Xk=jle,Pp=Dle&&Xk("%Object.defineProperty%",!0);if(Pp)try{Pp({},"a",{value:1})}catch{Pp=!1}var Mle=Xk("%SyntaxError%"),Jc=Xk("%TypeError%"),OD=Bw,Jk=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Jc("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Jc("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Jc("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Jc("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Jc("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Jc("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!OD&&OD(e,r);if(Pp)Pp(e,r,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:o===null&&l?l.writable:!o});else if(a||!i&&!o&&!s)e[r]=n;else throw new Mle("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},nz=dle,RD=Jk,Fle=cg(),jD=Bw,$D=nz("%TypeError%"),Lle=nz("%Math.floor%"),iz=function(e,r){if(typeof e!="function")throw new $D("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Lle(r)!==r)throw new $D("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&jD){var s=jD(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(Fle?RD(e,"length",r,!0,!0):RD(e,"length",r)),e};(function(t){var e=J8,r=Lw,n=iz,i=r("%TypeError%"),o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(s,o),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=a(e,s,arguments);return n(p,1+c(0,h.length-(arguments.length-1)),!0)};var u=function(){return a(e,o,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u})(ez);var Ble=ez.exports,oz=Lw,sz=Ble,Ule=sz(oz("String.prototype.indexOf")),Vle=function(e,r){var n=oz(e,!!r);return typeof n=="function"&&Ule(e,".prototype.")>-1?sz(n):n},Wle=jw,zle=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Gle=Object.prototype.toString,qle=Array.prototype.concat,DD=Jk,Hle=function(t){return typeof t=="function"&&Gle.call(t)==="[object Function]"},az=cg(),Kle=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!Hle(n)||!n())return}az?DD(t,e,r,!0):DD(t,e,r)},lz=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Wle(e);zle&&(n=qle.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Kle(t,n[i],e[n[i]],r[n[i]])};lz.supportsDescriptors=!!az;var Zk=lz,wm=function(){return typeof(function(){}).name=="string"},Ip=Object.getOwnPropertyDescriptor;if(Ip)try{Ip([],"length")}catch{Ip=null}wm.functionsHaveConfigurableNames=function(){if(!wm()||!Ip)return!1;var e=Ip(function(){},"name");return!!e&&!!e.configurable};var Yle=Function.prototype.bind;wm.boundFunctionsHaveNames=function(){return wm()&&typeof Yle=="function"&&(function(){}).bind().name!==""};var Qle=wm,MD=Jk,Xle=cg(),Jle=Qle.functionsHaveConfigurableNames(),Zle=TypeError,ece=function(e,r){if(typeof e!="function")throw new Zle("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||Jle)&&(Xle?MD(e,"name",r,!0,!0):MD(e,"name",r)),e},tce=ece,rce=Object,nce=TypeError,cz=tce(function(){if(this!=null&&this!==rce(this))throw new nce("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),ice=cz,oce=Zk.supportsDescriptors,sce=Object.getOwnPropertyDescriptor,uz=function(){if(oce&&/a/mig.flags==="gim"){var e=sce(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),r==="dy")return e.get}}return ice},ace=Zk.supportsDescriptors,lce=uz,cce=Object.getOwnPropertyDescriptor,uce=Object.defineProperty,fce=TypeError,FD=Object.getPrototypeOf,dce=/a/,hce=function(){if(!ace||!FD)throw new fce("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=lce(),r=FD(dce),n=cce(r,"flags");return(!n||n.get!==e)&&uce(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},pce=Zk,mce=ug,yce=cz,fz=uz,gce=hce,dz=mce(fz());pce(dz,{getPolyfill:fz,implementation:yce,shim:gce});var vce=dz,S0={exports:{}},bce=$w,tl=function(){return bce()&&!!Symbol.toStringTag},xce=tl(),_ce=uo,TT=_ce("Object.prototype.toString"),Uw=function(e){return xce&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:TT(e)==="[object Arguments]"},hz=function(e){return Uw(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&TT(e)!=="[object Array]"&&TT(e.callee)==="[object Function]"},wce=function(){return Uw(arguments)}();Uw.isLegacyArguments=hz;var pz=wce?Uw:hz;const Sce={},Ece=Object.freeze(Object.defineProperty({__proto__:null,default:Sce},Symbol.toStringTag,{value:"Module"})),Ace=bJ(Ece);var eO=typeof Map=="function"&&Map.prototype,AE=Object.getOwnPropertyDescriptor&&eO?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Kb=eO&&AE&&typeof AE.get=="function"?AE.get:null,Cce=eO&&Map.prototype.forEach,tO=typeof Set=="function"&&Set.prototype,CE=Object.getOwnPropertyDescriptor&&tO?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Yb=tO&&CE&&typeof CE.get=="function"?CE.get:null,Tce=tO&&Set.prototype.forEach,Pce=typeof WeakMap=="function"&&WeakMap.prototype,Np=Pce?WeakMap.prototype.has:null,Ice=typeof WeakSet=="function"&&WeakSet.prototype,kp=Ice?WeakSet.prototype.has:null,Nce=typeof WeakRef=="function"&&WeakRef.prototype,LD=Nce?WeakRef.prototype.deref:null,kce=Boolean.prototype.valueOf,Oce=Object.prototype.toString,Rce=Function.prototype.toString,jce=String.prototype.match,rO=String.prototype.slice,fa=String.prototype.replace,$ce=String.prototype.toUpperCase,BD=String.prototype.toLowerCase,mz=RegExp.prototype.test,UD=Array.prototype.concat,_o=Array.prototype.join,Dce=Array.prototype.slice,VD=Math.floor,PT=typeof BigInt=="function"?BigInt.prototype.valueOf:null,TE=Object.getOwnPropertySymbols,IT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="object",pn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Qf||"symbol")?Symbol.toStringTag:null,yz=Object.prototype.propertyIsEnumerable,WD=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function zD(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||mz.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-VD(-t):VD(t);if(n!==t){var i=String(n),o=rO.call(e,i.length+1);return fa.call(i,r,"$&_")+"."+fa.call(fa.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fa.call(e,r,"$&_")}var NT=Ace,GD=NT.custom,qD=vz(GD)?GD:null,Mce=function t(e,r,n,i){var o=r||{};if(Ys(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ys(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Ys(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ys(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ys(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return xz(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?zD(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?zD(e,c):c}var u=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return kT(e)?"[Array]":"[Object]";var f=tue(o,n);if(typeof i>"u")i=[];else if(bz(i,e)>=0)return"[Circular]";function h(N,R,L){if(R&&(i=Dce.call(i),i.push(R)),L){var U={depth:o.depth};return Ys(o,"quoteStyle")&&(U.quoteStyle=o.quoteStyle),t(N,U,n+1,i)}return t(N,o,n+1,i)}if(typeof e=="function"&&!HD(e)){var p=qce(e),m=xv(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(m.length>0?" { "+_o.call(m,", ")+" }":"")}if(vz(e)){var y=Qf?fa.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):IT.call(e);return typeof e=="object"&&!Qf?Ah(y):y}if(Jce(e)){for(var g="<"+BD.call(String(e.nodeName)),b=e.attributes||[],v=0;v<b.length;v++)g+=" "+b[v].name+"="+gz(Fce(b[v].value),"double",o);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+BD.call(String(e.nodeName))+">",g}if(kT(e)){if(e.length===0)return"[]";var x=xv(e,h);return f&&!eue(x)?"["+OT(x,f)+"]":"[ "+_o.call(x,", ")+" ]"}if(Bce(e)){var S=xv(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!yz.call(e,"cause")?"{ ["+String(e)+"] "+_o.call(UD.call("[cause]: "+h(e.cause),S),", ")+" }":S.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+_o.call(S,", ")+" }"}if(typeof e=="object"&&s){if(qD&&typeof e[qD]=="function"&&NT)return NT(e,{depth:u-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Hce(e)){var _=[];return Cce.call(e,function(N,R){_.push(h(R,e,!0)+" => "+h(N,e))}),KD("Map",Kb.call(e),_,f)}if(Qce(e)){var w=[];return Tce.call(e,function(N){w.push(h(N,e))}),KD("Set",Yb.call(e),w,f)}if(Kce(e))return PE("WeakMap");if(Xce(e))return PE("WeakSet");if(Yce(e))return PE("WeakRef");if(Vce(e))return Ah(h(Number(e)));if(zce(e))return Ah(h(PT.call(e)));if(Wce(e))return Ah(kce.call(e));if(Uce(e))return Ah(h(String(e)));if(!Lce(e)&&!HD(e)){var A=xv(e,h),C=WD?WD(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",T=!C&&pn&&Object(e)===e&&pn in e?rO.call(rl(e),8,-1):I?"Object":"",P=C||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",O=P+(T||I?"["+_o.call(UD.call([],T||[],I||[]),": ")+"] ":"");return A.length===0?O+"{}":f?O+"{"+OT(A,f)+"}":O+"{ "+_o.call(A,", ")+" }"}return String(e)};function gz(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Fce(t){return fa.call(String(t),/"/g,"&quot;")}function kT(t){return rl(t)==="[object Array]"&&(!pn||!(typeof t=="object"&&pn in t))}function Lce(t){return rl(t)==="[object Date]"&&(!pn||!(typeof t=="object"&&pn in t))}function HD(t){return rl(t)==="[object RegExp]"&&(!pn||!(typeof t=="object"&&pn in t))}function Bce(t){return rl(t)==="[object Error]"&&(!pn||!(typeof t=="object"&&pn in t))}function Uce(t){return rl(t)==="[object String]"&&(!pn||!(typeof t=="object"&&pn in t))}function Vce(t){return rl(t)==="[object Number]"&&(!pn||!(typeof t=="object"&&pn in t))}function Wce(t){return rl(t)==="[object Boolean]"&&(!pn||!(typeof t=="object"&&pn in t))}function vz(t){if(Qf)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!IT)return!1;try{return IT.call(t),!0}catch{}return!1}function zce(t){if(!t||typeof t!="object"||!PT)return!1;try{return PT.call(t),!0}catch{}return!1}var Gce=Object.prototype.hasOwnProperty||function(t){return t in this};function Ys(t,e){return Gce.call(t,e)}function rl(t){return Oce.call(t)}function qce(t){if(t.name)return t.name;var e=jce.call(Rce.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function bz(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Hce(t){if(!Kb||!t||typeof t!="object")return!1;try{Kb.call(t);try{Yb.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Kce(t){if(!Np||!t||typeof t!="object")return!1;try{Np.call(t,Np);try{kp.call(t,kp)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Yce(t){if(!LD||!t||typeof t!="object")return!1;try{return LD.call(t),!0}catch{}return!1}function Qce(t){if(!Yb||!t||typeof t!="object")return!1;try{Yb.call(t);try{Kb.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Xce(t){if(!kp||!t||typeof t!="object")return!1;try{kp.call(t,kp);try{Np.call(t,Np)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Jce(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function xz(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return xz(rO.call(t,0,e.maxStringLength),e)+n}var i=fa.call(fa.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Zce);return gz(i,"single",e)}function Zce(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+$ce.call(e.toString(16))}function Ah(t){return"Object("+t+")"}function PE(t){return t+" { ? }"}function KD(t,e,r,n){var i=n?OT(r,n):_o.call(r,", ");return t+" ("+e+") {"+i+"}"}function eue(t){for(var e=0;e<t.length;e++)if(bz(t[e],`
`)>=0)return!1;return!0}function tue(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=_o.call(Array(t.indent+1)," ");else return null;return{base:r,prev:_o.call(Array(e+1),r)}}function OT(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+_o.call(t,","+r)+`
`+e.prev}function xv(t,e){var r=kT(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Ys(t,i)?e(t[i],t):""}var o=typeof TE=="function"?TE(t):[],s;if(Qf){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in t)Ys(t,l)&&(r&&String(Number(l))===l&&l<t.length||Qf&&s["$"+l]instanceof Symbol||(mz.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof TE=="function")for(var c=0;c<o.length;c++)yz.call(t,o[c])&&n.push("["+e(o[c])+"]: "+e(t[o[c]],t));return n}var nO=ks,Bd=uo,rue=Mce,nue=nO("%TypeError%"),_v=nO("%WeakMap%",!0),wv=nO("%Map%",!0),iue=Bd("WeakMap.prototype.get",!0),oue=Bd("WeakMap.prototype.set",!0),sue=Bd("WeakMap.prototype.has",!0),aue=Bd("Map.prototype.get",!0),lue=Bd("Map.prototype.set",!0),cue=Bd("Map.prototype.has",!0),iO=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},uue=function(t,e){var r=iO(t,e);return r&&r.value},fue=function(t,e,r){var n=iO(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},due=function(t,e){return!!iO(t,e)},_z=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new nue("Side channel does not contain "+rue(o))},get:function(o){if(_v&&o&&(typeof o=="object"||typeof o=="function")){if(e)return iue(e,o)}else if(wv){if(r)return aue(r,o)}else if(n)return uue(n,o)},has:function(o){if(_v&&o&&(typeof o=="object"||typeof o=="function")){if(e)return sue(e,o)}else if(wv){if(r)return cue(r,o)}else if(n)return due(n,o);return!1},set:function(o,s){_v&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new _v),oue(e,o,s)):wv?(r||(r=new wv),lue(r,o,s)):(n||(n={key:{},next:null}),fue(n,o,s))}};return i},hue=ks,pue=Qk,Ch=_z(),Zo=hue("%TypeError%"),oO={assert:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new Zo("`O` is not an object");if(typeof e!="string")throw new Zo("`slot` must be a string");if(Ch.assert(t),!oO.has(t,e))throw new Zo("`slot` is not present on `O`")},get:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new Zo("`O` is not an object");if(typeof e!="string")throw new Zo("`slot` must be a string");var r=Ch.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new Zo("`O` is not an object");if(typeof e!="string")throw new Zo("`slot` must be a string");var r=Ch.get(t);return!!r&&pue(r,"$"+e)},set:function(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new Zo("`O` is not an object");if(typeof e!="string")throw new Zo("`slot` must be a string");var n=Ch.get(t);n||(n={},Ch.set(t,n)),n["$"+e]=r}};Object.freeze&&Object.freeze(oO);var mue=oO,Th=mue,yue=SyntaxError,YD=typeof StopIteration=="object"?StopIteration:null,gue=function(e){if(!YD)throw new yue("this environment lacks StopIteration");Th.set(e,"[[Done]]",!1);var r={next:function(){var i=Th.get(this,"[[Iterator]]"),o=Th.get(i,"[[Done]]");try{return{done:o,value:o?void 0:i.next()}}catch(s){if(Th.set(i,"[[Done]]",!0),s!==YD)throw s;return{done:!0,value:void 0}}}};return Th.set(r,"[[Iterator]]",e),r},vue={}.toString,wz=Array.isArray||function(t){return vue.call(t)=="[object Array]"},bue=String.prototype.valueOf,xue=function(e){try{return bue.call(e),!0}catch{return!1}},_ue=Object.prototype.toString,wue="[object String]",Sue=tl(),Sz=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:Sue?xue(e):_ue.call(e)===wue},sO=typeof Map=="function"&&Map.prototype?Map:null,Eue=typeof Set=="function"&&Set.prototype?Set:null,Qb;sO||(Qb=function(e){return!1});var Ez=sO?Map.prototype.has:null,QD=Eue?Set.prototype.has:null;!Qb&&!Ez&&(Qb=function(e){return!1});var Az=Qb||function(e){if(!e||typeof e!="object")return!1;try{if(Ez.call(e),QD)try{QD.call(e)}catch{return!0}return e instanceof sO}catch{}return!1},Aue=typeof Map=="function"&&Map.prototype?Map:null,aO=typeof Set=="function"&&Set.prototype?Set:null,Xb;aO||(Xb=function(e){return!1});var XD=Aue?Map.prototype.has:null,Cz=aO?Set.prototype.has:null;!Xb&&!Cz&&(Xb=function(e){return!1});var Tz=Xb||function(e){if(!e||typeof e!="object")return!1;try{if(Cz.call(e),XD)try{XD.call(e)}catch{return!0}return e instanceof aO}catch{}return!1},JD=pz,ZD=gue;if(el()||$w()){var IE=Symbol.iterator;S0.exports=function(e){if(e!=null&&typeof e[IE]<"u")return e[IE]();if(JD(e))return Array.prototype[IE].call(e)}}else{var Cue=wz,Tue=Sz,eM=ks,Pue=eM("%Map%",!0),Iue=eM("%Set%",!0),Bi=uo,tM=Bi("Array.prototype.push"),rM=Bi("String.prototype.charCodeAt"),Nue=Bi("String.prototype.slice"),kue=function(e,r){var n=e.length;if(r+1>=n)return r+1;var i=rM(e,r);if(i<55296||i>56319)return r+1;var o=rM(e,r+1);return o<56320||o>57343?r+1:r+2},NE=function(e){var r=0;return{next:function(){var i=r>=e.length,o;return i||(o=e[r],r+=1),{done:i,value:o}}}},nM=function(e,r){if(Cue(e)||JD(e))return NE(e);if(Tue(e)){var n=0;return{next:function(){var o=kue(e,n),s=Nue(e,n,o);return n=o,{done:o>e.length,value:s}}}}if(r&&typeof e["_es6-shim iterator_"]<"u")return e["_es6-shim iterator_"]()};if(!Pue&&!Iue)S0.exports=function(e){if(e!=null)return nM(e,!0)};else{var Oue=Az,Rue=Tz,iM=Bi("Map.prototype.forEach",!0),oM=Bi("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var sM=Bi("Map.prototype.iterator",!0),aM=Bi("Set.prototype.iterator",!0);var lM=Bi("Map.prototype.@@iterator",!0)||Bi("Map.prototype._es6-shim iterator_",!0),cM=Bi("Set.prototype.@@iterator",!0)||Bi("Set.prototype._es6-shim iterator_",!0),jue=function(e){if(Oue(e)){if(sM)return ZD(sM(e));if(lM)return lM(e);if(iM){var r=[];return iM(e,function(i,o){tM(r,[o,i])}),NE(r)}}if(Rue(e)){if(aM)return ZD(aM(e));if(cM)return cM(e);if(oM){var n=[];return oM(e,function(i){tM(n,i)}),NE(n)}}};S0.exports=function(e){return jue(e)||nM(e)}}}var $ue=S0.exports,uM=function(t){return t!==t},Pz=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||uM(e)&&uM(r))},Due=Pz,Iz=function(){return typeof Object.is=="function"?Object.is:Due},Mue=Iz,Fue=Dw,Lue=function(){var e=Mue();return Fue(Object,{is:e},{is:function(){return Object.is!==e}}),e},Bue=Dw,Uue=ug,Vue=Pz,Nz=Iz,Wue=Lue,kz=Uue(Nz(),Object);Bue(kz,{getPolyfill:Nz,implementation:Vue,shim:Wue});var zue=kz,Oz={exports:{}},Gue="Function.prototype.bind called on incompatible ",kE=Array.prototype.slice,que=Object.prototype.toString,Hue="[object Function]",Kue=function(e){var r=this;if(typeof r!="function"||que.call(r)!==Hue)throw new TypeError(Gue+r);for(var n=kE.call(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,n.concat(kE.call(arguments)));return Object(u)===u?u:this}else return r.apply(e,n.concat(kE.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Yue=Kue,Rz=Function.prototype.bind||Yue,Ke,Xf=SyntaxError,jz=Function,rf=TypeError,OE=function(t){try{return jz('"use strict"; return ('+t+").constructor;")()}catch{}},ac=Object.getOwnPropertyDescriptor;if(ac)try{ac({},"")}catch{ac=null}var RE=function(){throw new rf},Que=ac?function(){try{return arguments.callee,RE}catch{try{return ac(arguments,"callee").get}catch{return RE}}}():RE,Zc=el(),Qs=Object.getPrototypeOf||function(t){return t.__proto__},du={},Xue=typeof Uint8Array>"u"?Ke:Qs(Uint8Array),nf={"%AggregateError%":typeof AggregateError>"u"?Ke:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ke:ArrayBuffer,"%ArrayIteratorPrototype%":Zc?Qs([][Symbol.iterator]()):Ke,"%AsyncFromSyncIteratorPrototype%":Ke,"%AsyncFunction%":du,"%AsyncGenerator%":du,"%AsyncGeneratorFunction%":du,"%AsyncIteratorPrototype%":du,"%Atomics%":typeof Atomics>"u"?Ke:Atomics,"%BigInt%":typeof BigInt>"u"?Ke:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ke:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ke:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ke:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ke:FinalizationRegistry,"%Function%":jz,"%GeneratorFunction%":du,"%Int8Array%":typeof Int8Array>"u"?Ke:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ke:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ke:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zc?Qs(Qs([][Symbol.iterator]())):Ke,"%JSON%":typeof JSON=="object"?JSON:Ke,"%Map%":typeof Map>"u"?Ke:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zc?Ke:Qs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ke:Promise,"%Proxy%":typeof Proxy>"u"?Ke:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ke:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ke:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zc?Ke:Qs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ke:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zc?Qs(""[Symbol.iterator]()):Ke,"%Symbol%":Zc?Symbol:Ke,"%SyntaxError%":Xf,"%ThrowTypeError%":Que,"%TypedArray%":Xue,"%TypeError%":rf,"%Uint8Array%":typeof Uint8Array>"u"?Ke:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ke:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ke:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ke:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ke:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ke:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ke:WeakSet},Jue=function t(e){var r;if(e==="%AsyncFunction%")r=OE("async function () {}");else if(e==="%GeneratorFunction%")r=OE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=OE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Qs(i.prototype))}return nf[e]=r,r},fM={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pg=Rz,Jb=Qk,Zue=pg.call(Function.call,Array.prototype.concat),efe=pg.call(Function.apply,Array.prototype.splice),dM=pg.call(Function.call,String.prototype.replace),Zb=pg.call(Function.call,String.prototype.slice),tfe=pg.call(Function.call,RegExp.prototype.exec),rfe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,nfe=/\\(\\)?/g,ife=function(e){var r=Zb(e,0,1),n=Zb(e,-1);if(r==="%"&&n!=="%")throw new Xf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Xf("invalid intrinsic syntax, expected opening `%`");var i=[];return dM(e,rfe,function(o,s,a,l){i[i.length]=a?dM(l,nfe,"$1"):s||o}),i},ofe=function(e,r){var n=e,i;if(Jb(fM,n)&&(i=fM[n],n="%"+i[0]+"%"),Jb(nf,n)){var o=nf[n];if(o===du&&(o=Jue(n)),typeof o>"u"&&!r)throw new rf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Xf("intrinsic "+e+" does not exist!")},$z=function(e,r){if(typeof e!="string"||e.length===0)throw new rf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new rf('"allowMissing" argument must be a boolean');if(tfe(/^%?[^%]*%?$/,e)===null)throw new Xf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ife(e),i=n.length>0?n[0]:"",o=ofe("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],efe(n,Zue([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=Zb(h,0,1),m=Zb(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Xf("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,s="%"+i+"%",Jb(nf,s))a=nf[s];else if(a!=null){if(!(h in a)){if(!r)throw new rf("base intrinsic for "+e+" exists, but the property is not available.");return}if(ac&&u+1>=n.length){var y=ac(a,h);f=!!y,f&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else f=Jb(a,h),a=a[h];f&&!l&&(nf[s]=a)}}return a};(function(t){var e=Rz,r=$z,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(f){var h=o(e,i,arguments);if(s&&a){var p=s(h,"length");p.configurable&&a(h,"length",{value:1+l(0,f.length-(arguments.length-1))})}return h};var c=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(Oz);var Dz=Oz.exports,Mz=$z,Fz=Dz,sfe=Fz(Mz("String.prototype.indexOf")),afe=function(e,r){var n=Mz(e,!!r);return typeof n=="function"&&sfe(e,".prototype.")>-1?Fz(n):n},Lz=Function.prototype.toString,Ru=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,RT,E0;if(typeof Ru=="function"&&typeof Object.defineProperty=="function")try{RT=Object.defineProperty({},"length",{get:function(){throw E0}}),E0={},Ru(function(){throw 42},null,RT)}catch(t){t!==E0&&(Ru=null)}else Ru=null;var lfe=/^\s*class\b/,jT=function(e){try{var r=Lz.call(e);return lfe.test(r)}catch{return!1}},jE=function(e){try{return jT(e)?!1:(Lz.call(e),!0)}catch{return!1}},A0=Object.prototype.toString,cfe="[object Object]",ufe="[object Function]",ffe="[object GeneratorFunction]",dfe="[object HTMLAllCollection]",hfe="[object HTML document.all class]",pfe="[object HTMLCollection]",mfe=typeof Symbol=="function"&&!!Symbol.toStringTag,yfe=!(0 in[,]),$T=function(){return!1};if(typeof document=="object"){var gfe=document.all;A0.call(gfe)===A0.call(document.all)&&($T=function(e){if((yfe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=A0.call(e);return(r===dfe||r===hfe||r===pfe||r===cfe)&&e("")==null}catch{}return!1})}var vfe=Ru?function(e){if($T(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ru(e,null,RT)}catch(r){if(r!==E0)return!1}return!jT(e)&&jE(e)}:function(e){if($T(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(mfe)return jE(e);if(jT(e))return!1;var r=A0.call(e);return r!==ufe&&r!==ffe&&!/^\[object HTML/.test(r)?!1:jE(e)},bfe=vfe,xfe=Object.prototype.toString,Bz=Object.prototype.hasOwnProperty,_fe=function(e,r,n){for(var i=0,o=e.length;i<o;i++)Bz.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},wfe=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},Sfe=function(e,r,n){for(var i in e)Bz.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Efe=function(e,r,n){if(!bfe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),xfe.call(e)==="[object Array]"?_fe(e,r,i):typeof e=="string"?wfe(e,r,i):Sfe(e,r,i)},Uz=Efe,$E=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Afe=typeof globalThis>"u"?Il:globalThis,Vz=function(){for(var e=[],r=0;r<$E.length;r++)typeof Afe[$E[r]]=="function"&&(e[e.length]=$E[r]);return e},Wz=Uz,Cfe=Vz,lO=uo,Tfe=lO("Object.prototype.toString"),zz=tl(),C0=Bw,Pfe=typeof globalThis>"u"?Il:globalThis,Gz=Cfe(),Ife=lO("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Nfe=lO("String.prototype.slice"),qz={},DE=Object.getPrototypeOf;zz&&C0&&DE&&Wz(Gz,function(t){var e=new Pfe[t];if(Symbol.toStringTag in e){var r=DE(e),n=C0(r,Symbol.toStringTag);if(!n){var i=DE(r);n=C0(i,Symbol.toStringTag)}qz[t]=n.get}});var kfe=function(e){var r=!1;return Wz(qz,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},Hz=function(e){if(!e||typeof e!="object")return!1;if(!zz||!(Symbol.toStringTag in e)){var r=Nfe(Tfe(e),8,-1);return Ife(Gz,r)>-1}return C0?kfe(e):!1},Ofe=Dz,Rfe=afe,Kz=Lw,jfe=Hz,hM=Kz("ArrayBuffer",!0),pM=Kz("Float32Array",!0),T0=Rfe("ArrayBuffer.prototype.byteLength",!0),mM=hM&&!T0&&new hM().slice,yM=mM&&Ofe(mM),$fe=T0||yM?function(e){if(!e||typeof e!="object")return!1;try{return T0?T0(e):yM(e,0),!0}catch{return!1}}:pM?function(e){try{return new pM(e).buffer===e&&!jfe(e)}catch(r){return typeof e=="object"&&r.name==="RangeError"}}:function(e){return!1},Dfe=Date.prototype.getDay,Mfe=function(e){try{return Dfe.call(e),!0}catch{return!1}},Ffe=Object.prototype.toString,Lfe="[object Date]",Bfe=tl(),Ufe=function(e){return typeof e!="object"||e===null?!1:Bfe?Mfe(e):Ffe.call(e)===Lfe},DT=uo,Yz=tl(),Qz,Xz,MT,FT;if(Yz){Qz=DT("Object.prototype.hasOwnProperty"),Xz=DT("RegExp.prototype.exec"),MT={};var ME=function(){throw MT};FT={toString:ME,valueOf:ME},typeof Symbol.toPrimitive=="symbol"&&(FT[Symbol.toPrimitive]=ME)}var Vfe=DT("Object.prototype.toString"),Wfe=Object.getOwnPropertyDescriptor,zfe="[object RegExp]",Gfe=Yz?function(e){if(!e||typeof e!="object")return!1;var r=Wfe(e,"lastIndex"),n=r&&Qz(r,"value");if(!n)return!1;try{Xz(e,FT)}catch(i){return i===MT}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:Vfe(e)===zfe},qfe=uo,gM=qfe("SharedArrayBuffer.prototype.byteLength",!0),Hfe=gM?function(e){if(!e||typeof e!="object")return!1;try{return gM(e),!0}catch{return!1}}:function(e){return!1},Kfe=Number.prototype.toString,Yfe=function(e){try{return Kfe.call(e),!0}catch{return!1}},Qfe=Object.prototype.toString,Xfe="[object Number]",Jfe=tl(),Zfe=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:Jfe?Yfe(e):Qfe.call(e)===Xfe},Jz=uo,ede=Jz("Boolean.prototype.toString"),tde=Jz("Object.prototype.toString"),rde=function(e){try{return ede(e),!0}catch{return!1}},nde="[object Boolean]",ide=tl(),ode=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:ide&&Symbol.toStringTag in e?rde(e):tde(e)===nde},LT={exports:{}},sde=Object.prototype.toString,ade=el();if(ade){var lde=Symbol.prototype.toString,cde=/^Symbol\(.*\)$/,ude=function(e){return typeof e.valueOf()!="symbol"?!1:cde.test(lde.call(e))};LT.exports=function(e){if(typeof e=="symbol")return!0;if(sde.call(e)!=="[object Symbol]")return!1;try{return ude(e)}catch{return!1}}}else LT.exports=function(e){return!1};var fde=LT.exports,BT={exports:{}},vM=typeof BigInt<"u"&&BigInt,dde=function(){return typeof vM=="function"&&typeof BigInt=="function"&&typeof vM(42)=="bigint"&&typeof BigInt(42)=="bigint"},hde=dde();if(hde){var pde=BigInt.prototype.valueOf,mde=function(e){try{return pde.call(e),!0}catch{}return!1};BT.exports=function(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="function"?!1:typeof e=="bigint"?!0:mde(e)}}else BT.exports=function(e){return!1};var yde=BT.exports,gde=Sz,vde=Zfe,bde=ode,xde=fde,_de=yde,wde=function(e){if(e==null||typeof e!="object"&&typeof e!="function")return null;if(gde(e))return"String";if(vde(e))return"Number";if(bde(e))return"Boolean";if(xde(e))return"Symbol";if(_de(e))return"BigInt"},ex=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,bM=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,tx;ex||(tx=function(e){return!1});var UT=ex?ex.prototype.has:null,FE=bM?bM.prototype.has:null;!tx&&!UT&&(tx=function(e){return!1});var Sde=tx||function(e){if(!e||typeof e!="object")return!1;try{if(UT.call(e,UT),FE)try{FE.call(e,FE)}catch{return!0}return e instanceof ex}catch{}return!1},VT={exports:{}},Ede=ks,Zz=uo,Ade=Ede("%WeakSet%",!0),LE=Zz("WeakSet.prototype.has",!0);if(LE){var BE=Zz("WeakMap.prototype.has",!0);VT.exports=function(e){if(!e||typeof e!="object")return!1;try{if(LE(e,LE),BE)try{BE(e,BE)}catch{return!0}return e instanceof Ade}catch{}return!1}}else VT.exports=function(e){return!1};var Cde=VT.exports,Tde=Az,Pde=Tz,Ide=Sde,Nde=Cde,kde=function(e){if(e&&typeof e=="object"){if(Tde(e))return"Map";if(Pde(e))return"Set";if(Ide(e))return"WeakMap";if(Nde(e))return"WeakSet"}return!1},e9={exports:{}},Ode="Function.prototype.bind called on incompatible ",Rde=Object.prototype.toString,jde=Math.max,$de="[object Function]",xM=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Dde=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},Mde=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Fde=function(e){var r=this;if(typeof r!="function"||Rde.apply(r)!==$de)throw new TypeError(Ode+r);for(var n=Dde(arguments,1),i,o=function(){if(this instanceof i){var u=r.apply(this,xM(n,arguments));return Object(u)===u?u:this}return r.apply(e,xM(n,arguments))},s=jde(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+Mde(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Lde=Fde,t9=Function.prototype.bind||Lde,Ue,Jf=SyntaxError,r9=Function,of=TypeError,UE=function(t){try{return r9('"use strict"; return ('+t+").constructor;")()}catch{}},lc=Object.getOwnPropertyDescriptor;if(lc)try{lc({},"")}catch{lc=null}var VE=function(){throw new of},Bde=lc?function(){try{return arguments.callee,VE}catch{try{return lc(arguments,"callee").get}catch{return VE}}}():VE,eu=el(),Ude=Mw(),wr=Object.getPrototypeOf||(Ude?function(t){return t.__proto__}:null),hu={},Vde=typeof Uint8Array>"u"||!wr?Ue:wr(Uint8Array),cc={"%AggregateError%":typeof AggregateError>"u"?Ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ue:ArrayBuffer,"%ArrayIteratorPrototype%":eu&&wr?wr([][Symbol.iterator]()):Ue,"%AsyncFromSyncIteratorPrototype%":Ue,"%AsyncFunction%":hu,"%AsyncGenerator%":hu,"%AsyncGeneratorFunction%":hu,"%AsyncIteratorPrototype%":hu,"%Atomics%":typeof Atomics>"u"?Ue:Atomics,"%BigInt%":typeof BigInt>"u"?Ue:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ue:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ue:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ue:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ue:FinalizationRegistry,"%Function%":r9,"%GeneratorFunction%":hu,"%Int8Array%":typeof Int8Array>"u"?Ue:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ue:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":eu&&wr?wr(wr([][Symbol.iterator]())):Ue,"%JSON%":typeof JSON=="object"?JSON:Ue,"%Map%":typeof Map>"u"?Ue:Map,"%MapIteratorPrototype%":typeof Map>"u"||!eu||!wr?Ue:wr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ue:Promise,"%Proxy%":typeof Proxy>"u"?Ue:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ue:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ue:Set,"%SetIteratorPrototype%":typeof Set>"u"||!eu||!wr?Ue:wr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":eu&&wr?wr(""[Symbol.iterator]()):Ue,"%Symbol%":eu?Symbol:Ue,"%SyntaxError%":Jf,"%ThrowTypeError%":Bde,"%TypedArray%":Vde,"%TypeError%":of,"%Uint8Array%":typeof Uint8Array>"u"?Ue:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ue:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ue:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ue:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ue:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ue:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ue:WeakSet};if(wr)try{null.error}catch(t){var Wde=wr(wr(t));cc["%Error.prototype%"]=Wde}var zde=function t(e){var r;if(e==="%AsyncFunction%")r=UE("async function () {}");else if(e==="%GeneratorFunction%")r=UE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=UE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&wr&&(r=wr(i.prototype))}return cc[e]=r,r},_M={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mg=t9,rx=Fw,Gde=mg.call(Function.call,Array.prototype.concat),qde=mg.call(Function.apply,Array.prototype.splice),wM=mg.call(Function.call,String.prototype.replace),nx=mg.call(Function.call,String.prototype.slice),Hde=mg.call(Function.call,RegExp.prototype.exec),Kde=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Yde=/\\(\\)?/g,Qde=function(e){var r=nx(e,0,1),n=nx(e,-1);if(r==="%"&&n!=="%")throw new Jf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Jf("invalid intrinsic syntax, expected opening `%`");var i=[];return wM(e,Kde,function(o,s,a,l){i[i.length]=a?wM(l,Yde,"$1"):s||o}),i},Xde=function(e,r){var n=e,i;if(rx(_M,n)&&(i=_M[n],n="%"+i[0]+"%"),rx(cc,n)){var o=cc[n];if(o===hu&&(o=zde(n)),typeof o>"u"&&!r)throw new of("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Jf("intrinsic "+e+" does not exist!")},n9=function(e,r){if(typeof e!="string"||e.length===0)throw new of("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new of('"allowMissing" argument must be a boolean');if(Hde(/^%?[^%]*%?$/,e)===null)throw new Jf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Qde(e),i=n.length>0?n[0]:"",o=Xde("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],qde(n,Gde([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var h=n[u],p=nx(h,0,1),m=nx(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Jf("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),i+="."+h,s="%"+i+"%",rx(cc,s))a=cc[s];else if(a!=null){if(!(h in a)){if(!r)throw new of("base intrinsic for "+e+" exists, but the property is not available.");return}if(lc&&u+1>=n.length){var y=lc(a,h);f=!!y,f&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else f=rx(a,h),a=a[h];f&&!l&&(cc[s]=a)}}return a};(function(t){var e=t9,r=n9,n=iz,i=r("%TypeError%"),o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(s,o),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=a(e,s,arguments);return n(p,1+c(0,h.length-(arguments.length-1)),!0)};var u=function(){return a(e,o,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u})(e9);var i9=e9.exports,o9=n9,s9=i9,Jde=s9(o9("String.prototype.indexOf")),Zde=function(e,r){var n=o9(e,!!r);return typeof n=="function"&&Jde(e,".prototype.")>-1?s9(n):n},ix=Uz,ehe=Vz,SM=i9,cO=Zde,P0=Bw,the=cO("Object.prototype.toString"),a9=tl(),EM=typeof globalThis>"u"?Il:globalThis,WT=ehe(),uO=cO("String.prototype.slice"),WE=Object.getPrototypeOf,rhe=cO("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},ox={__proto__:null};a9&&P0&&WE?ix(WT,function(t){var e=new EM[t];if(Symbol.toStringTag in e){var r=WE(e),n=P0(r,Symbol.toStringTag);if(!n){var i=WE(r);n=P0(i,Symbol.toStringTag)}ox["$"+t]=SM(n.get)}}):ix(WT,function(t){var e=new EM[t],r=e.slice||e.set;r&&(ox["$"+t]=SM(r))});var nhe=function(e){var r=!1;return ix(ox,function(n,i){if(!r)try{"$"+n(e)===i&&(r=uO(i,1))}catch{}}),r},ihe=function(e){var r=!1;return ix(ox,function(n,i){if(!r)try{n(e),r=uO(i,1)}catch{}}),r},ohe=function(e){if(!e||typeof e!="object")return!1;if(!a9){var r=uO(the(e),8,-1);return rhe(WT,r)>-1?r:r!=="Object"?!1:ihe(e)}return P0?nhe(e):null},zE,AM;function she(){if(AM)return zE;AM=1;var t=ug,e=uo,r=ks,n=Hz,i=r("ArrayBuffer",!0),o=r("Float32Array",!0),s=e("ArrayBuffer.prototype.byteLength",!0),a=i&&!s&&new i().slice,l=a&&t(a);return zE=s||l?function(u){if(!u||typeof u!="object")return!1;try{return s?s(u):l(u,0),!0}catch{return!1}}:o?function(u){try{return new o(u).buffer===u&&!n(u)}catch{return!1}}:function(u){return!1},zE}var ahe=uo,CM=ahe("ArrayBuffer.prototype.byteLength",!0),lhe=she(),che=function(e){return lhe(e)?CM?CM(e):e.byteLength:NaN},l9=fae,Qo=Vle,TM=vce,uhe=Lw,Zf=$ue,fhe=_z,PM=zue,IM=pz,NM=wz,kM=$fe,OM=Ufe,RM=Gfe,jM=Hfe,$M=jw,DM=wde,MM=kde,FM=ohe,LM=che,BM=Qo("SharedArrayBuffer.prototype.byteLength",!0),UM=Qo("Date.prototype.getTime"),GE=Object.getPrototypeOf,VM=Qo("Object.prototype.toString"),sx=uhe("%Set%",!0),zT=Qo("Map.prototype.has",!0),ax=Qo("Map.prototype.get",!0),WM=Qo("Map.prototype.size",!0),lx=Qo("Set.prototype.add",!0),c9=Qo("Set.prototype.delete",!0),cx=Qo("Set.prototype.has",!0),I0=Qo("Set.prototype.size",!0);function zM(t,e,r,n){for(var i=Zf(t),o;(o=i.next())&&!o.done;)if(so(e,o.value,r,n))return c9(t,o.value),!0;return!1}function u9(t){if(typeof t>"u")return null;if(typeof t!="object")return typeof t=="symbol"?!1:typeof t=="string"||typeof t=="number"?+t==+t:!0}function dhe(t,e,r,n,i,o){var s=u9(r);if(s!=null)return s;var a=ax(e,s),l=l9({},i,{strict:!1});return typeof a>"u"&&!zT(e,s)||!so(n,a,l,o)?!1:!zT(t,s)&&so(n,a,l,o)}function hhe(t,e,r){var n=u9(r);return n??(cx(e,n)&&!cx(t,n))}function GM(t,e,r,n,i,o){for(var s=Zf(t),a,l;(a=s.next())&&!a.done;)if(l=a.value,so(r,l,i,o)&&so(n,ax(e,l),i,o))return c9(t,l),!0;return!1}function so(t,e,r,n){var i=r||{};if(i.strict?PM(t,e):t===e)return!0;var o=DM(t),s=DM(e);if(o!==s)return!1;if(!t||!e||typeof t!="object"&&typeof e!="object")return i.strict?PM(t,e):t==e;var a=n.has(t),l=n.has(e),c;if(a&&l){if(n.get(t)===n.get(e))return!0}else c={};return a||n.set(t,c),l||n.set(e,c),yhe(t,e,i,n)}function qM(t){return!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function phe(t,e,r,n){if(I0(t)!==I0(e))return!1;for(var i=Zf(t),o=Zf(e),s,a,l;(s=i.next())&&!s.done;)if(s.value&&typeof s.value=="object")l||(l=new sx),lx(l,s.value);else if(!cx(e,s.value)){if(r.strict||!hhe(t,e,s.value))return!1;l||(l=new sx),lx(l,s.value)}if(l){for(;(a=o.next())&&!a.done;)if(a.value&&typeof a.value=="object"){if(!zM(l,a.value,r.strict,n))return!1}else if(!r.strict&&!cx(t,a.value)&&!zM(l,a.value,r.strict,n))return!1;return I0(l)===0}return!0}function mhe(t,e,r,n){if(WM(t)!==WM(e))return!1;for(var i=Zf(t),o=Zf(e),s,a,l,c,u,f;(s=i.next())&&!s.done;)if(c=s.value[0],u=s.value[1],c&&typeof c=="object")l||(l=new sx),lx(l,c);else if(f=ax(e,c),typeof f>"u"&&!zT(e,c)||!so(u,f,r,n)){if(r.strict||!dhe(t,e,c,u,r,n))return!1;l||(l=new sx),lx(l,c)}if(l){for(;(a=o.next())&&!a.done;)if(c=a.value[0],f=a.value[1],c&&typeof c=="object"){if(!GM(l,t,c,f,r,n))return!1}else if(!r.strict&&(!t.has(c)||!so(ax(t,c),f,r,n))&&!GM(l,t,c,f,l9({},r,{strict:!1}),n))return!1;return I0(l)===0}return!0}function yhe(t,e,r,n){var i,o;if(typeof t!=typeof e||t==null||e==null||VM(t)!==VM(e)||IM(t)!==IM(e))return!1;var s=NM(t),a=NM(e);if(s!==a)return!1;var l=t instanceof Error,c=e instanceof Error;if(l!==c||(l||c)&&(t.name!==e.name||t.message!==e.message))return!1;var u=RM(t),f=RM(e);if(u!==f||(u||f)&&(t.source!==e.source||TM(t)!==TM(e)))return!1;var h=OM(t),p=OM(e);if(h!==p||(h||p)&&UM(t)!==UM(e)||r.strict&&GE&&GE(t)!==GE(e))return!1;var m=FM(t),y=FM(e);if(m!==y)return!1;if(m||y){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}var g=qM(t),b=qM(e);if(g!==b)return!1;if(g||b){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}var v=kM(t),x=kM(e);if(v!==x)return!1;if(v||x)return LM(t)!==LM(e)?!1:typeof Uint8Array=="function"&&so(new Uint8Array(t),new Uint8Array(e),r,n);var S=jM(t),_=jM(e);if(S!==_)return!1;if(S||_)return BM(t)!==BM(e)?!1:typeof Uint8Array=="function"&&so(new Uint8Array(t),new Uint8Array(e),r,n);if(typeof t!=typeof e)return!1;var w=$M(t),A=$M(e);if(w.length!==A.length)return!1;for(w.sort(),A.sort(),i=w.length-1;i>=0;i--)if(w[i]!=A[i])return!1;for(i=w.length-1;i>=0;i--)if(o=w[i],!so(t[o],e[o],r,n))return!1;var C=MM(t),I=MM(e);return C!==I?!1:C==="Set"||I==="Set"?phe(t,e,r,n):C==="Map"?mhe(t,e,r,n):!0}var ghe=function(e,r,n){return so(e,r,n,fhe())};const vhe=ot(ghe),bhe=(t,e)=>vhe(t,e);var xhe="firebase",_he="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo(xhe,_he,"app");const whe={apiKey:"AIzaSyCa4jaiAOgH5H8B6hSo4DU49WnkpGPeavA",authDomain:"hkmjbs-streaming.firebaseapp.com",databaseURL:"https://hkmjbs-streaming-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"hkmjbs-streaming",storageBucket:"hkmjbs-streaming.appspot.com",messagingSenderId:"537815456325",appId:"1:537815456325:web:c387796326f9db2726a12c"},fO=yW(whe),Ph=xse(fO),f9={database:Ph,get:t=>{const e=Zh(Ph,t);return M8(e).then(r=>{if(r.exists())return r.val()}).catch(r=>{throw console.error(r),r})},set:(t,e)=>{const r=Zh(Ph,t);return Hk(r,e).catch(n=>{throw console.error(n),n})},update:(t,e)=>{const r=Zh(Ph,t);return D8(r,e).catch(n=>{throw console.error(n),n})},push:(t,e)=>{const r=Zh(Ph,t);return $8(r,e).catch(n=>{throw console.error(n),n})}},dO=E.createContext(f9);function She({children:t}){return d.jsx(dO.Provider,{value:f9,children:t})}const d9=()=>E.useContext(dO),Jr=(t,e)=>{const{database:r}=E.useContext(dO),n=E.useMemo(()=>Zh(r,t),[r,t]),[i,o]=E.useState(),[s,a]=E.useState(e),l=E.useCallback(h=>Hk(n,h),[n]),c=E.useCallback(h=>D8(n,h),[n]),u=E.useCallback(h=>$8(n,h),[n]);return E.useEffect(()=>{bhe(e,s)||a(e)},[s,e]),E.useEffect(()=>{const h=[];s!=null&&s.order&&s.order.byChild&&h.push(cse(s.order.byChild)),s!=null&&s.filter&&(typeof s.filter.equalTo<"u"&&h.push(fse(s.filter.equalTo)),typeof s.filter.limitToLast<"u"&&h.push(ase(s.filter.limitToLast)));const p=h.length>0?dse(n,...h):n;s!=null&&s.onlyOnce?M8(p).then(m=>{m.exists()&&o(m.val())}):nse(p,m=>{o(m.val())},s??{})},[s,n]),{data:E.useMemo(()=>i,[i]),set:l,update:c,push:u}};var yg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ed=typeof window>"u"||"Deno"in window;function gi(){}function Ehe(t,e){return typeof t=="function"?t(e):t}function GT(t){return typeof t=="number"&&t>=0&&t!==1/0}function h9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function HM(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(n){if(e.queryHash!==hO(s,e.options))return!1}else if(!Em(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||o&&!o(e))}function KM(t,e){const{exact:r,status:n,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Sm(e.options.mutationKey)!==Sm(o))return!1}else if(!Em(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function hO(t,e){return((e==null?void 0:e.queryKeyHashFn)||Sm)(t)}function Sm(t){return JSON.stringify(t,(e,r)=>HT(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Em(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Em(t[r],e[r])):!1}function p9(t,e){if(t===e)return t;const r=YM(t)&&YM(e);if(r||HT(t)&&HT(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),o=i.length,s=r?[]:{};let a=0;for(let l=0;l<o;l++){const c=r?l:i[l];s[c]=p9(t[c],e[c]),s[c]===t[c]&&a++}return n===o&&a===n?t:s}return e}function qT(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function YM(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function HT(t){if(!QM(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!QM(r)||!r.hasOwnProperty("isPrototypeOf"))}function QM(t){return Object.prototype.toString.call(t)==="[object Object]"}function m9(t){return new Promise(e=>{setTimeout(e,t)})}function XM(t){m9(0).then(t)}function KT(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?p9(t,e):e}function Ahe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Che(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Ul,ta,mf,OV,The=(OV=class extends yg{constructor(){super();de(this,Ul,void 0);de(this,ta,void 0);de(this,mf,void 0);oe(this,mf,e=>{if(!ed&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,ta)||this.setEventListener($(this,mf))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ta))==null||e.call(this),oe(this,ta,void 0))}setEventListener(e){var r;oe(this,mf,e),(r=$(this,ta))==null||r.call(this),oe(this,ta,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){$(this,Ul)!==e&&(oe(this,Ul,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof $(this,Ul)=="boolean"?$(this,Ul):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ul=new WeakMap,ta=new WeakMap,mf=new WeakMap,OV),ux=new The,yf,ra,gf,RV,Phe=(RV=class extends yg{constructor(){super();de(this,yf,!0);de(this,ra,void 0);de(this,gf,void 0);oe(this,gf,e=>{if(!ed&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,ra)||this.setEventListener($(this,gf))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ra))==null||e.call(this),oe(this,ra,void 0))}setEventListener(e){var r;oe(this,gf,e),(r=$(this,ra))==null||r.call(this),oe(this,ra,e(this.setOnline.bind(this)))}setOnline(e){$(this,yf)!==e&&(oe(this,yf,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return $(this,yf)}},yf=new WeakMap,ra=new WeakMap,gf=new WeakMap,RV),fx=new Phe;function Ihe(t){return Math.min(1e3*2**t,3e4)}function Vw(t){return(t??"online")==="online"?fx.isOnline():!0}var y9=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qE(t){return t instanceof y9}function g9(t){let e=!1,r=0,n=!1,i,o,s;const a=new Promise((g,b)=>{o=g,s=b}),l=g=>{var b;n||(p(new y9(g)),(b=t.abort)==null||b.call(t))},c=()=>{e=!0},u=()=>{e=!1},f=()=>!ux.isFocused()||t.networkMode!=="always"&&!fx.isOnline(),h=g=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,g),i==null||i(),o(g))},p=g=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,g),i==null||i(),s(g))},m=()=>new Promise(g=>{var b;i=v=>{const x=n||!f();return x&&g(v),x},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;i=void 0,n||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(n)return;let g;try{g=t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{var w;if(n)return;const v=t.retry??(ed?0:3),x=t.retryDelay??Ihe,S=typeof x=="function"?x(r,b):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(e||!_){p(b);return}r++,(w=t.onFail)==null||w.call(t,r,b),m9(S).then(()=>{if(f())return m()}).then(()=>{e?p(b):y()})})};return Vw(t.networkMode)?y():m().then(y),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:c,continueRetry:u}}function Nhe(){let t=[],e=0,r=u=>{u()},n=u=>{u()};const i=u=>{let f;e++;try{f=u()}finally{e--,e||a()}return f},o=u=>{e?t.push(u):XM(()=>{r(u)})},s=u=>(...f)=>{o(()=>{u(...f)})},a=()=>{const u=t;t=[],u.length&&XM(()=>{n(()=>{u.forEach(f=>{r(f)})})})};return{batch:i,batchCalls:s,schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u}}}var Ur=Nhe(),Vl,jV,v9=(jV=class{constructor(){de(this,Vl,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GT(this.gcTime)&&oe(this,Vl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ed?1/0:5*60*1e3))}clearGcTimeout(){$(this,Vl)&&(clearTimeout($(this,Vl)),oe(this,Vl,void 0))}},Vl=new WeakMap,jV),vf,bf,pi,na,mi,gr,$y,Wl,xf,N0,zi,ts,$V,khe=($V=class extends v9{constructor(r){super();de(this,xf);de(this,zi);de(this,vf,void 0);de(this,bf,void 0);de(this,pi,void 0);de(this,na,void 0);de(this,mi,void 0);de(this,gr,void 0);de(this,$y,void 0);de(this,Wl,void 0);oe(this,Wl,!1),oe(this,$y,r.defaultOptions),Oe(this,xf,N0).call(this,r.options),oe(this,gr,[]),oe(this,pi,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,oe(this,vf,r.state||Ohe(this.options)),this.state=$(this,vf),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!$(this,gr).length&&this.state.fetchStatus==="idle"&&$(this,pi).remove(this)}setData(r,n){const i=KT(this.state.data,r,this.options);return Oe(this,zi,ts).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){Oe(this,zi,ts).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i;const n=$(this,na);return(i=$(this,mi))==null||i.cancel(r),n?n.then(gi).catch(gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,vf))}isActive(){return $(this,gr).some(r=>r.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||$(this,gr).some(r=>r.getCurrentResult().isStale)}isStaleByTime(r=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!h9(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=$(this,gr).find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=$(this,mi))==null||n.continue()}onOnline(){var n;const r=$(this,gr).find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=$(this,mi))==null||n.continue()}addObserver(r){$(this,gr).includes(r)||($(this,gr).push(r),this.clearGcTimeout(),$(this,pi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){$(this,gr).includes(r)&&(oe(this,gr,$(this,gr).filter(n=>n!==r)),$(this,gr).length||($(this,mi)&&($(this,Wl)?$(this,mi).cancel({revert:!0}):$(this,mi).cancelRetry()),this.scheduleGc()),$(this,pi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return $(this,gr).length}invalidate(){this.state.isInvalidated||Oe(this,zi,ts).call(this,{type:"invalidate"})}fetch(r,n){var u,f,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,na))return(u=$(this,mi))==null||u.continueRetry(),$(this,na)}if(r&&Oe(this,xf,N0).call(this,r),!this.options.queryFn){const m=$(this,gr).find(y=>y.options.queryFn);m&&Oe(this,xf,N0).call(this,m.options)}const i=new AbortController,o={queryKey:this.queryKey,meta:this.meta},s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(oe(this,Wl,!0),i.signal)})};s(o);const a=()=>this.options.queryFn?(oe(this,Wl,!1),this.options.persister?this.options.persister(this.options.queryFn,o,this):this.options.queryFn(o)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(l),(f=this.options.behavior)==null||f.onFetch(l,this),oe(this,bf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Oe(this,zi,ts).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=m=>{var y,g,b,v;qE(m)&&m.silent||Oe(this,zi,ts).call(this,{type:"error",error:m}),qE(m)||((g=(y=$(this,pi).config).onError)==null||g.call(y,m,this),(v=(b=$(this,pi).config).onSettled)==null||v.call(b,this.state.data,m,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return oe(this,mi,g9({fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var y,g,b,v;if(typeof m>"u"){c(new Error(`${this.queryHash} data is undefined`));return}this.setData(m),(g=(y=$(this,pi).config).onSuccess)==null||g.call(y,m,this),(v=(b=$(this,pi).config).onSettled)==null||v.call(b,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:c,onFail:(m,y)=>{Oe(this,zi,ts).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Oe(this,zi,ts).call(this,{type:"pause"})},onContinue:()=>{Oe(this,zi,ts).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode})),oe(this,na,$(this,mi).promise),$(this,na)}},vf=new WeakMap,bf=new WeakMap,pi=new WeakMap,na=new WeakMap,mi=new WeakMap,gr=new WeakMap,$y=new WeakMap,Wl=new WeakMap,xf=new WeakSet,N0=function(r){this.options={...$(this,$y),...r},this.updateGcTime(this.options.gcTime)},zi=new WeakSet,ts=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:r.meta??null,fetchStatus:Vw(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=r.error;return qE(o)&&o.revert&&$(this,bf)?{...$(this,bf),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),Ur.batch(()=>{$(this,gr).forEach(i=>{i.onQueryUpdate()}),$(this,pi).notify({query:this,type:"updated",action:r})})},$V);function Ohe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var go,DV,Rhe=(DV=class extends yg{constructor(e={}){super();de(this,go,void 0);this.config=e,oe(this,go,new Map)}build(e,r,n){const i=r.queryKey,o=r.queryHash??hO(i,r);let s=this.get(o);return s||(s=new khe({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){$(this,go).has(e.queryHash)||($(this,go).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=$(this,go).get(e.queryHash);r&&(e.destroy(),r===e&&$(this,go).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,go).get(e)}getAll(){return[...$(this,go).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>HM(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>HM(e,n)):r}notify(e){Ur.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},go=new WeakMap,DV),vo,Dy,Gn,_f,bo,Us,MV,jhe=(MV=class extends v9{constructor(r){super();de(this,bo);de(this,vo,void 0);de(this,Dy,void 0);de(this,Gn,void 0);de(this,_f,void 0);this.mutationId=r.mutationId,oe(this,Dy,r.defaultOptions),oe(this,Gn,r.mutationCache),oe(this,vo,[]),this.state=r.state||$he(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options={...$(this,Dy),...r},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){$(this,vo).includes(r)||($(this,vo).push(r),this.clearGcTimeout(),$(this,Gn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){oe(this,vo,$(this,vo).filter(n=>n!==r)),this.scheduleGc(),$(this,Gn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){$(this,vo).length||(this.state.status==="pending"?this.scheduleGc():$(this,Gn).remove(this))}continue(){var r;return((r=$(this,_f))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var o,s,a,l,c,u,f,h,p,m,y,g,b,v,x,S,_,w,A,C;const n=()=>(oe(this,_f,g9({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(I,T)=>{Oe(this,bo,Us).call(this,{type:"failed",failureCount:I,error:T})},onPause:()=>{Oe(this,bo,Us).call(this,{type:"pause"})},onContinue:()=>{Oe(this,bo,Us).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),$(this,_f).promise),i=this.state.status==="pending";try{if(!i){Oe(this,bo,Us).call(this,{type:"pending",variables:r}),await((s=(o=$(this,Gn).config).onMutate)==null?void 0:s.call(o,r,this));const T=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,r));T!==this.state.context&&Oe(this,bo,Us).call(this,{type:"pending",context:T,variables:r})}const I=await n();return await((u=(c=$(this,Gn).config).onSuccess)==null?void 0:u.call(c,I,r,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,I,r,this.state.context)),await((m=(p=$(this,Gn).config).onSettled)==null?void 0:m.call(p,I,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,I,null,r,this.state.context)),Oe(this,bo,Us).call(this,{type:"success",data:I}),I}catch(I){try{throw await((v=(b=$(this,Gn).config).onError)==null?void 0:v.call(b,I,r,this.state.context,this)),await((S=(x=this.options).onError)==null?void 0:S.call(x,I,r,this.state.context)),await((w=(_=$(this,Gn).config).onSettled)==null?void 0:w.call(_,void 0,I,this.state.variables,this.state.context,this)),await((C=(A=this.options).onSettled)==null?void 0:C.call(A,void 0,I,r,this.state.context)),I}finally{Oe(this,bo,Us).call(this,{type:"error",error:I})}}}},vo=new WeakMap,Dy=new WeakMap,Gn=new WeakMap,_f=new WeakMap,bo=new WeakSet,Us=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Vw(this.options.networkMode),status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ur.batch(()=>{$(this,vo).forEach(i=>{i.onMutationUpdate(r)}),$(this,Gn).notify({mutation:this,type:"updated",action:r})})},MV);function $he(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yi,My,zl,FV,Dhe=(FV=class extends yg{constructor(e={}){super();de(this,yi,void 0);de(this,My,void 0);de(this,zl,void 0);this.config=e,oe(this,yi,[]),oe(this,My,0)}build(e,r,n){const i=new jhe({mutationCache:this,mutationId:++ev(this,My)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){$(this,yi).push(e),this.notify({type:"added",mutation:e})}remove(e){oe(this,yi,$(this,yi).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){Ur.batch(()=>{$(this,yi).forEach(e=>{this.remove(e)})})}getAll(){return $(this,yi)}find(e){const r={exact:!0,...e};return $(this,yi).find(n=>KM(r,n))}findAll(e={}){return $(this,yi).filter(r=>KM(e,r))}notify(e){Ur.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return oe(this,zl,($(this,zl)??Promise.resolve()).then(()=>{const e=$(this,yi).filter(r=>r.state.isPaused);return Ur.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(gi)),Promise.resolve()))}).then(()=>{oe(this,zl,void 0)})),$(this,zl)}},yi=new WeakMap,My=new WeakMap,zl=new WeakMap,FV);function Mhe(t){return{onFetch:(e,r)=>{const n=async()=>{var m,y,g,b,v;const i=e.options,o=(g=(y=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:y.fetchMore)==null?void 0:g.direction,s=((b=e.state.data)==null?void 0:b.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},f=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),h=async(x,S,_)=>{if(c)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const w={queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};u(w);const A=await f(w),{maxPages:C}=e.options,I=_?Che:Ahe;return{pages:I(x.pages,A,C),pageParams:I(x.pageParams,S,C)}};let p;if(o&&s.length){const x=o==="backward",S=x?Fhe:JM,_={pages:s,pageParams:a},w=S(i,_);p=await h(_,w,x)}else{p=await h(l,a[0]??i.initialPageParam);const x=t??s.length;for(let S=1;S<x;S++){const _=JM(i,p);p=await h(p,_)}}return p};e.options.persister?e.fetchFn=()=>{var i,o;return(o=(i=e.options).persister)==null?void 0:o.call(i,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function JM(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function Fhe(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}var sr,ia,oa,wf,Sf,sa,Ef,Af,LV,Lhe=(LV=class{constructor(t={}){de(this,sr,void 0);de(this,ia,void 0);de(this,oa,void 0);de(this,wf,void 0);de(this,Sf,void 0);de(this,sa,void 0);de(this,Ef,void 0);de(this,Af,void 0);oe(this,sr,t.queryCache||new Rhe),oe(this,ia,t.mutationCache||new Dhe),oe(this,oa,t.defaultOptions||{}),oe(this,wf,new Map),oe(this,Sf,new Map),oe(this,sa,0)}mount(){ev(this,sa)._++,$(this,sa)===1&&(oe(this,Ef,ux.subscribe(()=>{ux.isFocused()&&(this.resumePausedMutations(),$(this,sr).onFocus())})),oe(this,Af,fx.subscribe(()=>{fx.isOnline()&&(this.resumePausedMutations(),$(this,sr).onOnline())})))}unmount(){var t,e;ev(this,sa)._--,$(this,sa)===0&&((t=$(this,Ef))==null||t.call(this),oe(this,Ef,void 0),(e=$(this,Af))==null||e.call(this),oe(this,Af,void 0))}isFetching(t){return $(this,sr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ia).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=$(this,sr).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=$(this,sr).find({queryKey:t}),i=n==null?void 0:n.state.data,o=Ehe(e,i);if(typeof o>"u")return;const s=this.defaultQueryOptions({queryKey:t});return $(this,sr).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Ur.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var e;return(e=$(this,sr).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=$(this,sr);Ur.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=$(this,sr),n={type:"active",...t};return Ur.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Ur.batch(()=>$(this,sr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(gi).catch(gi)}invalidateQueries(t={},e={}){return Ur.batch(()=>{if($(this,sr).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Ur.batch(()=>$(this,sr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(gi)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(gi)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const r=$(this,sr).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gi).catch(gi)}fetchInfiniteQuery(t){return t.behavior=Mhe(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gi).catch(gi)}resumePausedMutations(){return $(this,ia).resumePausedMutations()}getQueryCache(){return $(this,sr)}getMutationCache(){return $(this,ia)}getDefaultOptions(){return $(this,oa)}setDefaultOptions(t){oe(this,oa,t)}setQueryDefaults(t,e){$(this,wf).set(Sm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,wf).values()];let r={};return e.forEach(n=>{Em(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){$(this,Sf).set(Sm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,Sf).values()];let r={};return e.forEach(n=>{Em(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...$(this,oa).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hO(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,oa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,sr).clear(),$(this,ia).clear()}},sr=new WeakMap,ia=new WeakMap,oa=new WeakMap,wf=new WeakMap,Sf=new WeakMap,sa=new WeakMap,Ef=new WeakMap,Af=new WeakMap,LV),kn,xt,Cf,nn,Gl,Tf,xo,Fy,Pf,If,ql,Hl,aa,Kl,Yl,ep,Ly,YT,By,QT,Uy,XT,Vy,JT,Wy,ZT,zy,eP,Gy,tP,rw,b9,BV,Bhe=(BV=class extends yg{constructor(e,r){super();de(this,Yl);de(this,Ly);de(this,By);de(this,Uy);de(this,Vy);de(this,Wy);de(this,zy);de(this,Gy);de(this,rw);de(this,kn,void 0);de(this,xt,void 0);de(this,Cf,void 0);de(this,nn,void 0);de(this,Gl,void 0);de(this,Tf,void 0);de(this,xo,void 0);de(this,Fy,void 0);de(this,Pf,void 0);de(this,If,void 0);de(this,ql,void 0);de(this,Hl,void 0);de(this,aa,void 0);de(this,Kl,void 0);oe(this,xt,void 0),oe(this,Cf,void 0),oe(this,nn,void 0),oe(this,Kl,new Set),oe(this,kn,e),this.options=r,oe(this,xo,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,xt).addObserver(this),ZM($(this,xt),this.options)?Oe(this,Yl,ep).call(this):this.updateResult(),Oe(this,Vy,JT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rP($(this,xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rP($(this,xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,Wy,ZT).call(this),Oe(this,zy,eP).call(this),$(this,xt).removeObserver(this)}setOptions(e,r){const n=this.options,i=$(this,xt);if(this.options=$(this,kn).defaultQueryOptions(e),qT(n,this.options)||$(this,kn).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,xt),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),Oe(this,Gy,tP).call(this);const o=this.hasListeners();o&&eF($(this,xt),i,this.options,n)&&Oe(this,Yl,ep).call(this),this.updateResult(r),o&&($(this,xt)!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&Oe(this,Ly,YT).call(this);const s=Oe(this,By,QT).call(this);o&&($(this,xt)!==i||this.options.enabled!==n.enabled||s!==$(this,aa))&&Oe(this,Uy,XT).call(this,s)}getOptimisticResult(e){const r=$(this,kn).getQueryCache().build($(this,kn),e),n=this.createResult(r,e);return Vhe(this,n)&&(oe(this,nn,n),oe(this,Tf,this.options),oe(this,Gl,$(this,xt).state)),n}getCurrentResult(){return $(this,nn)}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>($(this,Kl).add(n),e[n])})}),r}getCurrentQuery(){return $(this,xt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=$(this,kn).defaultQueryOptions(e),n=$(this,kn).getQueryCache().build($(this,kn),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Oe(this,Yl,ep).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,nn)))}createResult(e,r){var w;const n=$(this,xt),i=this.options,o=$(this,nn),s=$(this,Gl),a=$(this,Tf),c=e!==n?e.state:$(this,Cf),{state:u}=e;let{error:f,errorUpdatedAt:h,fetchStatus:p,status:m}=u,y=!1,g;if(r._optimisticResults){const A=this.hasListeners(),C=!A&&ZM(e,r),I=A&&eF(e,n,r,i);(C||I)&&(p=Vw(e.options.networkMode)?"fetching":"paused",u.dataUpdatedAt||(m="pending")),r._optimisticResults==="isRestoring"&&(p="idle")}if(r.select&&typeof u.data<"u")if(o&&u.data===(s==null?void 0:s.data)&&r.select===$(this,Fy))g=$(this,Pf);else try{oe(this,Fy,r.select),g=r.select(u.data),g=KT(o==null?void 0:o.data,g,r),oe(this,Pf,g),oe(this,xo,null)}catch(A){oe(this,xo,A)}else g=u.data;if(typeof r.placeholderData<"u"&&typeof g>"u"&&m==="pending"){let A;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))A=o.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((w=$(this,If))==null?void 0:w.state.data,$(this,If)):r.placeholderData,r.select&&typeof A<"u")try{A=r.select(A),oe(this,xo,null)}catch(C){oe(this,xo,C)}typeof A<"u"&&(m="success",g=KT(o==null?void 0:o.data,A,r),y=!0)}$(this,xo)&&(f=$(this,xo),g=$(this,Pf),h=Date.now(),m="error");const b=p==="fetching",v=m==="pending",x=m==="error",S=v&&b;return{status:m,fetchStatus:p,isPending:v,isSuccess:m==="success",isError:x,isInitialLoading:S,isLoading:S,data:g,dataUpdatedAt:u.dataUpdatedAt,error:f,errorUpdatedAt:h,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:x&&u.dataUpdatedAt===0,isPaused:p==="paused",isPlaceholderData:y,isRefetchError:x&&u.dataUpdatedAt!==0,isStale:pO(e,r),refetch:this.refetch}}updateResult(e){const r=$(this,nn),n=this.createResult($(this,xt),this.options);if(oe(this,Gl,$(this,xt).state),oe(this,Tf,this.options),$(this,Gl).data!==void 0&&oe(this,If,$(this,xt)),qT(n,r))return;oe(this,nn,n);const i={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!$(this,Kl).size)return!0;const l=new Set(a??$(this,Kl));return this.options.throwOnError&&l.add("error"),Object.keys($(this,nn)).some(c=>{const u=c;return $(this,nn)[u]!==r[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&o()&&(i.listeners=!0),Oe(this,rw,b9).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,Vy,JT).call(this)}},kn=new WeakMap,xt=new WeakMap,Cf=new WeakMap,nn=new WeakMap,Gl=new WeakMap,Tf=new WeakMap,xo=new WeakMap,Fy=new WeakMap,Pf=new WeakMap,If=new WeakMap,ql=new WeakMap,Hl=new WeakMap,aa=new WeakMap,Kl=new WeakMap,Yl=new WeakSet,ep=function(e){Oe(this,Gy,tP).call(this);let r=$(this,xt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(gi)),r},Ly=new WeakSet,YT=function(){if(Oe(this,Wy,ZT).call(this),ed||$(this,nn).isStale||!GT(this.options.staleTime))return;const r=h9($(this,nn).dataUpdatedAt,this.options.staleTime)+1;oe(this,ql,setTimeout(()=>{$(this,nn).isStale||this.updateResult()},r))},By=new WeakSet,QT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,xt)):this.options.refetchInterval)??!1},Uy=new WeakSet,XT=function(e){Oe(this,zy,eP).call(this),oe(this,aa,e),!(ed||this.options.enabled===!1||!GT($(this,aa))||$(this,aa)===0)&&oe(this,Hl,setInterval(()=>{(this.options.refetchIntervalInBackground||ux.isFocused())&&Oe(this,Yl,ep).call(this)},$(this,aa)))},Vy=new WeakSet,JT=function(){Oe(this,Ly,YT).call(this),Oe(this,Uy,XT).call(this,Oe(this,By,QT).call(this))},Wy=new WeakSet,ZT=function(){$(this,ql)&&(clearTimeout($(this,ql)),oe(this,ql,void 0))},zy=new WeakSet,eP=function(){$(this,Hl)&&(clearInterval($(this,Hl)),oe(this,Hl,void 0))},Gy=new WeakSet,tP=function(){const e=$(this,kn).getQueryCache().build($(this,kn),this.options);if(e===$(this,xt))return;const r=$(this,xt);oe(this,xt,e),oe(this,Cf,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},rw=new WeakSet,b9=function(e){Ur.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r($(this,nn))}),$(this,kn).getQueryCache().notify({query:$(this,xt),type:"observerResultsUpdated"})})},BV);function Uhe(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ZM(t,e){return Uhe(t,e)||t.state.dataUpdatedAt>0&&rP(t,e,e.refetchOnMount)}function rP(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&pO(t,e)}return!1}function eF(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&pO(t,r)}function pO(t,e){return t.isStaleByTime(e.staleTime)}function Vhe(t,e){return!qT(t.getCurrentResult(),e)}var x9=E.createContext(void 0),Whe=t=>{const e=E.useContext(x9);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},zhe=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.createElement(x9.Provider,{value:t},e)),_9=E.createContext(!1),Ghe=()=>E.useContext(_9);_9.Provider;function qhe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Hhe=E.createContext(qhe()),Khe=()=>E.useContext(Hhe);function Yhe(t,e){return typeof t=="function"?t(...e):!!t}var Qhe=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Xhe=t=>{E.useEffect(()=>{t.clearReset()},[t])},Jhe=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&Yhe(r,[t.error,n]),Zhe=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},epe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,tpe=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function rpe(t,e,r){const n=Whe(r),i=Ghe(),o=Khe(),s=n.defaultQueryOptions(t);s._optimisticResults=i?"isRestoring":"optimistic",Zhe(s),Qhe(s,o),Xhe(o);const[a]=E.useState(()=>new e(n,s)),l=a.getOptimisticResult(s);if(E.useSyncExternalStore(E.useCallback(c=>{const u=i?()=>{}:a.subscribe(Ur.batchCalls(c));return a.updateResult(),u},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),E.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),epe(s,l))throw a.setOptions(s,{listeners:!1}),tpe(s,a,o);if(Jhe({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:a.getCurrentQuery()}))throw l.error;return s.notifyOnChangeProps?l:a.trackResult(l)}function Ac(t,e){return rpe(t,Bhe,e)}function w9(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=w9(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function npe(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=w9(t))&&(n&&(n+=" "),n+=e);return n}const tF=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,rF=npe,S9=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return rF(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],f=o==null?void 0:o[c];if(u===null)return null;const h=tF(u)||tF(f);return i[c][h]}),a=r&&Object.entries(r).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(m=>{let[y,g]=m;return Array.isArray(g)?g.includes({...o,...a}[y]):{...o,...a}[y]===g})?[...c,f,h]:c},[]);return rF(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},ipe=S9(["font-semibold"],{variants:{variant:{contained:["border","rounded"],text:[],icon:["hover:enabled:bg-opacity-50 leading-4"]},color:{primary:[],secondary:[],success:[],danger:[],inverted:[]},size:{small:["text-sm"],medium:["text-base"],large:["text-md"],xlarge:["text-2xl"]},disabled:{true:["cursor-not-allowed opacity-30"]},loading:{true:["cursor-wait opacity-30"]}},compoundVariants:[{variant:"contained",size:"small",className:"py-1 px-2"},{variant:"contained",size:"medium",className:"py-2 px-4"},{variant:"contained",size:"large",className:"py-2 px-4"},{variant:"contained",size:"xlarge",className:"py-4 px-4"},{color:"primary",variant:"contained",className:"bg-teal-800 text-white border-transparent hover:enabled:bg-teal-700"},{color:"secondary",variant:"contained",className:"bg-white text-gray-800 border-gray-400 hover:enabled:bg-gray-100"},{color:"success",variant:"contained",className:"bg-green-100 text-green-500 border-green-400 hover:enabled:bg-green-200"},{color:"danger",variant:"contained",className:"bg-red-100 text-red-500 border-red-400 hover:enabled:bg-red-200"},{color:"primary",variant:"text",className:"text-teal-800 hover:enabled:text-teal-700"},{color:"secondary",variant:"text",className:"text-gray-800 hover:enabled:text-gray-700"},{color:"success",variant:"text",className:"text-green-800 hover:enabled:text-green-700"},{color:"danger",variant:"text",className:"text-red-800 hover:enabled:text-red-700"},{color:"inverted",variant:"text",className:"text-gray-100 hover:enabled:text-gray-0"},{color:"primary",variant:"icon",className:"text-teal-800 hover:enabled:text-teal-700 hover:enabled:bg-teal-100"},{color:"secondary",variant:"icon",className:"text-gray-800 hover:enabled:text-gray-700 hover:enabled:bg-gray-100"},{color:"success",variant:"icon",className:"text-green-800 hover:enabled:text-green-700 hover:enabled:bg-green-100"},{color:"danger",variant:"icon",className:"text-red-800 hover:enabled:text-red-700 hover:enabled:bg-red-100"},{color:"primary",size:"medium",className:"uppercase"}],defaultVariants:{color:"primary",size:"medium",variant:"contained"}});function De({color:t,size:e,variant:r,className:n,type:i="button",loading:o,...s}){const a=E.useMemo(()=>ipe({color:t,size:e,variant:r,disabled:s.disabled,loading:o,className:n}),[t,e,r,s.disabled,o,n]);return d.jsx("button",{type:i,className:a,disabled:s.disabled||o,...s})}const ope=typeof navigator>"u"?!1:navigator.product==="ReactNative",E9={timeout:ope?6e4:12e4},spe=function(e){const r={...E9,...typeof e=="string"?{url:e}:e},{searchParams:n}=new URL(r.url,"http://localhost");if(r.timeout=A9(r.timeout),r.query){for(const[s,a]of Object.entries(r.query))if(a!==void 0)if(Array.isArray(a))for(const l of a)n.append(s,l);else n.append(s,a)}const[i]=r.url.split("?"),o=n.toString();return o&&(r.url="".concat(i,"?").concat(o)),r.method=r.body&&!r.method?"POST":(r.method||"GET").toUpperCase(),r};function A9(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?A9(E9.timeout):{connect:e,socket:e}}const ape=/^https?:\/\//i,lpe=function(e){if(!ape.test(e.url))throw new Error('"'.concat(e.url,'" is not a valid URL'))};var HE=function(t){return t.replace(/^\s+|\s+$/g,"")},cpe=function(t){return Object.prototype.toString.call(t)==="[object Array]"},upe=function(t){if(!t)return{};for(var e={},r=HE(t).split(`
`),n=0;n<r.length;n++){var i=r[n],o=i.indexOf(":"),s=HE(i.slice(0,o)).toLowerCase(),a=HE(i.slice(o+1));typeof e[s]>"u"?e[s]=a:cpe(e[s])?e[s].push(a):e[s]=[e[s],a]}return e};const fpe=ot(upe),dpe=t=>function(r,n){const i=r==="onError";let o=n;for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];for(let c=0;c<t[r].length;c++){const u=t[r][c];if(o=u(o,...a),i&&!o)break}return o};function hpe(){const t=Object.create(null);let e=0;function r(i){const o=e++;return t[o]=i,function(){delete t[o]}}function n(i){for(const o in t)t[o](i)}return{publish:n,subscribe:r}}const ppe=["request","response","progress","error","abort"],nF=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function C9(t,e){const r=[],n=nF.reduce((o,s)=>(o[s]=o[s]||[],o),{processOptions:[spe],validateOptions:[lpe]});function i(o){const s=(m,y,g)=>{let b=m,v=y;if(!b)try{v=l("onResponse",y,g)}catch(x){v=null,b=x}b=b&&l("onError",b,g),b?a.error.publish(b):v&&a.response.publish(v)},a=ppe.reduce((m,y)=>(m[y]=hpe(),m),{}),l=dpe(n),c=l("processOptions",o);l("validateOptions",c);const u={options:c,channels:a,applyMiddleware:l};let f;const h=a.request.subscribe(m=>{f=e(m,(y,g)=>s(y,g,m))});a.abort.subscribe(()=>{h(),f&&f.abort()});const p=l("onReturn",a,u);return p===a&&a.request.publish(u),p}return i.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return nF.forEach(a=>{s[a]&&n[a].push(s[a])}),r.push(s),i},i.clone=()=>C9(r,e),t.forEach(i.use),i}var T9=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ci=(t,e,r)=>(T9(t,e,"read from private field"),r?r.call(t):e.get(t)),ul=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ms=(t,e,r,n)=>(T9(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),k0,O0,pu,R0,Vs,j0,$0;class P9{constructor(){this.readyState=0,this.responseType="",ul(this,k0,void 0),ul(this,O0,void 0),ul(this,pu,void 0),ul(this,R0,{}),ul(this,Vs,void 0),ul(this,j0,{}),ul(this,$0,void 0)}open(e,r,n){Ms(this,k0,e),Ms(this,O0,r),Ms(this,pu,""),this.readyState=1,this.onreadystatechange(),Ms(this,Vs,void 0)}abort(){ci(this,Vs)&&ci(this,Vs).abort()}getAllResponseHeaders(){return ci(this,pu)}setRequestHeader(e,r){ci(this,R0)[e]=r}setInit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Ms(this,j0,e),Ms(this,$0,r)}send(e){const r=this.responseType!=="arraybuffer",n={...ci(this,j0),method:ci(this,k0),headers:ci(this,R0),body:e};typeof AbortController=="function"&&ci(this,$0)&&(Ms(this,Vs,new AbortController),typeof EventTarget<"u"&&ci(this,Vs).signal instanceof EventTarget&&(n.signal=ci(this,Vs).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(ci(this,O0),n).then(i=>(i.headers.forEach((o,s)=>{Ms(this,pu,ci(this,pu)+"".concat(s,": ").concat(o,`\r
`))}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,r?i.text():i.arrayBuffer())).then(i=>{typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,this.onreadystatechange()}).catch(i=>{var o;if(i.name==="AbortError"){this.onabort();return}(o=this.onerror)==null||o.call(this,i)})}}k0=new WeakMap;O0=new WeakMap;pu=new WeakMap;R0=new WeakMap;Vs=new WeakMap;j0=new WeakMap;$0=new WeakMap;const nP=typeof XMLHttpRequest=="function"?"xhr":"fetch",mpe=nP==="xhr"?XMLHttpRequest:P9,ype=(t,e)=>{var r;const n=t.options,i=t.applyMiddleware("finalizeOptions",n),o={},s=t.applyMiddleware("interceptRequest",void 0,{adapter:nP,context:t});if(s){const S=setTimeout(e,0,null,s);return{abort:()=>clearTimeout(S)}}let a=new mpe;a instanceof P9&&typeof i.fetch=="object"&&a.setInit(i.fetch,(r=i.useAbortSignal)!=null?r:!0);const l=i.headers,c=i.timeout;let u=!1,f=!1,h=!1;if(a.onerror=S=>{b(new Error("Request error while attempting to reach ".concat(i.url).concat(S.lengthComputable?"(".concat(S.loaded," of ").concat(S.total," bytes transferred)"):"")))},a.ontimeout=S=>{b(new Error("Request timeout while attempting to reach ".concat(i.url).concat(S.lengthComputable?"(".concat(S.loaded," of ").concat(S.total," bytes transferred)"):"")))},a.onabort=()=>{g(!0),u=!0},a.onreadystatechange=()=>{y(),!(u||a.readyState!==4)&&a.status!==0&&x()},a.open(i.method,i.url,!0),a.withCredentials=!!i.withCredentials,l&&a.setRequestHeader)for(const S in l)l.hasOwnProperty(S)&&a.setRequestHeader(S,l[S]);return i.rawBody&&(a.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:i,adapter:nP,request:a,context:t}),a.send(i.body||null),c&&(o.connect=setTimeout(()=>m("ETIMEDOUT"),c.connect)),{abort:p};function p(){u=!0,a&&a.abort()}function m(S){h=!0,a.abort();const _=new Error(S==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(i.url):"Connection timed out on request to ".concat(i.url));_.code=S,t.channels.error.publish(_)}function y(){c&&(g(),o.socket=setTimeout(()=>m("ESOCKETTIMEDOUT"),c.socket))}function g(S){(S||u||a.readyState>=2&&o.connect)&&clearTimeout(o.connect),o.socket&&clearTimeout(o.socket)}function b(S){if(f)return;g(!0),f=!0,a=null;const _=S||new Error("Network error while attempting to reach ".concat(i.url));_.isNetworkError=!0,_.request=i,e(_)}function v(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:i.url,method:i.method,headers:fpe(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function x(){if(!(u||f||h)){if(a.status===0){b(new Error("Unknown XHR error"));return}g(),f=!0,e(null,v())}}},gpe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ype;return C9(t,e)};var iF={exports:{}},KE,oF;function vpe(){if(oF)return KE;oF=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,o=n*365.25;KE=function(u,f){f=f||{};var h=typeof u;if(h==="string"&&u.length>0)return s(u);if(h==="number"&&isFinite(u))return f.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(f){var h=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*o;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(u){var f=Math.abs(u);return f>=n?Math.round(u/n)+"d":f>=r?Math.round(u/r)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var f=Math.abs(u);return f>=n?c(u,f,n,"day"):f>=r?c(u,f,r,"hour"):f>=e?c(u,f,e,"minute"):f>=t?c(u,f,t,"second"):u+" ms"}function c(u,f,h,p){var m=f>=h*1.5;return Math.round(u/h)+" "+p+(m?"s":"")}return KE}function bpe(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=s,r.humanize=vpe(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let f=0;for(let h=0;h<u.length;h++)f=(f<<5)-f+u.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(u){let f,h=null,p,m;function y(...g){if(!y.enabled)return;const b=y,v=Number(new Date),x=v-(f||v);b.diff=x,b.prev=f,b.curr=v,f=v,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let S=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(w,A)=>{if(w==="%%")return"%";S++;const C=r.formatters[A];if(typeof C=="function"){const I=g[S];w=C.call(b,I),g.splice(S,1),S--}return w}),r.formatArgs.call(b,g),(b.log||r.log).apply(b,g)}return y.namespace=u,y.useColors=r.useColors(),y.color=r.selectColor(u),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,m=r.enabled(u)),m),set:g=>{h=g}}),typeof r.init=="function"&&r.init(y),y}function n(u,f){const h=r(this.namespace+(typeof f>"u"?":":f)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let f;const h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length;for(f=0;f<p;f++)h[f]&&(u=h[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){const u=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(u))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var xpe=bpe;(function(t,e){e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,f=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(f=u))}),l.splice(f,0,c)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function s(){try{return localStorage}catch{}}t.exports=xpe(e);const{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(iF,iF.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function sF(t){return Object.prototype.toString.call(t)==="[object Object]"}function _pe(t){var e,r;return sF(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(sF(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}const wpe=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t),Spe=["boolean","string","number"];function Epe(){return{processOptions:t=>{const e=t.body;return!e||!(!(typeof e.pipe=="function")&&!wpe(e)&&(Spe.indexOf(typeof e)!==-1||Array.isArray(e)||_pe(e)))?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function Ape(t){return{onResponse:r=>{const n=r.headers["content-type"]||"",i=t&&t.force||n.indexOf("application/json")!==-1;return!r.body||!n||!i?r:Object.assign({},r,{body:e(r.body)})},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(n){throw n.message="Failed to parsed response body as JSON: ".concat(n.message),n}}}let tp={};typeof globalThis<"u"?tp=globalThis:typeof window<"u"?tp=window:typeof global<"u"?tp=global:typeof self<"u"&&(tp=self);var Cpe=tp;function Tpe(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Cpe.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e(i=>(r.error.subscribe(o=>i.error(o)),r.progress.subscribe(o=>i.next(Object.assign({type:"progress"},o))),r.response.subscribe(o=>{i.next(Object.assign({type:"response"},o)),i.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function Ppe(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,r=t.context;"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"));function n(i){return o=>{const s=o.lengthComputable?o.loaded/o.total*100:-1;r.channels.progress.publish({stage:i,percent:s,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}}}}class Ipe{constructor(e){this.__CANCEL__=!0,this.message=e}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const aF=class{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r=null;this.promise=new Promise(n=>{r=n}),e(n=>{this.reason||(this.reason=new Ipe(n),r(this.reason))})}};aF.source=()=>{let t;return{token:new aF(r=>{t=r}),cancel:t}};var I9=(t,e,r)=>r.method!=="GET"&&r.method!=="HEAD"?!1:t.isNetworkError||!1;const Npe=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";var kpe=t=>{const e=t.maxRetries||5,r=t.retryDelay||Ope,n=t.shouldRetry;return{onError:(i,o)=>{const s=o.options,a=s.maxRetries||e,l=s.shouldRetry||n,c=s.attemptNumber||0;if(Npe(s.body)||!l(i,c,s)||c>=a)return i;const u=Object.assign({},o,{options:Object.assign({},s,{attemptNumber:c+1})});return setTimeout(()=>o.channels.request.publish(u),r(c)),null}}};function Ope(t){return 100*Math.pow(2,t)+Math.random()*100}const mO=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return kpe({shouldRetry:I9,...t})};mO.shouldRetry=I9;var iP=function(t,e){return iP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iP(t,e)};function yO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iP(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dx=function(){return dx=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},dx.apply(this,arguments)};function lF(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hx(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function px(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Lo(t){return typeof t=="function"}function N9(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var YE=N9(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function cF(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var gO=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=lF(s),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else s.remove(this);var u=this.initialTeardown;if(Lo(u))try{u()}catch(y){o=y instanceof YE?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=lF(f),p=h.next();!p.done;p=h.next()){var m=p.value;try{uF(m)}catch(y){o=o??[],y instanceof YE?o=px(px([],hx(o)),hx(y.errors)):o.push(y)}}}catch(y){n={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}if(o)throw new YE(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)uF(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&cF(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&cF(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();gO.EMPTY;function k9(t){return t instanceof gO||t&&"closed"in t&&Lo(t.remove)&&Lo(t.add)&&Lo(t.unsubscribe)}function uF(t){Lo(t)?t():t.unsubscribe()}var O9={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oP={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=oP.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,px([t,e],hx(r))):setTimeout.apply(void 0,px([t,e],hx(r)))},clearTimeout:function(t){var e=oP.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Rpe(t){oP.setTimeout(function(){throw t})}function fF(){}function jpe(t){t()}var vO=function(t){yO(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,k9(r)&&r.add(n)):n.destination=Fpe,n}return e.create=function(r,n,i){return new sP(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(gO),$pe=Function.prototype.bind;function QE(t,e){return $pe.call(t,e)}var Dpe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){Sv(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){Sv(n)}else Sv(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){Sv(r)}},t}(),sP=function(t){yO(e,t);function e(r,n,i){var o=t.call(this)||this,s;if(Lo(r)||!r)s={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;o&&O9.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return o.unsubscribe()},s={next:r.next&&QE(r.next,a),error:r.error&&QE(r.error,a),complete:r.complete&&QE(r.complete,a)}):s=r}return o.destination=new Dpe(s),o}return e}(vO);function Sv(t){Rpe(t)}function Mpe(t){throw t}var Fpe={closed:!0,next:fF,error:Mpe,complete:fF},Lpe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Bpe(t){return t}function Upe(t){return t.length===0?Bpe:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var Am=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=Wpe(e)?e:new sP(e,r,n);return jpe(function(){var s=i,a=s.operator,l=s.source;o.add(a?a.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=dF(r),new r(function(i,o){var s=new sP({next:function(a){try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[Lpe]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Upe(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=dF(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function dF(t){var e;return(e=t??O9.Promise)!==null&&e!==void 0?e:Promise}function Vpe(t){return t&&Lo(t.next)&&Lo(t.error)&&Lo(t.complete)}function Wpe(t){return t&&t instanceof vO||Vpe(t)&&k9(t)}function zpe(t){return Lo(t==null?void 0:t.lift)}function R9(t){return function(e){if(zpe(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function j9(t,e,r,n,i){return new Gpe(t,e,r,n,i)}var Gpe=function(t){yO(e,t);function e(r,n,i,o,s,a){var l=t.call(this,r)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=n?function(c){try{n(c)}catch(u){r.error(u)}}:t.prototype._next,l._error=o?function(c){try{o(c)}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(vO),qpe=N9(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function Er(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=!1,s;t.subscribe({next:function(a){s=a,o=!0},error:i,complete:function(){o?n(s):r?n(e.defaultValue):i(new qpe)}})})}function Cc(t,e){return R9(function(r,n){var i=0;r.subscribe(j9(n,function(o){n.next(t.call(e,o,i++))}))})}function gg(t,e){return R9(function(r,n){var i=0;r.subscribe(j9(n,function(o){return t.call(e,o,i++)&&n.next(o)}))})}const XE=5;class Hpe extends Error{constructor(e){const r=$9(e);super(r.message),this.statusCode=400,Object.assign(this,r)}}class Kpe extends Error{constructor(e){const r=$9(e);super(r.message),this.statusCode=500,Object.assign(this,r)}}function $9(t){const e=t.body,r={response:t,statusCode:t.statusCode,responseBody:Xpe(e,t),message:"",details:void 0};if(e.error&&e.message)return r.message="".concat(e.error," - ").concat(e.message),r;if(Ype(e)){const n=e.error.items||[],i=n.slice(0,XE).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let o=i.length?`:
- `.concat(i.join(`
- `)):"";return n.length>XE&&(o+=`
...and `.concat(n.length-XE," more")),r.message="".concat(e.error.description).concat(o),r.details=e.error,r}return e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||Qpe(t),r)}function Ype(t){return hF(t)&&hF(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function hF(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Qpe(t){const e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}function Xpe(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}const Jpe={onResponse:t=>{if(t.statusCode>=500)throw new Kpe(t);if(t.statusCode>=400)throw new Hpe(t);return t}},Zpe={onResponse:t=>{const e=t.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach(n=>console.warn(n)),t}};function pF(t,e){let{maxRetries:r=5,retryDelay:n}=e;const i=gpe([r>0?mO({retryDelay:n,maxRetries:r,shouldRetry:eme}):{},...t,Zpe,Epe(),Ape(),Ppe(),Jpe,Tpe({implementation:Am})]);function o(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:i)({maxRedirects:0,...s})}return o.defaultRequester=i,o}function eme(t,e,r){const n=r.method==="GET"||r.method==="HEAD",o=(r.uri||r.url).startsWith("/data/query"),s=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(n||o)&&s?!0:mO.shouldRetry(t,e,r)}function D9(t){if(typeof t=="string"||Array.isArray(t))return{id:t};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(e))}const mF=["image","file"],yF=["before","after","replace"],M9=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},tme=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},rme=t=>{if(mF.indexOf(t)===-1)throw new Error("Invalid asset type: ".concat(t,". Must be one of ").concat(mF.join(", ")))},Op=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error("".concat(t,"() takes an object of properties"))},F9=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error("".concat(t,'(): "').concat(e,'" is not a valid document ID'))},mx=(t,e)=>{if(!e._id)throw new Error("".concat(t,'() requires that the document contains an ID ("_id" property)'));F9(t,e._id)},nme=(t,e,r)=>{const n="insert(at, selector, items)";if(yF.indexOf(t)===-1){const i=yF.map(o=>'"'.concat(o,'"')).join(", ");throw new Error("".concat(n,' takes an "at"-argument which is one of: ').concat(i))}if(typeof e!="string")throw new Error("".concat(n,' takes a "selector"-argument which must be a string'));if(!Array.isArray(r))throw new Error("".concat(n,' takes an "items"-argument which must be an array'))},L9=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},B9=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t};var U9=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},sf=(t,e,r)=>(U9(t,e,"read from private field"),r?r.call(t):e.get(t)),V9=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},W9=(t,e,r,n)=>(U9(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),mu,yu;class z9{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Op("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,n){return nme(e,r,n),this._assign("insert",{[e]:r,items:n})}append(e,r){return this.insert("after","".concat(e,"[-1]"),r)}prepend(e,r){return this.insert("before","".concat(e,"[0]"),r)}splice(e,r,n,i){const o=typeof n>"u"||n===-1,s=r<0?r-1:r,a=o?-1:Math.max(0,r+n),l=s<0&&a>=0?"":a,c="".concat(e,"[").concat(s,":").concat(l,"]");return this.insert("replace",c,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...D9(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Op(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}}const ime=class G9 extends z9{constructor(e,r,n){super(e,r),V9(this,mu,void 0),W9(this,mu,n)}clone(){return new G9(this.selection,{...this.operations},sf(this,mu))}commit(e){if(!sf(this,mu))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",n=Object.assign({returnFirst:r,returnDocuments:!0},e);return sf(this,mu).mutate({patch:this.serialize()},n)}};mu=new WeakMap;let Rp=ime;const ome=class q9 extends z9{constructor(e,r,n){super(e,r),V9(this,yu,void 0),W9(this,yu,n)}clone(){return new q9(this.selection,{...this.operations},sf(this,yu))}commit(e){if(!sf(this,yu))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",n=Object.assign({returnFirst:r,returnDocuments:!0},e);return sf(this,yu).mutate({patch:this.serialize()},n)}};yu=new WeakMap;let jp=ome;var H9=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},da=(t,e,r)=>(H9(t,e,"read from private field"),r?r.call(t):e.get(t)),K9=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Y9=(t,e,r,n)=>(H9(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),gl,vl;const Q9={returnDocuments:!1};class X9{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;this.operations=e,this.trxId=r}create(e){return Op("create",e),this._add({create:e})}createIfNotExists(e){const r="createIfNotExists";return Op(r,e),mx(r,e),this._add({[r]:e})}createOrReplace(e){const r="createOrReplace";return Op(r,e),mx(r,e),this._add({[r]:e})}delete(e){return F9("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}const sme=class J9 extends X9{constructor(e,r,n){super(e,n),K9(this,gl,void 0),Y9(this,gl,r)}clone(){return new J9([...this.operations],da(this,gl),this.trxId)}commit(e){if(!da(this,gl))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return da(this,gl).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Q9,e||{}))}patch(e,r){const n=typeof r=="function";if(typeof e!="string"&&e instanceof jp)return this._add({patch:e.serialize()});if(n){const o=r(new jp(e,{},da(this,gl)));if(!(o instanceof jp))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:e,...r}})}};gl=new WeakMap;let Z9=sme;const ame=class eG extends X9{constructor(e,r,n){super(e,n),K9(this,vl,void 0),Y9(this,vl,r)}clone(){return new eG([...this.operations],da(this,vl),this.trxId)}commit(e){if(!da(this,vl))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return da(this,vl).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Q9,e||{}))}patch(e,r){const n=typeof r=="function";if(typeof e!="string"&&e instanceof Rp)return this._add({patch:e.serialize()});if(n){const o=r(new Rp(e,{},da(this,vl)));if(!(o instanceof Rp))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:e,...r}})}};vl=new WeakMap;let tG=ame;const lme="https://www.sanity.io/help/";function bO(t){return lme+t}function cme(t){let e=!1,r;return function(){return e||(r=t(...arguments),e=!0),r}}const Ww=t=>cme(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return console.warn(t.join(" "),...r)}),ume=Ww(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),fme=Ww(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),dme=Ww(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(bO("js-client-browser-token")," for more information and how to hide this warning.")]),hme=Ww(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(bO("js-client-api-version"))]),pme="apicdn.sanity.io",yx={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},mme=["localhost","127.0.0.1","0.0.0.0"],yme=t=>mme.indexOf(t)!==-1,gme=function(e){if(e==="1"||e==="X")return;const r=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&r instanceof Date&&r.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},rG=function(e){switch(e){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},nG=(t,e)=>{const r=Object.assign({},e,t);r.apiVersion||hme();const n=Object.assign({},yx,r),i=n.useProjectHostname;if(typeof Promise>"u"){const f=bO("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(i&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(typeof n.perspective=="string"&&rG(n.perspective),"encodeSourceMapAtPath"in n||"encodeSourceMap"in n||"studioUrl"in n||"logger"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in n&&n.stega!==void 0&&n.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.");const o=typeof window<"u"&&window.location&&window.location.hostname,s=o&&yme(window.location.hostname);o&&s&&n.token&&n.ignoreBrowserTokenWarning!==!0?dme():typeof n.useCdn>"u"&&ume(),i&&tme(n.projectId),n.dataset&&M9(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?B9(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion="".concat(n.apiVersion).replace(/^v/,""),n.isDefaultApi=n.apiHost===yx.apiHost,n.useCdn=n.useCdn!==!1&&!n.withCredentials,gme(n.apiVersion);const a=n.apiHost.split("://",2),l=a[0],c=a[1],u=n.isDefaultApi?pme:c;return n.useProjectHostname?(n.url="".concat(l,"://").concat(n.projectId,".").concat(c,"/v").concat(n.apiVersion),n.cdnUrl="".concat(l,"://").concat(n.projectId,".").concat(u,"/v").concat(n.apiVersion)):(n.url="".concat(n.apiHost,"/v").concat(n.apiVersion),n.cdnUrl=n.url),n},vme="X-Sanity-Project-ID";function bme(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={},n=e.token||t.token;n&&(r.Authorization="Bearer ".concat(n)),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[vme]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.token||t.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const iG=t=>{let{query:e,params:r={},options:n={}}=t;const i=new URLSearchParams,{tag:o,...s}=n;o&&i.append("tag",o),i.append("query",e);for(const[a,l]of Object.entries(r))i.append("$".concat(a),JSON.stringify(l));for(const[a,l]of Object.entries(s))l&&i.append(a,"".concat(l));return"?".concat(i)},xme=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,_me=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:t.dryRun,returnIds:!0,returnDocuments:xme(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}},xO=t=>t.type==="response",wme=t=>t.body,Sme=(t,e)=>t.reduce((r,n)=>(r[e(n)]=n,r),Object.create(null)),Eme=11264;function oG(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const o=i.filterResponse===!1?u=>u:u=>u.result,{cache:s,next:a,...l}={useAbortSignal:typeof i.signal<"u",...i},c=typeof s<"u"||typeof a<"u"?{...l,fetch:{cache:s,next:a}}:l;return vg(t,e,"query",{query:r,params:n},c).pipe(Cc(o))}function sG(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={uri:Ud(t,"doc",r),json:!0,tag:n.tag};return bg(t,e,i).pipe(gg(xO),Cc(o=>o.body.documents&&o.body.documents[0]))}function aG(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={uri:Ud(t,"doc",r.join(",")),json:!0,tag:n.tag};return bg(t,e,i).pipe(gg(xO),Cc(o=>{const s=Sme(o.body.documents||[],a=>a._id);return r.map(a=>s[a]||null)}))}function lG(t,e,r,n){return mx("createIfNotExists",r),zw(t,e,r,"createIfNotExists",n)}function cG(t,e,r,n){return mx("createOrReplace",r),zw(t,e,r,"createOrReplace",n)}function uG(t,e,r,n){return vg(t,e,"mutate",{mutations:[{delete:D9(r)}]},n)}function fG(t,e,r,n){let i;r instanceof jp||r instanceof Rp?i={patch:r.serialize()}:r instanceof Z9||r instanceof tG?i=r.serialize():i=r;const o=Array.isArray(i)?i:[i],s=n&&n.transactionId||void 0;return vg(t,e,"mutate",{mutations:o,transactionId:s},n)}function vg(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const o=r==="mutate",s=r==="query",a=o?"":iG(n),l=!o&&a.length<Eme,c=l?a:"",u=i.returnFirst,{timeout:f,token:h,tag:p,headers:m}=i,y=Ud(t,r,c),g={method:l?"GET":"POST",uri:y,json:!0,body:l?void 0:n,query:o&&_me(i),timeout:f,headers:m,token:h,tag:p,perspective:i.perspective,resultSourceMap:i.resultSourceMap,canUseCdn:s,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal};return bg(t,e,g).pipe(gg(xO),Cc(wme),Cc(b=>{if(!o)return b;const v=b.results||[];if(i.returnDocuments)return u?v[0]&&v[0].document:v.map(_=>_.document);const x=u?"documentId":"documentIds",S=u?v[0]&&v[0].id:v.map(_=>_.id);return{transactionId:b.transactionId,results:v,[x]:S}}))}function zw(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const o={[n]:r},s=Object.assign({returnFirst:!0,returnDocuments:!0},i);return vg(t,e,"mutate",{mutations:[o]},s)}function bg(t,e,r){var n;const i=r.url||r.uri,o=t.config(),s=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&i.indexOf("/data/")===0:r.canUseCdn;let a=o.useCdn&&s;const l=r.tag&&o.requestTagPrefix?[o.requestTagPrefix,r.tag].join("."):r.tag||o.requestTagPrefix;if(l&&r.tag!==null&&(r.query={tag:B9(l),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&i.indexOf("/data/query/")===0){const f=(n=r.resultSourceMap)!=null?n:o.resultSourceMap;f!==void 0&&f!==!1&&(r.query={resultSourceMap:f,...r.query});const h=r.perspective||o.perspective;typeof h=="string"&&h!=="raw"&&(rG(h),r.query={perspective:h,...r.query},h==="previewDrafts"&&a&&(a=!1,fme()))}const c=bme(o,Object.assign({},r,{url:_O(t,i,a)})),u=new Am(f=>e(c,o.requester).subscribe(f));return r.signal?u.pipe(Ame(r.signal)):u}function lo(t,e,r){return bg(t,e,r).pipe(gg(i=>i.type==="response"),Cc(i=>i.body))}function Ud(t,e,r){const n=t.config(),i=L9(n),o="/".concat(e,"/").concat(i),s=r?"".concat(o,"/").concat(r):o;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function _O(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:n,cdnUrl:i}=t.config(),o=r?i:n;return"".concat(o,"/").concat(e.replace(/^\//,""))}function Ame(t){return e=>new Am(r=>{const n=()=>r.error(Tme(t));if(t&&t.aborted){n();return}const i=e.subscribe(r);return t.addEventListener("abort",n),()=>{t.removeEventListener("abort",n),i.unsubscribe()}})}const Cme=!!globalThis.DOMException;function Tme(t){var e,r;if(Cme)return new DOMException((e=t==null?void 0:t.reason)!=null?e:"The operation was aborted.","AbortError");const n=new Error((r=t==null?void 0:t.reason)!=null?r:"The operation was aborted.");return n.name="AbortError",n}var dG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},gx=(t,e,r)=>(dG(t,e,"read from private field"),r?r.call(t):e.get(t)),vx=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},bx=(t,e,r,n)=>(dG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),D0,M0,F0,L0;class Pme{constructor(e,r){vx(this,D0,void 0),vx(this,M0,void 0),bx(this,D0,e),bx(this,M0,r)}upload(e,r,n){return hG(gx(this,D0),gx(this,M0),e,r,n)}}D0=new WeakMap;M0=new WeakMap;class Ime{constructor(e,r){vx(this,F0,void 0),vx(this,L0,void 0),bx(this,F0,e),bx(this,L0,r)}upload(e,r,n){const i=hG(gx(this,F0),gx(this,L0),e,r,n);return Er(i.pipe(gg(o=>o.type==="response"),Cc(o=>o.body.document)))}}F0=new WeakMap;L0=new WeakMap;function hG(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};rme(r);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);const s=L9(t.config()),a=r==="image"?"images":"files",l=Nme(i,n),{tag:c,label:u,title:f,description:h,creditLine:p,filename:m,source:y}=l,g={label:u,title:f,description:h,filename:m,meta:o,creditLine:p};return y&&(g.sourceId=y.id,g.sourceName=y.name,g.sourceUrl=y.url),bg(t,e,{tag:c,method:"POST",timeout:l.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:l.contentType?{"Content-Type":l.contentType}:{},query:g,body:n})}function Nme(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var kme=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((r,n)=>(r[n]=typeof t[n]>"u"?e[n]:t[n],r),{});const Ome=(t,e)=>e.reduce((r,n)=>(typeof t[n]>"u"||(r[n]=t[n]),r),{}),Rme=16e3-1200,jme=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],$me={includeResult:!0};function pG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:n,token:i,withCredentials:o,requestTagPrefix:s}=this.config(),a=r.tag&&s?[s,r.tag].join("."):r.tag,l={...kme(r,$me),tag:a},c=Ome(l,jme),u=iG({query:t,params:e,options:{tag:a,...c}}),f="".concat(n).concat(Ud(this,"listen",u));if(f.length>Rme)return new Am(y=>y.error(new Error("Query too large for listener")));const h=l.events?l.events:["mutation"],p=h.indexOf("reconnect")!==-1,m={};return(i||o)&&(m.withCredentials=!0),i&&(m.headers={Authorization:"Bearer ".concat(i)}),new Am(y=>{let g;I().then(O=>{g=O}).catch(O=>{y.error(O),P()});let b,v=!1;function x(){v||(C(),!v&&g.readyState===g.CLOSED&&(A(),clearTimeout(b),b=setTimeout(T,100)))}function S(O){y.error(Dme(O))}function _(O){const N=mG(O);return N instanceof Error?y.error(N):y.next(N)}function w(){v=!0,A(),y.complete()}function A(){g&&(g.removeEventListener("error",x),g.removeEventListener("channelError",S),g.removeEventListener("disconnect",w),h.forEach(O=>g.removeEventListener(O,_)),g.close())}function C(){p&&y.next({type:"reconnect"})}async function I(){const{default:O}=await iW(()=>import("./browser-a09ef26b.js").then(R=>R.b),[]),N=new O(f,m);return N.addEventListener("error",x),N.addEventListener("channelError",S),N.addEventListener("disconnect",w),h.forEach(R=>N.addEventListener(R,_)),N}function T(){I().then(O=>{g=O}).catch(O=>{y.error(O),P()})}function P(){v=!0,A()}return P})}function mG(t){try{const e=t.data&&JSON.parse(t.data)||{};return Object.assign({type:t.type},e)}catch(e){return e}}function Dme(t){if(t instanceof Error)return t;const e=mG(t);return e instanceof Error?e:new Error(Mme(e))}function Mme(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}var yG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},sn=(t,e,r)=>(yG(t,e,"read from private field"),r?r.call(t):e.get(t)),xx=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},_x=(t,e,r,n)=>(yG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),bl,xl,_l,wl;class Fme{constructor(e,r){xx(this,bl,void 0),xx(this,xl,void 0),_x(this,bl,e),_x(this,xl,r)}create(e,r){return af(sn(this,bl),sn(this,xl),"PUT",e,r)}edit(e,r){return af(sn(this,bl),sn(this,xl),"PATCH",e,r)}delete(e){return af(sn(this,bl),sn(this,xl),"DELETE",e)}list(){return lo(sn(this,bl),sn(this,xl),{uri:"/datasets",tag:null})}}bl=new WeakMap;xl=new WeakMap;class Lme{constructor(e,r){xx(this,_l,void 0),xx(this,wl,void 0),_x(this,_l,e),_x(this,wl,r)}create(e,r){return Er(af(sn(this,_l),sn(this,wl),"PUT",e,r))}edit(e,r){return Er(af(sn(this,_l),sn(this,wl),"PATCH",e,r))}delete(e){return Er(af(sn(this,_l),sn(this,wl),"DELETE",e))}list(){return Er(lo(sn(this,_l),sn(this,wl),{uri:"/datasets",tag:null}))}}_l=new WeakMap;wl=new WeakMap;function af(t,e,r,n,i){return M9(n),lo(t,e,{method:r,uri:"/datasets/".concat(n),body:i,tag:null})}var gG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ha=(t,e,r)=>(gG(t,e,"read from private field"),r?r.call(t):e.get(t)),wx=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Sx=(t,e,r,n)=>(gG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),rp,np,ip,op;class Bme{constructor(e,r){wx(this,rp,void 0),wx(this,np,void 0),Sx(this,rp,e),Sx(this,np,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return lo(ha(this,rp),ha(this,np),{uri:r})}getById(e){return lo(ha(this,rp),ha(this,np),{uri:"/projects/".concat(e)})}}rp=new WeakMap;np=new WeakMap;class Ume{constructor(e,r){wx(this,ip,void 0),wx(this,op,void 0),Sx(this,ip,e),Sx(this,op,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Er(lo(ha(this,ip),ha(this,op),{uri:r}))}getById(e){return Er(lo(ha(this,ip),ha(this,op),{uri:"/projects/".concat(e)}))}}ip=new WeakMap;op=new WeakMap;var vG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ex=(t,e,r)=>(vG(t,e,"read from private field"),r?r.call(t):e.get(t)),Ax=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Cx=(t,e,r,n)=>(vG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),B0,U0,V0,W0;class Vme{constructor(e,r){Ax(this,B0,void 0),Ax(this,U0,void 0),Cx(this,B0,e),Cx(this,U0,r)}getById(e){return lo(Ex(this,B0),Ex(this,U0),{uri:"/users/".concat(e)})}}B0=new WeakMap;U0=new WeakMap;class Wme{constructor(e,r){Ax(this,V0,void 0),Ax(this,W0,void 0),Cx(this,V0,e),Cx(this,W0,r)}getById(e){return Er(lo(Ex(this,V0),Ex(this,W0),{uri:"/users/".concat(e)}))}}V0=new WeakMap;W0=new WeakMap;var bG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ne=(t,e,r)=>(bG(t,e,"read from private field"),r?r.call(t):e.get(t)),Tx=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Px=(t,e,r,n)=>(bG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Sl,yr,El,ir;const zme=class aP{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yx;Tx(this,Sl,void 0),Tx(this,yr,void 0),this.listen=pG,this.config(r),Px(this,yr,e),this.assets=new Pme(this,Ne(this,yr)),this.datasets=new Fme(this,Ne(this,yr)),this.projects=new Bme(this,Ne(this,yr)),this.users=new Vme(this,Ne(this,yr))}clone(){return new aP(Ne(this,yr),this.config())}config(e){if(e===void 0)return{...Ne(this,Sl)};if(Ne(this,Sl)&&Ne(this,Sl).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Px(this,Sl,nG(e,Ne(this,Sl)||{})),this}withConfig(e){return new aP(Ne(this,yr),{...this.config(),...e})}fetch(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return oG(this,Ne(this,yr),e,r,n)}getDocument(e,r){return sG(this,Ne(this,yr),e,r)}getDocuments(e,r){return aG(this,Ne(this,yr),e,r)}create(e,r){return zw(this,Ne(this,yr),e,"create",r)}createIfNotExists(e,r){return lG(this,Ne(this,yr),e,r)}createOrReplace(e,r){return cG(this,Ne(this,yr),e,r)}delete(e,r){return uG(this,Ne(this,yr),e,r)}mutate(e,r){return fG(this,Ne(this,yr),e,r)}patch(e,r){return new Rp(e,r,this)}transaction(e){return new tG(e,this)}request(e){return lo(this,Ne(this,yr),e)}getUrl(e,r){return _O(this,e,r)}getDataUrl(e,r){return Ud(this,e,r)}};Sl=new WeakMap;yr=new WeakMap;let Gme=zme;const qme=class lP{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yx;Tx(this,El,void 0),Tx(this,ir,void 0),this.listen=pG,this.config(r),Px(this,ir,e),this.assets=new Ime(this,Ne(this,ir)),this.datasets=new Lme(this,Ne(this,ir)),this.projects=new Ume(this,Ne(this,ir)),this.users=new Wme(this,Ne(this,ir)),this.observable=new Gme(e,r)}clone(){return new lP(Ne(this,ir),this.config())}config(e){if(e===void 0)return{...Ne(this,El)};if(Ne(this,El)&&Ne(this,El).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),Px(this,El,nG(e,Ne(this,El)||{})),this}withConfig(e){return new lP(Ne(this,ir),{...this.config(),...e})}fetch(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Er(oG(this,Ne(this,ir),e,r,n))}getDocument(e,r){return Er(sG(this,Ne(this,ir),e,r))}getDocuments(e,r){return Er(aG(this,Ne(this,ir),e,r))}create(e,r){return Er(zw(this,Ne(this,ir),e,"create",r))}createIfNotExists(e,r){return Er(lG(this,Ne(this,ir),e,r))}createOrReplace(e,r){return Er(cG(this,Ne(this,ir),e,r))}delete(e,r){return Er(uG(this,Ne(this,ir),e,r))}mutate(e,r){return Er(fG(this,Ne(this,ir),e,r))}patch(e,r){return new jp(e,r,this)}transaction(e){return new Z9(e,this)}request(e){return Er(lo(this,Ne(this,ir),e))}dataRequest(e,r,n){return Er(vg(this,Ne(this,ir),e,r,n))}getUrl(e,r){return _O(this,e,r)}getDataUrl(e,r){return Ud(this,e,r)}};El=new WeakMap;ir=new WeakMap;let Hme=qme;function Kme(t,e){return{requester:pF(t,{}).defaultRequester,createClient:o=>new e(pF(t,{maxRetries:o.maxRetries,retryDelay:o.retryDelay}),o)}}var Yme=[];const Qme=Kme(Yme,Hme),Xme=Qme.createClient,wO='_id, name, nickname, designation, "portraitImage": portraitImage.asset->url',Po='_id, "slug": slug.current, name, secondaryName, thirdName, "squareLogoImage": squareLogoImage.asset->url, "color": color.hex, description',pa=`team->{${Po}}, player->{${wO}}, overridedDesignation, overridedName, overridedNickname, "overridedColor": overridedColor.hex, "overridedPortraitImage": overridedPortraitImage.asset->url`,Vd=Xme({projectId:"0a9a4r26",dataset:"production",useCdn:!0,apiVersion:"2023-05-03",token:{}.VITE_DATABASE_API_KEY}),Jme=async(t,e)=>{const r=await Vd.fetch(`*[_type == "teamPlayer" && team._ref in [${t.map(i=>`"${i}"`).join(",")}]] | { "teamId": team._ref, player->{${wO}, "statistics": statistics[_key=="${e}"][0] } }`),n={};for(let i=0;i<r.length;i++){const o=r[i];n[o.teamId]||(n[o.teamId]=[]),n[o.teamId].push(Io(null,o))}return n},Zme=()=>Vd.fetch(`*[_type == "match" && !(_id in path("drafts.**")) && (status == "initialized" || status == "streaming")] | order(startAt asc)[0...10]{ _id, name, playerEast->{${pa}}, playerSouth->{${pa}}, playerWest->{${pa}}, playerNorth->{${pa}}, playerEastTeam->{${Po}}, playerSouthTeam->{${Po}}, playerWestTeam->{${Po}}, playerNorthTeam->{${Po}}, startAt, tournament->{_id, name, "logoUrl": logo.asset->url, startingScore, isManganRoundUp, yakuMax, yakumanMax}}`).then(t=>t.map(e=>{const{playerEast:r,playerEastTeam:n,playerSouth:i,playerSouthTeam:o,playerWest:s,playerWestTeam:a,playerNorth:l,playerNorthTeam:c,...u}=e,f={...u,playerEast:Io(n,r),playerSouth:Io(o,i),playerWest:Io(a,s),playerNorth:Io(c,l),_order:["playerEast","playerSouth","playerWest","playerNorth"]};if(r&&n&&i&&o&&s&&a&&l&&c){const h={[r.team._id]:"playerEast",[i.team._id]:"playerSouth",[s.team._id]:"playerWest",[l.team._id]:"playerNorth"};f._order=[h[n._id],h[o._id],h[a._id],h[c._id]]}return f})),SO=async(t,e)=>{const r=await Vd.fetch(`*[_type == "match" && _id == "${t}"]{ _id, name, playerEast->{${pa}}, playerSouth->{${pa}}, playerWest->{${pa}}, playerNorth->{${pa}}, playerEastTeam->{${Po}}, playerSouthTeam->{${Po}}, playerWestTeam->{${Po}}, playerNorthTeam->{${Po}}, startAt, youtubeUrl, bilibiliUrl, result, rounds, tournament->{_id, name, "logoUrl": logo.asset->url, startingScore, isManganRoundUp, yakuMax, yakumanMax, teams[]{ "_id": team._ref, matchCount, ranking, point }}}`).then(n=>{const{playerEast:i,playerEastTeam:o,playerSouth:s,playerSouthTeam:a,playerWest:l,playerWestTeam:c,playerNorth:u,playerNorthTeam:f,...h}=n[0],p={...h,playerEast:Io(o,i),playerSouth:Io(a,s),playerWest:Io(c,l),playerNorth:Io(f,u),_order:["playerEast","playerSouth","playerWest","playerNorth"]};if(i&&o&&s&&a&&l&&c&&u&&f){const m={[i.team._id]:"playerEast",[s.team._id]:"playerSouth",[l.team._id]:"playerWest",[u.team._id]:"playerNorth"};p._order=[m[o._id],m[a._id],m[c._id],m[f._id]]}return p});if(e){const n=[r.playerEast.playerId,r.playerSouth.playerId,r.playerWest.playerId,r.playerNorth.playerId].filter(i=>i!=="");if(n.length>0){const i=await eye(n,r.tournament._id);r.playerEast.playerStatistic=i[r.playerEast.playerId],r.playerSouth.playerStatistic=i[r.playerSouth.playerId],r.playerWest.playerStatistic=i[r.playerWest.playerId],r.playerNorth.playerStatistic=i[r.playerNorth.playerId]}r.playerEast.teamStatistic=r.tournament.teams.find(({_id:i})=>i===r.playerEast.teamId)||null,r.playerSouth.teamStatistic=r.tournament.teams.find(({_id:i})=>i===r.playerSouth.teamId)||null,r.playerWest.teamStatistic=r.tournament.teams.find(({_id:i})=>i===r.playerWest.teamId)||null,r.playerNorth.teamStatistic=r.tournament.teams.find(({_id:i})=>i===r.playerNorth.teamId)||null}return r},eye=async(t,e)=>Vd.fetch(`*[_type=="player" && _id in [${t.map(r=>`"${r}"`).join(",")}]]{ _id, "statistics": statistics[_key=="${e}"][0] }`).then(r=>r.reduce((n,i)=>{if(!i.statistics||i.statistics.matchCount<=0)return n;const o={point:i.statistics.point,matchCount:i.statistics.matchCount,nonFourthP:1-i.statistics.fourthCount/i.statistics.matchCount,firstAndSecondP:(i.statistics.firstCount+i.statistics.secondCount)/i.statistics.matchCount,riichiP:i.statistics.riichiCount/i.statistics.roundCount,ronP:i.statistics.ronCount/i.statistics.roundCount,chuckP:i.statistics.chuckCount/i.statistics.roundCount,revealP:i.statistics.revealCount/i.statistics.roundCount,ronPureScoreAvg:i.statistics.ronPureScoreAvg,chuckPureScoreAvg:i.statistics.chuckPureScoreAvg};return n[i._id]=o,n},{})),sp=t=>{const e=`${t.playerPortraitImageUrl}?w=360&h=500`,r=`${t.teamLogoImageUrl}?w=500&h=500`,n=`${t.teamLogoImageUrl}?w=1000&h=1000`,i=t.playerDesignation,o=t.playerName,s=t.color;return{name:o,nickname:t.playerNickname,color:s,title:i,teamPicUrl:r,largeTeamPicUrl:n,proPicUrl:e}},Io=(t,e)=>{const r={playerId:"",playerName:"",playerNickname:"",playerDesignation:"",playerPortraitImageUrl:"https://hkleague2024.hkmahjong.org/images/empty.png",playerFullname:"",playerStatistic:null,teamId:"",teamName:"",teamSecondaryName:"",teamThirdName:"",teamFullname:"",teamStatistic:null,color:"#000000",teamLogoImageUrl:"https://hkleague2024.hkmahjong.org/images/empty.png"};if(e){if(e.player){r.playerId=e.player._id,r.playerName=e.player.name,e.player.nickname&&(r.playerNickname=e.player.nickname),e.player.designation&&(r.playerDesignation=e.player.designation),e.player.portraitImage&&(r.playerPortraitImageUrl=e.player.portraitImage);const n=e.player.statistics;r.playerStatistic=n&&n.matchCount>0?{point:n.point,matchCount:n.matchCount,nonFourthP:1-n.fourthCount/n.matchCount,firstAndSecondP:(n.firstCount+n.secondCount)/n.matchCount,riichiP:n.riichiCount/n.roundCount,ronP:n.ronCount/n.roundCount,chuckP:n.chuckCount/n.roundCount,revealP:n.revealCount/n.roundCount,ronPureScoreAvg:n.ronPureScoreAvg,chuckPureScoreAvg:n.chuckPureScoreAvg}:null}e.team&&(r.teamId=e.team._id,r.teamName=e.team.name,r.teamSecondaryName=e.team.secondaryName,r.teamThirdName=e.team.thirdName,r.color=e.team.color,e.team.squareLogoImage&&(r.teamLogoImageUrl=e.team.squareLogoImage)),r.playerFullname=r.playerName+(r.playerNickname?` (${r.playerNickname})`:""),r.teamFullname=[r.teamName,r.teamSecondaryName,r.teamThirdName].filter(n=>!!n).join(" "),r.playerDesignation=r.teamFullname,e.overridedDesignation&&(r.playerDesignation=e.overridedDesignation),e.overridedName&&(r.playerName=e.overridedName),e.overridedNickname&&(r.playerNickname=e.overridedNickname),e.overridedColor&&(r.color=e.overridedColor),e.overridedPortraitImage&&(r.playerPortraitImageUrl=e.overridedPortraitImage)}else t&&(r.teamId=t._id,r.teamName=t.name,r.teamSecondaryName=t.secondaryName,r.teamThirdName=t.thirdName,r.color=t.color,t.squareLogoImage&&(r.teamLogoImageUrl=t.squareLogoImage),r.teamFullname=[r.teamName,r.teamSecondaryName,r.teamThirdName].filter(n=>!!n).join(" "));return r},xG=async t=>await Vd.fetch(`*[_type == "matchTournament" && _id == "${t}"][0]{..., "logoUrl": logo.asset->url, teams[]{..., team->{${Po}}}}`),tye=async t=>await Vd.fetch(`*[_type=="teamPlayer" && !(_id in path("drafts.**")) && defined(player->statistics[_key=="${t}"])]{"teamId": team._ref, player->{${wO}, "statistics": statistics[_key=="${t}"][0]}, overridedDesignation, overridedName, overridedNickname, "overridedColor": overridedColor.hex, "overridedPortraitImage": overridedPortraitImage.asset->url}`);xG("b6908027-9179-485a-8bce-822c42114371");const gF=`body { 
  background-color: rgba(0, 0, 0, 0); 
  color: rgba(0, 0, 0, 0); 
  margin: 0px auto; 
  overflow: hidden; 
}

.body-hidden {
  display: none;
}`;function rye(){const t=E.useCallback(()=>{window.navigator.clipboard.writeText(gF)},[]);return d.jsx("div",{className:"flex items-center justify-center gap-x-8",children:d.jsxs("div",{children:[d.jsx("p",{children:"1. 打開OBS"}),d.jsxs("p",{children:["2. 來源 ","->"," + ","->"," 瀏覽器，然後照下面設定"]}),d.jsxs("p",{children:["- 網址 = ",d.jsx("strong",{children:"上述網址"}),d.jsx("br",{}),"- 寬度 = 1920, 高度 = 1080",d.jsx("br",{})," - 自訂CSS ="," ",d.jsxs("div",{className:"relative bg-gray-700 text-white p-4 rounded",children:[d.jsx("pre",{children:gF}),d.jsx("div",{className:"absolute top-2 right-2",children:d.jsx("button",{type:"button",onClick:t,children:d.jsx("i",{className:"bi bi-copy"})})})]}),d.jsx("br",{}),"其餘默認即可。"]}),d.jsx("p",{children:"4. 確定"})]})})}let nye=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");const ls=(t=12)=>nye(t),iye=()=>{const t=new Date;return`${t.getFullYear()}${t.getMonth()+1}${t.getDate()}`},cP=t=>`https://api.qrserver.com/v1/create-qr-code/?size=512x512&data=${t}`,EO=t=>{let e=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),n=parseInt(t.substring(5,7),16);e=Math.round(e*1.25),r=Math.round(r*1.25),n=Math.round(n*1.25),e=e<255?e:255,r=r<255?r:255,n=n<255?n:255,e=Math.round(e),r=Math.round(r),n=Math.round(n);const i=e.toString(16).length===1?`0${e.toString(16)}`:e.toString(16),o=r.toString(16).length===1?`0${r.toString(16)}`:r.toString(16),s=n.toString(16).length===1?`0${n.toString(16)}`:n.toString(16);return`#${i}${o}${s}`},oye=t=>{switch(t){case"12":return"三倍滿 (12翻)";case"13":return"累計役滿 (13翻)"}return"(未知)"},sye=t=>{switch(t){case"13":return"單倍役滿";case"26":return"雙倍役滿";case"39":return"三倍役滿";case"130":return"無上限"}return"(未知)"},td=t=>typeof t>"u"||t===null?"-":t>=0?`+${t.toFixed(1)}`:`▲${Math.abs(t).toFixed(1)}`,Cm=t=>typeof t>"u"||t===null?"-":t===1||t==="1"?"1st":t===2||t==="2"?"2nd":t===3||t==="3"?"3rd":`${t}th`,Fs=t=>typeof t>"u"||t===null?"-":t.toFixed(2),Ev=t=>t===0?t.toLocaleString("en-US"):t>0?`${Math.floor(t).toLocaleString("en-US")}`:Math.floor(t).toLocaleString("en-US"),Ls=({teamPlayer:t})=>{const e=`${t.playerPortraitImageUrl}?w=64&h=64&fit=crop&crop=top`,r=`${t.teamLogoImageUrl}?w=64&h=64`,n=t.playerDesignation,i=t.playerName,o=t.color;return d.jsxs("div",{className:"flex justify-start items-center gap-x-1 border-l-4 pl-2",style:{borderColor:o},children:[d.jsx("div",{className:"w-8 h-8",children:r&&d.jsx("img",{src:r,alt:n})}),d.jsx("div",{className:"w-8 h-8",children:e&&d.jsx("img",{src:e,alt:i})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm text-neutral-600",children:n}),d.jsx("p",{className:"font-bold",children:i})]})]})};function aye(){const{data:t,refetch:e}=Ac({queryKey:["matches"],queryFn:Zme}),{data:r,set:n}=Jr("obs/1");E.useCallback(o=>{const s=o.currentTarget.getAttribute("data-id");s&&confirm(`請確定上一局對局已經結束才開始新的直播！！
確定要開始直播新的對局嗎？`)&&n({matchId:s})},[n]);const i=E.useMemo(()=>t==null?void 0:t.find(o=>o._id===(r==null?void 0:r.matchId)),[t,r==null?void 0:r.matchId]);return d.jsx("div",{className:"container mx-auto",children:d.jsxs("div",{className:"h-screen flex flex-col py-16 gap-y-12",children:[d.jsx("div",{className:"shrink-0",children:d.jsxs("h1",{className:"text-4xl font-bold text-center",children:[d.jsx("img",{src:"/images/master-logo.jpeg",className:"inline-block w-16",alt:"HKMSCA"})," ",d.jsx("span",{children:"日麻比賽直播系統 (牌藝攻防)"})]})}),d.jsxs("div",{className:"shrink-0 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-x-4",children:[d.jsx("div",{children:d.jsxs("div",{className:"px-8 py-4 bg-green-300 border-2 border-green-600 text-center space-y-4",children:[d.jsx("p",{className:"text-3xl font-bold text-green-900",children:"OBS設定"}),d.jsx("div",{className:"grid grid-cols-3 gap-4",children:d.jsx("a",{href:`${location.origin}/obs/1/weekly-summary`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"一週結算"})}),d.jsxs("div",{className:"bg-white rounded p-4 space-y-4",children:[!i&&d.jsx("p",{className:"text-center",children:"請在下方表格直播一場新的賽事"}),i&&d.jsx("p",{className:"text-center font-bold text-red-500",children:"LIVE 直播中"}),i&&d.jsx("div",{children:d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(Ls,{teamPlayer:i.playerEast}),d.jsx(Ls,{teamPlayer:i.playerSouth}),d.jsx(Ls,{teamPlayer:i.playerWest}),d.jsx(Ls,{teamPlayer:i.playerNorth})]})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("p",{children:"開始前倒數"}),d.jsx("a",{href:`${location.origin}/obs/1/forecast?m=5`,target:"_blank",className:"text-black bg-red-800 bg-opacity-50 p-2 rounded hover:text-black",children:"5分鐘"}),d.jsx("a",{href:`${location.origin}/obs/1/forecast?m=10`,target:"_blank",className:"text-black bg-red-800 bg-opacity-50 p-2 rounded hover:text-black",children:"10分鐘"}),d.jsx("a",{href:`${location.origin}/obs/1/forecast?m=15`,target:"_blank",className:"text-black bg-red-800 bg-opacity-50 p-2 rounded hover:text-black",children:"15分鐘"}),d.jsx("a",{href:`${location.origin}/obs/1/forecast?m=20`,target:"_blank",className:"text-black bg-red-800 bg-opacity-50 p-2 rounded hover:text-black",children:"20分鐘"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsx("a",{href:`${location.origin}/obs/1/introduction`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"賽前介紹"}),d.jsx("a",{href:`${location.origin}/obs/1`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"直播頁面"}),d.jsx("a",{href:`${location.origin}/obs/1/summary`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"賽後結果"})]})]}),d.jsx("div",{className:"grid grid-cols-3 gap-4",children:d.jsx("a",{href:`${location.origin}/obs/1/end`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"今日賽事已完結"})}),d.jsx("div",{className:"text-left",children:d.jsx(rye,{})})]})}),d.jsx("div",{children:d.jsxs("div",{className:"px-8 py-4 bg-blue-300 border-2 border-blue-600 text-center space-y-4",children:[d.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"主播"}),d.jsxs("p",{className:"text-2xl",children:["固定的紀錄頁面：",d.jsxs("a",{href:`${location.origin}/obs/1/stat`,target:"_blank",className:"text-black",children:[location.origin,"/obs/1/stat"]})]}),d.jsxs("p",{className:"text-2xl",children:["固定的Overlay頁面：",d.jsxs("a",{href:`${location.origin}/obs/1/stat`,target:"_blank",className:"text-black",children:[location.origin,"/obs/1/overlay"]})]}),d.jsx("div",{className:"pt-16",children:d.jsx("img",{className:"mx-auto block w-64 h-64",src:cP(`${location.origin}/obs/1/stat`),alt:""})})]})}),d.jsx("div",{children:d.jsxs("div",{className:"px-8 py-4 bg-yellow-300 border-2 border-yellow-600 text-center space-y-4",children:[d.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:"控制台"}),d.jsxs("p",{className:"text-2xl",children:["固定的控制台頁面：",d.jsxs("a",{href:`${location.origin}/obs/1/control`,target:"_blank",className:"text-black",children:[location.origin,"/obs/1/control"]})]}),d.jsx("div",{className:"pt-16",children:d.jsx("img",{className:"mx-auto block w-64 h-64",src:cP(`${location.origin}/obs/1/control`),alt:""})})]})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-right mb-2",children:d.jsxs(De,{color:"secondary",onClick:()=>e(),children:[d.jsx("i",{className:"bi bi-arrow-repeat"})," 刷新"]})}),d.jsxs("table",{className:"data-table w-full text-left",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"對局"}),d.jsx("th",{children:"東"}),d.jsx("th",{children:"南"}),d.jsx("th",{children:"西"}),d.jsx("th",{children:"北"}),d.jsx("th",{className:"text-right",children:"操作"})]})}),d.jsx("tbody",{children:t==null?void 0:t.map(o=>d.jsxs("tr",{children:[d.jsxs("th",{children:[d.jsx("p",{children:o.name}),d.jsx("p",{className:"font-normal text-sm text-neutral-600",children:o.tournament.name})]}),d.jsx("td",{children:d.jsx(Ls,{teamPlayer:o.playerEast})}),d.jsx("td",{children:d.jsx(Ls,{teamPlayer:o.playerSouth})}),d.jsx("td",{children:d.jsx(Ls,{teamPlayer:o.playerWest})}),d.jsx("td",{children:d.jsx(Ls,{teamPlayer:o.playerNorth})}),d.jsxs("td",{className:"space-x-2 text-right",children:[d.jsxs("div",{className:"space-x-2",children:[d.jsxs("a",{href:`https://hkleague2024.hkmahjong.org/api/schedule/${o.startAt.substring(0,10)}/square`,target:"_blank",children:[d.jsx("i",{className:"bi bi-card-image"})," 出Post圖"]}),d.jsxs("a",{href:`https://hkleague2024.hkmahjong.org/api/schedule/${o.startAt.substring(0,10)}/thumbnail`,target:"_blank",children:[d.jsx("i",{className:"bi bi-youtube"})," YT Thumbnail"]}),d.jsxs("a",{href:`/match/${o._id}/nameplates`,target:"_blank",children:[d.jsx("i",{className:"bi bi-person-badge"})," 名牌"]})]}),d.jsxs("div",{className:"space-x-2",children:[d.jsxs("a",{href:`/match/${o._id}/forecast?startAt=${o.name.endsWith("2")?"21":"19"}:30`,target:"_blank",children:[d.jsx("i",{className:"bi bi-bell"})," 倒數"]}),d.jsxs("a",{href:`/match/${o._id}/introduction`,target:"_blank",children:[d.jsx("i",{className:"bi bi-person-vcard"})," 介紹"]}),d.jsxs("a",{href:`/match/${o._id}/summary`,target:"_blank",children:[d.jsx("i",{className:"bi bi-trophy"})," 結果"]}),o._id===(r==null?void 0:r.matchId)?d.jsxs("span",{className:"bg-red-600 px-2 py-1 rounded text-white",children:[d.jsx("i",{className:"bi bi-record-circle"})," LIVE 直播中"]}):d.jsxs("a",{href:`/match/${o._id}/control`,target:"_blank",className:"text-red-600",children:[d.jsx("i",{className:"bi bi-record-circle"})," 直播"]})]})]})]},o._id))})]})]}),d.jsx("div",{children:d.jsx("div",{className:"text-center space-x-4",children:d.jsx("a",{href:"https://hkmjbs.sanity.studio/",target:"_blank",children:d.jsxs(De,{color:"secondary",children:["資料庫 ",d.jsx("i",{className:"bi bi-box-arrow-up-right"})]})})})}),d.jsx("div",{className:"flex gap-x-4"})]})]})})}const lye=t=>{const e={};for(let r=0;r<t.length;r+=1)e[r.toString()]=t[r];return e},vF=t=>{if(t.length!==0)return t[t.length-1]},Xo=t=>{const{data:e,update:r}=Jr(`/matches/${t}`),{data:n,update:i,push:o}=Jr("matchRounds",{order:{byChild:"matchId"},filter:{equalTo:t}}),s=E.useMemo(()=>vF(Object.values(n??{}))??void 0,[n]),a=E.useMemo(()=>Object.values((s==null?void 0:s.doras)??{}),[s]),l=E.useCallback((b,v)=>{const x=n==null?void 0:n[b];x&&i({[b]:{...x,...v}})},[n,i]),c=E.useCallback(b=>{const v=vF(Object.keys(n??{}));v&&i({[v]:{...s,...b}})},[s,n,i]),u=E.useCallback(b=>{c({doras:lye(b)})},[c]),f=E.useCallback(b=>{r({name:b})},[r]),h=E.useCallback(b=>{r({players:b})},[r]),p=E.useCallback(b=>{r({activeResultDetail:b})},[r]),m=E.useCallback(b=>{r({showPoints:b})},[r]),y=E.useCallback(b=>{r({hideHeader:b})},[r]),g=E.useCallback(b=>{i({[b]:{...n==null?void 0:n[b],hasBroadcasted:!0}})},[n,i]);return{match:e,matchRounds:n,matchCurrentRound:s,matchCurrentRoundDoras:a,setMatchName:f,setMatchPlayers:h,setMatchPointDisplay:m,setMatchHideHeaderDisplay:y,setMatchActiveResultDetail:p,setMatchRoundHasBroadcastedToTrue:g,setCurrentRoundDoras:u,updateMatchRoundById:l,updateCurrentMatchRound:c,pushMatchRound:o}};var Qe=(t=>(t[t.Unknown=0]="Unknown",t[t.Exhausted=-1]="Exhausted",t[t.Ron=1]="Ron",t[t.SelfDrawn=2]="SelfDrawn",t[t.Hotfix=-2]="Hotfix",t))(Qe||{}),bt=(t=>(t[t.Unknown=0]="Unknown",t[t.NextRound=1]="NextRound",t[t.Extended=2]="Extended",t[t.NextRoundAndExtended=3]="NextRoundAndExtended",t[t.Hotfix=-2]="Hotfix",t[t.End=-1]="End",t))(bt||{}),yt=(t=>(t[t.Win=1]="Win",t[t.Lose=-1]="Lose",t[t.None=0]="None",t))(yt||{}),$n=(t=>(t[t.East=0]="East",t[t.South=1]="South",t[t.West=2]="West",t[t.North=3]="North",t))($n||{});const JE=[$n.East,$n.South,$n.West,$n.North],bF=["0","1","2","3"],cye=t=>parseInt(t,10),Lc=(t,e)=>JE[(4+cye(t)-(e-1)%JE.length)%JE.length],Xn=(t,e)=>Lc(t,e)===$n.East,_G=(t,e)=>Lc(t,e)===$n.South,wG=(t,e)=>Lc(t,e)===$n.West,SG=(t,e)=>Lc(t,e)===$n.North,EG=t=>t>=1&&t<=4,AG=t=>t>=5&&t<=8,CG=t=>t>=9&&t<=12,TG=t=>t>=13&&t<=16,tu={"1h20f":{ne:200,e:400,ner:1e3,er:1500},"1h25f":{ne:200,e:400,ner:1e3,er:1500},"1h30f":{ne:300,e:500,ner:1e3,er:1500},"1h40f":{ne:400,e:700,ner:1300,er:2e3},"1h50f":{ne:400,e:800,ner:1600,er:2400},"1h60f":{ne:500,e:1e3,ner:2e3,er:2900},"1h70f":{ne:600,e:1200,ner:2300,er:3400},"1h80f":{ne:700,e:1300,ner:2600,er:3900},"1h90f":{ne:800,e:1500,ner:2900,er:4400},"1h100f":{ne:800,e:1600,ner:3200,er:4800},"1h110f":{ne:900,e:1800,ner:3600,er:5300},"2h20f":{ne:400,e:700,ner:1500,er:2100},"2h25f":{ne:400,e:800,ner:1600,er:2400},"2h30f":{ne:500,e:1e3,ner:2e3,er:2900},"2h40f":{ne:700,e:1300,ner:2600,er:3900},"2h50f":{ne:800,e:1600,ner:3200,er:4800},"2h60f":{ne:1e3,e:2e3,ner:3900,er:5800},"2h70f":{ne:1200,e:2300,ner:4500,er:6800},"2h80f":{ne:1300,e:2600,ner:5200,er:7700},"2h90f":{ne:1500,e:2900,ner:5800,er:8700},"2h100f":{ne:1600,e:3200,ner:6400,er:9600},"2h110f":{ne:1800,e:3600,ner:7100,er:10600},"3h20f":{ne:700,e:1300,ner:2600,er:3900},"3h25f":{ne:800,e:1600,ner:3200,er:4800},"3h30f":{ne:1e3,e:2e3,ner:3900,er:5800},"3h40f":{ne:1300,e:2600,ner:5200,er:7700},"3h50f":{ne:1600,e:3200,ner:6400,er:9600},"3h60f":{ne:2e3,e:3900,ner:7700,er:11600},"4h20f":{ne:1300,e:2600,ner:5200,er:7700},"4h25f":{ne:1600,e:3200,ner:6400,er:9600},"4h30f":{ne:2e3,e:3900,ner:7700,er:11600},"5h":{ne:2e3,e:4e3,ner:8e3,er:12e3},"6h":{ne:3e3,e:6e3,ner:12e3,er:18e3},"7h":{ne:3e3,e:6e3,ner:12e3,er:18e3},"8h":{ne:4e3,e:8e3,ner:16e3,er:24e3},"9h":{ne:4e3,e:8e3,ner:16e3,er:24e3},"10h":{ne:4e3,e:8e3,ner:16e3,er:24e3},"11h":{ne:6e3,e:12e3,ner:24e3,er:36e3},"12h":{ne:6e3,e:12e3,ner:24e3,er:36e3}},uye=(t,e,r)=>{let n;const i=parseInt(t,10);if(Number.isNaN(i))throw new Error(`han "${t}" is NaN`);const o=parseInt(e,10);if(Number.isNaN(o))throw new Error(`fu "${e}" is NaN`);return i>=13?n=tu["12h"]:i>=5?n=tu[`${i}h`]:i>=4&&o>=(r!=null&&r.roundUp?30:40)||i>=3&&o>=(r!=null&&r.roundUp?60:70)?n=tu["5h"]:n=tu[`${i}h${o}f`],n||tu["1h30f"]},fye=(t=1)=>({ne:8e3*t,e:16e3*t,ner:32e3*t,er:48e3*t}),xF=(t,e,r,n,i,o)=>{const s=r>0?fye(Math.min(kG((o==null?void 0:o.yakumanMax)??"130"),r)):uye(t,e,o);return n?i?{win:s.er,target:s.er}:{win:s.e*3,all:s.e}:i?{win:s.ner,target:s.ner}:{win:s.e+2*s.ne,east:s.e,others:s.ne}},dye=t=>t.all||t.east?Qe.SelfDrawn:t.target?Qe.Ron:Qe.Unknown,_F=t=>bF[(t-1)%bF.length],hye=t=>({0:{beforeScore:t[0].afterScore,afterScore:t[0].afterScore,isRevealed:!1,isRiichi:!1,isYellowCarded:t[0].isYellowCarded||!1,isRedCarded:t[0].isRedCarded||!1,type:yt.None,scoreChanges:[],prevScoreChanges:t[0].scoreChanges??[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},1:{beforeScore:t[1].afterScore,afterScore:t[1].afterScore,isRevealed:!1,isRiichi:!1,isYellowCarded:t[1].isYellowCarded||!1,isRedCarded:t[1].isRedCarded||!1,type:yt.None,scoreChanges:[],prevScoreChanges:t[1].scoreChanges??[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},2:{beforeScore:t[2].afterScore,afterScore:t[2].afterScore,isRevealed:!1,isRiichi:!1,isYellowCarded:t[2].isYellowCarded||!1,isRedCarded:t[2].isRedCarded||!1,type:yt.None,scoreChanges:[],prevScoreChanges:t[2].scoreChanges??[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},3:{beforeScore:t[3].afterScore,afterScore:t[3].afterScore,isRevealed:!1,isRiichi:!1,isYellowCarded:t[3].isYellowCarded||!1,isRedCarded:t[3].isRedCarded||!1,type:yt.None,scoreChanges:[],prevScoreChanges:t[3].scoreChanges??[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}}}),wF=t=>hye({0:t[0],1:t[1],2:t[2],3:t[3]}),pye=()=>`${iye()}-${ls(6)}`,Ix=(t,e,r)=>`${t}-${e}.${r}`,mye={1:"東 1 局",2:"東 2 局",3:"東 3 局",4:"東 4 局",5:"南 1 局",6:"南 2 局",7:"南 3 局",8:"南 4 局",9:"西 1 局",10:"西 2 局",11:"西 3 局",12:"西 4 局",13:"北 1 局",14:"北 2 局",15:"北 3 局",16:"北 4 局"},yye=(t,e,r=8)=>{try{const n=mye[Math.min(t,r)];if(!n)throw new Error(`Unable to parse round=${t} in MJMatchCounterSpan`);return e&&e!==0?`${n}${e}本場`:n}catch(n){return console.error(n),`${t}.${e??0}`}},PG=t=>{switch(t){case"0":return"3";case"1":return"0";case"2":return"1";case"3":return"2"}},IG=t=>{switch(t){case"0":return"1";case"1":return"2";case"2":return"3";case"3":return"0"}},NG=t=>{switch(t){case"0":return"2";case"1":return"3";case"2":return"0";case"3":return"1"}},kG=t=>{switch(t){case"13":return 1;case"26":return 2;case"39":return 3;case"130":return 10}},gye={[Qe.Ron]:"ron",[Qe.SelfDrawn]:"tsumo",[Qe.Exhausted]:"exhausted",[Qe.Hotfix]:"hotfix",[Qe.Unknown]:"unknown"},vye={[$n.East]:"east",[$n.South]:"south",[$n.West]:"west",[$n.North]:"north"},bye={[yt.None]:"none",[yt.Win]:"win",[yt.Lose]:"lose"},Av=(t,e)=>{var r,n,i,o,s,a,l,c,u;return{position:vye[Lc(e,t.roundCount)],type:bye[t.playerResults[e].type],status:t.playerResults[e].isRiichi||(r=t.playerResults[e].detail)!=null&&r.isRiichied?"isRiichied":t.playerResults[e].isRevealed||(n=t.playerResults[e].detail)!=null&&n.isRevealed?"isRevealed":"none",isWaited:!!t.playerResults[e].waitingTiles&&t.playerResults[e].waitingTiles.length>0,beforeScore:t.playerResults[e].beforeScore,afterScore:t.playerResults[e].afterScore,dora:(i=t.playerResults[e].detail)==null?void 0:i.dora,redDora:(o=t.playerResults[e].detail)==null?void 0:o.redDora,innerDora:(s=t.playerResults[e].detail)==null?void 0:s.innerDora,han:(a=t.playerResults[e].detail)==null?void 0:a.han,fu:(l=t.playerResults[e].detail)==null?void 0:l.fu,yaku:(u=(c=t.playerResults[e].detail)==null?void 0:c.yakus)==null?void 0:u.map(({label:f})=>f).join(" "),pureScore:0}},OG=t=>{const e=t.at(-1),r=[{index:"0",score:e.playerResults[0].afterScore},{index:"1",score:e.playerResults[1].afterScore},{index:"2",score:e.playerResults[2].afterScore},{index:"3",score:e.playerResults[3].afterScore}].sort((s,a)=>s.score===a.score?s.index<a.index?-1:1:a.score-s.score),n={0:(r.findIndex(s=>s.index==="0")+1).toString(),1:(r.findIndex(s=>s.index==="1")+1).toString(),2:(r.findIndex(s=>s.index==="2")+1).toString(),3:(r.findIndex(s=>s.index==="3")+1).toString()},i={1:50,2:10,3:-10,4:-30};return{result:{playerEast:{score:e.playerResults[0].afterScore,ranking:n[0],point:(e.playerResults[0].afterScore-3e4)/1e3+i[n[0]],penalty:e.playerResults[0].isRedCarded?-30:0,penaltyReason:e.playerResults[0].isRedCarded?"紅牌":""},playerSouth:{score:e.playerResults[1].afterScore,ranking:n[1],point:(e.playerResults[1].afterScore-3e4)/1e3+i[n[1]],penalty:e.playerResults[1].isRedCarded?-30:0,penaltyReason:e.playerResults[1].isRedCarded?"紅牌":""},playerWest:{score:e.playerResults[2].afterScore,ranking:n[2],point:(e.playerResults[2].afterScore-3e4)/1e3+i[n[2]],penalty:e.playerResults[2].isRedCarded?-30:0,penaltyReason:e.playerResults[2].isRedCarded?"紅牌":""},playerNorth:{score:e.playerResults[3].afterScore,ranking:n[3],point:(e.playerResults[3].afterScore-3e4)/1e3+i[n[3]],penalty:e.playerResults[3].isRedCarded?-30:0,penaltyReason:e.playerResults[3].isRedCarded?"紅牌":""}},rounds:t.map(s=>({_key:ls(),type:gye[s.resultType],code:`${s.roundCount}.${s.extendedRoundCount}`,playerEast:Av(s,"0"),playerSouth:Av(s,"1"),playerWest:Av(s,"2"),playerNorth:Av(s,"3")}))}};function Mt({signed:t,className:e,positiveClassName:r,negativeClassName:n,value:i,animated:o,hideZero:s,title:a}){const[l,c]=E.useState(i),u=E.useRef(null),f=E.useCallback(m=>m===0?s?"":m.toLocaleString("en-US"):m>0?`${t?"+":""}${Math.floor(m).toLocaleString("en-US")}`:Math.floor(m).toLocaleString("en-US"),[s,t]),h=E.useMemo(()=>f(l),[f,l]),p=E.useMemo(()=>i>0?`${e??""} ${r??""}`:i<0?`${e??""} ${n??""}`:e,[e,n,r,i]);return E.useEffect(()=>{if(l!==i)if(o){for(let g=16;g<1e3;g+=16)setTimeout(()=>{u.current&&(u.current.innerText=Math.floor(l-(l-i)*(g/1e3)).toLocaleString("en-US"))},g);setTimeout(()=>{c(i)},1e3+16)}else c(i)},[o,l,i]),E.useEffect(()=>{u.current&&(u.current.innerText=h)},[h]),d.jsx("span",{title:a,ref:u,className:p})}const SF={"1m":"bg-[left_0%_top_0%]","2m":"bg-[left_10%_top_0%]","3m":"bg-[left_20%_top_0%]","4m":"bg-[left_30%_top_0%]","5m":"bg-[left_40%_top_0%]","6m":"bg-[left_50%_top_0%]","7m":"bg-[left_60%_top_0%]","8m":"bg-[left_70%_top_0%]","9m":"bg-[left_80%_top_0%]","0m":"bg-[left_30%_top_80%]","1p":"bg-[left_0%_top_20%]","2p":"bg-[left_10%_top_20%]","3p":"bg-[left_20%_top_20%]","4p":"bg-[left_30%_top_20%]","5p":"bg-[left_40%_top_20%]","6p":"bg-[left_50%_top_20%]","7p":"bg-[left_60%_top_20%]","8p":"bg-[left_70%_top_20%]","9p":"bg-[left_80%_top_20%]","0p":"bg-[left_40%_top_80%]","1s":"bg-[left_0%_top_40%]","2s":"bg-[left_10%_top_40%]","3s":"bg-[left_20%_top_40%]","4s":"bg-[left_30%_top_40%]","5s":"bg-[left_40%_top_40%]","6s":"bg-[left_50%_top_40%]","7s":"bg-[left_60%_top_40%]","8s":"bg-[left_70%_top_40%]","9s":"bg-[left_80%_top_40%]","0s":"bg-[left_50%_top_80%]","1z":"bg-[left_0%_top_60%]","2z":"bg-[left_10%_top_60%]","3z":"bg-[left_20%_top_60%]","4z":"bg-[left_30%_top_60%]","5z":"bg-[left_40%_top_60%]","6z":"bg-[left_50%_top_60%]","7z":"bg-[left_60%_top_60%]",default:"bg-[left_70%_top_60%]"};function No({className:t,children:e,...r}){const n=E.useMemo(()=>SF[e==null?void 0:e.toString()]??SF.default,[e]);return d.jsx("div",{className:`mahjong-tile ${n} ${t}`,...r})}function Ga({player:t,playerIndex:e,score:r,scoreChanges:n=[],point:i,ranking:o,isEast:s,isRiichi:a,isYellowCarded:l,isRedCarded:c,waitingTiles:u,onClickWaitingTiles:f,showPointAndRanking:h,className:p,...m}){const[y,g]=E.useState(r),[b,v]=E.useState(null),x=E.useMemo(()=>EO(t.color??"#000000"),[t.color]),S=E.useMemo(()=>!!b,[b]);return E.useEffect(()=>{r!==y&&(v(n),setTimeout(()=>{g(r)},2550),setTimeout(()=>{v(null)},3e3))},[r,n,y]),d.jsxs("div",{className:"relative min-w-[5.35em] mx-auto [&_.hide-if-changing]:transition-opacity [&_.hide-if-changing]:data-[score-changing='1']:opacity-0 overflow-visible","data-score-changing":S?"1":"0",children:[d.jsxs("div",{className:"absolute top-[0.05em] bottom-[0.15em] -left-[0.1em] -right-[0.1em] rounded-[0.1em] overflow-hidden -z-50",children:[l&&d.jsx("div",{className:"absolute top-0 left-0 w-[200%] aspect-square animate-[yellowPenaltyAni_8s_ease-in-out_1]"}),c&&d.jsx("div",{className:"absolute top-0 left-0 w-[200%] aspect-square animate-[redPenaltyAni_8s_ease-in-out_1]"})]}),l&&d.jsx("div",{className:"absolute -top-[0.4em] left-0 h-[0.5em] w-[0.37em] bg-[#ffe100] rounded-[0.05em]"}),c&&d.jsx("div",{className:"absolute -top-[0.4em] left-[0.45em] h-[0.5em] w-[0.37em] bg-[#ff1900] rounded-[0.05em]"}),d.jsxs("div",{className:"flex items-end gap-x-[0.1em]",children:[d.jsxs("div",{className:"shrink-0 w-[1.75em] h-full relative -bottom-[0.085em] -left-[0.085em]",children:[d.jsx("div",{className:"absolute w-full h-full bg-[#d1b571] overflow-hidden rounded-[0.1em]",style:{opacity:a?1:0},children:d.jsx("div",{className:"origin-bottom w-[200%] h-[100%] bg-[#d1291d] animate-[riichi_8s_ease-in-out_infinite]"})}),d.jsx("div",{className:"relative z-10 w-full aspect-[90/125] p-[0.085em]",children:d.jsxs("div",{className:"w-full h-full bg-white rounded-[0.08em] overflow-hidden",style:{background:`linear-gradient(180deg, ${t.color}, ${x})`},children:[t.teamPicUrl&&d.jsx("div",{className:"absolute inset-[0.085em] overflow-hidden",children:d.jsx("img",{className:"absolute max-w-[none] h-[2.2em] w-[2.2em] opacity-30 animate-[scrollFromRightToLeft_12s_linear_infinite]",src:t.teamPicUrl,alt:t.name})}),t.proPicUrl&&d.jsx("img",{className:"relative z-10 w-full h-full rounded-[0.08em]",src:t.proPicUrl,alt:t.name}),t.nickname&&d.jsx("div",{className:"absolute bottom-[0.085em] left-[0.085em] right-[0.085em] rounded-b-[0.08em] bg-[linear-gradient(to_top,#00000060,#00000050_70%,transparent)] text-white z-20",children:d.jsx("p",{className:"text-center text-[0.25em] font-semibold pb-[0.25em] pt-[0.5em]",children:t.nickname})})]})})]}),d.jsxs("div",{className:"flex-1 flex flex-col gap-y-[0.125em] items-start justify-end",children:[d.jsxs("div",{className:"bg-black bg-opacity-60 rounded text-[0.5em] flex gap-x-[0.2em] p-[0.1em] pl-[0.2em] pr-[0.2em] opacity-0 transition-opacity data-[has-waiting-tiles='1']:opacity-100 hide-if-changing cursor-pointer","data-has-waiting-tiles":u&&u.length>0||f?"1":"0",onClick:f,"data-player-index":e,children:[d.jsx("div",{className:"flex-1 leading-none min-h-[1.19em] flex flex-wrap gap-[0.15em]",children:u==null?void 0:u.map(_=>d.jsx(No,{className:"inline-block align-bottom w-[0.85em] animate-[fadeInFromLeft_1s_ease-in-out]",children:_},_))}),d.jsx("div",{className:"bg-[#FFFFFF] w-[4px]"}),d.jsxs("div",{className:"text-[#FFFFFF] text-[0.4em] leading-[1.3em] flex items-center",children:["待",d.jsx("br",{}),"牌"]})]}),d.jsxs("div",{className:`relative w-full text-left bg-white px-[0.1em] pb-[0.05em] pt-[0.08em] ${p}`,...m,style:{background:`linear-gradient(260deg, transparent, transparent 22px, ${x} 23px, ${t.color} 100%`,textShadow:"#00000048 2px 2px 3px, #00000048 -2px -2px 3px, #00000048 -2px 2px 3px, #00000048 2px -2px 3px, #00000048 0 0 6px"},children:[d.jsxs("div",{className:"flex flex-col justify-center gap-y-[0.075em] mt-[0.04em]",children:[d.jsx("div",{className:"text-[0.1875em] ml-[0.1em] leading-none text-white hide-if-changing font-semibold whitespace-nowrap",children:t.title||"　"}),d.jsx("div",{className:"text-[0.3125em] ml-[0.1em] leading-none text-white hide-if-changing font-semibold whitespace-nowrap",style:{transformOrigin:"left",transform:(t.name||"").length>=17?"scaleX(0.9)":"scaleX(1)"},children:t.name})]}),b&&d.jsx("div",{className:"absolute bottom-[2.75em] pr-[0.125em] left-0 text-[0.5625em] leading-none animate-[drop_3s_ease-in-out] font-numeric",children:b.map(_=>d.jsx("div",{children:d.jsx(Mt,{signed:!0,value:_,positiveClassName:"text-[#09eb09]",negativeClassName:"text-[#eb0000]"})}))}),d.jsxs("div",{className:"relative mt-[0.12em] mb-[0.03em]",children:[d.jsx("p",{className:"relative text-[0.5625em] flex-1 leading-none text-white font-numeric",style:{transition:"opacity 1s, bottom 1s",opacity:h?0:1,bottom:h?"1em":0},children:d.jsx(Mt,{animated:!0,value:y})}),d.jsxs("p",{className:"absolute left-0 right-[0.25em] text-[0.5625em] flex-1 leading-none text-white font-numeric",style:{transition:"opacity 1s, bottom 1s",opacity:h?1:0,bottom:h?0:"-1em"},children:[td(i),d.jsx("span",{className:"text-[0.8em]",children:"pt"}),d.jsx("span",{className:"absolute right-0 bottom-0 text-[0.75em]",children:Cm(o)})]})]})]})]})]}),d.jsx("div",{className:`mt-[0.2em] h-[0.075em] rounded-full ${s&&"bg-red-500"}`})]})}function cs({roundCount:t,extendedRoundCount:e,max:r=16,...n}){const i=E.useMemo(()=>yye(t,e??0,r),[t,r,e]);return d.jsx("span",{...n,children:i})}cs.defaultProps={extendedRoundCount:0};const Cv=({player:t})=>d.jsxs("div",{className:"border-b-4 pb-1",style:{borderColor:t.color},children:[d.jsx("p",{className:"text-sm text-neutral-600",children:t.title}),d.jsx("p",{className:"font-bold",children:t.name})]});function Tv({value:t}){return d.jsx(Mt,{value:t,positiveClassName:"text-green-600",negativeClassName:"text-red-600",signed:!0,hideZero:!0})}const Pv=({matchRound:t,playerIndex:e})=>d.jsxs("span",{children:[t.playerResults[e].isRiichi&&d.jsx("span",{className:"text-xs",children:"立"}),t.resultType===Qe.Ron&&t.playerResults[e].type===yt.Lose&&d.jsx("span",{className:"text-xs",children:"統"}),t.resultType===Qe.Ron&&t.playerResults[e].type===yt.Win&&d.jsx("span",{className:"text-xs",children:"和"}),t.resultType===Qe.SelfDrawn&&t.playerResults[e].type===yt.Win&&d.jsx("span",{className:"text-xs",children:"摸"}),t.resultType===Qe.Exhausted&&t.playerResults[e].type===yt.Win&&d.jsx("span",{className:"text-xs",children:"聽"})]});function xg({players:t,matchRounds:e,...r}){const n=E.useMemo(()=>Object.entries(e??{}),[e]);return d.jsxs("table",{...r,children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-400 [&>th]:p-2",children:[d.jsx("th",{className:"whitespace-nowrap px-16",children:"局數"}),d.jsx("th",{className:"w-1/4",children:d.jsx(Cv,{player:t[0]})}),d.jsx("th",{className:"w-1/4",children:d.jsx(Cv,{player:t[1]})}),d.jsx("th",{className:"w-1/4",children:d.jsx(Cv,{player:t[2]})}),d.jsx("th",{className:"w-1/4",children:d.jsx(Cv,{player:t[3]})})]})}),d.jsxs("tbody",{children:[n[0]&&d.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[d.jsx("td",{className:"text-center"}),d.jsx("td",{className:"text-center",children:d.jsx(Mt,{value:n[0][1].playerResults[0].beforeScore})}),d.jsx("td",{className:"text-center",children:d.jsx(Mt,{value:n[0][1].playerResults[1].beforeScore})}),d.jsx("td",{className:"text-center",children:d.jsx(Mt,{value:n[0][1].playerResults[2].beforeScore})}),d.jsx("td",{className:"text-center",children:d.jsx(Mt,{value:n[0][1].playerResults[3].beforeScore})})]}),n.map(([i,o])=>o.resultType===Qe.Hotfix?d.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[d.jsx("td",{className:"text-center whitespace-nowrap px-16",children:"手動調整"}),d.jsx("td",{className:"text-center",children:o.playerResults[0].afterScore}),d.jsx("td",{className:"text-center",children:o.playerResults[1].afterScore}),d.jsx("td",{className:"text-center",children:o.playerResults[2].afterScore}),d.jsx("td",{className:"text-center",children:o.playerResults[3].afterScore})]},i):d.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[d.jsx("td",{className:"text-center whitespace-nowrap",children:d.jsx(cs,{roundCount:o.roundCount,extendedRoundCount:o.extendedRoundCount,max:8,className:"px-4"})}),d.jsxs("td",{className:"text-center",children:[d.jsx(Tv,{value:o.playerResults[0].afterScore-o.playerResults[0].beforeScore})," ",d.jsx(Pv,{matchRound:o,playerIndex:"0"})]}),d.jsxs("td",{className:"text-center",children:[d.jsx(Tv,{value:o.playerResults[1].afterScore-o.playerResults[1].beforeScore})," ",d.jsx(Pv,{matchRound:o,playerIndex:"1"})]}),d.jsxs("td",{className:"text-center",children:[d.jsx(Tv,{value:o.playerResults[2].afterScore-o.playerResults[2].beforeScore})," ",d.jsx(Pv,{matchRound:o,playerIndex:"2"})]}),d.jsxs("td",{className:"text-center",children:[d.jsx(Tv,{value:o.playerResults[3].afterScore-o.playerResults[3].beforeScore})," ",d.jsx(Pv,{matchRound:o,playerIndex:"3"})]})]},i)),n[n.length-1]&&d.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[d.jsx("td",{className:"text-center whitespace-nowrap px-16"}),d.jsx("td",{className:"text-center font-bold text-lg",children:d.jsx(Mt,{value:n[n.length-1][1].playerResults[0].afterScore})}),d.jsx("td",{className:"text-center font-bold text-lg",children:d.jsx(Mt,{value:n[n.length-1][1].playerResults[1].afterScore})}),d.jsx("td",{className:"text-center font-bold text-lg",children:d.jsx(Mt,{value:n[n.length-1][1].playerResults[2].afterScore})}),d.jsx("td",{className:"text-center font-bold text-lg",children:d.jsx(Mt,{value:n[n.length-1][1].playerResults[3].afterScore})})]})]})]})}function xye({params:{matchId:t}}){const{match:e,matchRounds:r,matchCurrentRound:n,matchCurrentRoundDoras:i}=Xo(t);return!e||!n?d.jsx("div",{children:"對局讀取失敗。"}):d.jsx("div",{children:d.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-6",children:[d.jsxs("div",{className:"flex flex-row items-stretch gap-x-4 text-white",children:[d.jsxs("div",{className:"shrink-0 rounded-[1rem] bg-black bg-opacity-50 p-2 flex items-stretch gap-x-4",children:[d.jsx("div",{className:"text-[2.5rem] leading-none border-[.25rem] rounded-[.75rem] pb-[0.3em] pt-[0.2em] px-4 border-current flex items-center justify-center",children:d.jsx(cs,{roundCount:n.roundCount,max:8})}),d.jsxs("div",{className:"flex flex-col justify-around",children:[d.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-2",children:[d.jsx("div",{className:"flex-1",children:d.jsx("img",{src:"/images/score-hundred.png",alt:"hundred",className:"h-4"})}),d.jsx("div",{children:n.extendedRoundCount??0})]}),d.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-2",children:[d.jsx("div",{className:"flex-1",children:d.jsx("img",{src:"/images/score-thousand.png",alt:"thousand",className:"h-4"})}),d.jsx("div",{children:n.cumulatedThousands??0})]})]}),d.jsx("div",{className:"flex items-center gap-x-2",children:i.map((o,s)=>d.jsx(No,{className:"w-9 cursor-pointer","data-index":s,children:o},o))})]}),d.jsx("div",{className:"flex-1"})]}),d.jsx("div",{className:"space-y-4",children:["0","1","2","3"].map(o=>d.jsx("div",{className:"flex gap-x-2 items-center",children:d.jsx("div",{className:"flex-1 text-[2.5rem]",children:d.jsx(Ga,{player:e.players[o],score:n.playerResults[o].beforeScore,scoreChanges:n.playerResults[o].prevScoreChanges,isEast:Xn(o,n.roundCount),isRiichi:n.playerResults[o].isRiichi,isYellowCarded:n.playerResults[o].isYellowCarded,isRedCarded:n.playerResults[o].isRedCarded})})}))}),d.jsx(xg,{players:e.players,matchRounds:r,className:"w-full table-auto"})]})})}const EF=`body { 
  background-color: rgba(0, 0, 0, 0); 
  color: rgba(0, 0, 0, 0); 
  margin: 0px auto; 
  overflow: hidden; 
}

.body-hidden {
  display: none;
}`;function _ye({matchId:t}){const e=E.useMemo(()=>`${window.location.origin}/match/${t}/control`,[t]),r=E.useCallback(()=>{window.navigator.clipboard.writeText(EF)},[]);return d.jsxs("div",{className:"flex items-center justify-center gap-x-8",children:[d.jsxs("div",{children:[d.jsx("p",{children:"1. 打開OBS"}),d.jsxs("p",{children:["2. 來源 ","->"," + ","->"," 瀏覽器，然後照下面設定"]}),d.jsxs("p",{children:["- 網址 = 此頁的網址 ",d.jsx("strong",{children:window.location.href}),d.jsx("br",{}),"- 寬度 = 1920, 高度 = 1080",d.jsx("br",{})," - 自訂CSS ="," ",d.jsxs("div",{className:"relative bg-gray-700 text-white p-4 rounded",children:[d.jsx("pre",{children:EF}),d.jsx("div",{className:"absolute top-2 right-2",children:d.jsx("button",{type:"button",onClick:r,children:d.jsx("i",{className:"bi bi-copy"})})})]})]})]}),d.jsxs("div",{children:[d.jsx("p",{children:'3. 在管理後台點擊右上角的 "開始OBS" '}),d.jsx("p",{children:"4. 確定"})]}),d.jsx("div",{className:"shrink-0",children:d.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"text-center underline",children:[d.jsx("img",{className:"block w-32 h-32",src:cP(e),alt:""}),d.jsx("p",{children:"管理後台"})]})})]})}function wye({han:t,fu:e,yakumanCount:r,...n}){const i=E.useMemo(()=>{if(r&&r>0)return r===1?"役滿":r===2?"兩倍役滿":r===3?"三倍役滿":r===4?"四倍役滿":`${r}倍役滿`;if(t>=11)return"三倍滿";if(t>=8)return"倍滿";if(t>=6)return"跳滿";if(t>=5)return"滿貫";if(t>=4&&typeof e<"u"&&e>=40)return"滿貫";if(t>=3&&typeof e<"u"&&e>=70)return"滿貫";if(typeof e<"u")return},[r,t,e]);return i?d.jsx("div",{...n,children:i}):d.jsxs("div",{...n,children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:t}),d.jsx("span",{children:"飜"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:e}),d.jsx("span",{children:"符"})]})]})}const Sye=({active:t,color:e="#000000",largeTeamPicUrl:r})=>d.jsxs(d.Fragment,{children:[d.jsx("img",{src:"/images/r.png",className:"w-0 h-0 opacity-0"}),d.jsx("img",{src:"/images/e.png",className:"w-0 h-0 opacity-0"}),d.jsx("img",{src:"/images/a.png",className:"w-0 h-0 opacity-0"}),d.jsx("img",{src:"/images/c.png",className:"w-0 h-0 opacity-0"}),d.jsx("img",{src:"/images/h.png",className:"w-0 h-0 opacity-0"}),d.jsx("img",{src:"/images/score-thousand.png",className:"w-0 h-0 opacity-0"}),t&&d.jsxs("div",{className:"reach-animation",children:[d.jsx("div",{className:"reach-background",style:{background:`linear-gradient(to bottom, transparent, ${e}80 40%, ${e}80 60%, transparent)`}}),d.jsx("div",{className:"reach-animation-logo",style:{backgroundImage:`url("${r}")`}}),d.jsx("div",{className:"reach-animation-bar",style:{backgroundImage:'url("/images/score-thousand.png")'}}),d.jsxs("div",{className:"reach-animation-text",children:[d.jsx("div",{className:"reach-animation-text-character c1",style:{backgroundImage:'url("/images/r.png")'}}),d.jsx("div",{className:"reach-animation-text-character c2",style:{backgroundImage:'url("/images/e.png")'}}),d.jsx("div",{className:"reach-animation-text-character c3",style:{backgroundImage:'url("/images/a.png")'}}),d.jsx("div",{className:"reach-animation-text-character c4",style:{backgroundImage:'url("/images/c.png")'}}),d.jsx("div",{className:"reach-animation-text-character c5",style:{backgroundImage:'url("/images/h.png")'}})]})]})]});function RG({params:{matchId:t}}){const{match:e,matchCurrentRound:r,matchCurrentRoundDoras:n}=Xo(t),i=E.useMemo(()=>{if(!e||!r)return[];const f=[{ranking:1,point:50},{ranking:2,point:10},{ranking:3,point:-10},{ranking:4,point:-30}],h=Object.entries(r.playerResults).map(([p,m])=>({playerIndex:p,score:m.afterScore})).sort((p,m)=>m.score-p.score).map((p,m)=>({playerIndex:p.playerIndex,...f[m],point:(p.score-3e4)/1e3+f[m].point})).reduce((p,m)=>(p[m.playerIndex]={point:m.point,ranking:m.ranking},p),{});return["0","1","2","3"].map(p=>({...e.players[p],color:e.players[p].color,currentStatus:{...r.playerResults[p],isEast:Xn(p,r.roundCount),...h[p]}}))},[e,r]),[o,s]=E.useState(null),[a,l]=E.useState(),[c,u]=E.useState({0:!1,1:!1,2:!1,3:!1});return E.useEffect(()=>{["0","1","2","3"].forEach(f=>{typeof(r==null?void 0:r.playerResults[f].isRiichi)<"u"&&r.playerResults[f].isRiichi!==c[f]&&(r.playerResults[f].isRiichi===!0&&(s(f),setTimeout(()=>{s(null)},2800)),u(h=>({...h,[f]:r.playerResults[f].isRiichi})))})},[r==null?void 0:r.playerResults,c]),E.useEffect(()=>{a!==(r==null?void 0:r.code)&&(l(r==null?void 0:r.code),u({0:!1,1:!1,2:!1,3:!1}))},[r==null?void 0:r.code,a]),!e||!r?d.jsx("div",{className:"text-current",children:"對局讀取失敗。"}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relativew-screen h-screen mx-auto py-8 overflow-hidden text-[4.8rem] transition-opacity",style:{background:"linear-gradient(transparent, transparent 73%, rgba(0, 0, 0, 0.4))",opacity:o!==null?0:1},children:[d.jsxs("div",{className:"flex flex-row items-stretch gap-x-4 text-white",children:[d.jsxs("div",{className:"relative text-[0.6em] p-2 pl-10 pr-[1em] flex items-center gap-x-8",style:{transition:"width 0.3s, left 1.5s, opacity 1.5s",left:e.hideHeader?"-100%":"0",opacity:e.hideHeader?"0":"1",background:"linear-gradient(280deg, transparent, transparent 0.5em, #00000080 0.5em, #00000080 100%)"},children:[d.jsxs("div",{className:"",children:[d.jsx("div",{className:"text-[0.5em]",children:e.name}),d.jsxs("div",{className:"flex gap-x-8 items-center",children:[d.jsx("div",{className:"min-w-[3.5em]",children:d.jsx(cs,{roundCount:r.roundCount,max:8})}),d.jsxs("div",{className:"flex flex-col justify-around gap-2",children:[d.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx("img",{src:"/images/score-hundred.png",alt:"hundred",className:"h-[0.25em] mt-[0.1em]"})}),d.jsx("div",{className:"text-[0.45em] leading-none",children:r.extendedRoundCount??0})]}),d.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx("img",{src:"/images/score-thousand.png",alt:"thousand",className:"h-[0.25em] mt-[0.1em]"})}),d.jsx("div",{className:"text-[0.45em] leading-none",children:r.cumulatedThousands??0})]})]})]})]}),d.jsx("div",{className:"flex items-center gap-x-2",children:n.map(f=>d.jsx(No,{className:"w-[1.4em] animate-[fadeInFromLeft_0.5s_ease-in-out]",children:f},f))})]}),d.jsx("div",{className:"flex-1"})]}),d.jsx("div",{className:"flex items-center justify-center mt-20",children:d.jsx("div",{className:"body-hidden mx-20 text-[16px]",children:d.jsx(_ye,{matchId:t})})}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 px-10 pb-6 grid grid-cols-4 items-end gap-x-8 text-white animate-[fadeInFromBottom_1s_ease-in-out]",style:{opacity:e.activeResultDetail?0:1,bottom:e.activeResultDetail?"-150px":0,transition:"opacity 0.5s, bottom 0.5s"},children:i.map(f=>d.jsxs("div",{className:"w-[5.35em]",children:[d.jsx(Ga,{player:f,score:f.currentStatus.afterScore,scoreChanges:f.currentStatus.scoreChanges,isEast:f.currentStatus.isEast,isRiichi:f.currentStatus.isRiichi&&r.resultType===Qe.Unknown,waitingTiles:r.resultType===Qe.Unknown?f.currentStatus.waitingTiles:[],isYellowCarded:f.currentStatus.isYellowCarded,isRedCarded:f.currentStatus.isRedCarded,ranking:f.currentStatus.ranking,point:f.currentStatus.point,showPointAndRanking:!!e.showPoints}),d.jsx("img",{src:f.largeTeamPicUrl,className:"w-0 h-0"})]},f.name))}),e.activeResultDetail&&d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 px-10 pb-6 grid grid-cols-4 gap-x-8 text-white transition-opacity animate-[fadeInFromBottom_1s_ease-in-out]",children:[d.jsx("div",{className:"w-[5.35em]",children:d.jsx(Ga,{player:e.players[e.activeResultDetail.winnerPlayerIndex],score:r.playerResults[e.activeResultDetail.winnerPlayerIndex].afterScore})}),d.jsxs("div",{className:"col-span-3 bg-black bg-opacity-50 py-6 px-8 text-[0.5em] flex items-stretch gap-x-4",children:[d.jsx("div",{className:`flex-1 flex flex-wrap gap-x-[0.75em] ${e.activeResultDetail.yakumanCount>0?"self-center justify-center":""}`,children:e.activeResultDetail.yakus.map(({label:f})=>d.jsx("span",{children:f},f))}),d.jsx("div",{className:"shrink-0 w-px bg-neutral-200"}),d.jsx("div",{className:"shrink-0 min-w-[3em] self-center text-green-400 text-[1.4em] text-center",children:d.jsx(wye,{han:e.activeResultDetail.han,fu:e.activeResultDetail.fu,yakumanCount:e.activeResultDetail.yakumanCount})})]})]})]}),d.jsx("div",{className:"fixed inset-0 pointer-events-none",children:d.jsx(Sye,{active:o!==null,color:o&&i[o].color,largeTeamPicUrl:o&&i[o].largeTeamPicUrl})})]})}function Kn({open:t,title:e,children:r,onClose:n,hideCloseButton:i}){const o=E.useRef(null);E.useEffect(()=>{if(o!=null&&o.current&&t){o.current.showModal();const{current:a}=o;return()=>{a.close()}}},[t]);const s=E.useCallback(()=>{n==null||n()},[n]);return d.jsx("dialog",{ref:o,onClose:s,children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex mb-4",children:[d.jsx("div",{className:"flex-1 items-center font-bold text-lg",children:e}),!i&&d.jsx("div",{className:"shrink-0",children:d.jsx("button",{type:"button",className:"absolute top-4 right-4",onClick:s,children:d.jsx("i",{className:"bi bi-x"})})})]}),r]})})}const AO=()=>d.jsx("div",{className:"inline-block w-4 h-4 border-2 border-neutral-800 border-l-transparent rounded-full animate-spin"});function Eye({title:t,children:e,okButtonText:r="確認",cancelButtonText:n="取消",onClickOk:i,onClickCancel:o,...s}){const[a,l]=E.useState(!1),c=E.useCallback(()=>{i&&(l(!0),i().finally(()=>{l(!1)}))},[i]);return d.jsxs(Kn,{title:t,...s,children:[d.jsx("div",{className:"mb-4",children:e}),d.jsxs("div",{className:"flex gap-x-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx(De,{type:"button",color:"secondary",className:"w-full",onClick:o,disabled:a,children:n})}),d.jsx("div",{className:"flex-1",children:d.jsx(De,{type:"button",color:"danger",className:"w-full",onClick:c,disabled:a,children:a?d.jsx(AO,{}):r})})]})]})}const Aye={isShowConfirmDialog:!1,setIsShowConfirmDialog:()=>{},confirmDialogOptions:{title:"警告"},setConfirmDialogOptions:()=>{}},jG=E.createContext(Aye);function Cye({children:t}){const[e,r]=E.useState(!1),[n,i]=E.useState({title:"警告"}),o=E.useMemo(()=>({isShowConfirmDialog:e,setIsShowConfirmDialog:r,confirmDialogOptions:n,setConfirmDialogOptions:i}),[n,e]),s=E.useCallback(()=>{r(!1)},[]);return d.jsxs(jG.Provider,{value:o,children:[t,d.jsx(Eye,{open:e,okButtonText:n.okButtonText,cancelButtonText:n.cancelButtonText,onClickOk:n.onClickOk,onClickCancel:n.onClickCancel,onClose:s,...n,hideCloseButton:!0,children:n.content})]})}const Tye=()=>{const t=E.useContext(jG);return{showConfirmDialog:E.useCallback(r=>{const n=async()=>(r.onClickOk??(async()=>Promise.resolve()))().then(()=>{t.setIsShowConfirmDialog(!1)}),i=async()=>(r.onClickCancel??(async()=>Promise.resolve()))().then(()=>{t.setIsShowConfirmDialog(!1)});t.setConfirmDialogOptions({...r,onClickOk:n,onClickCancel:i}),t.setIsShowConfirmDialog(!0)},[t])}};function $G(){var t=E.useRef(!1),e=E.useCallback(function(){return t.current},[]);return E.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e}function Gw(t,e,r){e===void 0&&(e=[]),r===void 0&&(r={loading:!1});var n=E.useRef(0),i=$G(),o=E.useState(r),s=o[0],a=o[1],l=E.useCallback(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var f=++n.current;return s.loading||a(function(h){return dx(dx({},h),{loading:!0})}),t.apply(void 0,c).then(function(h){return i()&&f===n.current&&a({value:h,loading:!1}),h},function(h){return i()&&f===n.current&&a({error:h,loading:!1}),h})},e);return[s,l]}function Pye(t,e){e===void 0&&(e=[]);var r=Gw(t,e,{loading:!0}),n=r[0],i=r[1];return E.useEffect(function(){i()},[i]),n}var ZE=function(){};function eA(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function tA(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var Iye=typeof window<"u",Nye=function(t,e){return typeof e=="boolean"?e:!t},kye=function(t){return E.useReducer(Nye,t)};const So=kye;var Oye=function(t,e){return function(r,n){var i=r.getData("text/uri-list");if(i){(t.onUri||ZE)(i,n);return}if(r.files&&r.files.length){(t.onFiles||ZE)(Array.from(r.files),n);return}r.items&&r.items.length&&r.items[0].getAsString(function(o){e&&(t.onText||ZE)(o,n)})}},Rye=function(t,e){return{onDragOver:function(r){r.preventDefault()},onDragEnter:function(r){r.preventDefault(),e(!0)},onDragLeave:function(){e(!1)},onDrop:function(r){r.preventDefault(),r.persist(),e(!1),t(r.dataTransfer,r)},onPaste:function(r){r.persist(),t(r.clipboardData,r)}}},jye=function(t){t===void 0&&(t={});var e=t.onFiles,r=t.onText,n=t.onUri,i=$G(),o=E.useState(!1),s=o[0],a=o[1],l=E.useMemo(function(){return Oye(t,i())},[e,r,n]),c=E.useMemo(function(){return Rye(l,a)},[l,a]);return[c,{over:s}]};const $ye=jye;var Dye=function(t,e){var r=E.useRef(function(){});E.useEffect(function(){r.current=t}),E.useEffect(function(){if(e!==null){var n=setInterval(function(){return r.current()},e||0);return function(){return clearInterval(n)}}},[e])};const Mye=Dye;var AF=function(t,e){return new URLSearchParams(t).get(e)},Fye=function(t){var e=window.location,r=E.useState(function(){return AF(e.search,t)}),n=r[0],i=r[1];return E.useEffect(function(){var o=function(){i(AF(e.search,t))};return eA(window,"popstate",o),eA(window,"pushstate",o),eA(window,"replacestate",o),function(){tA(window,"popstate",o),tA(window,"pushstate",o),tA(window,"replacestate",o)}},[]),n},Lye=function(){return null};const CF=Iye?Fye:Lye,Bye=[["1m","2m","3m","4m","5m","6m","7m","8m","9m","0m"],["1p","2p","3p","4p","5p","6p","7p","8p","9p","0p"],["1s","2s","3s","4s","5s","6s","7s","8s","9s","0s"],["1z","2z","3z","4z","5z","6z","7z"]],TF={m:0,p:1,s:2,z:3},Uye=(t,e)=>{const[r,n]=[t[0],t[1]],[i,o]=[e[0],e[1]];return n!==o?TF[n]-TF[o]:parseInt(r,10)-parseInt(i,10)};function PF({onSubmit:t,onRemove:e,canRemove:r,hideRedTiles:n,multiple:i,defaultValue:o}){const[s,a]=E.useState([]),l=E.useCallback(f=>{var p;const h=(p=f.currentTarget)==null?void 0:p.getAttribute("data-key");h&&a(i?m=>{const y=m.indexOf(h);if(y===-1)return[...m,h].sort(Uye);const g=[...m];return g.splice(y,1),g}:[h])},[i]),c=E.useCallback(()=>{s&&t&&(t==null||t(s),a([]))},[t,s]),u=E.useCallback(()=>{r&&(e==null||e(),a([]))},[r,e]);return E.useEffect(()=>{a(o??[])},[o]),d.jsxs("div",{children:[d.jsx("div",{className:`mb-4 grid ${n?"grid-cols-9":"grid-cols-10"} gap-1 lg:gap-x-2 lg:gap-y-4 items-center text-center`,children:Bye.map(f=>f.map(h=>(!h.startsWith("0")||!n)&&d.jsx("button",{type:"button",onClick:l,"data-key":h,className:`${s.indexOf(h)!==-1?"bg-blue-400":"bg-black bg-opacity-20"} rounded p-1 lg:p-2`,children:d.jsx(No,{children:h})})))}),d.jsxs("div",{className:"flex gap-x-4",children:[r&&d.jsx("div",{className:"flex-1",children:d.jsx(De,{className:"w-full",type:"button",color:"secondary",onClick:u,children:"移除"})}),d.jsx("div",{className:"flex-1",children:d.jsx(De,{className:"w-full",type:"button",color:"primary",onClick:c,disabled:s.length===0,children:"確定"})})]})]})}const Iv=({teamPlayer:t})=>d.jsx(Ga,{player:sp(t),score:25e3}),Vye=({matchDTO:t})=>{const e=d9(),r=E.useCallback(async()=>{if(!confirm("確定資料都正確了嗎？要開始對局了嗎？"))return;const n={code:t._id,name:t.name,remark:"",createdAt:new Date().toISOString(),createdBy:"Dicky",updatedAt:new Date().toISOString(),updatedBy:"Dicky",setting:{startingScore:t.tournament.startingScore,isManganRoundUp:t.tournament.startingScore?"1":"0",yakuMax:t.tournament.yakuMax,yakumanMax:t.tournament.yakumanMax},players:{0:sp(t.playerEast),1:sp(t.playerSouth),2:sp(t.playerWest),3:sp(t.playerNorth)},activeResultDetail:null};await e.set(`matches/${t._id}`,n);const i=parseInt(t.tournament.startingScore),o={matchId:t._id,code:Ix(t._id,1,0),roundCount:1,extendedRoundCount:0,cumulatedThousands:0,nextRoundCumulatedThousands:0,resultType:0,nextRoundType:0,playerResults:{0:{beforeScore:i,afterScore:i,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},1:{beforeScore:i,afterScore:i,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},2:{beforeScore:i,afterScore:i,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},3:{beforeScore:i,afterScore:i,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}}},doras:[]};await e.push("matchRounds",o),await e.set("obs/1",{matchId:t._id})},[t._id,t.name,t.playerEast,t.playerNorth,t.playerSouth,t.playerWest,t.tournament.startingScore,t.tournament.yakuMax,t.tournament.yakumanMax,e]);return d.jsx("div",{className:"container mx-auto max-w-screen-md py-16",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-red-500 p-4 text-white space-y-2",children:[d.jsx("div",{className:"text-center text-6xl",children:d.jsx("i",{className:"bi bi-exclamation-triangle"})}),d.jsxs("p",{className:"text-center text-xl",children:["這是開始直播前的最後機會，請檢查以下內容是否完全正確。",d.jsx("br",{}),"一旦對局開始，要修改內容就很麻煩。",d.jsx("br",{}),d.jsx("br",{}),"如果要修改，請在資料庫修改後，刷新此頁面。"]})]}),d.jsxs("h4",{className:"text-3xl",children:[d.jsx("span",{className:"text-neutral-600",children:"對局名稱:"})," ",d.jsx("span",{className:"font-bold",children:t.name})]}),d.jsxs("div",{className:"grid grid-cols-10 gap-x-2",children:[d.jsxs("div",{className:"col-span-4 col-start-4",children:[d.jsx("div",{className:"text-[48px]",children:d.jsx(Iv,{teamPlayer:t.playerWest})}),d.jsx("p",{className:"text-center text-4xl",children:"西"})]}),d.jsxs("div",{className:"col-span-4 col-start-1 flex items-center gap-x-2",children:[d.jsx("div",{className:"flex-1 text-[48px]",children:d.jsx(Iv,{teamPlayer:t.playerNorth})}),d.jsx("div",{className:"shrink-0 text-4xl",children:"北"})]}),d.jsx("div",{className:"col-span-2"}),d.jsxs("div",{className:"col-span-4 flex items-center gap-x-2",children:[d.jsx("div",{className:"shrink-0 text-4xl",children:"南"}),d.jsx("div",{className:"flex-1 text-[48px]",children:d.jsx(Iv,{teamPlayer:t.playerSouth})})]}),d.jsxs("div",{className:"col-span-4 col-start-4",children:[d.jsx("p",{className:"text-center text-4xl",children:"東"}),d.jsx("div",{className:"text-[48px]",children:d.jsx(Iv,{teamPlayer:t.playerEast})})]})]}),d.jsxs("div",{className:"text-2xl",children:[d.jsx("span",{className:"text-neutral-600",children:"聯賽:"})," ",d.jsx("span",{className:"font-bold",children:t.tournament.name})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"border border-neutral-400 pt-2 py-4 rounded text-center bg-white",children:[d.jsx("p",{className:"text-neutral-600 font-bold text-sm",children:"起始點數"}),d.jsx("p",{className:"text-4xl",children:t.tournament.startingScore})]}),d.jsxs("div",{className:"border border-neutral-400 pt-2 py-4 rounded text-center bg-white",children:[d.jsx("p",{className:"text-neutral-600 font-bold text-sm",children:"切上滿貫"}),d.jsx("p",{className:"text-4xl",children:t.tournament.isManganRoundUp?"有":"沒有"})]}),d.jsxs("div",{className:"border border-neutral-400 pt-2 py-4 rounded text-center bg-white",children:[d.jsx("p",{className:"text-neutral-600 font-bold text-sm",children:"翻數上限"}),d.jsx("p",{className:"text-4xl",children:oye(t.tournament.yakuMax)})]}),d.jsxs("div",{className:"border border-neutral-400 pt-2 py-4 rounded text-center bg-white",children:[d.jsx("p",{className:"text-neutral-600 font-bold text-sm",children:"役滿上限"}),d.jsx("p",{className:"text-4xl",children:sye(t.tournament.yakumanMax)})]})]}),d.jsx("div",{className:"pt-8",children:d.jsx(De,{className:"w-full",size:"xlarge",variant:"contained",color:"success",onClick:r,children:"確認以上內容無誤，開始對局"})})]})})},Wye=({players:t,currentRound:e,onAction:r})=>{const n=E.useCallback(i=>{const o=i.currentTarget.getAttribute("data-player-index"),s=i.currentTarget.getAttribute("data-action");r(o,s)},[r]);return d.jsx("div",{className:"space-y-2",children:["0","1","2","3"].map(i=>{var o,s;return d.jsx("table",{className:"w-full border border-black ring-2 ring-transparent data-[east='1']:ring-red-500 bg-white","data-east":Xn(i,e.roundCount)?"1":"0",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsxs("td",{className:"p-1 text-white w-32 relative",style:{background:t[i].color},children:[d.jsx("button",{className:"absolute text-gray-900 text-xs px-1 rounded",style:{backgroundColor:"#ffe100",width:"2rem",height:"2.5rem",top:"0rem",left:"-2.5rem",opacity:e.playerResults[i].isYellowCarded?1:.35},"data-player-index":i,"data-action":"yellow-card",onClick:n,children:"黃牌"}),d.jsx("button",{className:"absolute text-gray-900 text-xs px-1 rounded",style:{backgroundColor:"#ff1900",width:"2rem",height:"2.5rem",top:"2.7rem",left:"-2.5rem",opacity:e.playerResults[i].isRedCarded?1:.35},"data-player-index":i,"data-action":"red-card",onClick:n,children:"紅牌"}),d.jsxs("div",{className:"flex gap-x-1 items-center w-32",children:[d.jsx("img",{className:"shrink-0 w-8 h-8 inline-block",src:t[i].teamPicUrl,alt:t[i].title}),d.jsx("img",{className:"shrink-0 w-[1.44rem] h-8 inline-block",src:t[i].proPicUrl,alt:t[i].name}),d.jsxs("div",{className:"flex-1 align-middle overflow-hidden",children:[d.jsx("p",{className:"whitespace-nowrap overflow-ellipsis",children:t[i].title}),d.jsx("p",{className:"whitespace-nowrap overflow-ellipsis",children:t[i].nickname||t[i].name})]})]})]}),d.jsx("td",{className:"px-2 border-b border-black",colSpan:2,children:d.jsxs("button",{className:"py-2 text-left block","data-player-index":i,"data-action":"waitingTile",onClick:n,children:[d.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),d.jsx("div",{className:"inline-block space-x-1",children:(o=e.playerResults[i].waitingTiles)==null?void 0:o.map(a=>d.jsx(No,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:a},a))})]})}),d.jsxs("td",{className:"whitespace-nowrap w-0 space-y-1 pr-1",rowSpan:2,children:[d.jsxs("div",{className:"space-x-1",children:[d.jsx("button",{className:"px-1 bg-neutral-200 border rounded border-neutral-700 text-xl disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":i,"data-action":"reveal",onClick:n,"data-active":e.playerResults[i].isRevealed?"1":"0",disabled:e.playerResults[i].isRiichi,children:"副露"}),d.jsxs("button",{className:"px-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":i,"data-action":"ron-before",onClick:n,children:["和",t[PG(i)].nickname||"上家"]})]}),d.jsxs("div",{className:"space-x-1",children:[d.jsx("button",{className:"px-1 bg-neutral-200 border rounded border-neutral-700 text-xl disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":i,"data-action":"riichi",onClick:n,"data-active":e.playerResults[i].isRiichi?"1":"0",disabled:e.playerResults[i].isRevealed,children:"立直"}),d.jsxs("button",{className:"px-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":i,"data-action":"ron-opposite",onClick:n,children:["和",t[NG(i)].nickname||"對家"]})]}),d.jsxs("div",{className:"space-x-1",children:[d.jsx("button",{className:"px-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":i,"data-action":"ron-self",onClick:n,children:"自摸"}),d.jsxs("button",{className:"px-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":i,"data-action":"ron-after",onClick:n,children:["和",t[IG(i)].nickname||"下家"]})]})]})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"p-1 space-x-1 text-white text-4xl",style:{background:t[i].color},children:e.playerResults[i].afterScore}),d.jsx("td",{className:"px-2",children:d.jsxs("button",{className:"py-2 text-left text-xl","data-player-index":i,"data-action":"yaku",onClick:n,children:[d.jsx("span",{className:"mr-2 text-xl",children:"役"}),d.jsx("div",{className:"inline-block space-x-1",children:(s=e.playerResults[i].detail.yakus)==null?void 0:s.map(({label:a})=>d.jsx("span",{children:a},a))})]})}),d.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4",children:d.jsxs("div",{children:[d.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[i].detail.dora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":i,"data-action":"dora-normal-minus",onClick:n,children:"-"}),"寶",e.playerResults[i].detail.dora,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":i,"data-action":"dora-normal-plus",onClick:n,children:"+"})]}),d.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[i].detail.redDora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":i,"data-action":"dora-red-minus",onClick:n,children:"-"}),"赤",e.playerResults[i].detail.redDora??0,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":i,"data-action":"dora-red-plus",onClick:n,children:"+"})]})]})})]})]})},i)})})},zye=[["0","3","1","2"],["3","2","0","1"],["2","1","3","0"],["1","0","2","3"]],Gye=({players:t,currentRound:e,onAction:r})=>{var l,c,u,f;const[n,i]=E.useState(0),o=E.useMemo(()=>zye[n],[n]),s=E.useCallback(h=>{const p=h.currentTarget.getAttribute("data-player-index"),m=h.currentTarget.getAttribute("data-action");r(p,m)},[r]),a=E.useCallback(()=>{i(h=>(h+1)%4)},[]);return d.jsxs("div",{children:[d.jsx("div",{className:"text-center mb-4",children:d.jsxs(De,{size:"small",onClick:a,children:["逆時針旋轉 ",d.jsx("i",{className:"bi bi-arrow-counterclockwise"})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("table",{className:"w-full border border-black",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsxs("td",{className:"p-1 space-x-1 text-white",style:{background:t[o[0]].color},children:[d.jsx("img",{className:"w-8 h-8 inline-block",src:t[o[0]].teamPicUrl,alt:t[o[0]].title}),d.jsx("img",{className:"w-[1.44rem] h-8 inline-block",src:t[o[0]].proPicUrl,alt:t[o[0]].name}),d.jsxs("div",{className:"inline-block align-middle",children:[d.jsx("p",{children:t[o[0]].title}),d.jsx("p",{children:t[o[0]].name})]})]}),d.jsx("td",{className:"p-1 space-x-1 text-white text-4xl text-right pr-2",style:{background:t[o[0]].color},children:e.playerResults[o[0]].afterScore})]}),d.jsx("tr",{children:d.jsx("td",{className:"w-1/2 px-2 h-16",colSpan:2,children:d.jsxs("button",{className:"py-2 text-left block","data-player-index":o[0],"data-action":"waitingTile",onClick:s,children:[d.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),d.jsx("div",{className:"inline-block space-x-1",children:(l=e.playerResults[o[0]].waitingTiles)==null?void 0:l.map(h=>d.jsx(No,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:h},h))})]})})}),d.jsxs("tr",{children:[d.jsx("td",{className:"w-full px-2",children:d.jsx("span",{children:"役"})}),d.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4 pb-4",children:d.jsxs("div",{children:[d.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[o[0]].detail.dora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[0],"data-action":"dora-normal-minus",onClick:s,children:"-"}),"寶",e.playerResults[o[0]].detail.dora,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[0],"data-action":"dora-normal-plus",onClick:s,children:"+"})]}),d.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[o[0]].detail.redDora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[0],"data-action":"dora-red-minus",onClick:s,children:"-"}),"赤",e.playerResults[o[0]].detail.redDora??0,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[0],"data-action":"dora-red-plus",onClick:s,children:"+"})]})]})})]}),d.jsx("tr",{children:d.jsx("td",{className:"whitespace-nowrap",colSpan:2,children:d.jsxs("div",{className:" grid grid-cols-3 gap-2 justify-center",children:[d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl mr-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":o[0],"data-action":"reveal",onClick:s,"data-active":e.playerResults[o[0]].isRevealed?"1":"0",disabled:e.playerResults[o[0]].isRiichi,children:"副露"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[0],"data-action":"ron-self",onClick:s,children:"自摸"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[0],"data-action":"ron-before",onClick:s,children:"和上家←"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl mr-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":o[0],"data-action":"riichi",onClick:s,"data-active":e.playerResults[o[0]].isRiichi?"1":"0",disabled:e.playerResults[o[0]].isRevealed,children:"立直"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[0],"data-action":"ron-after",onClick:s,children:"和下家↑"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[0],"data-action":"ron-opposite",onClick:s,children:"和對家↖"})]})})})]})}),d.jsx("table",{className:"w-full border border-black",children:d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsxs("td",{className:"p-1 space-x-1 text-white",style:{background:t[o[1]].color},children:[d.jsx("img",{className:"w-8 h-8 inline-block",src:t[o[1]].teamPicUrl,alt:t[o[1]].title}),d.jsx("img",{className:"w-[1.44rem] h-8 inline-block",src:t[o[1]].proPicUrl,alt:t[o[1]].name}),d.jsxs("div",{className:"inline-block align-middle",children:[d.jsx("p",{children:t[o[1]].title}),d.jsx("p",{children:t[o[1]].name})]})]}),d.jsx("td",{className:"p-1 space-x-1 text-white text-4xl text-right pr-2",style:{background:t[o[1]].color},children:e.playerResults[o[1]].afterScore})]}),d.jsx("tr",{children:d.jsx("td",{className:"w-1/2 px-2 h-16",colSpan:2,children:d.jsxs("button",{className:"py-2 text-left block","data-player-index":o[1],"data-action":"waitingTile",onClick:s,children:[d.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),d.jsx("div",{className:"inline-block space-x-1",children:(c=e.playerResults[o[1]].waitingTiles)==null?void 0:c.map(h=>d.jsx(No,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:h},h))})]})})}),d.jsxs("tr",{children:[d.jsx("td",{className:"w-full px-2",children:d.jsx("span",{children:"役"})}),d.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4 pb-4",children:d.jsxs("div",{children:[d.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[o[1]].detail.dora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[1],"data-action":"dora-normal-minus",onClick:s,children:"-"}),"寶",e.playerResults[o[1]].detail.dora,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[1],"data-action":"dora-normal-plus",onClick:s,children:"+"})]}),d.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[o[1]].detail.redDora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[1],"data-action":"dora-red-minus",onClick:s,children:"-"}),"赤",e.playerResults[o[1]].detail.redDora??0,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[1],"data-action":"dora-red-plus",onClick:s,children:"+"})]})]})})]}),d.jsx("tr",{children:d.jsx("td",{className:"whitespace-nowrap",colSpan:2,children:d.jsxs("div",{className:" grid grid-cols-3 gap-2 justify-center",children:[d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[1],"data-action":"ron-after",onClick:s,children:"→和下家"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[1],"data-action":"ron-self",onClick:s,children:"自摸"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl ml-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":o[1],"data-action":"reveal",onClick:s,"data-active":e.playerResults[o[1]].isRevealed?"1":"0",disabled:e.playerResults[o[1]].isRiichi,children:"副露"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[1],"data-action":"ron-opposite",onClick:s,children:"↗和對家"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[1],"data-action":"ron-before",onClick:s,children:"↑和上家"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl ml-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":o[1],"data-action":"riichi",onClick:s,"data-active":e.playerResults[o[1]].isRiichi?"1":"0",disabled:e.playerResults[o[1]].isRevealed,children:"立直"})]})})})]})}),d.jsx("table",{className:"w-full border border-black",children:d.jsxs("tbody",{children:[d.jsx("tr",{children:d.jsx("td",{className:"whitespace-nowrap",colSpan:2,children:d.jsxs("div",{className:" grid grid-cols-3 gap-2 justify-center",children:[d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl mr-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":o[2],"data-action":"riichi",onClick:s,"data-active":e.playerResults[o[2]].isRiichi?"1":"0",disabled:e.playerResults[o[2]].isRevealed,children:"立直"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[2],"data-action":"ron-before",onClick:s,children:"和上家↓"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[2],"data-action":"ron-opposite",onClick:s,children:"和對家↙"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl mr-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":o[2],"data-action":"reveal",onClick:s,"data-active":e.playerResults[o[2]].isRevealed?"1":"0",disabled:e.playerResults[o[2]].isRiichi,children:"副露"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[2],"data-action":"ron-self",onClick:s,children:"自摸"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[2],"data-action":"ron-after",onClick:s,children:"和下家←"})]})})}),d.jsxs("tr",{children:[d.jsx("td",{className:"w-full px-2",children:d.jsx("span",{children:"役"})}),d.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4 pt-4",children:d.jsxs("div",{children:[d.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[o[2]].detail.dora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[2],"data-action":"dora-normal-minus",onClick:s,children:"-"}),"寶",e.playerResults[o[2]].detail.dora,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[2],"data-action":"dora-normal-plus",onClick:s,children:"+"})]}),d.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[o[2]].detail.redDora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[2],"data-action":"dora-red-minus",onClick:s,children:"-"}),"赤",e.playerResults[o[2]].detail.redDora??0,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[2],"data-action":"dora-red-plus",onClick:s,children:"+"})]})]})})]}),d.jsx("tr",{children:d.jsx("td",{className:"w-1/2 px-2 h-16",colSpan:2,children:d.jsxs("button",{className:"py-2 text-left block","data-player-index":o[2],"data-action":"waitingTile",onClick:s,children:[d.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),d.jsx("div",{className:"inline-block space-x-1",children:(u=e.playerResults[o[2]].waitingTiles)==null?void 0:u.map(h=>d.jsx(No,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:h},h))})]})})}),d.jsxs("tr",{children:[d.jsxs("td",{className:"p-1 space-x-1 text-white",style:{background:t[o[2]].color},children:[d.jsx("img",{className:"w-8 h-8 inline-block",src:t[o[2]].teamPicUrl,alt:t[o[2]].title}),d.jsx("img",{className:"w-[1.44rem] h-8 inline-block",src:t[o[2]].proPicUrl,alt:t[o[2]].name}),d.jsxs("div",{className:"inline-block align-middle",children:[d.jsx("p",{children:t[o[2]].title}),d.jsx("p",{children:t[o[2]].name})]})]}),d.jsx("td",{className:"p-1 space-x-1 text-white text-4xl text-right pr-2",style:{background:t[o[2]].color},children:e.playerResults[o[2]].afterScore})]})]})}),d.jsx("table",{className:"w-full border border-black",children:d.jsxs("tbody",{children:[d.jsx("tr",{children:d.jsx("td",{className:"whitespace-nowrap",colSpan:2,children:d.jsxs("div",{className:" grid grid-cols-3 gap-2 justify-center",children:[d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[3],"data-action":"ron-opposite",onClick:s,children:"↘和對家"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[3],"data-action":"ron-after",onClick:s,children:"↓和下家"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl ml-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":o[3],"data-action":"riichi",onClick:s,"data-active":e.playerResults[o[3]].isRiichi?"1":"0",disabled:e.playerResults[o[3]].isRevealed,children:"立直"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[3],"data-action":"ron-before",onClick:s,children:"→和上家"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[3],"data-action":"ron-self",onClick:s,children:"自摸"}),d.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl ml-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":o[3],"data-action":"reveal",onClick:s,"data-active":e.playerResults[o[3]].isRevealed?"1":"0",disabled:e.playerResults[o[3]].isRiichi,children:"副露"})]})})}),d.jsxs("tr",{children:[d.jsx("td",{className:"w-full px-2",children:d.jsx("span",{children:"役"})}),d.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4 pt-4",children:d.jsxs("div",{children:[d.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[o[3]].detail.dora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[3],"data-action":"dora-normal-minus",onClick:s,children:"-"}),"寶",e.playerResults[o[3]].detail.dora,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[3],"data-action":"dora-normal-plus",onClick:s,children:"+"})]}),d.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[o[3]].detail.redDora>0?"1":"0",children:[d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[3],"data-action":"dora-red-minus",onClick:s,children:"-"}),"赤",e.playerResults[o[3]].detail.redDora,d.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[3],"data-action":"dora-red-plus",onClick:s,children:"+"})]})]})})]}),d.jsx("tr",{children:d.jsx("td",{className:"w-1/2 px-2 h-16",colSpan:2,children:d.jsxs("button",{className:"py-2 text-left block","data-player-index":o[3],"data-action":"waitingTile",onClick:s,children:[d.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),d.jsx("div",{className:"inline-block space-x-1",children:(f=e.playerResults[o[3]].waitingTiles)==null?void 0:f.map(h=>d.jsx(No,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:h},h))})]})})}),d.jsxs("tr",{children:[d.jsxs("td",{className:"p-1 space-x-1 text-white",style:{background:t[o[3]].color},children:[d.jsx("img",{className:"w-8 h-8 inline-block",src:t[o[3]].teamPicUrl,alt:t[o[3]].title}),d.jsx("img",{className:"w-[1.44rem] h-8 inline-block",src:t[o[3]].proPicUrl,alt:t[o[3]].name}),d.jsxs("div",{className:"inline-block align-middle",children:[d.jsx("p",{children:t[o[3]].title}),d.jsx("p",{children:t[o[3]].name})]})]}),d.jsx("td",{className:"p-1 space-x-1 text-white text-4xl text-right pr-2",style:{background:t[o[3]].color},children:e.playerResults[o[3]].afterScore})]})]})})]})]})},qye=({tabs:t,onChangeValue:e,defaultValue:r})=>{const[n,i]=E.useState(r),o=E.useCallback(s=>{const a=s.currentTarget.getAttribute("data-value");i(a),e==null||e(a)},[e]);return d.jsx("div",{className:"border-b border-neutral-400",children:t.map(s=>d.jsx("button",{className:"py-2 px-4 border-b-2 border-transparent hover:bg-neutral-200 rounded-t data-[active='1']:border-teal-600 data-[active='1']:text-teal-800 data-[active='1']:bg-teal-100","data-value":s.value,"data-active":n===s.value?"1":"0",onClick:o,children:s.label},s.value))})};function DG({onChange:t,onChangeChecked:e,className:r,...n}){const i=E.useCallback(o=>{t==null||t(o),e==null||e(o.currentTarget.checked)},[t,e]);return d.jsx("input",{className:"mt-[0.3rem] mr-2 h-3.5 w-8 appearance-none rounded-[0.4375rem] bg-neutral-300 dark:bg-neutral-600 before:pointer-events-none before:absolute before:h-3.5 before:w-3.5 before:rounded-full before:bg-transparent before:content-[''] after:absolute after:z-[2] after:-mt-[0.1875rem] after:h-5 after:w-5 after:rounded-full after:border-none after:bg-neutral-100 dark:after:bg-neutral-400 after:shadow-[0_0px_3px_0_rgb(0_0_0_/_7%),_0_2px_2px_0_rgb(0_0_0_/_4%)] after:transition-[background-color_0.2s,transform_0.2s] after:content-[''] checked:bg-blue-600 dark:checked:bg-blue-600 checked:after:absolute checked:after:z-[2] checked:after:-mt-[3px] checked:after:ml-[1.0625rem] checked:after:h-5 checked:after:w-5 checked:after:rounded-full checked:after:border-none checked:after:bg-blue-600 dark:checked:after:bg-blue-600 checked:after:shadow-[0_3px_1px_-2px_rgba(0,0,0,0.2),_0_2px_2px_0_rgba(0,0,0,0.14),_0_1px_5px_0_rgba(0,0,0,0.12)] checked:after:transition-[background-color_0.2s,transform_0.2s] checked:after:content-[''] hover:cursor-pointer focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[3px_-1px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-5 focus:after:w-5 focus:after:rounded-full focus:after:content-[''] checked:focus:border-blue-600 checked:focus:bg-blue-600 checked:focus:before:ml-[1.0625rem] checked:focus:before:scale-100 checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",onChange:i,...n})}function Nx({han:t,fu:e,yakumanCount:r,yakumanCountMax:n=10,raw:i,isManganRoundUp:o,...s}){const a=E.useMemo(()=>{if(r&&r>0){const l=Math.min(n,r);return l===1?"役滿":l===2?"兩倍役滿":l===3?"三倍役滿":l===4?"四倍役滿":`${l}倍役滿`}return i?typeof e<"u"&&t<=4?`${t}飜${e}符`:`${t}飜`:t>=11?"三倍滿":t>=8?"倍滿":t>=6?"跳滿":t>=5||t>=4&&typeof e<"u"&&(e>=40||o&&e>=30)||t>=3&&typeof e<"u"&&(e>=70||o&&e>=60)?"滿貫":typeof e<"u"?`${t}飜${e}符`:`${t}飜`},[r,i,t,e,o,n]);return d.jsx("div",{...s,children:a})}const Nv=({options:t,value:e,onChange:r,disabled:n})=>{const[i,o]=E.useState(0),s=E.useMemo(()=>t[i],[i,t]),a=E.useCallback(()=>{const c=Math.max(0,i-1);o(c),r==null||r(t[c].value)},[i,r,t]),l=E.useCallback(()=>{const c=Math.min(t.length-1,i+1);o(c),r==null||r(t[c].value)},[i,r,t]);return E.useEffect(()=>{if(typeof e<"u"&&e!==s.value){const c=t.findIndex(u=>u.value===e);c!==-1&&o(c)}},[s.value,t,e]),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"shrink-0",children:d.jsx("button",{className:"w-4 h-4 text-center text-xs disabled:text-transparent",onClick:a,disabled:n||i===0,children:d.jsx("i",{className:"bi bi-dash-circle"})})}),d.jsx("div",{className:"flex-1 text-center text-2xl",children:s.label}),d.jsx("div",{className:"shrink-0",children:d.jsx("button",{className:"w-4 h-4 text-center text-xs disabled:text-transparent",onClick:l,disabled:n||i===t.length-1,children:d.jsx("i",{className:"bi bi-plus-circle"})})})]})},ju=[{id:"riichi",label:"立直",han:1,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||e["double-riichi"],group:"riichi"},{id:"double-riichi",label:"雙立直",han:2,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||e.riichi,group:"riichi"},{id:"ippatsu",label:"一發",han:1,hanIfOpened:0,disableFn:({raw:t})=>!(t.riichi||t["double-riichi"])||!!t.chankan,group:"riichi"},{id:"menzenchin-tsumohou",label:"門前清自摸和",han:1,hanIfOpened:0,hidden:!0,group:"menzenchin-tsumohou"},{id:"tanyao",label:"斷么九",han:1,hanIfOpened:1,disableFn:({raw:t})=>!!t.chantaiyao||!!t["junchan-taiyao"]||!!t["yakuhai-east"]||!!t["yakuhai-south"]||!!t["yakuhai-west"]||!!t["yakuhai-north"]||!!t["yakuhai-haku"]||!!t["yakuhai-hatsu"]||!!t["yakuhai-chun"]||!!t.honroutou||!!t.honitsu||!!t.ittsu,group:"common"},{id:"pinfu",label:"平和",han:1,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||!!e.chiitoitsu||!!e["yakuhai-east"]||!!e["yakuhai-south"]||!!e["yakuhai-west"]||!!e["yakuhai-north"]||!!e["yakuhai-haku"]||!!e["yakuhai-hatsu"]||!!e["yakuhai-chun"]||!!e.toitoi,group:"common"},{id:"yakuhai-east",label:"東",han:1,hanIfOpened:1,disableFn:({round:t,activePlayerIndex:e,raw:r})=>!Xn(e,t)&&!EG(t)||!!r.tanyao||!!r.pinfu||!!r.chiitoitsu||!!r.chinitsu||!!r["junchan-taiyao"]||!!r.ryanpeikou,group:"yakuhai"},{id:"yakuhai-double-east",label:"雙東",han:2,hanIfOpened:2,hidden:!0,group:"yakuhai-special"},{id:"yakuhai-south",label:"南",han:1,hanIfOpened:1,disableFn:({round:t,activePlayerIndex:e,raw:r})=>!_G(e,t)&&!AG(t)||!!r.tanyao||!!r.pinfu||!!r.chiitoitsu||!!r.chinitsu||!!r["junchan-taiyao"]||!!r.ryanpeikou,group:"yakuhai"},{id:"yakuhai-double-south",label:"雙南",han:2,hanIfOpened:2,hidden:!0,group:"yakuhai-special"},{id:"yakuhai-west",label:"西",han:1,hanIfOpened:1,disableFn:({round:t,activePlayerIndex:e,raw:r})=>!wG(e,t)&&!CG(t)||!!r.tanyao||!!r.pinfu||!!r.chiitoitsu||!!r.chinitsu||!!r["junchan-taiyao"]||!!r.ryanpeikou,group:"yakuhai"},{id:"yakuhai-double-west",label:"雙西",han:2,hanIfOpened:2,hidden:!0,group:"yakuhai-special"},{id:"yakuhai-north",label:"北",han:1,hanIfOpened:1,disableFn:({round:t,activePlayerIndex:e,raw:r})=>!SG(e,t)&&!TG(t)||!!r.tanyao||!!r.pinfu||!!r.chiitoitsu||!!r.chinitsu||!!r["junchan-taiyao"]||!!r.ryanpeikou,group:"yakuhai"},{id:"yakuhai-double-north",label:"雙北",han:2,hanIfOpened:2,hidden:!0,group:"yakuhai-special"},{id:"yakuhai-haku",label:"白",han:1,hanIfOpened:1,group:"yakuhai",disableFn:({raw:t})=>!!t.tanyao||!!t.pinfu||!!t.chiitoitsu||!!t.chinitsu||!!t["junchan-taiyao"]||!!t.ryanpeikou},{id:"yakuhai-hatsu",label:"發",han:1,hanIfOpened:1,group:"yakuhai",disableFn:({raw:t})=>!!t.tanyao||!!t.pinfu||!!t.chiitoitsu||!!t.chinitsu||!!t["junchan-taiyao"]||!!t.ryanpeikou},{id:"yakuhai-chun",label:"中",han:1,hanIfOpened:1,group:"yakuhai",disableFn:({raw:t})=>!!t.tanyao||!!t.pinfu||!!t.chiitoitsu||!!t.chinitsu||!!t["junchan-taiyao"]||!!t.ryanpeikou},{id:"shousangen",label:"小三元",han:2,hanIfOpened:2,disableFn:({raw:t})=>[t["yakuhai-haku"],t["yakuhai-hatsu"],t["yakuhai-chun"]].filter(e=>!!e).length!==2,group:"yakuhai"},{id:"haitei-raoyue",label:"海底撈月",han:1,hanIfOpened:1,disableFn:({targetPlayerIndex:t,raw:e})=>t!=="-1"||!!e["rinshan-kaihou"],hiddenIfDisabled:!0,group:"luck"},{id:"houtei-raoyui",label:"河底撈魚",han:1,hanIfOpened:1,disableFn:({targetPlayerIndex:t})=>t==="-1",hiddenIfDisabled:!0,group:"luck"},{id:"rinshan-kaihou",label:"嶺上開花",han:1,hanIfOpened:1,disableFn:({targetPlayerIndex:t,raw:e})=>t!=="-1"||!!e.pinfu||!!e.chiitoitsu||!!e.ryanpeikou||!!e["haitei-raoyue"],hiddenIfDisabled:!0,group:"luck"},{id:"chankan",label:"搶槓",han:1,hanIfOpened:1,disableFn:({targetPlayerIndex:t})=>t==="-1",hiddenIfDisabled:!0,group:"luck"},{id:"chiitoitsu",label:"七對子",han:2,hanIfOpened:0,overrideFu:25,disableFn:({isRevealed:t,raw:e})=>!!t||!!e.iipeikou||!!e.ryanpeikou||!!e.pinfu||!!e["sanshku-doujun"]||!!e.ittsu||!!e.chantaiyao||!!e["junchan-taiyao"]||!!e.toitoi||!!e["sanshku-doukou"]||!!e.sanankou||!!e.sankantsu||!!e["rinshan-kaihou"],group:"peikou"},{id:"iipeikou",label:"一盃口",han:1,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||!!e.ryanpeikou||!!e.chiitoitsu||!!e.honroutou||!!e.toitoi||!!e["sanshku-doukou"]||!!e.sanankou||!!e.sankantsu,group:"peikou"},{id:"ryanpeikou",label:"二盃口",han:3,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||!!e.iipeikou||!!e.chiitoitsu||!!e["rinshan-kaihou"]||!!e["sanshku-doujun"]||!!e.ittsu||!!e.honroutou||!!e.toitoi||!!e["sanshku-doukou"]||!!e.sanankou||!!e.sankantsu||!!e["yakuhai-east"]||!!e["yakuhai-south"]||!!e["yakuhai-west"]||!!e["yakuhai-north"]||!!e["yakuhai-haku"]||!!e["yakuhai-hatsu"]||!!e["yakuhai-chun"],group:"peikou"},{id:"sanshku-doujun",label:"三色同順",han:2,hanIfOpened:1,disableFn:({raw:t})=>!!t["sanshku-doukou"]||!!t.sanankou||!!t.chiitoitsu||!!t.ittsu||!!t.sankantsu||!!t.ryanpeikou||!!t.honroutou||!!t.chinitsu||!!t.honitsu||!!t.toitoi,group:"row"},{id:"ittsu",label:"一氣通貫",han:2,hanIfOpened:1,disableFn:({raw:t})=>!!t["sanshku-doukou"]||!!t.sanankou||!!t.chiitoitsu||!!t.tanyao||!!t["sanshku-doujun"]||!!t.sankantsu||!!t.ryanpeikou||!!t.honroutou||!!t.chantaiyao||!!t["junchan-taiyao"]||!!t.toitoi,group:"row"},{id:"honitsu",label:"混一色",han:3,hanIfOpened:2,disableFn:({raw:t})=>!!t.chinitsu||!!t.tanyao||!!t["junchan-taiyao"]||!!t["sanshku-doujun"]||!!t["sanshku-doukou"],group:"itsu"},{id:"chinitsu",label:"清一色",han:6,hanIfOpened:5,disableFn:({raw:t})=>!!t.honitsu||!!t.honroutou||!!t.chantaiyao||!!t["sanshku-doukou"],group:"itsu"},{id:"chantaiyao",label:"混全帶么九",han:2,hanIfOpened:1,disableFn:({raw:t})=>!!t.tanyao||!!t["junchan-taiyao"]||!!t.honroutou||!!t.chiitoitsu||!!t.chinitsu||!!t.ittsu||!!t.toitoi,group:"taiyao"},{id:"junchan-taiyao",label:"純全帶么九",han:3,hanIfOpened:2,disableFn:({raw:t})=>!!t.tanyao||!!t.chantaiyao||!!t.honroutou||!!t.chiitoitsu||!!t.ittsu||!!t.honitsu||!!t.toitoi,group:"taiyao"},{id:"honroutou",label:"混老頭",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t.tanyao||!!t.chantaiyao||!!t["junchan-taiyao"]||!!t.chinitsu||!!t.iipeikou||!!t.ryanpeikou,group:"taiyao"},{id:"toitoi",label:"對對和",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t["sanshku-doujun"]||!!t.chiitoitsu||!!t.chantaiyao||!!t["junchan-taiyao"]||!!t.ittsu||!!t.iipeikou||!!t.ryanpeikou,group:"column"},{id:"sanshku-doukou",label:"三色同刻",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t["sanshku-doujun"]||!!t.chiitoitsu||!!t.ittsu||!!t.chinitsu||!!t.iipeikou||!!t.ryanpeikou||!!t.honitsu,group:"column"},{id:"sanankou",label:"三暗刻",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t["sanshku-doujun"]||!!t.chiitoitsu||!!t.ittsu||!!t.iipeikou||!!t.ryanpeikou,group:"column"},{id:"sankantsu",label:"三槓子",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t["sanshku-doujun"]||!!t.chiitoitsu||!!t.ittsu||!!t.iipeikou||!!t.ryanpeikou,group:"column"},{id:"kokushi-musou",label:"國士無雙",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({raw:t,isRevealed:e})=>!!e||!!t.suuankou||!!t["suuankou-dannki"]||!!t.daisangen||!!t.shousuushii||!!t.daisuushii||!!t.tsuuiisou||!!t.chinroutou||!!t.suukantsu||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"]||!!t["kokushi-musou-jsuan-men"],group:"kokushi-musou"},{id:"kokushi-musou-jsuan-men",label:"國士無雙十三面",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({raw:t,isRevealed:e})=>!!e||!!t.suuankou||!!t["suuankou-dannki"]||!!t.daisangen||!!t.shousuushii||!!t.daisuushii||!!t.tsuuiisou||!!t.chinroutou||!!t.suukantsu||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"]||!!t["kokushi-musou"],group:"kokushi-musou"},{id:"daisangen",label:"大三元",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.shousuushii||!!t.daisuushii||!!t.chinroutou||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"kan"},{id:"shousuushii",label:"小四喜",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.daisangen||!!t.daisuushii||!!t.chinroutou||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"kan"},{id:"daisuushii",label:"大四喜",han:26,hanIfOpened:26,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.daisangen||!!t.shousuushii||!!t.chinroutou||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"kan"},{id:"chinroutou",label:"清老頭",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.shousuushii||!!t.daisangen||!!t.daisuushii||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"kan"},{id:"ryuuiisou",label:"綠一色",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.shousuushii||!!t.daisangen||!!t.daisuushii||!!t.chinroutou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"]||!!t.tsuuiisou,group:"ryuuiisou"},{id:"tsuuiisou",label:"字一色",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.chinroutou||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"combo"},{id:"suuankou",label:"四暗刻",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,raw:e})=>!!t||!!e["kokushi-musou"]||!!e["chuuren-poutou"]||!!e["pure-chuuren-poutou"]||!!e["suuankou-dannki"],group:"combo"},{id:"suuankou-dannki",label:"四暗刻單騎",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,raw:e})=>!!t||!!e["kokushi-musou"]||!!e["chuuren-poutou"]||!!e["pure-chuuren-poutou"]||!!e.suuankou,group:"combo"},{id:"suukantsu",label:"四槓子",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"]||!!t.tenhou||!!t.chiihou||!!t.ronhou,group:"combo"},{id:"chuuren-poutou",label:"九連寶燈",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,raw:e})=>!!t||!!e["kokushi-musou"]||!!e.daisangen||!!e.shousuushii||!!e.daisuushii||!!e.chinroutou||!!e.ryuuiisou||!!e.tsuuiisou||!!e.suuankou||!!e["suuankou-dannki"]||!!e.suukantsu||!!e["pure-chuuren-poutou"],group:"chuuren-poutou"},{id:"pure-chuuren-poutou",label:"純正九連寶燈",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,raw:e})=>!!t||!!e["kokushi-musou"]||!!e.daisangen||!!e.shousuushii||!!e.daisuushii||!!e.chinroutou||!!e.ryuuiisou||!!e.tsuuiisou||!!e.suuankou||!!e["suuankou-dannki"]||!!e.suukantsu||!!e["chuuren-poutou"],group:"chuuren-poutou"},{id:"tenhou",label:"天和",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,round:e,activePlayerIndex:r,targetPlayerIndex:n,raw:i})=>!!t||!Xn(r,e)||n!=="-1"||!!i.suukantsu,hiddenIfDisabled:!0,group:"hou"},{id:"chiihou",label:"地和",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,round:e,activePlayerIndex:r,targetPlayerIndex:n,raw:i})=>!!t||!!Xn(r,e)||n!=="-1"||!!i.suukantsu,hiddenIfDisabled:!0,group:"hou"},{id:"ronhou",label:"人和",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,round:e,activePlayerIndex:r,targetPlayerIndex:n,raw:i})=>!!t||!!Xn(r,e)||n==="-1"||!!i.suukantsu,hiddenIfDisabled:!0,group:"hou"}],IF=ju.filter(({yakumanCount:t,hidden:e})=>!t&&!e),Hye=IF.map(t=>t.group).filter((t,e)=>IF.findIndex(({group:r})=>t===r)===e),NF=ju.filter(({yakumanCount:t,hidden:e})=>typeof t<"u"&&t>0&&!e),Kye=NF.map(t=>t.group).filter((t,e)=>NF.findIndex(({group:r})=>t===r)===e),kF=[{label:"0",value:"0"},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8",value:"8"},{label:"9",value:"9"},{label:"10",value:"10"},{label:"11",value:"11"},{label:"12",value:"12"},{label:"13",value:"13"},{label:"14",value:"14"},{label:"15",value:"15"},{label:"16",value:"16"},{label:"17",value:"17"},{label:"18",value:"18"}],Yye=[{label:"0",value:"0"},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"}],Qye=[{label:"30符",value:"30"},{label:"40符",value:"40"},{label:"50符",value:"50"},{label:"60符",value:"60"},{label:"70符",value:"70"},{label:"80符",value:"80"},{label:"90符",value:"90"},{label:"100符",value:"100"},{label:"110符",value:"110"},{label:"20符",value:"20"},{label:"25符",value:"25"}],OF=({yaku:t,active:e,isRevealed:r,disabled:n,onClick:i,hiddenIfDisabled:o})=>n&&o?d.jsx(d.Fragment,{}):d.jsx("button",{"data-id":t.id,"data-han":r?t.hanIfOpened:t.han,"data-active":e?"1":"0",disabled:n,className:"text-xl text-center px-3 border border-neutral-300 text-neutral-800 cursor-pointer hover:opacity-80 data-[han='0']:cursor-not-allowed disabled:opacity-20 disabled:hover:opacity-20 data-[active='1']:enabled:border-teal-800 data-[active='1']:enabled:text-white data-[active='1']:enabled:bg-teal-800 disabled:cursor-not-allowed",onClick:i,children:t.label},t.id),MG=({round:t,activePlayerIndex:e,targetPlayerIndex:r,onChange:n,value:i})=>{const[o,s]=E.useState({}),[a,l]=So(!1),[c,u]=So(!1),[f,h]=E.useState("0"),[p,m]=E.useState("0"),[y,g]=E.useState("0"),[b,v]=E.useState("30"),x=E.useCallback(A=>{const C=A.currentTarget.getAttribute("data-id");!C||!ju.find(({id:T})=>T===C)||s(T=>({...T,[C]:!T[C]}))},[]),S=E.useCallback(()=>{s({}),l(!1),h("0"),m("0"),g("0"),v("30")},[l]),_=E.useMemo(()=>({activePlayerIndex:e,targetPlayerIndex:r,round:t,isRevealed:a,raw:o}),[e,a,t,r,o]),w=E.useMemo(()=>{let A=parseInt(b),C=!1;const I=[],T={...o};r==="-1"&&!a&&(T["menzenchin-tsumohou"]=!0),T["yakuhai-east"]&&EG(t)&&Xn(e,t)?(T["yakuhai-east"]=!1,T["yakuhai-double-east"]=!0):T["yakuhai-south"]&&AG(t)&&_G(e,t)?(T["yakuhai-south"]=!1,T["yakuhai-double-south"]=!0):T["yakuhai-west"]&&CG(t)&&wG(e,t)?(T["yakuhai-west"]=!1,T["yakuhai-double-west"]=!0):T["yakuhai-north"]&&TG(t)&&SG(e,t)&&(T["yakuhai-north"]=!1,T["yakuhai-double-north"]=!0),T["yakuhai-haku"]&&T["yakuhai-hatsu"]&&T["yakuhai-chun"]&&(T.daisangen=!0);const P=ju.filter(({id:N,disableFn:R})=>!!T[N]&&!(R!=null&&R(_))),O=P.filter(({yakumanCount:N})=>typeof N<"u"&&N>0);if(O.length>0)for(const N of O)N.yakumanCount&&N.yakumanCount>0&&I.push({id:N.id,label:N.label,han:0,yakumanCount:N.yakumanCount});else if(P.length>0){for(const N of P){const R=a?N.hanIfOpened:N.han;R!==0&&I.push({id:N.id,label:N.label,han:R,yakumanCount:0})}I.findIndex(({id:N})=>N==="chiitoitsu")!==-1?(C=!0,A=25):I.findIndex(({id:N})=>N==="pinfu")!==-1&&(C=!0,A=r==="-1"?20:30),f!=="0"&&I.push({id:`dora-${f}`,label:`寶牌${f}`,han:parseInt(f),yakumanCount:0}),p!=="0"&&I.push({id:`dora-${p}`,label:`赤寶牌${p}`,han:parseInt(p),yakumanCount:0}),y!=="0"&&I.push({id:`dora-${y}`,label:`裡寶牌${y}`,han:parseInt(y),yakumanCount:0})}return{han:I.reduce((N,{han:R})=>N+R,0),fu:A,yakumanCount:I.reduce((N,{yakumanCount:R})=>N+R,0),yakus:I,isFuOverrided:C,raw:o,dora:parseInt(f),redDora:parseInt(p),innerDora:parseInt(y),isRevealed:a,isRiichied:!!o.riichi}},[b,o,r,a,t,f,p,y,_]);return E.useEffect(()=>{n&&n(w)},[w,n]),E.useEffect(()=>{i&&(s(i.raw??{}),h(i.dora.toString()),m(i.redDora.toString()),g("0"),l(i.isRevealed))},[l,i]),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between mb-2",children:[d.jsxs("div",{children:[d.jsx(DG,{checked:a,onChangeChecked:l})," ","有副露？"]}),d.jsxs("div",{className:"space-x-4",children:[d.jsx("button",{className:"text-sm text-teal-700 underline",onClick:u,children:c?"一般役":"役滿役"}),d.jsx("button",{className:"text-sm text-teal-700 underline",onClick:S,children:"重置"})]})]}),!c&&d.jsxs("div",{children:[d.jsx("div",{className:"flex flex-wrap gap-y-4 gap-x-8",children:Hye.map(A=>d.jsx("div",{className:"flex flex-wrap gap-2",children:ju.filter(({group:C})=>C===A).map(C=>{var I;return d.jsx(OF,{yaku:C,isRevealed:a,active:o[C.id],disabled:(I=C.disableFn)==null?void 0:I.call(C,_),hiddenIfDisabled:C.hiddenIfDisabled,onClick:x,children:C.label},C.id)})},A))}),d.jsx("table",{className:"w-full mt-2",children:d.jsx("tbody",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"w-20 bg-yellow-400 px-1 border-yellow-100 border-t border-b",children:"寶牌"}),d.jsx("td",{className:"w-36 py-1 px-2 bg-yellow-200 data-[active='1']:text-red-600","data-active":f!=="0"?"1":"0",children:d.jsx(Nv,{value:f,onChange:h,options:kF})}),d.jsx("td",{className:"w-2"}),d.jsx("th",{className:"w-20 bg-red-400 px-1 border-neutral-100 border-t border-b",children:"赤寶牌"}),d.jsx("td",{className:"w-36 py-1 px-2 bg-red-200 data-[active='1']:text-red-600","data-active":p!=="0"?"1":"0",children:d.jsx(Nv,{value:p,onChange:m,options:Yye})}),d.jsx("td",{className:"w-2"}),d.jsx("th",{className:"w-20 bg-blue-400 px-1 border-neutral-100 border-t border-b",children:"裡寶牌"}),d.jsx("td",{className:"w-36 py-1 px-2 bg-blue-200 data-[active='1']:text-red-600","data-active":y!=="0"?"1":"0",children:d.jsx(Nv,{value:y,onChange:g,options:kF})}),d.jsx("td",{className:"w-2"}),d.jsx("th",{className:"w-20 bg-neutral-400 px-1 border-neutral-100 border-t border-b",children:"符數"}),d.jsx("td",{className:"w-36 py-1 px-2 bg-neutral-200",children:d.jsx(Nv,{value:w.isFuOverrided?w.fu.toString():b,onChange:v,options:Qye,disabled:w.isFuOverrided})})]})})})]}),c&&d.jsx("div",{className:"flex flex-wrap gap-y-4 gap-x-8",children:Kye.map(A=>d.jsx("div",{className:"flex flex-wrap gap-2",children:ju.filter(({group:C})=>C===A).map(C=>{var I;return d.jsx(OF,{yaku:C,isRevealed:a,active:o[C.id],disabled:(I=C.disableFn)==null?void 0:I.call(C,_),hiddenIfDisabled:C.hiddenIfDisabled,onClick:x,children:C.label},C.id)})},A))})]})},Xye=({result:t,matchSetting:e})=>{var r;return d.jsx("div",{children:d.jsx("table",{className:"w-full mt-2 bg-teal-100",children:d.jsx("tbody",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"w-16 bg-teal-400 py-2 px-1",children:"結算"}),d.jsx("td",{className:"flex flex-wrap gap-2 p-2 align-middle",children:(r=t.yakus)==null?void 0:r.map(({label:n})=>d.jsx("span",{children:n},n))}),d.jsxs("td",{className:"w-32 bg-teal-400 text-center",children:[d.jsx(Nx,{han:t.han,fu:t.fu,yakumanCount:t.yakumanCount,isManganRoundUp:e.isManganRoundUp==="1",yakumanCountMax:kG(e.yakumanMax)}),d.jsx(Nx,{className:"text-xs text-neutral-600",han:t.han,fu:t.fu,yakumanCount:t.yakumanCount,isManganRoundUp:e.isManganRoundUp==="1",raw:!0})]})]})})})})},Jye=({onSubmit:t,defaultValue:e,open:r,onClose:n,...i})=>{const[o,s]=E.useState(),a=E.useCallback(()=>{o&&t(o)},[t,o]);return E.useEffect(()=>{s(e)},[e]),d.jsxs(Kn,{open:r,onClose:n,children:[d.jsx(MG,{...i,onChange:s,value:e}),d.jsx("div",{className:"mt-4",children:d.jsx(De,{className:"w-full",onClick:a,children:"儲存"})})]})};function is({className:t,onChange:e,onChangeValue:r,...n}){const i=E.useMemo(()=>`block w-full rounded-md border-0 px-1 py-[9px] text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 ${t}`,[t]),o=E.useCallback(s=>{e==null||e(s),r==null||r(s.currentTarget.value)},[e,r]);return d.jsx("select",{className:i,onChange:o,...n})}function Zye({score:t,...e}){const r=E.useMemo(()=>t?t.target?t.target:t.all?`${t.all} ALL`:`${t.others},${t.east}`:"(錯誤)",[t]);return d.jsx("div",{...e,children:r})}function wn({children:t,label:e,action:r,...n}){return d.jsx("div",{...n,children:d.jsxs("label",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("p",{className:"text-sm text-gray-800 font-bold",children:e}),d.jsx("div",{children:r})]}),d.jsx("div",{children:t})]})})}function FG({match:t,currentMatchRound:e,initialActivePlayerIndex:r="0",initialTargetPlayerIndex:n="-1",submitNode:i=d.jsxs("span",{children:[d.jsx("i",{className:"bi bi-camera-reels-fill"})," 提交並播出分數變動動畫"]}),onSubmit:o}){const[s,a]=E.useState({han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}),l=E.useMemo(()=>Object.keys(t.players).map(P=>({index:P.toString(),name:`${t.players[P].name} (${t.players[P].nickname})`,position:Lc(P,e.roundCount)})),[t.players,e.roundCount]),[c,u]=E.useState(r??"0"),f=E.useMemo(()=>typeof c<"u"?l==null?void 0:l.find(({index:T})=>T===c):void 0,[c,l]),[h,p]=E.useState(n),m=E.useMemo(()=>{const T=xF(s.han,s.fu,s.yakumanCount,(f==null?void 0:f.position)===$n.East,h!=="-1",{roundUp:t.setting.isManganRoundUp==="1",yakumanMax:t.setting.yakumanMax});return e.extendedRoundCount>0&&(T.win+=e.extendedRoundCount*300,T.target&&(T.target+=e.extendedRoundCount*300),T.all&&(T.all+=e.extendedRoundCount*100),T.east&&(T.east+=e.extendedRoundCount*100),T.others&&(T.others+=e.extendedRoundCount*100)),e.cumulatedThousands>0&&(T.win+=e.cumulatedThousands*1e3),T},[s.han,s.fu,s.yakumanCount,f==null?void 0:f.position,h,t.setting.isManganRoundUp,t.setting.yakumanMax,e.extendedRoundCount,e.cumulatedThousands]),y=E.useMemo(()=>s.isRevealed&&s.yakus&&s.yakus.findIndex(({id:T})=>T==="daisangen")!==-1,[s.isRevealed,s.yakus]),[g,b]=E.useState("-1"),v=E.useMemo(()=>s.isRevealed&&s.yakus&&s.yakus.findIndex(({id:T})=>T==="daisuushii")!==-1,[s.isRevealed,s.yakus]),[x,S]=E.useState("-1"),_=E.useMemo(()=>s.isRevealed&&s.yakus&&s.yakus.findIndex(({id:T})=>T==="suukantsu")!==-1,[s.isRevealed,s.yakus]),[w,A]=E.useState("-1"),C=E.useMemo(()=>{const T=Object.keys(e.playerResults),P={0:{...e.playerResults[0],beforeScore:e.playerResults[0].beforeScore,afterScore:e.playerResults[0].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[0].scoreChanges??[]},1:{...e.playerResults[1],beforeScore:e.playerResults[1].beforeScore,afterScore:e.playerResults[1].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[1].scoreChanges??[]},2:{...e.playerResults[2],beforeScore:e.playerResults[2].beforeScore,afterScore:e.playerResults[2].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[2].scoreChanges??[]},3:{...e.playerResults[3],beforeScore:e.playerResults[3].beforeScore,afterScore:e.playerResults[3].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[3].scoreChanges??[]}};if(c===h)return P;for(let N=0;N<T.length;N+=1){const R=T[N];R===c?(P[R].afterScore+=m.win,P[R].type=yt.Win,P[R].scoreChanges=[m.win]):m.target&&R===h?(P[R].afterScore-=m.target,P[R].type=yt.Lose,P[R].scoreChanges=[-m.target]):m.all?(P[R].afterScore-=m.all,P[R].type=yt.Lose,P[R].scoreChanges=[-m.all]):m.east&&m.others&&(Xn(R,e.roundCount)?(P[R].afterScore-=m.east,P[R].type=yt.Lose,P[R].scoreChanges=[-m.east]):(P[R].afterScore-=m.others,P[R].type=yt.Lose,P[R].scoreChanges=[-m.others]))}[{bool:y,triggeredPlayerIndex:g,yakuId:"daisangen"},{bool:v,triggeredPlayerIndex:x,yakuId:"daisuushii"},{bool:_,triggeredPlayerIndex:w,yakuId:"suukantsu"}].forEach(({bool:N,triggeredPlayerIndex:R,yakuId:L})=>{var U;if(N&&R!=="-1"&&R!==c&&R!==h){const V=(U=s.yakus)==null?void 0:U.find(({id:D})=>L===D);if(V){const D=xF(1,30,V.yakumanCount,Xn(c,e.roundCount),h!=="-1",{roundUp:t.setting.isManganRoundUp==="1",yakumanMax:t.setting.yakumanMax});if(D.target){const F=Math.round(D.target/2);P[h].afterScore+=F,P[h].scoreChanges[0]+=F,P[h].scoreChanges[0]===0&&P[h].scoreChanges.splice(0,1),P[R].afterScore-=F,typeof P[R].scoreChanges[0]>"u"?P[R].scoreChanges.push(-F):P[R].scoreChanges[0]-=F}else if(D.all)for(let F=0;F<T.length;F+=1){const G=D.all;T[F]!==c&&T[F]!==R&&(P[T[F]].afterScore+=G,P[T[F]].scoreChanges[0]+=G,P[T[F]].scoreChanges[0]===0&&P[T[F]].scoreChanges.splice(0,1),P[R].afterScore-=G,typeof P[R].scoreChanges[0]>"u"?P[R].scoreChanges.push(-G):P[R].scoreChanges[0]-=G)}else if(D.east&&D.others){for(let F=0;F<T.length;F+=1)if(T[F]!==c&&T[F]!==R){const G=Xn(T[F],e.roundCount)?D.east:D.others;P[T[F]].afterScore+=G,P[T[F]].scoreChanges[0]+=G,P[T[F]].scoreChanges[0]===0&&P[T[F]].scoreChanges.splice(0,1),P[R].afterScore-=G,typeof P[R].scoreChanges[0]>"u"?P[R].scoreChanges.push(-G):P[R].scoreChanges[0]-=G}}}}},[]);let O=0;for(let N=0;N<T.length;N+=1){const R=T[N];R!==c&&P[R].isRiichi&&(P[R].afterScore-=1e3,P[R].scoreChanges.unshift(-1e3),O+=1e3)}return c&&O>0&&(P[c].afterScore+=O,P[c].scoreChanges.unshift(O)),P[c].detail=s,P},[c,m.all,m.east,m.others,m.target,m.win,e.playerResults,e.roundCount,y,v,_,t.setting.isManganRoundUp,t.setting.yakumanMax,h,s,g,x,w]),I=E.useCallback(()=>{if(!o||!s)return;const T={...e,resultType:dye(m),playerResults:C,nextRoundCumulatedThousands:0,resultDetail:{winnerPlayerIndex:c,...s,yakus:s.yakus??[]}};o(T)},[c,m,e,o,C,s]);return E.useEffect(()=>{u(r),p(n),a(e.playerResults[r].detail)},[e.playerResults,r,n]),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex gap-x-4 items-center",children:[d.jsx("div",{className:"flex-1",children:d.jsx(is,{value:c,onChangeValue:u,children:l.map(({index:T,name:P})=>d.jsx("option",{value:T,children:P},T))})}),d.jsx("div",{className:"text-xs text-gray-500",children:"和了"}),d.jsx("div",{className:"flex-1",children:d.jsxs(is,{value:h,onChangeValue:p,children:[d.jsx("option",{value:"-1",children:"自摸"}),l.map(({index:T,name:P})=>d.jsx("option",{value:T,children:P},T))]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h5",{className:"font-bold",children:"役種"}),d.jsxs("div",{children:[d.jsx(MG,{round:e.roundCount,activePlayerIndex:c,targetPlayerIndex:h,onChange:a,value:e.playerResults[c].detail}),d.jsx(Xye,{result:s,matchSetting:t.setting}),d.jsx("div",{className:"text-3xl font-bold text-center bg-teal-400 py-2",children:d.jsx(Zye,{score:m})})]})]}),(y||v||_)&&d.jsxs("div",{className:"space-y-2 bg-yellow-200 p-4",children:[d.jsx("h5",{className:"font-bold",children:"包牌"}),d.jsxs("p",{children:["當某家打出的牌被鳴牌後，導致役滿確定時（大三元、大四喜、四槓子），便會觸發「包牌」。",d.jsx("br",{}),"- 如自摸，包牌者需支付該役種全部點數",d.jsx("br",{}),"- 如他家放銃，包牌者需支付該役種一半點數"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y&&d.jsx(wn,{label:"大三元包牌者",children:d.jsxs(is,{value:g,onChangeValue:b,children:[d.jsx("option",{value:"-1",children:"沒有包牌"}),l.map(({index:T,name:P})=>d.jsx("option",{value:T,children:P},T))]})}),v&&d.jsx(wn,{label:"大四喜包牌者",children:d.jsxs(is,{value:x,onChangeValue:S,children:[d.jsx("option",{value:"-1",children:"沒有包牌"}),l.map(({index:T,name:P})=>d.jsx("option",{value:T,children:P},T))]})}),_&&d.jsx(wn,{label:"四槓子包牌者",children:d.jsxs(is,{value:w,onChangeValue:A,children:[d.jsx("option",{value:"-1",children:"沒有包牌"}),l.map(({index:T,name:P})=>d.jsx("option",{value:T,children:P},T))]})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h5",{className:"font-bold",children:"分數變動"}),d.jsxs("table",{className:"data-table w-full text-lg",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"玩家"}),d.jsx("th",{children:"目前分數"}),d.jsx("th",{children:"變動"}),d.jsx("th",{children:"最新分數"})]})}),d.jsx("tbody",{children:Object.keys(t.players).map(T=>d.jsxs("tr",{children:[d.jsx("th",{className:"text-white py-1",style:{background:t.players[T].color},children:t.players[T].name}),d.jsx("td",{className:"px-2 text-center w-32",children:C[T].beforeScore}),d.jsx("td",{className:"text-center w-32",children:d.jsx(Mt,{signed:!0,value:C[T].afterScore-C[T].beforeScore,positiveClassName:"text-green-400",negativeClassName:"text-red-400"})}),d.jsx("td",{className:"text-center w-32",children:C[T].afterScore})]},T))})]})]}),d.jsx("div",{className:"space-y-2",children:d.jsx(De,{onClick:I,className:"w-full",disabled:!(s!=null&&s.yakus)||s.yakus.length<=0,children:i})})]})}function LG({match:t,currentMatchRound:e,submitNode:r=d.jsxs("span",{children:[d.jsx("i",{className:"bi bi-camera-reels-fill"})," 提交並播出分數變動動畫"]}),onSubmit:n}){const[i,o]=E.useState({0:!1,1:!1,2:!1,3:!1}),s=E.useCallback(c=>{var h,p;const u=(h=c.currentTarget)==null?void 0:h.checked,f=(p=c.currentTarget)==null?void 0:p.getAttribute("data-player-index");typeof u>"u"||!f||o(m=>({...m,[f]:u}))},[]),a=E.useMemo(()=>{const c=Object.keys(e.playerResults),u={0:{...e.playerResults[0],beforeScore:e.playerResults[0].beforeScore,afterScore:e.playerResults[0].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[0].prevScoreChanges??[]},1:{...e.playerResults[1],beforeScore:e.playerResults[1].beforeScore,afterScore:e.playerResults[1].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[1].prevScoreChanges??[]},2:{...e.playerResults[2],beforeScore:e.playerResults[2].beforeScore,afterScore:e.playerResults[2].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[2].prevScoreChanges??[]},3:{...e.playerResults[3],beforeScore:e.playerResults[3].beforeScore,afterScore:e.playerResults[3].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[3].prevScoreChanges??[]}};let f=0,h=0;const p=Object.values(i).filter(m=>!!m).length;p===1?(f=3e3,h=1e3):p===2?(f=1500,h=1500):p===3&&(f=1e3,h=3e3);for(let m=0;m<c.length;m+=1){const y=c[m];f&&h&&(i[y]?(u[y].afterScore+=f,u[y].type=yt.Win,u[y].scoreChanges=[f]):(u[y].afterScore-=h,u[y].type=yt.Lose,u[y].scoreChanges=[-h])),u[y].isRiichi&&(u[y].afterScore-=1e3,u[y].scoreChanges.unshift(-1e3))}return u},[e.playerResults,i]),l=E.useCallback(()=>{if(!n)return;const c={...e,resultType:Qe.Exhausted,playerResults:a,nextRoundCumulatedThousands:e.cumulatedThousands+Object.values(a).filter(({isRiichi:u})=>!!u).length};n(c)},[e,n,a]);return E.useEffect(()=>{var c,u,f,h;o({0:!!e.playerResults[0].waitingTiles&&((c=e.playerResults[0].waitingTiles)==null?void 0:c.length)>0,1:!!e.playerResults[1].waitingTiles&&((u=e.playerResults[1].waitingTiles)==null?void 0:u.length)>0,2:!!e.playerResults[2].waitingTiles&&((f=e.playerResults[2].waitingTiles)==null?void 0:f.length)>0,3:!!e.playerResults[3].waitingTiles&&((h=e.playerResults[3].waitingTiles)==null?void 0:h.length)>0})},[e.playerResults]),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h5",{className:"font-bold",children:"分數變動"}),d.jsxs("table",{className:"data-table w-full text-lg",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"玩家"}),d.jsx("th",{className:"!bg-yellow-200",children:"聽牌？"}),d.jsx("th",{className:"w-32",children:"目前分數"}),d.jsx("th",{className:"w-32",children:"變動"}),d.jsx("th",{className:"w-32",children:"最新分數"})]})}),d.jsx("tbody",{children:Object.keys(t.players).map(c=>d.jsxs("tr",{children:[d.jsx("th",{className:"text-white py-1",style:{background:t.players[c].color},children:t.players[c].name}),d.jsx("td",{className:"text-center !bg-yellow-200",children:d.jsx(DG,{checked:i[c],onChange:s,"data-player-index":c})}),d.jsx("td",{className:"text-center",children:a[c].beforeScore}),d.jsx("td",{className:"text-center",children:d.jsx(Mt,{signed:!0,value:a[c].afterScore-a[c].beforeScore,positiveClassName:"text-green-400",negativeClassName:"text-red-400"})}),d.jsx("td",{className:"text-center",children:a[c].afterScore})]},c))})]})]}),d.jsx("div",{className:"space-y-2",children:d.jsx(De,{onClick:l,className:"w-full",children:r})})]})}var _g=t=>t.type==="checkbox",$u=t=>t instanceof Date,xn=t=>t==null;const BG=t=>typeof t=="object";var pr=t=>!xn(t)&&!Array.isArray(t)&&BG(t)&&!$u(t),UG=t=>pr(t)&&t.target?_g(t.target)?t.target.checked:t.target.value:t,ege=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,VG=(t,e)=>t.has(ege(e)),tge=t=>{const e=t.constructor&&t.constructor.prototype;return pr(e)&&e.hasOwnProperty("isPrototypeOf")},CO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wi(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(CO&&(t instanceof Blob||t instanceof FileList))&&(r||pr(t)))if(e=r?[]:{},!r&&!tge(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Wi(t[n]));else return t;return e}var wg=t=>Array.isArray(t)?t.filter(Boolean):[],qt=t=>t===void 0,se=(t,e,r)=>{if(!e||!pr(t))return r;const n=wg(e.split(/[,[\].]+?/)).reduce((i,o)=>xn(i)?i:i[o],t);return qt(n)||n===t?qt(t[e])?r:t[e]:n},Eo=t=>typeof t=="boolean";const kx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rge=k.createContext(null),TO=()=>k.useContext(rge);var WG=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==Xi.all&&(e._proxyFormState[s]=!n||Xi.all),r&&(r[s]=!0),t[s]}});return i},vi=t=>pr(t)&&!Object.keys(t).length,zG=(t,e,r,n)=>{r(t);const{name:i,...o}=t;return vi(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!n||Xi.all))},z0=t=>Array.isArray(t)?t:[t],GG=(t,e,r)=>!t||!e||t===e||z0(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function PO(t){const e=k.useRef(t);e.current=t,k.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function nge(t){const e=TO(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,a]=k.useState(r._formState),l=k.useRef(!0),c=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=k.useRef(i);return u.current=i,PO({disabled:n,next:f=>l.current&&GG(u.current,f.name,o)&&zG(f,c.current,r._updateFormState)&&a({...r._formState,...f}),subject:r._subjects.state}),k.useEffect(()=>(l.current=!0,c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),WG(s,r,c.current,!1)}var ko=t=>typeof t=="string",qG=(t,e,r,n,i)=>ko(t)?(n&&e.watch.add(t),se(r,t,i)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),se(r,o))):(n&&(e.watchAll=!0),r);function qa(t){const e=TO(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},a=k.useRef(n);a.current=n,PO({disabled:o,subject:r._subjects.values,next:u=>{GG(a.current,u.name,s)&&c(Wi(qG(a.current,r._names,u.values||r._formValues,!1,i)))}});const[l,c]=k.useState(r._getWatch(n,i));return k.useEffect(()=>r._removeUnmounted()),l}var IO=t=>/^\w*$/.test(t),HG=t=>wg(t.replace(/["|']|\]/g,"").split(/\.|\[/));function _t(t,e,r){let n=-1;const i=IO(e)?[e]:HG(e),o=i.length,s=o-1;for(;++n<o;){const a=i[n];let l=r;if(n!==s){const c=t[a];l=pr(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}t[a]=l,t=t[a]}return t}function ige(t){const e=TO(),{name:r,disabled:n,control:i=e.control,shouldUnregister:o}=t,s=VG(i._names.array,r),a=qa({control:i,name:r,defaultValue:se(i._formValues,r,se(i._defaultValues,r,t.defaultValue)),exact:!0}),l=nge({control:i,name:r}),c=k.useRef(i.register(r,{...t.rules,value:a}));return c.current=i.register(r,t.rules),k.useEffect(()=>{const u=i._options.shouldUnregister||o,f=(h,p)=>{const m=se(i._fields,h);m&&(m._f.mount=p)};if(f(r,!0),u){const h=Wi(se(i._options.defaultValues,r));_t(i._defaultValues,r,h),qt(se(i._formValues,r))&&_t(i._formValues,r,h)}return()=>{(s?u&&!i._state.action:u)?i.unregister(r):f(r,!1)}},[r,i,s,o]),k.useEffect(()=>{se(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:se(i._fields,r)._f.value})},[n,r,i]),{field:{name:r,value:a,...Eo(n)||Eo(l.disabled)?{disabled:l.disabled||n}:{},onChange:k.useCallback(u=>c.current.onChange({target:{value:UG(u),name:r},type:kx.CHANGE}),[r]),onBlur:k.useCallback(()=>c.current.onBlur({target:{value:se(i._formValues,r),name:r},type:kx.BLUR}),[r,i]),ref:u=>{const f=se(i._fields,r);f&&u&&(f._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:h=>u.setCustomValidity(h),reportValidity:()=>u.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!se(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!se(l.touchedFields,r)},error:{enumerable:!0,get:()=>se(l.errors,r)}})}}const Rn=t=>t.render(ige(t));var oge=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},RF=t=>({isOnSubmit:!t||t===Xi.onSubmit,isOnBlur:t===Xi.onBlur,isOnChange:t===Xi.onChange,isOnAll:t===Xi.all,isOnTouch:t===Xi.onTouched}),jF=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const G0=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const o=se(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)break;if(s.ref&&e(s.ref,s.name)&&!n)break}else pr(a)&&G0(a,e)}}};var sge=(t,e,r)=>{const n=wg(se(t,r));return _t(n,"root",e[r]),_t(t,r,n),t},NO=t=>t.type==="file",ma=t=>typeof t=="function",Ox=t=>{if(!CO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},q0=t=>ko(t),kO=t=>t.type==="radio",Rx=t=>t instanceof RegExp;const $F={value:!1,isValid:!1},DF={value:!0,isValid:!0};var KG=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qt(t[0].attributes.value)?qt(t[0].value)||t[0].value===""?DF:{value:t[0].value,isValid:!0}:DF:$F}return $F};const MF={isValid:!1,value:null};var YG=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,MF):MF;function FF(t,e,r="validate"){if(q0(t)||Array.isArray(t)&&t.every(q0)||Eo(t)&&!t)return{type:r,message:q0(t)?t:"",ref:e}}var ru=t=>pr(t)&&!Rx(t)?t:{value:t,message:""},LF=async(t,e,r,n,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:c,min:u,max:f,pattern:h,validate:p,name:m,valueAsNumber:y,mount:g,disabled:b}=t._f,v=se(e,m);if(!g||b)return{};const x=s?s[0]:o,S=O=>{n&&x.reportValidity&&(x.setCustomValidity(Eo(O)?"":O||""),x.reportValidity())},_={},w=kO(o),A=_g(o),C=w||A,I=(y||NO(o))&&qt(o.value)&&qt(v)||Ox(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,T=oge.bind(null,m,r,_),P=(O,N,R,L=es.maxLength,U=es.minLength)=>{const V=O?N:R;_[m]={type:O?L:U,message:V,ref:o,...T(O?L:U,V)}};if(i?!Array.isArray(v)||!v.length:a&&(!C&&(I||xn(v))||Eo(v)&&!v||A&&!KG(s).isValid||w&&!YG(s).isValid)){const{value:O,message:N}=q0(a)?{value:!!a,message:a}:ru(a);if(O&&(_[m]={type:es.required,message:N,ref:x,...T(es.required,N)},!r))return S(N),_}if(!I&&(!xn(u)||!xn(f))){let O,N;const R=ru(f),L=ru(u);if(!xn(v)&&!isNaN(v)){const U=o.valueAsNumber||v&&+v;xn(R.value)||(O=U>R.value),xn(L.value)||(N=U<L.value)}else{const U=o.valueAsDate||new Date(v),V=G=>new Date(new Date().toDateString()+" "+G),D=o.type=="time",F=o.type=="week";ko(R.value)&&v&&(O=D?V(v)>V(R.value):F?v>R.value:U>new Date(R.value)),ko(L.value)&&v&&(N=D?V(v)<V(L.value):F?v<L.value:U<new Date(L.value))}if((O||N)&&(P(!!O,R.message,L.message,es.max,es.min),!r))return S(_[m].message),_}if((l||c)&&!I&&(ko(v)||i&&Array.isArray(v))){const O=ru(l),N=ru(c),R=!xn(O.value)&&v.length>+O.value,L=!xn(N.value)&&v.length<+N.value;if((R||L)&&(P(R,O.message,N.message),!r))return S(_[m].message),_}if(h&&!I&&ko(v)){const{value:O,message:N}=ru(h);if(Rx(O)&&!v.match(O)&&(_[m]={type:es.pattern,message:N,ref:o,...T(es.pattern,N)},!r))return S(N),_}if(p){if(ma(p)){const O=await p(v,e),N=FF(O,x);if(N&&(_[m]={...N,...T(es.validate,N.message)},!r))return S(N.message),_}else if(pr(p)){let O={};for(const N in p){if(!vi(O)&&!r)break;const R=FF(await p[N](v,e),x,N);R&&(O={...R,...T(N,R.message)},S(R.message),r&&(_[m]=O))}if(!vi(O)&&(_[m]={ref:x,...O},!r))return _}}return S(!0),_};function age(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=qt(t)?n++:t[e[n++]];return t}function lge(t){for(const e in t)if(t.hasOwnProperty(e)&&!qt(t[e]))return!1;return!0}function Dr(t,e){const r=Array.isArray(e)?e:IO(e)?[e]:HG(e),n=r.length===1?t:age(t,r),i=r.length-1,o=r[i];return n&&delete n[o],i!==0&&(pr(n)&&vi(n)||Array.isArray(n)&&lge(n))&&Dr(t,r.slice(0,-1)),t}function rA(){let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}}var jx=t=>xn(t)||!BG(t);function jl(t,e){if(jx(t)||jx(e))return t===e;if($u(t)&&$u(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if($u(o)&&$u(s)||pr(o)&&pr(s)||Array.isArray(o)&&Array.isArray(s)?!jl(o,s):o!==s)return!1}}return!0}var QG=t=>t.type==="select-multiple",cge=t=>kO(t)||_g(t),nA=t=>Ox(t)&&t.isConnected,XG=t=>{for(const e in t)if(ma(t[e]))return!0;return!1};function $x(t,e={}){const r=Array.isArray(t);if(pr(t)||r)for(const n in t)Array.isArray(t[n])||pr(t[n])&&!XG(t[n])?(e[n]=Array.isArray(t[n])?[]:{},$x(t[n],e[n])):xn(t[n])||(e[n]=!0);return e}function JG(t,e,r){const n=Array.isArray(t);if(pr(t)||n)for(const i in t)Array.isArray(t[i])||pr(t[i])&&!XG(t[i])?qt(e)||jx(r[i])?r[i]=Array.isArray(t[i])?$x(t[i],[]):{...$x(t[i])}:JG(t[i],xn(e)?{}:e[i],r[i]):r[i]=!jl(t[i],e[i]);return r}var iA=(t,e)=>JG(t,e,$x(e)),ZG=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>qt(t)?t:e?t===""?NaN:t&&+t:r&&ko(t)?new Date(t):n?n(t):t;function oA(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return NO(e)?e.files:kO(e)?YG(t.refs).value:QG(e)?[...e.selectedOptions].map(({value:r})=>r):_g(e)?KG(t.refs).value:ZG(qt(e.value)?t.ref.value:e.value,t)}var uge=(t,e,r,n)=>{const i={};for(const o of t){const s=se(e,o);s&&_t(i,o,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Ih=t=>qt(t)?t:Rx(t)?t.source:pr(t)?Rx(t.value)?t.value.source:t.value:t,fge=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function BF(t,e,r){const n=se(t,r);if(n||IO(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const o=i.join("."),s=se(e,o),a=se(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var dge=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,hge=(t,e)=>!wg(se(t,e)).length&&Dr(t,e);const pge={mode:Xi.onSubmit,reValidateMode:Xi.onChange,shouldFocusError:!0};function mge(t={},e){let r={...pge,...t},n={submitCount:0,isDirty:!1,isLoading:ma(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{},disabled:!1},i={},o=pr(r.defaultValues)||pr(r.values)?Wi(r.defaultValues||r.values)||{}:{},s=r.shouldUnregister?{}:Wi(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:rA(),array:rA(),state:rA()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,m=RF(r.mode),y=RF(r.reValidateMode),g=r.criteriaMode===Xi.all,b=j=>B=>{clearTimeout(u),u=setTimeout(j,B)},v=async j=>{if(f.isValid||j){const B=r.resolver?vi((await I()).errors):await P(i,!0);B!==n.isValid&&h.state.next({isValid:B})}},x=j=>f.isValidating&&h.state.next({isValidating:j}),S=(j,B=[],W,re,Z=!0,Q=!0)=>{if(re&&W){if(a.action=!0,Q&&Array.isArray(se(i,j))){const pe=W(se(i,j),re.argA,re.argB);Z&&_t(i,j,pe)}if(Q&&Array.isArray(se(n.errors,j))){const pe=W(se(n.errors,j),re.argA,re.argB);Z&&_t(n.errors,j,pe),hge(n.errors,j)}if(f.touchedFields&&Q&&Array.isArray(se(n.touchedFields,j))){const pe=W(se(n.touchedFields,j),re.argA,re.argB);Z&&_t(n.touchedFields,j,pe)}f.dirtyFields&&(n.dirtyFields=iA(o,s)),h.state.next({name:j,isDirty:N(j,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _t(s,j,B)},_=(j,B)=>{_t(n.errors,j,B),h.state.next({errors:n.errors})},w=(j,B,W,re)=>{const Z=se(i,j);if(Z){const Q=se(s,j,qt(W)?se(o,j):W);qt(Q)||re&&re.defaultChecked||B?_t(s,j,B?Q:oA(Z._f)):U(j,Q),a.mount&&v()}},A=(j,B,W,re,Z)=>{let Q=!1,pe=!1;const nt={name:j};if(!W||re){f.isDirty&&(pe=n.isDirty,n.isDirty=nt.isDirty=N(),Q=pe!==nt.isDirty);const Wt=jl(se(o,j),B);pe=se(n.dirtyFields,j),Wt?Dr(n.dirtyFields,j):_t(n.dirtyFields,j,!0),nt.dirtyFields=n.dirtyFields,Q=Q||f.dirtyFields&&pe!==!Wt}if(W){const Wt=se(n.touchedFields,j);Wt||(_t(n.touchedFields,j,W),nt.touchedFields=n.touchedFields,Q=Q||f.touchedFields&&Wt!==W)}return Q&&Z&&h.state.next(nt),Q?nt:{}},C=(j,B,W,re)=>{const Z=se(n.errors,j),Q=f.isValid&&Eo(B)&&n.isValid!==B;if(t.delayError&&W?(c=b(()=>_(j,W)),c(t.delayError)):(clearTimeout(u),c=null,W?_t(n.errors,j,W):Dr(n.errors,j)),(W?!jl(Z,W):Z)||!vi(re)||Q){const pe={...re,...Q&&Eo(B)?{isValid:B}:{},errors:n.errors,name:j};n={...n,...pe},h.state.next(pe)}x(!1)},I=async j=>r.resolver(s,r.context,uge(j||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation)),T=async j=>{const{errors:B}=await I(j);if(j)for(const W of j){const re=se(B,W);re?_t(n.errors,W,re):Dr(n.errors,W)}else n.errors=B;return B},P=async(j,B,W={valid:!0})=>{for(const re in j){const Z=j[re];if(Z){const{_f:Q,...pe}=Z;if(Q){const nt=l.array.has(Q.name),Wt=await LF(Z,s,g,r.shouldUseNativeValidation&&!B,nt);if(Wt[Q.name]&&(W.valid=!1,B))break;!B&&(se(Wt,Q.name)?nt?sge(n.errors,Wt,Q.name):_t(n.errors,Q.name,Wt[Q.name]):Dr(n.errors,Q.name))}pe&&await P(pe,B,W)}}return W.valid},O=()=>{for(const j of l.unMount){const B=se(i,j);B&&(B._f.refs?B._f.refs.every(W=>!nA(W)):!nA(B._f.ref))&&pt(j)}l.unMount=new Set},N=(j,B)=>(j&&B&&_t(s,j,B),!jl(te(),o)),R=(j,B,W)=>qG(j,l,{...a.mount?s:qt(B)?o:ko(j)?{[j]:B}:B},W,B),L=j=>wg(se(a.mount?s:o,j,t.shouldUnregister?se(o,j,[]):[])),U=(j,B,W={})=>{const re=se(i,j);let Z=B;if(re){const Q=re._f;Q&&(!Q.disabled&&_t(s,j,ZG(B,Q)),Z=Ox(Q.ref)&&xn(B)?"":B,QG(Q.ref)?[...Q.ref.options].forEach(pe=>pe.selected=Z.includes(pe.value)):Q.refs?_g(Q.ref)?Q.refs.length>1?Q.refs.forEach(pe=>(!pe.defaultChecked||!pe.disabled)&&(pe.checked=Array.isArray(Z)?!!Z.find(nt=>nt===pe.value):Z===pe.value)):Q.refs[0]&&(Q.refs[0].checked=!!Z):Q.refs.forEach(pe=>pe.checked=pe.value===Z):NO(Q.ref)?Q.ref.value="":(Q.ref.value=Z,Q.ref.type||h.values.next({name:j,values:{...s}})))}(W.shouldDirty||W.shouldTouch)&&A(j,Z,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&ce(j)},V=(j,B,W)=>{for(const re in B){const Z=B[re],Q=`${j}.${re}`,pe=se(i,Q);(l.array.has(j)||!jx(Z)||pe&&!pe._f)&&!$u(Z)?V(Q,Z,W):U(Q,Z,W)}},D=(j,B,W={})=>{const re=se(i,j),Z=l.array.has(j),Q=Wi(B);_t(s,j,Q),Z?(h.array.next({name:j,values:{...s}}),(f.isDirty||f.dirtyFields)&&W.shouldDirty&&h.state.next({name:j,dirtyFields:iA(o,s),isDirty:N(j,Q)})):re&&!re._f&&!xn(Q)?V(j,Q,W):U(j,Q,W),jF(j,l)&&h.state.next({...n}),h.values.next({name:j,values:{...s}}),!a.mount&&e()},F=async j=>{const B=j.target;let W=B.name,re=!0;const Z=se(i,W),Q=()=>B.type?oA(Z._f):UG(j),pe=nt=>{re=Number.isNaN(nt)||nt===se(s,W,nt)};if(Z){let nt,Wt;const $r=Q(),ho=j.type===kx.BLUR||j.type===kx.FOCUS_OUT,CS=!fge(Z._f)&&!r.resolver&&!se(n.errors,W)&&!Z._f.deps||dge(ho,se(n.touchedFields,W),n.isSubmitted,y,m),fh=jF(W,l,ho);_t(s,W,$r),ho?(Z._f.onBlur&&Z._f.onBlur(j),c&&c(0)):Z._f.onChange&&Z._f.onChange(j);const dh=A(W,$r,ho,!1),TS=!vi(dh)||fh;if(!ho&&h.values.next({name:W,type:j.type,values:{...s}}),CS)return f.isValid&&v(),TS&&h.state.next({name:W,...fh?{}:dh});if(!ho&&fh&&h.state.next({...n}),x(!0),r.resolver){const{errors:Jg}=await I([W]);if(pe($r),re){const PS=BF(n.errors,i,W),Zg=BF(Jg,i,PS.name||W);nt=Zg.error,W=Zg.name,Wt=vi(Jg)}}else nt=(await LF(Z,s,g,r.shouldUseNativeValidation))[W],pe($r),re&&(nt?Wt=!1:f.isValid&&(Wt=await P(i,!0)));re&&(Z._f.deps&&ce(Z._f.deps),C(W,Wt,nt,dh))}},G=(j,B)=>{if(se(n.errors,B)&&j.focus)return j.focus(),1},ce=async(j,B={})=>{let W,re;const Z=z0(j);if(x(!0),r.resolver){const Q=await T(qt(j)?j:Z);W=vi(Q),re=j?!Z.some(pe=>se(Q,pe)):W}else j?(re=(await Promise.all(Z.map(async Q=>{const pe=se(i,Q);return await P(pe&&pe._f?{[Q]:pe}:pe)}))).every(Boolean),!(!re&&!n.isValid)&&v()):re=W=await P(i);return h.state.next({...!ko(j)||f.isValid&&W!==n.isValid?{}:{name:j},...r.resolver||!j?{isValid:W}:{},errors:n.errors,isValidating:!1}),B.shouldFocus&&!re&&G0(i,G,j?Z:l.mount),re},te=j=>{const B={...o,...a.mount?s:{}};return qt(j)?B:ko(j)?se(B,j):j.map(W=>se(B,W))},be=(j,B)=>({invalid:!!se((B||n).errors,j),isDirty:!!se((B||n).dirtyFields,j),isTouched:!!se((B||n).touchedFields,j),error:se((B||n).errors,j)}),st=j=>{j&&z0(j).forEach(B=>Dr(n.errors,B)),h.state.next({errors:j?n.errors:{}})},rt=(j,B,W)=>{const re=(se(i,j,{_f:{}})._f||{}).ref;_t(n.errors,j,{...B,ref:re}),h.state.next({name:j,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&re&&re.focus&&re.focus()},Vt=(j,B)=>ma(j)?h.values.subscribe({next:W=>j(R(void 0,B),W)}):R(j,B,!0),pt=(j,B={})=>{for(const W of j?z0(j):l.mount)l.mount.delete(W),l.array.delete(W),B.keepValue||(Dr(i,W),Dr(s,W)),!B.keepError&&Dr(n.errors,W),!B.keepDirty&&Dr(n.dirtyFields,W),!B.keepTouched&&Dr(n.touchedFields,W),!r.shouldUnregister&&!B.keepDefaultValue&&Dr(o,W);h.values.next({values:{...s}}),h.state.next({...n,...B.keepDirty?{isDirty:N()}:{}}),!B.keepIsValid&&v()},Zt=({disabled:j,name:B,field:W,fields:re,value:Z})=>{if(Eo(j)){const Q=j?void 0:qt(Z)?oA(W?W._f:se(re,B)._f):Z;_t(s,B,Q),A(B,Q,!1,!1,!0)}},ee=(j,B={})=>{let W=se(i,j);const re=Eo(B.disabled);return _t(i,j,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:j}},name:j,mount:!0,...B}}),l.mount.add(j),W?Zt({field:W,disabled:B.disabled,name:j}):w(j,!0,B.value),{...re?{disabled:B.disabled}:{},...r.progressive?{required:!!B.required,min:Ih(B.min),max:Ih(B.max),minLength:Ih(B.minLength),maxLength:Ih(B.maxLength),pattern:Ih(B.pattern)}:{},name:j,onChange:F,onBlur:F,ref:Z=>{if(Z){ee(j,B),W=se(i,j);const Q=qt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,pe=cge(Q),nt=W._f.refs||[];if(pe?nt.find(Wt=>Wt===Q):Q===W._f.ref)return;_t(i,j,{_f:{...W._f,...pe?{refs:[...nt.filter(nA),Q,...Array.isArray(se(o,j))?[{}]:[]],ref:{type:Q.type,name:j}}:{ref:Q}}}),w(j,!1,void 0,Q)}else W=se(i,j,{}),W._f&&(W._f.mount=!1),(r.shouldUnregister||B.shouldUnregister)&&!(VG(l.array,j)&&a.action)&&l.unMount.add(j)}}},xe=()=>r.shouldFocusError&&G0(i,G,l.mount),Ee=j=>{Eo(j)&&(h.state.next({disabled:j}),G0(i,B=>{B.disabled=j},0,!1))},q=(j,B)=>async W=>{W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let re=Wi(s);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:Z,values:Q}=await I();n.errors=Z,re=Q}else await P(i);Dr(n.errors,"root"),vi(n.errors)?(h.state.next({errors:{}}),await j(re,W)):(B&&await B({...n.errors},W),xe(),setTimeout(xe)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vi(n.errors),submitCount:n.submitCount+1,errors:n.errors})},Ze=(j,B={})=>{se(i,j)&&(qt(B.defaultValue)?D(j,se(o,j)):(D(j,B.defaultValue),_t(o,j,B.defaultValue)),B.keepTouched||Dr(n.touchedFields,j),B.keepDirty||(Dr(n.dirtyFields,j),n.isDirty=B.defaultValue?N(j,se(o,j)):N()),B.keepError||(Dr(n.errors,j),f.isValid&&v()),h.state.next({...n}))},ke=(j,B={})=>{const W=j?Wi(j):o,re=Wi(W),Z=j&&!vi(j)?re:o;if(B.keepDefaultValues||(o=W),!B.keepValues){if(B.keepDirtyValues||p)for(const Q of l.mount)se(n.dirtyFields,Q)?_t(Z,Q,se(s,Q)):D(Q,se(Z,Q));else{if(CO&&qt(j))for(const Q of l.mount){const pe=se(i,Q);if(pe&&pe._f){const nt=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(Ox(nt)){const Wt=nt.closest("form");if(Wt){Wt.reset();break}}}}i={}}s=t.shouldUnregister?B.keepDefaultValues?Wi(o):{}:Wi(Z),h.array.next({values:{...Z}}),h.values.next({values:{...Z}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!f.isValid||!!B.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!jl(j,o)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:B.keepDirtyValues?n.dirtyFields:B.keepDefaultValues&&j?iA(o,j):{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},vt=(j,B)=>ke(ma(j)?j(s):j,B);return{control:{register:ee,unregister:pt,getFieldState:be,handleSubmit:q,setError:rt,_executeSchema:I,_getWatch:R,_getDirty:N,_updateValid:v,_removeUnmounted:O,_updateFieldArray:S,_updateDisabledField:Zt,_getFieldArray:L,_reset:ke,_resetDefaultValues:()=>ma(r.defaultValues)&&r.defaultValues().then(j=>{vt(j,r.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:Ee,_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return o},get _names(){return l},set _names(j){l=j},get _formState(){return n},set _formState(j){n=j},get _options(){return r},set _options(j){r={...r,...j}}},trigger:ce,register:ee,handleSubmit:q,watch:Vt,setValue:D,getValues:te,reset:vt,resetField:Ze,clearErrors:st,unregister:pt,setError:rt,setFocus:(j,B={})=>{const W=se(i,j),re=W&&W._f;if(re){const Z=re.refs?re.refs[0]:re.ref;Z.focus&&(Z.focus(),B.shouldSelect&&Z.select())}},getFieldState:be}}function Wd(t={}){const e=k.useRef(),r=k.useRef(),[n,i]=k.useState({isDirty:!1,isValidating:!1,isLoading:ma(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},disabled:!1,defaultValues:ma(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...mge(t,()=>i(s=>({...s}))),formState:n});const o=e.current.control;return o._options=t,PO({subject:o._subjects.state,next:s=>{zG(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),k.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),k.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==n.isDirty&&o._subjects.state.next({isDirty:s})}},[o,n.isDirty]),k.useEffect(()=>{t.values&&!jl(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values):o._resetDefaultValues()},[t.values,o]),k.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=WG(n,o),e.current}function eq({player:t,onClickEdit:e,children:r,...n}){const i=E.useCallback(()=>{e==null||e(t)},[e,t]);return d.jsxs("div",{className:"relative flex-1 flex items-center gap-x-2 rounded p-2 text-white",style:{backgroundColor:t.color??"#115e59"},...n,children:[t.teamPicUrl&&d.jsx("div",{className:"absolute inset-0 opacity-10 bg-center bg-no-repeat bg-cover",style:{backgroundImage:`url(${t.teamPicUrl})`}}),d.jsx("div",{className:"relative z-10 shrink-0",children:d.jsx("div",{className:"w-14 h-14 bg-center bg-contain bg-no-repeat rounded",style:{backgroundImage:`url(${t.proPicUrl||"/images/portrait-placeholder.jpeg"})`}})}),d.jsxs("div",{className:"flex-1 relative z-10 ",children:[d.jsx("div",{children:t.title??"(無頭銜)"}),d.jsx("div",{className:"text-2xl",children:t.name??"(無名稱)"})]}),e&&d.jsx("div",{className:"shrink-0",children:d.jsx(De,{variant:"icon",color:"inverted",type:"button",onClick:i,children:d.jsx("i",{className:"bi bi-pencil"})})})]})}const yge=S9(["block w-full rounded-md border-0 p-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600"]);function ya({className:t,...e}){const r=E.useMemo(()=>yge({className:t}),[t]);return d.jsx("input",{className:r,...e})}function gge({match:t,currentMatchRound:e,onSubmit:r}){const{reset:n,handleSubmit:i,control:o}=Wd({defaultValues:{player_0:0,player_1:0,player_2:0,player_3:0,cumulatedThousands:0,roundCount:0,extendedRoundCount:0}}),s=E.useMemo(()=>Object.keys(t.players).map(c=>({...t.players[c],index:c.toString(),position:Lc(c,e.roundCount)})),[t.players,e.roundCount]),a=E.useMemo(()=>i(l=>{if(!r)return;const c={...e,resultType:Qe.Hotfix,playerResults:{0:{...e.playerResults[0],afterScore:parseInt(l.player_0,10)},1:{...e.playerResults[1],afterScore:parseInt(l.player_1,10)},2:{...e.playerResults[2],afterScore:parseInt(l.player_2,10)},3:{...e.playerResults[3],afterScore:parseInt(l.player_3,10)}},cumulatedThousands:parseInt(l.cumulatedThousands,10),roundCount:parseInt(l.roundCount,10),extendedRoundCount:parseInt(l.extendedRoundCount,10)};r(c)}),[e,i,r]);return E.useEffect(()=>{n({player_0:e.playerResults[0].beforeScore,player_1:e.playerResults[1].beforeScore,player_2:e.playerResults[2].beforeScore,player_3:e.playerResults[3].beforeScore,cumulatedThousands:e.cumulatedThousands,roundCount:e.roundCount,extendedRoundCount:e.extendedRoundCount})},[e.cumulatedThousands,e.extendedRoundCount,e.playerResults,e.roundCount,n]),d.jsxs("div",{className:"space-y-8",children:[d.jsx("div",{className:"space-y-2",children:d.jsxs("table",{className:"data-table w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"w-1/2",children:"玩家"}),d.jsx("th",{className:"w-1/4",children:"現在分數"}),d.jsx("th",{className:"w-1/4",children:"新的分數"})]})}),d.jsxs("tbody",{children:[s.map(l=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:d.jsx(eq,{player:l})}),d.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.playerResults[l.index].beforeScore}),d.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:d.jsx(Rn,{name:`player_${l.index}`,control:o,rules:{required:!0},render:({field:c})=>d.jsx(ya,{className:"text-center",type:"number",...c})})})]},l.index)),d.jsxs("tr",{children:[d.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:"供托"}),d.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.cumulatedThousands}),d.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:d.jsx(Rn,{name:"cumulatedThousands",control:o,rules:{required:!0},render:({field:l})=>d.jsx(ya,{className:"text-center",type:"number",...l})})})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:"局數(東1局=1, 東2局=2, ...)"}),d.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.roundCount}),d.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:d.jsx(Rn,{name:"roundCount",control:o,rules:{required:!0},render:({field:l})=>d.jsx(ya,{className:"text-center",type:"number",...l})})})]}),d.jsxs("tr",{children:[d.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:"本場數"}),d.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.extendedRoundCount}),d.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:d.jsx(Rn,{name:"extendedRoundCount",control:o,rules:{required:!0},render:({field:l})=>d.jsx(ya,{className:"text-center",type:"number",...l})})})]})]})]})}),d.jsx("div",{className:"space-y-2",children:d.jsx(De,{onClick:a,className:"w-full",children:"提交並更新直播畫面"})})]})}const vge=({match:t,matchRound:e,onSubmit:r})=>{const{control:n,register:i,reset:o}=Wd(),s=qa({name:"_playerResults",control:n}),a=qa({name:"_resultType",control:n}),l=E.useMemo(()=>!e||!s?null:{...e,playerResults:{0:{...e.playerResults[0],isRiichi:s[0].status==="isRiichied",isRevealed:s[0].status==="isRevealed",detail:{...e.playerResults[0].detail,isRiichied:s[0].status==="isRiichied",isRevealed:s[0].status==="isRevealed"}},1:{...e.playerResults[1],isRiichi:s[1].status==="isRiichied",isRevealed:s[1].status==="isRevealed",detail:{...e.playerResults[1].detail,isRiichied:s[1].status==="isRiichied",isRevealed:s[1].status==="isRevealed"}},2:{...e.playerResults[2],isRiichi:s[2].status==="isRiichied",isRevealed:s[2].status==="isRevealed",detail:{...e.playerResults[2].detail,isRiichied:s[2].status==="isRiichied",isRevealed:s[2].status==="isRevealed"}},3:{...e.playerResults[3],isRiichi:s[3].status==="isRiichied",isRevealed:s[3].status==="isRevealed",detail:{...e.playerResults[3].detail,isRiichied:s[3].status==="isRiichied",isRevealed:s[3].status==="isRevealed"}}}},[e,s]),c=E.useMemo(()=>{var h,p;return l?{match:t,currentMatchRound:l,initialActivePlayerIndex:l.resultType===Qe.Ron||l.resultType===Qe.SelfDrawn?((h=Object.entries(l.playerResults).find(([,m])=>m.type===yt.Win))==null?void 0:h[0])??"0":"0",initialTargetPlayerIndex:l.resultType===Qe.Ron?((p=Object.entries(l.playerResults).find(([,m])=>m.type===yt.Lose))==null?void 0:p[0])??"-1":"-1"}:null},[t,l]),u=E.useMemo(()=>l?{match:t,currentMatchRound:l}:null,[t,l]),f=E.useCallback(h=>{r==null||r(h)},[r]);return E.useEffect(()=>{e&&o({_resultType:e.resultType===Qe.Ron||e.resultType===Qe.SelfDrawn?"ron":"exhausted",_playerResults:{0:{status:e.playerResults[0].isRevealed?"isRevealed":e.playerResults[0].isRiichi?"isRiichied":"none"},1:{status:e.playerResults[1].isRevealed?"isRevealed":e.playerResults[1].isRiichi?"isRiichied":"none"},2:{status:e.playerResults[2].isRevealed?"isRevealed":e.playerResults[2].isRiichi?"isRiichied":"none"},3:{status:e.playerResults[3].isRevealed?"isRevealed":e.playerResults[3].isRiichi?"isRiichied":"none"}}})},[e,e==null?void 0:e.playerResults,e==null?void 0:e.resultType,o]),d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold",children:"各玩家終局狀態"}),d.jsxs("table",{className:"w-full data-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{}),d.jsx("th",{children:"立直/副露？"})]})}),d.jsx("tbody",{children:["0","1","2","3"].map(h=>d.jsxs("tr",{children:[d.jsx("td",{children:t.players[h].nickname}),d.jsx("td",{children:d.jsxs("select",{...i(`_playerResults.${h}.status`),children:[d.jsx("option",{value:"none",children:"-"}),d.jsx("option",{value:"isRiichied",children:"立直"}),d.jsx("option",{value:"isRevealed",children:"副露"})]})})]},h))})]}),d.jsx("hr",{}),d.jsxs("h2",{className:"text-xl font-bold",children:[d.jsx("span",{children:"對局結果："}),d.jsxs("select",{...i("_resultType"),children:[d.jsx("option",{value:"ron",children:"和了"}),d.jsx("option",{value:"exhausted",children:"流局"})]})]}),a==="ron"&&!!c&&d.jsx(FG,{...c,submitNode:"提交修改",onSubmit:f}),a==="exhausted"&&!!u&&d.jsx(LG,{...u,submitNode:"提交修改",onSubmit:f})]})};function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function bge(t,e){if(Tm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xge(t){var e=bge(t,"string");return Tm(e)==="symbol"?e:String(e)}function _ge(t,e,r){return e=xge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UF(Object(r),!0).forEach(function(n){_ge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var WF=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),sA=function(){return Math.random().toString(36).substring(7).split("").join(".")},zF={INIT:"@@redux/INIT"+sA(),REPLACE:"@@redux/REPLACE"+sA(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+sA()}};function wge(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function tq(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Nn(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Nn(1));return r(tq)(t,e)}if(typeof t!="function")throw new Error(Nn(2));var i=t,o=e,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(Nn(3));return o}function f(y){if(typeof y!="function")throw new Error(Nn(4));if(l)throw new Error(Nn(5));var g=!0;return c(),a.push(y),function(){if(g){if(l)throw new Error(Nn(6));g=!1,c();var v=a.indexOf(y);a.splice(v,1),s=null}}}function h(y){if(!wge(y))throw new Error(Nn(7));if(typeof y.type>"u")throw new Error(Nn(8));if(l)throw new Error(Nn(9));try{l=!0,o=i(o,y)}finally{l=!1}for(var g=s=a,b=0;b<g.length;b++){var v=g[b];v()}return y}function p(y){if(typeof y!="function")throw new Error(Nn(10));i=y,h({type:zF.REPLACE})}function m(){var y,g=f;return y={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Nn(11));function x(){v.next&&v.next(u())}x();var S=g(x);return{unsubscribe:S}}},y[WF]=function(){return this},y}return h({type:zF.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:p},n[WF]=m,n}function GF(t,e){return function(){return e(t.apply(this,arguments))}}function qF(t,e){if(typeof t=="function")return GF(t,e);if(typeof t!="object"||t===null)throw new Error(Nn(16));var r={};for(var n in t){var i=t[n];typeof i=="function"&&(r[n]=GF(i,e))}return r}function rq(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function Sge(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(Nn(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=rq.apply(void 0,a)(i.dispatch),VF(VF({},i),{},{dispatch:o})}}}var Ege={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=E,Age=tk;function Cge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tge=typeof Object.is=="function"?Object.is:Cge,Pge=Age.useSyncExternalStore,Ige=qw.useRef,Nge=qw.useEffect,kge=qw.useMemo,Oge=qw.useDebugValue;Ege.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var o=Ige(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=kge(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return f=m}return f=p}if(m=f,Tge(u,p))return m;var y=n(p);return i!==void 0&&i(m,y)?m:(u=p,f=y)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var a=Pge(t,o[0],o[1]);return Nge(function(){s.hasValue=!0,s.value=a},[a]),Oge(a),a};function Rge(t){t()}let nq=Rge;const jge=t=>nq=t,$ge=()=>nq,HF=Symbol.for("react-redux-context"),KF=typeof globalThis<"u"?globalThis:{};function Dge(){var t;if(!E.createContext)return{};const e=(t=KF[HF])!=null?t:KF[HF]=new Map;let r=e.get(E.createContext);return r||(r=E.createContext(null),e.set(E.createContext,r)),r}const iq=Dge(),Mge=()=>{throw new Error("uSES not initialized!")};function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lf.apply(this,arguments)}function oq(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var sq={exports:{}},dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=typeof Symbol=="function"&&Symbol.for,OO=Or?Symbol.for("react.element"):60103,RO=Or?Symbol.for("react.portal"):60106,Hw=Or?Symbol.for("react.fragment"):60107,Kw=Or?Symbol.for("react.strict_mode"):60108,Yw=Or?Symbol.for("react.profiler"):60114,Qw=Or?Symbol.for("react.provider"):60109,Xw=Or?Symbol.for("react.context"):60110,jO=Or?Symbol.for("react.async_mode"):60111,Jw=Or?Symbol.for("react.concurrent_mode"):60111,Zw=Or?Symbol.for("react.forward_ref"):60112,e1=Or?Symbol.for("react.suspense"):60113,Fge=Or?Symbol.for("react.suspense_list"):60120,t1=Or?Symbol.for("react.memo"):60115,r1=Or?Symbol.for("react.lazy"):60116,Lge=Or?Symbol.for("react.block"):60121,Bge=Or?Symbol.for("react.fundamental"):60117,Uge=Or?Symbol.for("react.responder"):60118,Vge=Or?Symbol.for("react.scope"):60119;function li(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case OO:switch(t=t.type,t){case jO:case Jw:case Hw:case Yw:case Kw:case e1:return t;default:switch(t=t&&t.$$typeof,t){case Xw:case Zw:case r1:case t1:case Qw:return t;default:return e}}case RO:return e}}}function aq(t){return li(t)===Jw}dt.AsyncMode=jO;dt.ConcurrentMode=Jw;dt.ContextConsumer=Xw;dt.ContextProvider=Qw;dt.Element=OO;dt.ForwardRef=Zw;dt.Fragment=Hw;dt.Lazy=r1;dt.Memo=t1;dt.Portal=RO;dt.Profiler=Yw;dt.StrictMode=Kw;dt.Suspense=e1;dt.isAsyncMode=function(t){return aq(t)||li(t)===jO};dt.isConcurrentMode=aq;dt.isContextConsumer=function(t){return li(t)===Xw};dt.isContextProvider=function(t){return li(t)===Qw};dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===OO};dt.isForwardRef=function(t){return li(t)===Zw};dt.isFragment=function(t){return li(t)===Hw};dt.isLazy=function(t){return li(t)===r1};dt.isMemo=function(t){return li(t)===t1};dt.isPortal=function(t){return li(t)===RO};dt.isProfiler=function(t){return li(t)===Yw};dt.isStrictMode=function(t){return li(t)===Kw};dt.isSuspense=function(t){return li(t)===e1};dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hw||t===Jw||t===Yw||t===Kw||t===e1||t===Fge||typeof t=="object"&&t!==null&&(t.$$typeof===r1||t.$$typeof===t1||t.$$typeof===Qw||t.$$typeof===Xw||t.$$typeof===Zw||t.$$typeof===Bge||t.$$typeof===Uge||t.$$typeof===Vge||t.$$typeof===Lge)};dt.typeOf=li;sq.exports=dt;var Dx=sq.exports,$O=Dx,Wge={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zge={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Gge={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DO={};DO[$O.ForwardRef]=Gge;DO[$O.Memo]=lq;function YF(t){return $O.isMemo(t)?lq:DO[t.$$typeof]||Wge}var qge=Object.defineProperty,Hge=Object.getOwnPropertyNames,QF=Object.getOwnPropertySymbols,Kge=Object.getOwnPropertyDescriptor,Yge=Object.getPrototypeOf,XF=Object.prototype;function cq(t,e,r){if(typeof e!="string"){if(XF){var n=Yge(e);n&&n!==XF&&cq(t,n,r)}var i=Hge(e);QF&&(i=i.concat(QF(e)));for(var o=YF(t),s=YF(e),a=0;a<i.length;++a){var l=i[a];if(!zge[l]&&!(r&&r[l])&&!(s&&s[l])&&!(o&&o[l])){var c=Kge(e,l);try{qge(t,l,c)}catch{}}}}return t}var Qge=cq;const JF=ot(Qge);var uq={exports:{}},ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO=Symbol.for("react.element"),FO=Symbol.for("react.portal"),n1=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),s1=Symbol.for("react.provider"),a1=Symbol.for("react.context"),Xge=Symbol.for("react.server_context"),l1=Symbol.for("react.forward_ref"),c1=Symbol.for("react.suspense"),u1=Symbol.for("react.suspense_list"),f1=Symbol.for("react.memo"),d1=Symbol.for("react.lazy"),Jge=Symbol.for("react.offscreen"),fq;fq=Symbol.for("react.module.reference");function Mi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case MO:switch(t=t.type,t){case n1:case o1:case i1:case c1:case u1:return t;default:switch(t=t&&t.$$typeof,t){case Xge:case a1:case l1:case d1:case f1:case s1:return t;default:return e}}case FO:return e}}}ht.ContextConsumer=a1;ht.ContextProvider=s1;ht.Element=MO;ht.ForwardRef=l1;ht.Fragment=n1;ht.Lazy=d1;ht.Memo=f1;ht.Portal=FO;ht.Profiler=o1;ht.StrictMode=i1;ht.Suspense=c1;ht.SuspenseList=u1;ht.isAsyncMode=function(){return!1};ht.isConcurrentMode=function(){return!1};ht.isContextConsumer=function(t){return Mi(t)===a1};ht.isContextProvider=function(t){return Mi(t)===s1};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===MO};ht.isForwardRef=function(t){return Mi(t)===l1};ht.isFragment=function(t){return Mi(t)===n1};ht.isLazy=function(t){return Mi(t)===d1};ht.isMemo=function(t){return Mi(t)===f1};ht.isPortal=function(t){return Mi(t)===FO};ht.isProfiler=function(t){return Mi(t)===o1};ht.isStrictMode=function(t){return Mi(t)===i1};ht.isSuspense=function(t){return Mi(t)===c1};ht.isSuspenseList=function(t){return Mi(t)===u1};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===n1||t===o1||t===i1||t===c1||t===u1||t===Jge||typeof t=="object"&&t!==null&&(t.$$typeof===d1||t.$$typeof===f1||t.$$typeof===s1||t.$$typeof===a1||t.$$typeof===l1||t.$$typeof===fq||t.getModuleId!==void 0)};ht.typeOf=Mi;uq.exports=ht;var Zge=uq.exports;const eve=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function tve(t,e,r,n,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,c,u,f,h;function p(v,x){return l=v,c=x,u=t(l,c),f=e(n,c),h=r(u,f,c),a=!0,h}function m(){return u=t(l,c),e.dependsOnOwnProps&&(f=e(n,c)),h=r(u,f,c),h}function y(){return t.dependsOnOwnProps&&(u=t(l,c)),e.dependsOnOwnProps&&(f=e(n,c)),h=r(u,f,c),h}function g(){const v=t(l,c),x=!s(v,u);return u=v,x&&(h=r(u,f,c)),h}function b(v,x){const S=!o(x,c),_=!i(v,l,x,c);return l=v,c=x,S&&_?m():S?y():_?g():h}return function(x,S){return a?b(x,S):p(x,S)}}function rve(t,e){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:i}=e,o=oq(e,eve);const s=r(t,o),a=n(t,o),l=i(t,o);return tve(s,a,l,t,o)}function nve(t,e){const r={};for(const n in t){const i=t[n];typeof i=="function"&&(r[n]=(...o)=>e(i(...o)))}return r}function uP(t){return function(r){const n=t(r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function ZF(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function dq(t,e){return function(n,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=ZF(t);let c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=ZF(c),c=o(a,l)),c},o}}function LO(t,e){return(r,n)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${n.wrappedComponentName}.`)}}function ive(t){return t&&typeof t=="object"?uP(e=>nve(t,e)):t?typeof t=="function"?dq(t):LO(t,"mapDispatchToProps"):uP(e=>({dispatch:e}))}function ove(t){return t?typeof t=="function"?dq(t):LO(t,"mapStateToProps"):uP(()=>({}))}function sve(t,e,r){return lf({},r,t,e)}function ave(t){return function(r,{displayName:n,areMergedPropsEqual:i}){let o=!1,s;return function(l,c,u){const f=t(l,c,u);return o?i(f,s)||(s=f):(o=!0,s=f),s}}}function lve(t){return t?typeof t=="function"?ave(t):LO(t,"mergeProps"):()=>sve}function cve(){const t=$ge();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const eL={notify(){},get:()=>[]};function hq(t,e){let r,n=eL,i=0,o=!1;function s(y){u();const g=n.subscribe(y);let b=!1;return()=>{b||(b=!0,g(),f())}}function a(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return o}function u(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=cve())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=eL)}function h(){o||(o=!0,u())}function p(){o&&(o=!1,f())}const m={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}const uve=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mx=uve?E.useLayoutEffect:E.useEffect;function tL(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function aA(t,e){if(tL(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!tL(t[r[i]],e[r[i]]))return!1;return!0}const fve=["reactReduxForwardedRef"];let pq=Mge;const dve=t=>{pq=t},hve=[null,null];function pve(t,e,r){Mx(()=>t(...e),r)}function mve(t,e,r,n,i,o){t.current=n,r.current=!1,i.current&&(i.current=null,o())}function yve(t,e,r,n,i,o,s,a,l,c,u){if(!t)return()=>{};let f=!1,h=null;const p=()=>{if(f||!a.current)return;const y=e.getState();let g,b;try{g=n(y,i.current)}catch(v){b=v,h=v}b||(h=null),g===o.current?s.current||c():(o.current=g,l.current=g,s.current=!0,u())};return r.onStateChange=p,r.trySubscribe(),p(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}function gve(t,e){return t===e}function mq(t,e,r,{pure:n,areStatesEqual:i=gve,areOwnPropsEqual:o=aA,areStatePropsEqual:s=aA,areMergedPropsEqual:a=aA,forwardRef:l=!1,context:c=iq}={}){const u=c,f=ove(t),h=ive(e),p=lve(r),m=!!t;return g=>{const b=g.displayName||g.name||"Component",v=`Connect(${b})`,x={shouldHandleStateChanges:m,displayName:v,wrappedComponentName:b,WrappedComponent:g,initMapStateToProps:f,initMapDispatchToProps:h,initMergeProps:p,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function S(A){const[C,I,T]=E.useMemo(()=>{const{reactReduxForwardedRef:q}=A,Ze=oq(A,fve);return[A.context,q,Ze]},[A]),P=E.useMemo(()=>C&&C.Consumer&&Zge.isContextConsumer(E.createElement(C.Consumer,null))?C:u,[C,u]),O=E.useContext(P),N=!!A.store&&!!A.store.getState&&!!A.store.dispatch,R=!!O&&!!O.store,L=N?A.store:O.store,U=R?O.getServerState:L.getState,V=E.useMemo(()=>rve(L.dispatch,x),[L]),[D,F]=E.useMemo(()=>{if(!m)return hve;const q=hq(L,N?void 0:O.subscription),Ze=q.notifyNestedSubs.bind(q);return[q,Ze]},[L,N,O]),G=E.useMemo(()=>N?O:lf({},O,{subscription:D}),[N,O,D]),ce=E.useRef(),te=E.useRef(T),be=E.useRef(),st=E.useRef(!1);E.useRef(!1);const rt=E.useRef(!1),Vt=E.useRef();Mx(()=>(rt.current=!0,()=>{rt.current=!1}),[]);const pt=E.useMemo(()=>()=>be.current&&T===te.current?be.current:V(L.getState(),T),[L,T]),Zt=E.useMemo(()=>Ze=>D?yve(m,L,D,V,te,ce,st,rt,be,F,Ze):()=>{},[D]);pve(mve,[te,ce,st,T,be,F]);let ee;try{ee=pq(Zt,pt,U?()=>V(U(),T):pt)}catch(q){throw Vt.current&&(q.message+=`
The error may be correlated with this previous error:
${Vt.current.stack}

`),q}Mx(()=>{Vt.current=void 0,be.current=void 0,ce.current=ee});const xe=E.useMemo(()=>E.createElement(g,lf({},ee,{ref:I})),[I,g,ee]);return E.useMemo(()=>m?E.createElement(P.Provider,{value:G},xe):xe,[P,xe,G])}const w=E.memo(S);if(w.WrappedComponent=g,w.displayName=S.displayName=v,l){const C=E.forwardRef(function(T,P){return E.createElement(w,lf({},T,{reactReduxForwardedRef:P}))});return C.displayName=v,C.WrappedComponent=g,JF(C,g)}return JF(w,g)}}function vve({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:o="once"}){const s=E.useMemo(()=>{const c=hq(t);return{store:t,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:o}},[t,n,i,o]),a=E.useMemo(()=>t.getState(),[t]);Mx(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=e||iq;return E.createElement(l.Provider,{value:s},r)}dve(tk.useSyncExternalStore);jge(Xy.unstable_batchedUpdates);function bve(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function yq(t,e){var r=E.useState(function(){return{inputs:e,result:t()}})[0],n=E.useRef(!0),i=E.useRef(r),o=n.current||!!(e&&i.current.inputs&&bve(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return E.useEffect(function(){n.current=!1,i.current=s},[s]),s.result}function xve(t,e){return yq(function(){return t},e)}var ze=yq,he=xve,_ve=!0,lA="Invariant failed";function gq(t,e){if(!t){if(_ve)throw new Error(lA);var r=typeof e=="function"?e():e,n=r?"".concat(lA,": ").concat(r):lA;throw new Error(n)}}var eo=function(e){var r=e.top,n=e.right,i=e.bottom,o=e.left,s=n-o,a=i-r,l={top:r,right:n,bottom:i,left:o,width:s,height:a,x:o,y:r,center:{x:(n+o)/2,y:(i+r)/2}};return l},BO=function(e,r){return{top:e.top-r.top,left:e.left-r.left,bottom:e.bottom+r.bottom,right:e.right+r.right}},rL=function(e,r){return{top:e.top+r.top,left:e.left+r.left,bottom:e.bottom-r.bottom,right:e.right-r.right}},wve=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},cA={top:0,right:0,bottom:0,left:0},UO=function(e){var r=e.borderBox,n=e.margin,i=n===void 0?cA:n,o=e.border,s=o===void 0?cA:o,a=e.padding,l=a===void 0?cA:a,c=eo(BO(r,i)),u=eo(rL(r,s)),f=eo(rL(u,l));return{marginBox:c,borderBox:eo(r),paddingBox:u,contentBox:f,margin:i,border:s,padding:l}},ui=function(e){var r=e.slice(0,-2),n=e.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&gq(!1),i},Sve=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Fx=function(e,r){var n=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=wve(n,r);return UO({borderBox:a,border:i,margin:o,padding:s})},Lx=function(e,r){return r===void 0&&(r=Sve()),Fx(e,r)},vq=function(e,r){var n={top:ui(r.marginTop),right:ui(r.marginRight),bottom:ui(r.marginBottom),left:ui(r.marginLeft)},i={top:ui(r.paddingTop),right:ui(r.paddingRight),bottom:ui(r.paddingBottom),left:ui(r.paddingLeft)},o={top:ui(r.borderTopWidth),right:ui(r.borderRightWidth),bottom:ui(r.borderBottomWidth),left:ui(r.borderLeftWidth)};return UO({borderBox:e,margin:n,padding:i,border:o})},bq=function(e){var r=e.getBoundingClientRect(),n=window.getComputedStyle(e);return vq(r,n)},nL=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Eve(t,e){return!!(t===e||nL(t)&&nL(e))}function Ave(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Eve(t[r],e[r]))return!1;return!0}function Ir(t,e){e===void 0&&(e=Ave);var r=null;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var s=t.apply(this,i);return r={lastResult:s,lastArgs:i,lastThis:this},s}return n.clear=function(){r=null},n}var Cve=function(e){var r=[],n=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];r=a,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};const Pm=Cve;function Bx(){return Bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bx.apply(this,arguments)}function xq(t,e){}xq.bind(null,"warn");xq.bind(null,"error");function Ra(){}function Tve(t,e){return{...t,...e}}function Ci(t,e,r){const n=e.map(i=>{const o=Tve(r,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){n.forEach(o=>{o()})}}const Pve="Invariant failed";class Ux extends Error{}Ux.prototype.toString=function(){return this.message};function J(t,e){if(!t)throw new Ux(Pve)}class Ive extends k.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Ra,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof Ux&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Ci(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Ux){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Nve=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Vx=t=>t+1,kve=t=>`
  You have lifted an item in position ${Vx(t.source.index)}
`,_q=(t,e)=>{const r=t.droppableId===e.droppableId,n=Vx(t.index),i=Vx(e.index);return r?`
      You have moved the item from position ${n}
      to position ${i}
    `:`
    You have moved the item from position ${n}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},wq=(t,e,r)=>e.droppableId===r.droppableId?`
      The item ${t}
      has been combined with ${r.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Ove=t=>{const e=t.destination;if(e)return _q(t.source,e);const r=t.combine;return r?wq(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},iL=t=>`
  The item has returned to its starting position
  of ${Vx(t.index)}
`,Rve=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${iL(t.source)}
    `;const e=t.destination,r=t.combine;return e?`
      You have dropped the item.
      ${_q(t.source,e)}
    `:r?`
      You have dropped the item.
      ${wq(t.draggableId,t.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${iL(t.source)}
  `},jve={dragHandleUsageInstructions:Nve,onDragStart:kve,onDragUpdate:Ove,onDragEnd:Rve};var H0=jve;const Nr={x:0,y:0},zr=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Jn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),ja=(t,e)=>t.x===e.x&&t.y===e.y,zd=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Tc=(t,e,r=0)=>t==="x"?{x:e,y:r}:{x:r,y:e},Im=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),oL=(t,e)=>Math.min(...e.map(r=>Im(t,r))),Sq=t=>e=>({x:t(e.x),y:t(e.y)});var $ve=(t,e)=>{const r=eo({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return r.width<=0||r.height<=0?null:r};const Sg=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),sL=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],Dve={top:0,right:0,bottom:0,left:0},Mve=(t,e)=>e?Sg(t,e.scroll.diff.displacement):t,Fve=(t,e,r)=>r&&r.increasedBy?{...t,[e.end]:t[e.end]+r.increasedBy[e.line]}:t,Lve=(t,e)=>e&&e.shouldClipSubject?$ve(e.pageMarginBox,t):eo(t);var rd=({page:t,withPlaceholder:e,axis:r,frame:n})=>{const i=Mve(t.marginBox,n),o=Fve(i,r,e),s=Lve(o,n);return{page:t,withPlaceholder:e,active:s}},VO=(t,e)=>{t.frame||J(!1);const r=t.frame,n=Jn(e,r.scroll.initial),i=zd(n),o={...r,scroll:{initial:r.scroll.initial,current:e,diff:{value:n,displacement:i},max:r.scroll.max}},s=rd({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o});return{...t,frame:o,subject:s}};const Eq=Ir(t=>t.reduce((e,r)=>(e[r.descriptor.id]=r,e),{})),Aq=Ir(t=>t.reduce((e,r)=>(e[r.descriptor.id]=r,e),{})),h1=Ir(t=>Object.values(t)),Bve=Ir(t=>Object.values(t));var Gd=Ir((t,e)=>Bve(e).filter(n=>t===n.descriptor.droppableId).sort((n,i)=>n.descriptor.index-i.descriptor.index));function WO(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function p1(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var m1=Ir((t,e)=>e.filter(r=>r.descriptor.id!==t.descriptor.id)),Uve=({isMovingForward:t,draggable:e,destination:r,insideDestination:n,previousImpact:i})=>{if(!r.isCombineEnabled||!WO(i))return null;function s(p){const m={type:"COMBINE",combine:{draggableId:p,droppableId:r.descriptor.id}};return{...i,at:m}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?s(l):null;const c=m1(e,n);if(!l){if(!c.length)return null;const p=c[c.length-1];return s(p.descriptor.id)}const u=c.findIndex(p=>p.descriptor.id===l);u===-1&&J(!1);const f=u-1;if(f<0)return null;const h=c[f];return s(h.descriptor.id)},qd=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const Cq={point:Nr,value:0},Nm={invisible:{},visible:{},all:[]},Vve={displaced:Nm,displacedBy:Cq,at:null};var Wve=Vve,Ii=(t,e)=>r=>t<=r&&r<=e,Tq=t=>{const e=Ii(t.top,t.bottom),r=Ii(t.left,t.right);return n=>{if(e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right))return!0;const o=e(n.top)||e(n.bottom),s=r(n.left)||r(n.right);if(o&&s)return!0;const l=n.top<t.top&&n.bottom>t.bottom,c=n.left<t.left&&n.right>t.right;return l&&c?!0:l&&s||c&&o}},zve=t=>{const e=Ii(t.top,t.bottom),r=Ii(t.left,t.right);return n=>e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right)};const zO={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Pq={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Gve=t=>e=>{const r=Ii(e.top,e.bottom),n=Ii(e.left,e.right);return i=>t===zO?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)};const qve=(t,e)=>{const r=e.frame?e.frame.scroll.diff.displacement:Nr;return Sg(t,r)},Hve=(t,e,r)=>e.subject.active?r(e.subject.active)(t):!1,Kve=(t,e,r)=>r(e)(t),GO=({target:t,destination:e,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:i})=>{const o=n?qve(t,e):t;return Hve(o,e,i)&&Kve(o,r,i)},Yve=t=>GO({...t,isVisibleThroughFrameFn:Tq}),Iq=t=>GO({...t,isVisibleThroughFrameFn:zve}),Qve=t=>GO({...t,isVisibleThroughFrameFn:Gve(t.destination.axis)}),Xve=(t,e,r)=>{if(typeof r=="boolean")return r;if(!e)return!0;const{invisible:n,visible:i}=e;if(n[t])return!1;const o=i[t];return o?o.shouldAnimate:!0};function Jve(t,e){const r=t.page.marginBox,n={top:e.point.y,right:0,bottom:0,left:e.point.x};return eo(BO(r,n))}function km({afterDragging:t,destination:e,displacedBy:r,viewport:n,forceShouldAnimate:i,last:o}){return t.reduce(function(a,l){const c=Jve(l,r),u=l.descriptor.id;if(a.all.push(u),!Yve({target:c,destination:e,viewport:n,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const h=Xve(u,o,i),p={draggableId:u,shouldAnimate:h};return a.visible[u]=p,a},{all:[],visible:{},invisible:{}})}function Zve(t,e){if(!t.length)return 0;const r=t[t.length-1].descriptor.index;return e.inHomeList?r:r+1}function aL({insideDestination:t,inHomeList:e,displacedBy:r,destination:n}){const i=Zve(t,{inHomeList:e});return{displaced:Nm,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function Wx({draggable:t,insideDestination:e,destination:r,viewport:n,displacedBy:i,last:o,index:s,forceShouldAnimate:a}){const l=qd(t,r);if(s==null)return aL({insideDestination:e,inHomeList:l,displacedBy:i,destination:r});const c=e.find(m=>m.descriptor.index===s);if(!c)return aL({insideDestination:e,inHomeList:l,displacedBy:i,destination:r});const u=m1(t,e),f=e.indexOf(c),h=u.slice(f);return{displaced:km({afterDragging:h,destination:r,displacedBy:i,last:o,viewport:n.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Ha(t,e){return!!e.effected[t]}var e0e=({isMovingForward:t,destination:e,draggables:r,combine:n,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const o=n.draggableId,a=r[o].descriptor.index;return Ha(o,i)?t?a:a-1:t?a+1:a},t0e=({isMovingForward:t,isInHomeList:e,insideDestination:r,location:n})=>{if(!r.length)return null;const i=n.index,o=t?i+1:i-1,s=r[0].descriptor.index,a=r[r.length-1].descriptor.index,l=e?a:a+1;return o<s||o>l?null:o},r0e=({isMovingForward:t,isInHomeList:e,draggable:r,draggables:n,destination:i,insideDestination:o,previousImpact:s,viewport:a,afterCritical:l})=>{const c=s.at;if(c||J(!1),c.type==="REORDER"){const f=t0e({isMovingForward:t,isInHomeList:e,location:c.destination,insideDestination:o});return f==null?null:Wx({draggable:r,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:f})}const u=e0e({isMovingForward:t,destination:i,displaced:s.displaced,draggables:n,combine:c.combine,afterCritical:l});return u==null?null:Wx({draggable:r,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:u})},n0e=({displaced:t,afterCritical:e,combineWith:r,displacedBy:n})=>{const i=!!(t.visible[r]||t.invisible[r]);return Ha(r,e)?i?Nr:zd(n.point):i?n.point:Nr},i0e=({afterCritical:t,impact:e,draggables:r})=>{const n=p1(e);n||J(!1);const i=n.draggableId,o=r[i].page.borderBox.center,s=n0e({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return zr(o,s)};const Nq=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,o0e=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,qO=(t,e,r)=>e[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2,lL=({axis:t,moveRelativeTo:e,isMoving:r})=>Tc(t.line,e.marginBox[t.end]+Nq(t,r),qO(t,e.marginBox,r)),cL=({axis:t,moveRelativeTo:e,isMoving:r})=>Tc(t.line,e.marginBox[t.start]-o0e(t,r),qO(t,e.marginBox,r)),s0e=({axis:t,moveInto:e,isMoving:r})=>Tc(t.line,e.contentBox[t.start]+Nq(t,r),qO(t,e.contentBox,r));var a0e=({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i})=>{const o=Gd(n.descriptor.id,r),s=e.page,a=n.axis;if(!o.length)return s0e({axis:a,moveInto:n.page,isMoving:s});const{displaced:l,displacedBy:c}=t,u=l.all[0];if(u){const h=r[u];if(Ha(u,i))return cL({axis:a,moveRelativeTo:h.page,isMoving:s});const p=Fx(h.page,c.point);return cL({axis:a,moveRelativeTo:p,isMoving:s})}const f=o[o.length-1];if(f.descriptor.id===e.descriptor.id)return s.borderBox.center;if(Ha(f.descriptor.id,i)){const h=Fx(f.page,zd(i.displacedBy.point));return lL({axis:a,moveRelativeTo:h,isMoving:s})}return lL({axis:a,moveRelativeTo:f.page,isMoving:s})},fP=(t,e)=>{const r=t.frame;return r?zr(e,r.scroll.diff.displacement):e};const l0e=({impact:t,draggable:e,droppable:r,draggables:n,afterCritical:i})=>{const o=e.page.borderBox.center,s=t.at;return!r||!s?o:s.type==="REORDER"?a0e({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i}):i0e({impact:t,draggables:n,afterCritical:i})};var y1=t=>{const e=l0e(t),r=t.droppable;return r?fP(r,e):e},kq=(t,e)=>{const r=Jn(e,t.scroll.initial),n=zd(r);return{frame:eo({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:r,displacement:n}}}};function uL(t,e){return t.map(r=>e[r])}function c0e(t,e){for(let r=0;r<e.length;r++){const n=e[r].visible[t];if(n)return n}return null}var u0e=({impact:t,viewport:e,destination:r,draggables:n,maxScrollChange:i})=>{const o=kq(e,zr(e.scroll.current,i)),s=r.frame?VO(r,zr(r.frame.scroll.current,i)):r,a=t.displaced,l=km({afterDragging:uL(a.all,n),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),c=km({afterDragging:uL(a.all,n),destination:s,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),u={},f={},h=[a,l,c];return a.all.forEach(m=>{const y=c0e(m,h);if(y){f[m]=y;return}u[m]=!0}),{...t,displaced:{all:a.all,invisible:u,visible:f}}},f0e=(t,e)=>zr(t.scroll.diff.displacement,e),HO=({pageBorderBoxCenter:t,draggable:e,viewport:r})=>{const n=f0e(r,t),i=Jn(n,e.page.borderBox.center);return zr(e.client.borderBox.center,i)},Oq=({draggable:t,destination:e,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=Jn(r,t.page.borderBox.center),l={target:Sg(t.page.borderBox,s),destination:e,withDroppableDisplacement:i,viewport:n};return o?Qve(l):Iq(l)},d0e=({isMovingForward:t,draggable:e,destination:r,draggables:n,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:l})=>{if(!r.isEnabled)return null;const c=Gd(r.descriptor.id,n),u=qd(e,r),f=Uve({isMovingForward:t,draggable:e,destination:r,insideDestination:c,previousImpact:i})||r0e({isMovingForward:t,isInHomeList:u,draggable:e,draggables:n,destination:r,insideDestination:c,previousImpact:i,viewport:o,afterCritical:l});if(!f)return null;const h=y1({impact:f,draggable:e,droppable:r,draggables:n,afterCritical:l});if(Oq({draggable:e,destination:r,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:HO({pageBorderBoxCenter:h,draggable:e,viewport:o}),impact:f,scrollJumpRequest:null};const m=Jn(h,s),y=u0e({impact:f,viewport:o,destination:r,draggables:n,maxScrollChange:m});return{clientSelection:a,impact:y,scrollJumpRequest:m}};const yn=t=>{const e=t.subject.active;return e||J(!1),e};var h0e=({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:n,viewport:i})=>{const o=r.subject.active;if(!o)return null;const s=r.axis,a=Ii(o[s.start],o[s.end]),l=h1(n).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>Tq(i.frame)(yn(u))).filter(u=>{const f=yn(u);return t?o[s.crossAxisEnd]<f[s.crossAxisEnd]:f[s.crossAxisStart]<o[s.crossAxisStart]}).filter(u=>{const f=yn(u),h=Ii(f[s.start],f[s.end]);return a(f[s.start])||a(f[s.end])||h(o[s.start])||h(o[s.end])}).sort((u,f)=>{const h=yn(u)[s.crossAxisStart],p=yn(f)[s.crossAxisStart];return t?h-p:p-h}).filter((u,f,h)=>yn(u)[s.crossAxisStart]===yn(h[0])[s.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>Ii(yn(u)[s.start],yn(u)[s.end])(e[s.line]));return c.length===1?c[0]:c.length>1?c.sort((u,f)=>yn(u)[s.start]-yn(f)[s.start])[0]:l.sort((u,f)=>{const h=oL(e,sL(yn(u))),p=oL(e,sL(yn(f)));return h!==p?h-p:yn(u)[s.start]-yn(f)[s.start]})[0]};const fL=(t,e)=>{const r=t.page.borderBox.center;return Ha(t.descriptor.id,e)?Jn(r,e.displacedBy.point):r},p0e=(t,e)=>{const r=t.page.borderBox;return Ha(t.descriptor.id,e)?Sg(r,zd(e.displacedBy.point)):r};var m0e=({pageBorderBoxCenter:t,viewport:e,destination:r,insideDestination:n,afterCritical:i})=>n.filter(s=>Iq({target:p0e(s,i),destination:r,viewport:e.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const l=Im(t,fP(r,fL(s,i))),c=Im(t,fP(r,fL(a,i)));return l<c?-1:c<l?1:s.descriptor.index-a.descriptor.index})[0]||null,Eg=Ir(function(e,r){const n=r[e.line];return{value:n,point:Tc(e.line,n)}});const y0e=(t,e,r)=>{const n=t.axis;if(t.descriptor.mode==="virtual")return Tc(n.line,e[n.line]);const i=t.subject.page.contentBox[n.size],l=Gd(t.descriptor.id,r).reduce((c,u)=>c+u.client.marginBox[n.size],0)+e[n.line]-i;return l<=0?null:Tc(n.line,l)},Rq=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),jq=(t,e,r)=>{const n=t.frame;qd(e,t)&&J(!1),t.subject.withPlaceholder&&J(!1);const i=Eg(t.axis,e.displaceBy).point,o=y0e(t,i,r),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!n){const u=rd({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return{...t,subject:u}}const a=o?zr(n.scroll.max,o):n.scroll.max,l=Rq(n,a),c=rd({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:l});return{...t,subject:c,frame:l}},g0e=t=>{const e=t.subject.withPlaceholder;e||J(!1);const r=t.frame;if(!r){const s=rd({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:s}}const n=e.oldFrameMaxScroll;n||J(!1);const i=Rq(r,n),o=rd({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:o,frame:i}};var v0e=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:r,draggable:n,draggables:i,destination:o,viewport:s,afterCritical:a})=>{if(!e){if(r.length)return null;const f={displaced:Nm,displacedBy:Cq,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},h=y1({impact:f,draggable:n,droppable:o,draggables:i,afterCritical:a}),p=qd(n,o)?o:jq(o,n,i);return Oq({draggable:n,destination:p,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const l=t[o.axis.line]<=e.page.borderBox.center[o.axis.line],c=(()=>{const f=e.descriptor.index;return e.descriptor.id===n.descriptor.id||l?f:f+1})(),u=Eg(o.axis,n.displaceBy);return Wx({draggable:n,insideDestination:r,destination:o,viewport:s,displacedBy:u,last:Nm,index:c})},b0e=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:r,isOver:n,draggables:i,droppables:o,viewport:s,afterCritical:a})=>{const l=h0e({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:o,viewport:s});if(!l)return null;const c=Gd(l.descriptor.id,i),u=m0e({pageBorderBoxCenter:e,viewport:s,destination:l,insideDestination:c,afterCritical:a}),f=v0e({previousPageBorderBoxCenter:e,destination:l,draggable:r,draggables:i,moveRelativeTo:u,insideDestination:c,viewport:s,afterCritical:a});if(!f)return null;const h=y1({impact:f,draggable:r,droppable:l,draggables:i,afterCritical:a});return{clientSelection:HO({pageBorderBoxCenter:h,draggable:r,viewport:s}),impact:f,scrollJumpRequest:null}},ti=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const x0e=(t,e)=>{const r=ti(t);return r?e[r]:null};var _0e=({state:t,type:e})=>{const r=x0e(t.impact,t.dimensions.droppables),n=!!r,i=t.dimensions.droppables[t.critical.droppable.id],o=r||i,s=o.axis.direction,a=s==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||s==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!n)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,{draggables:f,droppables:h}=t.dimensions;return a?d0e({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:o,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):b0e({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:o,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Al(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function $q(t){const e=Ii(t.top,t.bottom),r=Ii(t.left,t.right);return function(i){return e(i.y)&&r(i.x)}}function w0e(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function S0e({pageBorderBox:t,draggable:e,candidates:r}){const n=e.page.borderBox.center,i=r.map(o=>{const s=o.axis,a=Tc(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Im(n,a)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function E0e({pageBorderBox:t,draggable:e,droppables:r}){const n=h1(r).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!w0e(t,o))return!1;if($q(o)(t.center))return!0;const s=i.axis,a=o.center[s.crossAxisLine],l=t[s.crossAxisStart],c=t[s.crossAxisEnd],u=Ii(o[s.crossAxisStart],o[s.crossAxisEnd]),f=u(l),h=u(c);return!f&&!h?!0:f?l<a:c>a});return n.length?n.length===1?n[0].descriptor.id:S0e({pageBorderBox:t,draggable:e,candidates:n}):null}const Dq=(t,e)=>eo(Sg(t,e));var A0e=(t,e)=>{const r=t.frame;return r?Dq(e,r.scroll.diff.value):e};function Mq({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function C0e({draggable:t,closest:e,inHomeList:r}){return e?r&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var T0e=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:r,insideDestination:n,last:i,viewport:o,afterCritical:s})=>{const a=r.axis,l=Eg(r.axis,e.displaceBy),c=l.value,u=t[a.start],f=t[a.end],p=m1(e,n).find(y=>{const g=y.descriptor.id,b=y.page.borderBox.center[a.line],v=Ha(g,s),x=Mq({displaced:i,id:g});return v?x?f<=b:u<b-c:x?f<=b+c:u<b})||null,m=C0e({draggable:e,closest:p,inHomeList:qd(e,r)});return Wx({draggable:e,insideDestination:n,destination:r,viewport:o,last:i,displacedBy:l,index:m})};const P0e=4;var I0e=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:r,destination:n,insideDestination:i,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const s=n.axis,a=Eg(n.axis,t.displaceBy),l=a.value,c=e[s.start],u=e[s.end],h=m1(t,i).find(m=>{const y=m.descriptor.id,g=m.page.borderBox,v=g[s.size]/P0e,x=Ha(y,o),S=Mq({displaced:r.displaced,id:y});return x?S?u>g[s.start]+v&&u<g[s.end]-v:c>g[s.start]-l+v&&c<g[s.end]-l-v:S?u>g[s.start]+l+v&&u<g[s.end]+l-v:c>g[s.start]+v&&c<g[s.end]-v});return h?{displacedBy:a,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:n.descriptor.id}}}:null},Fq=({pageOffset:t,draggable:e,draggables:r,droppables:n,previousImpact:i,viewport:o,afterCritical:s})=>{const a=Dq(e.page.borderBox,t),l=E0e({pageBorderBox:a,draggable:e,droppables:n});if(!l)return Wve;const c=n[l],u=Gd(c.descriptor.id,r),f=A0e(c,a);return I0e({pageBorderBoxWithDroppableScroll:f,draggable:e,previousImpact:i,destination:c,insideDestination:u,afterCritical:s})||T0e({pageBorderBoxWithDroppableScroll:f,draggable:e,destination:c,insideDestination:u,last:i.displaced,viewport:o,afterCritical:s})},KO=(t,e)=>({...t,[e.descriptor.id]:e});const N0e=({previousImpact:t,impact:e,droppables:r})=>{const n=ti(t),i=ti(e);if(!n||n===i)return r;const o=r[n];if(!o.subject.withPlaceholder)return r;const s=g0e(o);return KO(r,s)};var k0e=({draggable:t,draggables:e,droppables:r,previousImpact:n,impact:i})=>{const o=N0e({previousImpact:n,impact:i,droppables:r}),s=ti(i);if(!s)return o;const a=r[s];if(qd(t,a)||a.subject.withPlaceholder)return o;const l=jq(a,t,e);return KO(o,l)},$p=({state:t,clientSelection:e,dimensions:r,viewport:n,impact:i,scrollJumpRequest:o})=>{const s=n||t.viewport,a=r||t.dimensions,l=e||t.current.client.selection,c=Jn(l,t.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:zr(t.initial.client.borderBoxCenter,c)},f={selection:zr(u.selection,s.scroll.current),borderBoxCenter:zr(u.borderBoxCenter,s.scroll.current),offset:zr(u.offset,s.scroll.diff.value)},h={client:u,page:f};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:s,current:h};const p=a.draggables[t.critical.draggable.id],m=i||Fq({pageOffset:f.offset,draggable:p,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),y=k0e({draggable:p,impact:m,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:h,dimensions:{draggables:a.draggables,droppables:y},impact:m,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function O0e(t,e){return t.map(r=>e[r])}var Lq=({impact:t,viewport:e,draggables:r,destination:n,forceShouldAnimate:i})=>{const o=t.displaced,s=O0e(o.all,r),a=km({afterDragging:s,destination:n,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:o});return{...t,displaced:a}},Bq=({impact:t,draggable:e,droppable:r,draggables:n,viewport:i,afterCritical:o})=>{const s=y1({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:o});return HO({pageBorderBoxCenter:s,draggable:e,viewport:i})},Uq=({state:t,dimensions:e,viewport:r})=>{t.movementMode!=="SNAP"&&J(!1);const n=t.impact,i=r||t.viewport,o=e||t.dimensions,{draggables:s,droppables:a}=o,l=s[t.critical.draggable.id],c=ti(n);c||J(!1);const u=a[c],f=Lq({impact:n,viewport:i,destination:u,draggables:s}),h=Bq({impact:f,draggable:l,droppable:u,draggables:s,viewport:i,afterCritical:t.afterCritical});return $p({impact:f,clientSelection:h,state:t,dimensions:o,viewport:i})},R0e=t=>({index:t.index,droppableId:t.droppableId}),Vq=({draggable:t,home:e,draggables:r,viewport:n})=>{const i=Eg(e.axis,t.displaceBy),o=Gd(e.descriptor.id,r),s=o.indexOf(t);s===-1&&J(!1);const a=o.slice(s+1),l=a.reduce((h,p)=>(h[p.descriptor.id]=!0,h),{}),c={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:km({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:R0e(t.descriptor)}},afterCritical:c}},j0e=(t,e)=>({draggables:t.draggables,droppables:KO(t.droppables,e)}),$0e=({draggable:t,offset:e,initialWindowScroll:r})=>{const n=Fx(t.client,e),i=Lx(n,r);return{...t,placeholder:{...t.placeholder,client:n},client:n,page:i}},D0e=t=>{const e=t.frame;return e||J(!1),e},M0e=({additions:t,updatedDroppables:e,viewport:r})=>{const n=r.scroll.diff.value;return t.map(i=>{const o=i.descriptor.droppableId,s=e[o],l=D0e(s).scroll.diff.value,c=zr(n,l);return $0e({draggable:i,offset:c,initialWindowScroll:r.scroll.initial})})},F0e=({state:t,published:e})=>{const r=e.modified.map(b=>{const v=t.dimensions.droppables[b.droppableId];return VO(v,b.scroll)}),n={...t.dimensions.droppables,...Eq(r)},i=Aq(M0e({additions:e.additions,updatedDroppables:n,viewport:t.viewport})),o={...t.dimensions.draggables,...i};e.removals.forEach(b=>{delete o[b]});const s={droppables:n,draggables:o},a=ti(t.impact),l=a?s.droppables[a]:null,c=s.draggables[t.critical.draggable.id],u=s.droppables[t.critical.droppable.id],{impact:f,afterCritical:h}=Vq({draggable:c,home:u,draggables:o,viewport:t.viewport}),p=l&&l.isCombineEnabled?t.impact:f,m=Fq({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:t.viewport,afterCritical:h}),y={...t,phase:"DRAGGING",impact:m,onLiftImpact:f,dimensions:s,afterCritical:h,forceShouldAnimate:!1};return t.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const dP=t=>t.movementMode==="SNAP",uA=(t,e,r)=>{const n=j0e(t.dimensions,e);return!dP(t)||r?$p({state:t,dimensions:n}):Uq({state:t,dimensions:n})};function fA(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const dL={phase:"IDLE",completed:null,shouldFlush:!1};var L0e=(t=dL,e)=>{if(e.type==="FLUSH")return{...dL,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&J(!1);const{critical:r,clientSelection:n,viewport:i,dimensions:o,movementMode:s}=e.payload,a=o.draggables[r.draggable.id],l=o.droppables[r.droppable.id],c={selection:n,borderBoxCenter:a.client.borderBox.center,offset:Nr},u={client:c,page:{selection:zr(c.selection,i.scroll.initial),borderBoxCenter:zr(c.selection,i.scroll.initial),offset:zr(c.selection,i.scroll.diff.value)}},f=h1(o.droppables).every(y=>!y.isFixedOnPage),{impact:h,afterCritical:p}=Vq({draggable:a,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:o,initial:u,current:u,isWindowScrollAllowed:f,impact:h,afterCritical:p,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&J(!1),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||J(!1),F0e({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Al(t)||J(!1);const{client:r}=e.payload;return ja(r,t.current.client.selection)?t:$p({state:t,clientSelection:r,impact:dP(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return fA(t);Al(t)||J(!1);const{id:r,newScroll:n}=e.payload,i=t.dimensions.droppables[r];if(!i)return t;const o=VO(i,n);return uA(t,o,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Al(t)||J(!1);const{id:r,isEnabled:n}=e.payload,i=t.dimensions.droppables[r];i||J(!1),i.isEnabled===n&&J(!1);const o={...i,isEnabled:n};return uA(t,o,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Al(t)||J(!1);const{id:r,isCombineEnabled:n}=e.payload,i=t.dimensions.droppables[r];i||J(!1),i.isCombineEnabled===n&&J(!1);const o={...i,isCombineEnabled:n};return uA(t,o,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Al(t)||J(!1),t.isWindowScrollAllowed||J(!1);const r=e.payload.newScroll;if(ja(t.viewport.scroll.current,r))return fA(t);const n=kq(t.viewport,r);return dP(t)?Uq({state:t,viewport:n}):$p({state:t,viewport:n})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Al(t))return t;const r=e.payload.maxScroll;if(ja(r,t.viewport.scroll.max))return t;const n={...t.viewport,scroll:{...t.viewport.scroll,max:r}};return{...t,viewport:n}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&J(!1);const r=_0e({state:t,type:e.type});return r?$p({state:t,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const r=e.payload.reason;return t.phase!=="COLLECTING"&&J(!1),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(e.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||J(!1),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:r}=e.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return t};const B0e=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),U0e=t=>({type:"LIFT",payload:t}),V0e=t=>({type:"INITIAL_PUBLISH",payload:t}),W0e=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),z0e=()=>({type:"COLLECTION_STARTING",payload:null}),G0e=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),q0e=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),H0e=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),Wq=t=>({type:"MOVE",payload:t}),K0e=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Y0e=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Q0e=()=>({type:"MOVE_UP",payload:null}),X0e=()=>({type:"MOVE_DOWN",payload:null}),J0e=()=>({type:"MOVE_RIGHT",payload:null}),Z0e=()=>({type:"MOVE_LEFT",payload:null}),YO=()=>({type:"FLUSH",payload:null}),ebe=t=>({type:"DROP_ANIMATE",payload:t}),QO=t=>({type:"DROP_COMPLETE",payload:t}),zq=t=>({type:"DROP",payload:t}),tbe=t=>({type:"DROP_PENDING",payload:t}),Gq=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var rbe=t=>({getState:e,dispatch:r})=>n=>i=>{if(i.type!=="LIFT"){n(i);return}const{id:o,clientSelection:s,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&r(QO({completed:l.completed})),e().phase!=="IDLE"&&J(!1),r(YO()),r(B0e({draggableId:o,movementMode:a}));const u={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:f,dimensions:h,viewport:p}=t.startPublishing(u);r(V0e({critical:f,dimensions:h,clientSelection:s,movementMode:a,viewport:p}))},nbe=t=>()=>e=>r=>{r.type==="INITIAL_PUBLISH"&&t.dragging(),r.type==="DROP_ANIMATE"&&t.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&t.resting(),e(r)};const XO={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Om={opacity:{drop:0,combining:.7},scale:{drop:.75}},qq={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},fl=`${qq.outOfTheWay}s ${XO.outOfTheWay}`,Dp={fluid:`opacity ${fl}`,snap:`transform ${fl}, opacity ${fl}`,drop:t=>{const e=`${t}s ${XO.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${fl}`,placeholder:`height ${fl}, width ${fl}, margin ${fl}`},hL=t=>ja(t,Nr)?void 0:`translate(${t.x}px, ${t.y}px)`,hP={moveTo:hL,drop:(t,e)=>{const r=hL(t);if(r)return e?`${r} scale(${Om.scale.drop})`:r}},{minDropTime:pP,maxDropTime:Hq}=qq,ibe=Hq-pP,pL=1500,obe=.6;var sbe=({current:t,destination:e,reason:r})=>{const n=Im(t,e);if(n<=0)return pP;if(n>=pL)return Hq;const i=n/pL,o=pP+ibe*i,s=r==="CANCEL"?o*obe:o;return Number(s.toFixed(2))},abe=({impact:t,draggable:e,dimensions:r,viewport:n,afterCritical:i})=>{const{draggables:o,droppables:s}=r,a=ti(t),l=a?s[a]:null,c=s[e.descriptor.droppableId],u=Bq({impact:t,draggable:e,draggables:o,afterCritical:i,droppable:l||c,viewport:n});return Jn(u,e.client.borderBox.center)},lbe=({draggables:t,reason:e,lastImpact:r,home:n,viewport:i,onLiftImpact:o})=>!r.at||e!=="DROP"?{impact:Lq({draggables:t,impact:o,destination:n,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Nm},didDropInsideDroppable:!0};const cbe=({getState:t,dispatch:e})=>r=>n=>{if(n.type!=="DROP"){r(n);return}const i=t(),o=n.payload.reason;if(i.phase==="COLLECTING"){e(tbe({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&J(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||J(!1);const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:u,didDropInsideDroppable:f}=lbe({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),h=f?WO(u):null,p=f?p1(u):null,m={index:a.draggable.index,droppableId:a.droppable.id},y={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:o,mode:i.movementMode,destination:h,combine:p},g=abe({impact:u,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),b={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:u};if(!(!ja(i.current.client.offset,g)||!!y.combine)){e(QO({completed:b}));return}const x=sbe({current:i.current.client.offset,destination:g,reason:o});e(ebe({newHomeClientOffset:g,dropDuration:x,completed:b}))};var ube=cbe,Kq=()=>({x:window.pageXOffset,y:window.pageYOffset});function fbe(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function dbe({onWindowScroll:t}){function e(){t(Kq())}const r=Pm(e),n=fbe(r);let i=Ra;function o(){return i!==Ra}function s(){o()&&J(!1),i=Ci(window,[n])}function a(){o()||J(!1),r.cancel(),i(),i=Ra}return{start:s,stop:a,isActive:o}}const hbe=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH",pbe=t=>{const e=dbe({onWindowScroll:r=>{t.dispatch(K0e({newScroll:r}))}});return r=>n=>{!e.isActive()&&n.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&hbe(n)&&e.stop(),r(n)}};var mbe=pbe,ybe=t=>{let e=!1,r=!1;const n=setTimeout(()=>{r=!0}),i=o=>{e||r||(e=!0,t(o),clearTimeout(n))};return i.wasCalled=()=>e,i},gbe=()=>{const t=[],e=i=>{const o=t.findIndex(a=>a.timerId===i);o===-1&&J(!1);const[s]=t.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>e(o)),s={timerId:o,callback:i};t.push(s)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const vbe=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,bbe=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,xbe=(t,e)=>{if(t===e)return!0;const r=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,n=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return r&&n},Nh=(t,e)=>{e()},kv=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function dA(t,e,r,n){if(!t){r(n(e));return}const i=ybe(r);t(e,{announce:i}),i.wasCalled()||r(n(e))}var _be=(t,e)=>{const r=gbe();let n=null;const i=(f,h)=>{n&&J(!1),Nh("onBeforeCapture",()=>{const p=t().onBeforeCapture;p&&p({draggableId:f,mode:h})})},o=(f,h)=>{n&&J(!1),Nh("onBeforeDragStart",()=>{const p=t().onBeforeDragStart;p&&p(kv(f,h))})},s=(f,h)=>{n&&J(!1);const p=kv(f,h);n={mode:h,lastCritical:f,lastLocation:p.source,lastCombine:null},r.add(()=>{Nh("onDragStart",()=>dA(t().onDragStart,p,e,H0.onDragStart))})},a=(f,h)=>{const p=WO(h),m=p1(h);n||J(!1);const y=!xbe(f,n.lastCritical);y&&(n.lastCritical=f);const g=!vbe(n.lastLocation,p);g&&(n.lastLocation=p);const b=!bbe(n.lastCombine,m);if(b&&(n.lastCombine=m),!y&&!g&&!b)return;const v={...kv(f,n.mode),combine:m,destination:p};r.add(()=>{Nh("onDragUpdate",()=>dA(t().onDragUpdate,v,e,H0.onDragUpdate))})},l=()=>{n||J(!1),r.flush()},c=f=>{n||J(!1),n=null,Nh("onDragEnd",()=>dA(t().onDragEnd,f,e,H0.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:c,abort:()=>{if(!n)return;const f={...kv(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};c(f)}}},wbe=(t,e)=>{const r=_be(t,e);return n=>i=>o=>{if(o.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){const a=o.payload.critical;r.beforeStart(a,o.payload.movementMode),i(o),r.start(a,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){const a=o.payload.completed.result;r.flush(),i(o),r.drop(a);return}if(i(o),o.type==="FLUSH"){r.abort();return}const s=n.getState();s.phase==="DRAGGING"&&r.update(s.critical,s.impact)}};const Sbe=t=>e=>r=>{if(r.type!=="DROP_ANIMATION_FINISHED"){e(r);return}const n=t.getState();n.phase!=="DROP_ANIMATING"&&J(!1),t.dispatch(QO({completed:n.completed}))};var Ebe=Sbe;const Abe=t=>{let e=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),e&&(e(),e=null)}return i=>o=>{if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&n(),i(o),o.type!=="DROP_ANIMATE")return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(Gq())}};r=requestAnimationFrame(()=>{r=null,e=Ci(window,[s])})}};var Cbe=Abe,Tbe=t=>()=>e=>r=>{(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&t.stopPublishing(),e(r)},Pbe=t=>{let e=!1;return()=>r=>n=>{if(n.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(n.payload.critical.draggable.id),r(n),t.tryRestoreFocusRecorded();return}if(r(n),!!e){if(n.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){e=!1;const i=n.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const Ibe=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH";var Nbe=t=>e=>r=>n=>{if(Ibe(n)){t.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);const i=e.getState();i.phase!=="DRAGGING"&&J(!1),t.start(i);return}r(n),t.scroll(e.getState())};const kbe=t=>e=>r=>{if(e(r),r.type!=="PUBLISH_WHILE_DRAGGING")return;const n=t.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||t.dispatch(zq({reason:n.reason})))};var Obe=kbe;const Rbe=rq;var jbe=({dimensionMarshal:t,focusMarshal:e,styleMarshal:r,getResponders:n,announce:i,autoScroller:o})=>tq(L0e,Rbe(Sge(nbe(r),Tbe(t),rbe(t),ube,Ebe,Cbe,Obe,Nbe(o),mbe,Pbe(e),wbe(n,i))));const hA=()=>({additions:{},removals:{},modified:{}});function $be({registry:t,callbacks:e}){let r=hA(),n=null;const i=()=>{n||(e.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:l,removals:c,modified:u}=r,f=Object.keys(l).map(m=>t.draggable.getById(m).getDimension(Nr)).sort((m,y)=>m.descriptor.index-y.descriptor.index),h=Object.keys(u).map(m=>{const g=t.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:g}}),p={additions:f,removals:Object.keys(c),modified:h};r=hA(),e.publish(p)}))};return{add:l=>{const c=l.descriptor.id;r.additions[c]=l,r.modified[l.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],i()},remove:l=>{const c=l.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],i()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=hA())}}}var Yq=({scrollHeight:t,scrollWidth:e,height:r,width:n})=>{const i=Jn({x:e,y:t},{x:n,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Qq=()=>{const t=document.documentElement;return t||J(!1),t},Xq=()=>{const t=Qq();return Yq({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},Dbe=()=>{const t=Kq(),e=Xq(),r=t.y,n=t.x,i=Qq(),o=i.clientWidth,s=i.clientHeight,a=n+o,l=r+s;return{frame:eo({top:r,left:n,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:Nr,displacement:Nr}}}},Mbe=({critical:t,scrollOptions:e,registry:r})=>{const n=Dbe(),i=n.scroll.current,o=t.droppable,s=r.droppable.getAllByType(o.type).map(u=>u.callbacks.getDimensionAndWatchScroll(i,e)),a=r.draggable.getAllByType(t.draggable.type).map(u=>u.getDimension(i));return{dimensions:{draggables:Aq(a),droppables:Eq(s)},critical:t,viewport:n}};function mL(t,e,r){return!(r.descriptor.id===e.id||r.descriptor.type!==e.type||t.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var Fbe=(t,e)=>{let r=null;const n=$be({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(h,p)=>{t.droppable.exists(h)||J(!1),r&&e.updateDroppableIsEnabled({id:h,isEnabled:p})},o=(h,p)=>{r&&(t.droppable.exists(h)||J(!1),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},s=(h,p)=>{r&&(t.droppable.exists(h)||J(!1),e.updateDroppableScroll({id:h,newScroll:p}))},a=(h,p)=>{r&&t.droppable.getById(h).callbacks.scroll(p)},l=()=>{if(!r)return;n.stop();const h=r.critical.droppable;t.droppable.getAllByType(h.type).forEach(p=>p.callbacks.dragStopped()),r.unsubscribe(),r=null},c=h=>{r||J(!1);const p=r.critical.draggable;h.type==="ADDITION"&&mL(t,p,h.value)&&n.add(h.value),h.type==="REMOVAL"&&mL(t,p,h.value)&&n.remove(h.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:h=>{r&&J(!1);const p=t.draggable.getById(h.draggableId),m=t.droppable.getById(p.descriptor.droppableId),y={draggable:p.descriptor,droppable:m.descriptor},g=t.subscribe(c);return r={critical:y,unsubscribe:g},Mbe({critical:y,registry:t,scrollOptions:h.scrollOptions})},stopPublishing:l}},Jq=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",Lbe=t=>{window.scrollBy(t.x,t.y)};const Bbe=Ir(t=>h1(t).filter(e=>!(!e.isEnabled||!e.frame))),Ube=(t,e)=>Bbe(e).find(n=>(n.frame||J(!1),$q(n.frame.pageMarginBox)(t)))||null;var Vbe=({center:t,destination:e,droppables:r})=>{if(e){const i=r[e];return i.frame?i:null}return Ube(t,r)};const Rm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Wbe=(t,e,r=()=>Rm)=>{const n=r(),i=t[e.size]*n.startFromPercentage,o=t[e.size]*n.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},Zq=({startOfRange:t,endOfRange:e,current:r})=>{const n=e-t;return n===0?0:(r-t)/n},JO=1,zbe=(t,e,r=()=>Rm)=>{const n=r();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return n.maxPixelScroll;if(t===e.startScrollingFrom)return JO;const o=1-Zq({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),s=n.maxPixelScroll*n.ease(o);return Math.ceil(s)},Gbe=(t,e,r)=>{const n=r(),i=n.durationDampening.accelerateAt,o=n.durationDampening.stopDampeningAt,s=e,a=o,c=Date.now()-s;if(c>=o)return t;if(c<i)return JO;const u=Zq({startOfRange:i,endOfRange:a,current:c}),f=t*n.ease(u);return Math.ceil(f)},yL=({distanceToEdge:t,thresholds:e,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:i})=>{const o=zbe(t,e,i);return o===0?0:n?Math.max(Gbe(o,r,i),JO):o},gL=({container:t,distanceToEdges:e,dragStartTime:r,axis:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=Wbe(t,n,o);return e[n.end]<e[n.start]?yL({distanceToEdge:e[n.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*yL({distanceToEdge:e[n.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},qbe=({container:t,subject:e,proposedScroll:r})=>{const n=e.height>t.height,i=e.width>t.width;return!i&&!n?r:i&&n?null:{x:i?0:r.x,y:n?0:r.y}};const Hbe=Sq(t=>t===0?0:t);var eH=({dragStartTime:t,container:e,subject:r,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:n.y-e.top,right:e.right-n.x,bottom:e.bottom-n.y,left:n.x-e.left},a=gL({container:e,distanceToEdges:s,dragStartTime:t,axis:zO,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),l=gL({container:e,distanceToEdges:s,dragStartTime:t,axis:Pq,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),c=Hbe({x:l,y:a});if(ja(c,Nr))return null;const u=qbe({container:e,subject:r,proposedScroll:c});return u?ja(u,Nr)?null:u:null};const Kbe=Sq(t=>t===0?0:t>0?1:-1),ZO=(()=>{const t=(e,r)=>e<0?e:e>r?e-r:0;return({current:e,max:r,change:n})=>{const i=zr(e,n),o={x:t(i.x,r.x),y:t(i.y,r.y)};return ja(o,Nr)?null:o}})(),tH=({max:t,current:e,change:r})=>{const n={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=Kbe(r),o=ZO({max:n,current:e,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},eR=(t,e)=>tH({current:t.scroll.current,max:t.scroll.max,change:e}),Ybe=(t,e)=>{if(!eR(t,e))return null;const r=t.scroll.max,n=t.scroll.current;return ZO({current:n,max:r,change:e})},tR=(t,e)=>{const r=t.frame;return r?tH({current:r.scroll.current,max:r.scroll.max,change:e}):!1},Qbe=(t,e)=>{const r=t.frame;return!r||!tR(t,e)?null:ZO({current:r.scroll.current,max:r.scroll.max,change:e})};var Xbe=({viewport:t,subject:e,center:r,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=eH({dragStartTime:n,container:t.frame,subject:e,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&eR(t,s)?s:null},Jbe=({droppable:t,subject:e,center:r,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=t.frame;if(!s)return null;const a=eH({dragStartTime:n,container:s.pageMarginBox,subject:e,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return a&&tR(t,a)?a:null},vL=({state:t,dragStartTime:e,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const f=t.viewport,h=Xbe({dragStartTime:e,viewport:f,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:o});if(h){n(h);return}}const c=Vbe({center:s,destination:ti(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=Jbe({dragStartTime:e,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:o});u&&i(c.descriptor.id,u)},Zbe=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r=()=>Rm})=>{const n=Pm(t),i=Pm(e);let o=null;const s=c=>{o||J(!1);const{shouldUseTimeDampening:u,dragStartTime:f}=o;vL({state:c,scrollWindow:n,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:c=>{o&&J(!1);const u=Date.now();let f=!1;const h=()=>{f=!0};vL({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:r}),o={dragStartTime:u,shouldUseTimeDampening:f},f&&s(c)},stop:()=>{o&&(n.cancel(),i.cancel(),o=null)},scroll:s}},exe=({move:t,scrollDroppable:e,scrollWindow:r})=>{const n=(a,l)=>{const c=zr(a.current.client.selection,l);t({client:c})},i=(a,l)=>{if(!tR(a,l))return l;const c=Qbe(a,l);if(!c)return e(a.descriptor.id,l),null;const u=Jn(l,c);return e(a.descriptor.id,u),Jn(l,u)},o=(a,l,c)=>{if(!a||!eR(l,c))return c;const u=Ybe(l,c);if(!u)return r(c),null;const f=Jn(c,u);return r(f),Jn(c,f)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=ti(a.impact);c||J(!1);const u=i(a.dimensions.droppables[c],l);if(!u)return;const f=a.viewport,h=o(a.isWindowScrollAllowed,f,u);h&&n(a,h)}},txe=({scrollDroppable:t,scrollWindow:e,move:r,getAutoScrollerOptions:n})=>{const i=Zbe({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n}),o=exe({move:r,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(n().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&o(l)}},start:i.start,stop:i.stop}};const nd="data-rfd",id=(()=>{const t=`${nd}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),mP=(()=>{const t=`${nd}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),rxe=(()=>{const t=`${nd}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),bL={contextId:`${nd}-scroll-container-context-id`},nxe=t=>e=>`[${e}="${t}"]`,kh=(t,e)=>t.map(r=>{const n=r.styles[e];return n?`${r.selector} { ${n} }`:""}).join(" "),ixe="pointer-events: none;";var oxe=t=>{const e=nxe(t),r=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(id.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:ixe,dropAnimating:a}}})(),n=(()=>{const a=`
      transition: ${Dp.outOfTheWay};
    `;return{selector:e(mP.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(rxe.contextId),styles:{always:"overflow-anchor: none;"}},s=[n,r,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:kh(s,"always"),resting:kh(s,"resting"),dragging:kh(s,"dragging"),dropAnimating:kh(s,"dropAnimating"),userCancel:kh(s,"userCancel")}};const sxe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;var ri=sxe;const pA=()=>{const t=document.querySelector("head");return t||J(!1),t},xL=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function axe(t,e){const r=ze(()=>oxe(t),[t]),n=E.useRef(null),i=E.useRef(null),o=he(Ir(f=>{const h=i.current;h||J(!1),h.textContent=f}),[]),s=he(f=>{const h=n.current;h||J(!1),h.textContent=f},[]);ri(()=>{!n.current&&!i.current||J(!1);const f=xL(e),h=xL(e);return n.current=f,i.current=h,f.setAttribute(`${nd}-always`,t),h.setAttribute(`${nd}-dynamic`,t),pA().appendChild(f),pA().appendChild(h),s(r.always),o(r.resting),()=>{const p=m=>{const y=m.current;y||J(!1),pA().removeChild(y),m.current=null};p(n),p(i)}},[e,s,o,r.always,r.resting,t]);const a=he(()=>o(r.dragging),[o,r.dragging]),l=he(f=>{if(f==="DROP"){o(r.dropAnimating);return}o(r.userCancel)},[o,r.dropAnimating,r.userCancel]),c=he(()=>{i.current&&o(r.resting)},[o,r.resting]);return ze(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function rH(t,e){return Array.from(t.querySelectorAll(e))}var nH=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function g1(t){return t instanceof nH(t).HTMLElement}function lxe(t,e){const r=`[${id.contextId}="${t}"]`,n=rH(document,r);if(!n.length)return null;const i=n.find(o=>o.getAttribute(id.draggableId)===e);return!i||!g1(i)?null:i}function cxe(t){const e=E.useRef({}),r=E.useRef(null),n=E.useRef(null),i=E.useRef(!1),o=he(function(h,p){const m={id:h,focus:p};return e.current[h]=m,function(){const g=e.current;g[h]!==m&&delete g[h]}},[]),s=he(function(h){const p=lxe(t,h);p&&p!==document.activeElement&&p.focus()},[t]),a=he(function(h,p){r.current===h&&(r.current=p)},[]),l=he(function(){n.current||i.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const h=r.current;h&&s(h)}))},[s]),c=he(function(h){r.current=null;const p=document.activeElement;p&&p.getAttribute(id.draggableId)===h&&(r.current=h)},[]);return ri(()=>(i.current=!0,function(){i.current=!1;const h=n.current;h&&cancelAnimationFrame(h)}),[]),ze(()=>({register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[o,c,l,a])}function uxe(){const t={draggables:{},droppables:{}},e=[];function r(f){return e.push(f),function(){const p=e.indexOf(f);p!==-1&&e.splice(p,1)}}function n(f){e.length&&e.forEach(h=>h(f))}function i(f){return t.draggables[f]||null}function o(f){const h=i(f);return h||J(!1),h}const s={register:f=>{t.draggables[f.descriptor.id]=f,n({type:"ADDITION",value:f})},update:(f,h)=>{const p=t.draggables[h.descriptor.id];p&&p.uniqueId===f.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:f=>{const h=f.descriptor.id,p=i(h);p&&f.uniqueId===p.uniqueId&&(delete t.draggables[h],t.droppables[f.descriptor.droppableId]&&n({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:f=>!!i(f),getAllByType:f=>Object.values(t.draggables).filter(h=>h.descriptor.type===f)};function a(f){return t.droppables[f]||null}function l(f){const h=a(f);return h||J(!1),h}const c={register:f=>{t.droppables[f.descriptor.id]=f},unregister:f=>{const h=a(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete t.droppables[f.descriptor.id]},getById:l,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(t.droppables).filter(h=>h.descriptor.type===f)};function u(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:c,subscribe:r,clean:u}}function fxe(){const t=ze(uxe,[]);return E.useEffect(()=>function(){k.version.startsWith("16")||k.version.startsWith("17")?requestAnimationFrame(t.clean):t.clean()},[t]),t}var rR=k.createContext(null),zx=()=>{const t=document.body;return t||J(!1),t};const dxe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var hxe=dxe;const pxe=t=>`rfd-announcement-${t}`;function mxe(t){const e=ze(()=>pxe(t),[t]),r=E.useRef(null);return E.useEffect(function(){const o=document.createElement("div");return r.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Bx(o.style,hxe),zx().appendChild(o),function(){setTimeout(function(){const l=zx();l.contains(o)&&l.removeChild(o),o===r.current&&(r.current=null)})}},[e]),he(i=>{const o=r.current;if(o){o.textContent=i;return}},[])}let yxe=0;const iH={separator:"::"};function gxe(t,e=iH){return ze(()=>`${t}${e.separator}${yxe++}`,[e.separator,t])}function vxe(t,e=iH){const r=k.useId();return ze(()=>`${t}${e.separator}${r}`,[e.separator,t,r])}var nR="useId"in k?vxe:gxe;function bxe({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function xxe({contextId:t,text:e}){const r=nR("hidden-text",{separator:"-"}),n=ze(()=>bxe({contextId:t,uniqueId:r}),[r,t]);return E.useEffect(function(){const o=document.createElement("div");return o.id=n,o.textContent=e,o.style.display="none",zx().appendChild(o),function(){const a=zx();a.contains(o)&&a.removeChild(o)}},[n,e]),n}var v1=k.createContext(null);function oH(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),e}function _xe(){let t=null;function e(){return!!t}function r(s){return s===t}function n(s){t&&J(!1);const a={abandon:s};return t=a,a}function i(){t||J(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:r,claim:n,release:i,tryAbandon:o}}function jm(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const wxe=9,Sxe=13,iR=27,sH=32,Exe=33,Axe=34,Cxe=35,Txe=36,Pxe=37,Ixe=38,Nxe=39,kxe=40,Oxe={[Sxe]:!0,[wxe]:!0};var aH=t=>{Oxe[t.keyCode]&&t.preventDefault()};const Rxe=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(n=>`on${n}`in document)||t})();var b1=Rxe;const lH=0,_L=5;function jxe(t,e){return Math.abs(e.x-t.x)>=_L||Math.abs(e.y-t.y)>=_L}const wL={type:"IDLE"};function $xe({cancel:t,completed:e,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:a}=i;if(o!==lH)return;const l={x:s,y:a},c=r();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&J(!1);const u=c.point;if(!jxe(u,l))return;i.preventDefault();const f=c.actions.fluidLift(l);n({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:i=>{const o=r();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{r().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(r().type==="PENDING"){t();return}if(i.keyCode===iR){i.preventDefault(),t();return}aH(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=r();if(o.type==="IDLE"&&J(!1),o.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:b1,fn:t}]}function Dxe(t){const e=E.useRef(wL),r=E.useRef(Ra),n=ze(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==lH||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const h=t.findClosestDraggableId(f);if(!h)return;const p=t.tryGetLock(h,s,{sourceEvent:f});if(!p)return;f.preventDefault();const m={x:f.clientX,y:f.clientY};r.current(),c(p,m)}}),[t]),i=ze(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const f=t.findClosestDraggableId(u);if(!f)return;const h=t.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||t.canGetLock(f)&&u.preventDefault())}}),[t]),o=he(function(){const f={passive:!1,capture:!0};r.current=Ci(window,[i,n],f)},[i,n]),s=he(()=>{e.current.type!=="IDLE"&&(e.current=wL,r.current(),o())},[o]),a=he(()=>{const u=e.current;s(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[s]),l=he(function(){const f={capture:!0,passive:!1},h=$xe({cancel:a,completed:s,getPhase:()=>e.current,setPhase:p=>{e.current=p}});r.current=Ci(window,h,f)},[a,s]),c=he(function(f,h){e.current.type!=="IDLE"&&J(!1),e.current={type:"PENDING",point:h,actions:f},l()},[l]);ri(function(){return o(),function(){r.current()}},[o])}function Mxe(){}const Fxe={[Axe]:!0,[Exe]:!0,[Txe]:!0,[Cxe]:!0};function Lxe(t,e){function r(){e(),t.cancel()}function n(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===iR){i.preventDefault(),r();return}if(i.keyCode===sH){i.preventDefault(),n();return}if(i.keyCode===kxe){i.preventDefault(),t.moveDown();return}if(i.keyCode===Ixe){i.preventDefault(),t.moveUp();return}if(i.keyCode===Nxe){i.preventDefault(),t.moveRight();return}if(i.keyCode===Pxe){i.preventDefault(),t.moveLeft();return}if(Fxe[i.keyCode]){i.preventDefault();return}aH(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:b1,fn:r}]}function Bxe(t){const e=E.useRef(Mxe),r=ze(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==sH)return;const s=t.findClosestDraggableId(o);if(!s)return;const a=t.tryGetLock(s,u,{sourceEvent:o});if(!a)return;o.preventDefault();let l=!0;const c=a.snapLift();e.current();function u(){l||J(!1),l=!1,e.current(),n()}e.current=Ci(window,Lxe(c,u),{capture:!0,passive:!1})}}),[t]),n=he(function(){const o={passive:!1,capture:!0};e.current=Ci(window,[r],o)},[r]);ri(function(){return n(),function(){e.current()}},[n])}const mA={type:"IDLE"},Uxe=120,Vxe=.15;function Wxe({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(e().type!=="DRAGGING"){t();return}r.keyCode===iR&&r.preventDefault(),t()}},{eventName:b1,fn:t}]}function zxe({cancel:t,completed:e,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const i=r();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:o,clientY:s}=n.touches[0],a={x:o,y:s};n.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:n=>{const i=r();if(i.type!=="DRAGGING"){t();return}n.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){t();return}n.preventDefault(),t()}},{eventName:"touchforcechange",fn:n=>{const i=r();i.type==="IDLE"&&J(!1);const o=n.touches[0];if(!o||!(o.force>=Vxe))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){n.preventDefault();return}t();return}n.preventDefault()}},{eventName:b1,fn:t}]}function Gxe(t){const e=E.useRef(mA),r=E.useRef(Ra),n=he(function(){return e.current},[]),i=he(function(p){e.current=p},[]),o=ze(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const m=t.findClosestDraggableId(p);if(!m)return;const y=t.tryGetLock(m,a,{sourceEvent:p});if(!y)return;const g=p.touches[0],{clientX:b,clientY:v}=g,x={x:b,y:v};r.current(),f(y,x)}}),[t]),s=he(function(){const p={capture:!0,passive:!1};r.current=Ci(window,[o],p)},[o]),a=he(()=>{const h=e.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(mA),r.current(),s())},[s,i]),l=he(()=>{const h=e.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),c=he(function(){const p={capture:!0,passive:!1},m={cancel:l,completed:a,getPhase:n},y=Ci(window,zxe(m),p),g=Ci(window,Wxe(m),p);r.current=function(){y(),g()}},[l,n,a]),u=he(function(){const p=n();p.type!=="PENDING"&&J(!1);const m=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[n,i]),f=he(function(p,m){n().type!=="IDLE"&&J(!1);const y=setTimeout(u,Uxe);i({type:"PENDING",point:m,actions:p,longPressTimerId:y}),c()},[c,n,i,u]);ri(function(){return s(),function(){r.current();const m=n();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(mA))}},[n,s,i]),ri(function(){return Ci(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const qxe=["input","button","textarea","select","option","optgroup","video","audio"];function cH(t,e){if(e==null)return!1;if(qxe.includes(e.tagName.toLowerCase()))return!0;const n=e.getAttribute("contenteditable");return n==="true"||n===""?!0:e===t?!1:cH(t,e.parentElement)}function Hxe(t,e){const r=e.target;return g1(r)?cH(t,r):!1}var Kxe=t=>eo(t.getBoundingClientRect()).center;function Yxe(t){return t instanceof nH(t).Element}const Qxe=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||t})();function uH(t,e){return t==null?null:t[Qxe](e)?t:uH(t.parentElement,e)}function Xxe(t,e){return t.closest?t.closest(e):uH(t,e)}function Jxe(t){return`[${id.contextId}="${t}"]`}function Zxe(t,e){const r=e.target;if(!Yxe(r))return null;const n=Jxe(t),i=Xxe(r,n);return!i||!g1(i)?null:i}function e_e(t,e){const r=Zxe(t,e);return r?r.getAttribute(id.draggableId):null}function t_e(t,e){const r=`[${mP.contextId}="${t}"]`,i=rH(document,r).find(o=>o.getAttribute(mP.id)===e);return!i||!g1(i)?null:i}function r_e(t){t.preventDefault()}function Ov({expected:t,phase:e,isLockActive:r,shouldWarn:n}){return!(!r()||t!==e)}function fH({lockAPI:t,store:e,registry:r,draggableId:n}){if(t.isClaimed())return!1;const i=r.draggable.findById(n);return!(!i||!i.options.isEnabled||!Jq(e.getState(),n))}function n_e({lockAPI:t,contextId:e,store:r,registry:n,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!fH({lockAPI:t,store:r,registry:n,draggableId:i}))return null;const l=n.draggable.getById(i),c=t_e(e,l.descriptor.id);if(!c||s&&!l.options.canDragInteractiveElements&&Hxe(c,s))return null;const u=t.claim(o||Ra);let f="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function p(){return t.isActive(u)}function m(_,w){Ov({expected:_,phase:f,isLockActive:p,shouldWarn:!0})&&r.dispatch(w())}const y=m.bind(null,"DRAGGING");function g(_){function w(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(w(),J(!1)),r.dispatch(U0e(_.liftActionArgs)),f="DRAGGING";function A(C,I={shouldBlockNextClick:!1}){if(_.cleanup(),I.shouldBlockNextClick){const T=Ci(window,[{eventName:"click",fn:r_e,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(T)}w(),r.dispatch(zq({reason:C}))}return{isActive:()=>Ov({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,drop:C=>A("DROP",C),cancel:C=>A("CANCEL",C),..._.actions}}function b(_){const w=Pm(C=>{y(()=>Wq({client:C}))});return{...g({liftActionArgs:{id:i,clientSelection:_,movementMode:"FLUID"},cleanup:()=>w.cancel(),actions:{move:w}}),move:w}}function v(){const _={moveUp:()=>y(Q0e),moveRight:()=>y(J0e),moveDown:()=>y(X0e),moveLeft:()=>y(Z0e)};return g({liftActionArgs:{id:i,clientSelection:Kxe(c),movementMode:"SNAP"},cleanup:Ra,actions:_})}function x(){Ov({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0})&&t.release()}return{isActive:()=>Ov({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:b,snapLift:v,abort:x}}const i_e=[Dxe,Bxe,Gxe];function o_e({contextId:t,store:e,registry:r,customSensors:n,enableDefaultSensors:i}){const o=[...i?i_e:[],...n||[]],s=E.useState(()=>_xe())[0],a=he(function(g,b){jm(g)&&!jm(b)&&s.tryAbandon()},[s]);ri(function(){let g=e.getState();return e.subscribe(()=>{const v=e.getState();a(g,v),g=v})},[s,e,a]),ri(()=>s.tryAbandon,[s.tryAbandon]);const l=he(y=>fH({lockAPI:s,registry:r,store:e,draggableId:y}),[s,r,e]),c=he((y,g,b)=>n_e({lockAPI:s,registry:r,contextId:t,store:e,draggableId:y,forceSensorStop:g||null,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null}),[t,s,r,e]),u=he(y=>e_e(t,y),[t]),f=he(y=>{const g=r.draggable.findById(y);return g?g.options:null},[r.draggable]),h=he(function(){s.isClaimed()&&(s.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(YO()))},[s,e]),p=he(()=>s.isClaimed(),[s]),m=ze(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:p}),[l,c,u,f,h,p]);for(let y=0;y<o.length;y++)o[y](m)}const s_e=t=>({onBeforeCapture:e=>{const r=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};k.version.startsWith("16")||k.version.startsWith("17")?r():Xy.flushSync(r)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),a_e=t=>({...Rm,...t.autoScrollerOptions,durationDampening:{...Rm.durationDampening,...t.autoScrollerOptions}});function Oh(t){return t.current||J(!1),t.current}function l_e(t){const{contextId:e,setCallbacks:r,sensors:n,nonce:i,dragHandleUsageInstructions:o}=t,s=E.useRef(null),a=oH(t),l=he(()=>s_e(a.current),[a]),c=he(()=>a_e(a.current),[a]),u=mxe(e),f=xxe({contextId:e,text:o}),h=axe(e,i),p=he(T=>{Oh(s).dispatch(T)},[]),m=ze(()=>qF({publishWhileDragging:W0e,updateDroppableScroll:G0e,updateDroppableIsEnabled:q0e,updateDroppableIsCombineEnabled:H0e,collectionStarting:z0e},p),[p]),y=fxe(),g=ze(()=>Fbe(y,m),[y,m]),b=ze(()=>txe({scrollWindow:Lbe,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:c,...qF({move:Wq},p)}),[g.scrollDroppable,p,c]),v=cxe(e),x=ze(()=>jbe({announce:u,autoScroller:b,dimensionMarshal:g,focusMarshal:v,getResponders:l,styleMarshal:h}),[u,b,g,v,l,h]);s.current=x;const S=he(()=>{const T=Oh(s);T.getState().phase!=="IDLE"&&T.dispatch(YO())},[]),_=he(()=>{const T=Oh(s).getState();return T.phase==="DROP_ANIMATING"?!0:T.phase==="IDLE"?!1:T.isDragging},[]),w=ze(()=>({isDragging:_,tryAbort:S}),[_,S]);r(w);const A=he(T=>Jq(Oh(s).getState(),T),[]),C=he(()=>Al(Oh(s).getState()),[]),I=ze(()=>({marshal:g,focus:v,contextId:e,canLift:A,isMovementAllowed:C,dragHandleUsageInstructionsId:f,registry:y}),[e,g,f,v,A,C,y]);return o_e({contextId:e,store:x,registry:y,customSensors:n||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),E.useEffect(()=>S,[S]),k.createElement(v1.Provider,{value:I},k.createElement(vve,{context:rR,store:x},t.children))}let c_e=0;function u_e(){return ze(()=>`${c_e++}`,[])}function f_e(){return k.useId()}var d_e="useId"in k?f_e:u_e;function h_e(t){const e=d_e(),r=t.dragHandleUsageInstructions||H0.dragHandleUsageInstructions;return k.createElement(Ive,null,n=>k.createElement(l_e,{nonce:t.nonce,contextId:e,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const SL={dragging:5e3,dropAnimating:4500},p_e=(t,e)=>e?Dp.drop(e.duration):t?Dp.snap:Dp.fluid,m_e=(t,e)=>{if(t)return e?Om.opacity.drop:Om.opacity.combining},y_e=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function g_e(t){const r=t.dimension.client,{offset:n,combineWith:i,dropping:o}=t,s=!!i,a=y_e(t),l=!!o,c=l?hP.drop(n,s):hP.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:p_e(a,o),transform:c,opacity:m_e(s,l),zIndex:l?SL.dropAnimating:SL.dragging,pointerEvents:"none"}}function v_e(t){return{transform:hP.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function b_e(t){return t.type==="DRAGGING"?g_e(t):v_e(t)}function x_e(t,e,r=Nr){const n=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=vq(i,n),s=Lx(o,r),a={client:o,tagName:e.tagName.toLowerCase(),display:n.display},l={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:o,page:s}}function __e(t){const e=nR("draggable"),{descriptor:r,registry:n,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=t,l=ze(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),c=he(p=>{const m=i();return m||J(!1),x_e(r,m,p)},[r,i]),u=ze(()=>({uniqueId:e,descriptor:r,options:l,getDimension:c}),[r,c,l,e]),f=E.useRef(u),h=E.useRef(!0);ri(()=>(n.draggable.register(f.current),()=>n.draggable.unregister(f.current)),[n.draggable]),ri(()=>{if(h.current){h.current=!1;return}const p=f.current;f.current=u,n.draggable.update(u,p)},[u,n.draggable])}var oR=k.createContext(null);function Gx(t){const e=E.useContext(t);return e||J(!1),e}function w_e(t){t.preventDefault()}const S_e=t=>{const e=E.useRef(null),r=he((w=null)=>{e.current=w},[]),n=he(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Gx(v1),{type:a,droppableId:l}=Gx(oR),c=ze(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:u,draggableId:f,isEnabled:h,shouldRespectForcePress:p,canDragInteractiveElements:m,isClone:y,mapped:g,dropAnimationFinished:b}=t;if(!y){const w=ze(()=>({descriptor:c,registry:s,getDraggableRef:n,canDragInteractiveElements:m,shouldRespectForcePress:p,isEnabled:h}),[c,s,n,m,p,h]);__e(w)}const v=ze(()=>h?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:w_e}:null,[i,o,f,h]),x=he(w=>{g.type==="DRAGGING"&&g.dropping&&w.propertyName==="transform"&&(k.version.startsWith("16")||k.version.startsWith("17")?b():Xy.flushSync(b))},[b,g]),S=ze(()=>{const w=b_e(g),A=g.type==="DRAGGING"&&g.dropping?x:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":f,style:w,onTransitionEnd:A},dragHandleProps:v}},[i,v,f,g,x,r]),_=ze(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return k.createElement(k.Fragment,null,u(S,g.snapshot,_))};var E_e=S_e,dH=(t,e)=>t===e,hH=t=>{const{combine:e,destination:r}=t;return r?r.droppableId:e?e.droppableId:null};const A_e=t=>t.combine?t.combine.draggableId:null,C_e=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function T_e(){const t=Ir((i,o)=>({x:i,y:o})),e=Ir((i,o,s=null,a=null,l=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null})),r=Ir((i,o,s,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:u,snapshot:e(o,a,l,c,null)}}));return(i,o)=>{if(jm(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],l=ti(i.impact),c=C_e(i.impact),u=i.forceShouldAnimate;return r(t(s.x,s.y),i.movementMode,a,o.isClone,l,c,u)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,l=i.dimensions.draggables[o.draggableId],c=s.result,u=c.mode,f=hH(c),h=A_e(c),m={duration:i.dropDuration,curve:XO.drop,moveTo:i.newHomeClientOffset,opacity:h?Om.opacity.drop:null,scale:h?Om.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:m,draggingOver:f,combineWith:h,mode:u,forceShouldAnimate:null,snapshot:e(u,a,f,h,m)}}}return null}}function pH(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const P_e={mapped:{type:"SECONDARY",offset:Nr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:pH(null)}};function I_e(){const t=Ir((s,a)=>({x:s,y:a})),e=Ir(pH),r=Ir((s,a=null,l)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),n=s=>s?r(Nr,s,!0):null,i=(s,a,l,c)=>{const u=l.displaced.visible[s],f=!!(c.inVirtualList&&c.effected[s]),h=p1(l),p=h&&h.draggableId===s?a:null;if(!u){if(!f)return n(p);if(l.displaced.invisible[s])return null;const g=zd(c.displacedBy.point),b=t(g.x,g.y);return r(b,p,!0)}if(f)return n(p);const m=l.displacedBy.point,y=t(m.x,m.y);return r(y,p,u.shouldAnimate)};return(s,a)=>{if(jm(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const l=s.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const N_e=()=>{const t=T_e(),e=I_e();return(n,i)=>t(n,i)||e(n,i)||P_e},k_e={dropAnimationFinished:Gq},O_e=mq(N_e,k_e,null,{context:rR,areStatePropsEqual:dH})(E_e);var R_e=O_e;function mH(t){return Gx(oR).isUsingCloneFor===t.draggableId&&!t.isClone?null:k.createElement(R_e,t)}function j_e(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,r=!!t.disableInteractiveElementBlocking,n=!!t.shouldRespectForcePress;return k.createElement(mH,Bx({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const yH=t=>e=>t===e,$_e=yH("scroll"),D_e=yH("auto"),EL=(t,e)=>e(t.overflowX)||e(t.overflowY),M_e=t=>{const e=window.getComputedStyle(t),r={overflowX:e.overflowX,overflowY:e.overflowY};return EL(r,$_e)||EL(r,D_e)},F_e=()=>!1,gH=t=>t==null?null:t===document.body?F_e()?t:null:t===document.documentElement?null:M_e(t)?t:gH(t.parentElement);var L_e=gH,yP=t=>({x:t.scrollLeft,y:t.scrollTop});const vH=t=>t?window.getComputedStyle(t).position==="fixed"?!0:vH(t.parentElement):!1;var B_e=t=>{const e=L_e(t),r=vH(t);return{closestScrollable:e,isFixedOnPage:r}},U_e=({descriptor:t,isEnabled:e,isCombineEnabled:r,isFixedOnPage:n,direction:i,client:o,page:s,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:h,client:p}=a,m=Yq({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:m,diff:{value:Nr,displacement:Nr}}}})(),c=i==="vertical"?zO:Pq,u=rd({page:s,withPlaceholder:null,axis:c,frame:l});return{descriptor:t,isCombineEnabled:r,isFixedOnPage:n,axis:c,isEnabled:e,client:o,page:s,frame:l,subject:u}};const V_e=(t,e)=>{const r=bq(t);if(!e||t!==e)return r;const n=r.paddingBox.top-e.scrollTop,i=r.paddingBox.left-e.scrollLeft,o=n+e.scrollHeight,s=i+e.scrollWidth,l=BO({top:n,right:s,bottom:o,left:i},r.border);return UO({borderBox:l,margin:r.margin,border:r.border,padding:r.padding})};var W_e=({ref:t,descriptor:e,env:r,windowScroll:n,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:a})=>{const l=r.closestScrollable,c=V_e(t,l),u=Lx(c,n),f=(()=>{if(!l)return null;const p=bq(l),m={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:p,page:Lx(p,n),scroll:yP(l),scrollSize:m,shouldClipSubject:a}})();return U_e({descriptor:e,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:c,page:u,closest:f})};const z_e={passive:!1},G_e={passive:!0};var AL=t=>t.shouldPublishImmediately?z_e:G_e;const Rv=t=>t&&t.env.closestScrollable||null;function q_e(t){const e=E.useRef(null),r=Gx(v1),n=nR("droppable"),{registry:i,marshal:o}=r,s=oH(t),a=ze(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=E.useRef(a),c=ze(()=>Ir((S,_)=>{e.current||J(!1);const w={x:S,y:_};o.updateDroppableScroll(a.id,w)}),[a.id,o]),u=he(()=>{const S=e.current;return!S||!S.env.closestScrollable?Nr:yP(S.env.closestScrollable)},[]),f=he(()=>{const S=u();c(S.x,S.y)},[u,c]),h=ze(()=>Pm(f),[f]),p=he(()=>{const S=e.current,_=Rv(S);if(S&&_||J(!1),S.scrollOptions.shouldPublishImmediately){f();return}h()},[h,f]),m=he((S,_)=>{e.current&&J(!1);const w=s.current,A=w.getDroppableRef();A||J(!1);const C=B_e(A),I={ref:A,descriptor:a,env:C,scrollOptions:_};e.current=I;const T=W_e({ref:A,descriptor:a,env:C,windowScroll:S,direction:w.direction,isDropDisabled:w.isDropDisabled,isCombineEnabled:w.isCombineEnabled,shouldClipSubject:!w.ignoreContainerClipping}),P=C.closestScrollable;return P&&(P.setAttribute(bL.contextId,r.contextId),P.addEventListener("scroll",p,AL(I.scrollOptions))),T},[r.contextId,a,p,s]),y=he(()=>{const S=e.current,_=Rv(S);return S&&_||J(!1),yP(_)},[]),g=he(()=>{const S=e.current;S||J(!1);const _=Rv(S);e.current=null,_&&(h.cancel(),_.removeAttribute(bL.contextId),_.removeEventListener("scroll",p,AL(S.scrollOptions)))},[p,h]),b=he(S=>{const _=e.current;_||J(!1);const w=Rv(_);w||J(!1),w.scrollTop+=S.y,w.scrollLeft+=S.x},[]),v=ze(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:y,dragStopped:g,scroll:b}),[g,m,y,b]),x=ze(()=>({uniqueId:n,descriptor:a,callbacks:v}),[v,a,n]);ri(()=>(l.current=x.descriptor,i.droppable.register(x),()=>{e.current&&g(),i.droppable.unregister(x)}),[v,a,g,x,o,i.droppable]),ri(()=>{e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),ri(()=>{e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function yA(){}const CL={width:0,height:0,margin:Dve},H_e=({isAnimatingOpenOnMount:t,placeholder:e,animate:r})=>t||r==="close"?CL:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},K_e=({isAnimatingOpenOnMount:t,placeholder:e,animate:r})=>{const n=H_e({isAnimatingOpenOnMount:t,placeholder:e,animate:r});return{display:e.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Dp.placeholder:null}},Y_e=t=>{const e=E.useRef(null),r=he(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:n,onTransitionEnd:i,onClose:o,contextId:s}=t,[a,l]=E.useState(t.animate==="open");E.useEffect(()=>a?n!=="open"?(r(),l(!1),yA):e.current?yA:(e.current=setTimeout(()=>{e.current=null,l(!1)}),r):yA,[n,a,r]);const c=he(f=>{f.propertyName==="height"&&(i(),n==="close"&&o())},[n,o,i]),u=K_e({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return k.createElement(t.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":s,onTransitionEnd:c,ref:t.innerRef})};var Q_e=k.memo(Y_e);class X_e extends k.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,r){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const J_e=t=>{const e=E.useContext(v1);e||J(!1);const{contextId:r,isMovementAllowed:n}=e,i=E.useRef(null),o=E.useRef(null),{children:s,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:p,snapshot:m,useClone:y,updateViewportMaxScroll:g,getContainerForClone:b}=t,v=he(()=>i.current,[]),x=he((P=null)=>{i.current=P},[]);he(()=>o.current,[]);const S=he((P=null)=>{o.current=P},[]),_=he(()=>{n()&&g({maxScroll:Xq()})},[n,g]);q_e({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:v});const w=ze(()=>k.createElement(X_e,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:P,data:O,animate:N})=>k.createElement(Q_e,{placeholder:O,onClose:P,innerRef:S,animate:N,contextId:r,onTransitionEnd:_})),[r,_,t.placeholder,t.shouldAnimatePlaceholder,S]),A=ze(()=>({innerRef:x,placeholder:w,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":r}}),[r,a,w,x]),C=y?y.dragging.draggableId:null,I=ze(()=>({droppableId:a,type:l,isUsingCloneFor:C}),[a,C,l]);function T(){if(!y)return null;const{dragging:P,render:O}=y,N=k.createElement(mH,{draggableId:P.draggableId,index:P.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(R,L)=>O(R,L,P));return Gee.createPortal(N,b())}return k.createElement(oR.Provider,{value:I},s(A,m),T())};var Z_e=J_e;function ewe(){return document.body||J(!1),document.body}const TL={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:ewe},bH=t=>{let e={...t},r;for(r in TL)t[r]===void 0&&(e={...e,[r]:TL[r]});return e},gA=(t,e)=>t===e.droppable.type,PL=(t,e)=>e.draggables[t.draggable.id],twe=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},r=Ir(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),n=Ir((o,s,a,l,c,u)=>{const f=c.descriptor.id;if(c.descriptor.droppableId===o){const m=u?{render:u,dragging:r(c.descriptor)}:null,y={isDraggingOver:a,draggingOverWith:a?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:m}}if(!s)return e;if(!l)return t;const p={isDraggingOver:a,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(o,s)=>{const a=bH(s),l=a.droppableId,c=a.type,u=!a.isDropDisabled,f=a.renderClone;if(jm(o)){const h=o.critical;if(!gA(c,h))return e;const p=PL(h,o.dimensions),m=ti(o.impact)===l;return n(l,u,m,m,p,f)}if(o.phase==="DROP_ANIMATING"){const h=o.completed;if(!gA(c,h.critical))return e;const p=PL(h.critical,o.dimensions);return n(l,u,hH(h.result)===l,ti(h.impact)===l,p,f)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const h=o.completed;if(!gA(c,h.critical))return e;const p=ti(h.impact)===l,m=!!(h.impact.at&&h.impact.at.type==="COMBINE"),y=h.critical.droppable.id===l;return p?m?t:e:y?t:e}return e}},rwe={updateViewportMaxScroll:Y0e},nwe=mq(twe,rwe,(t,e,r)=>({...bH(r),...t,...e}),{context:rR,areStatePropsEqual:dH})(Z_e);var iwe=nwe;const owe=["0","1","2","3"],swe=({defaultPlayers:t,onSubmit:e})=>{const{register:r,reset:n,control:i,getValues:o,setValue:s}=Wd({defaultValues:t}),a=qa({control:i,name:["0.proPicUrl","0.teamPicUrl","1.proPicUrl","1.teamPicUrl","2.proPicUrl","2.teamPicUrl","3.proPicUrl","3.teamPicUrl"]}),l=qa({control:i,name:["0.color","1.color","2.color","3.color"]}),c=E.useCallback(p=>{if(!p.destination)return;const m=["0","1","2","3"],[y]=m.splice(p.source.index,1);m.splice(p.destination.index,0,y),n({0:o(m[0]),1:o(m[1]),2:o(m[2]),3:o(m[3])})},[o,n]),u=E.useCallback(p=>{const m=p.currentTarget.getAttribute("data-index"),y=p.currentTarget.getAttribute("data-type"),g=o(`${m}.${y}`),b=prompt("新的圖片網址",g??"");b!==null&&s(`${m}.${y}`,b)},[o,s]),f=E.useCallback(()=>{n()},[n]),h=E.useCallback(()=>{e==null||e(o())},[o,e]);return E.useEffect(()=>{n({0:{...t[0]},1:{...t[1]},2:{...t[2]},3:{...t[3]}})},[t,n]),d.jsxs("div",{children:[d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"w-8"}),d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"flex font-semibold gap-2 text-center",children:[d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:"flex-[2]",children:"圖片"}),d.jsx("div",{className:"flex-[2]",children:"隊伍"}),d.jsx("div",{className:"flex-[5]",children:"隊伍名稱／稱號"}),d.jsx("div",{className:"flex-[5]",children:"名稱"}),d.jsx("div",{className:"flex-[3]",children:"暱稱"}),d.jsx("div",{className:"flex-[3]",children:"顏色"})]})})]}),d.jsxs("div",{className:"flex",children:[d.jsxs("div",{className:"w-8 flex flex-col justify-around font-semibold",children:[d.jsx("div",{children:"東"}),d.jsx("div",{children:"南"}),d.jsx("div",{children:"西"}),d.jsx("div",{children:"北"})]}),d.jsx("div",{className:"flex-1",children:d.jsx(h_e,{onDragEnd:c,children:d.jsx(iwe,{droppableId:"droppable",children:p=>d.jsxs("div",{...p.droppableProps,ref:p.innerRef,children:[owe.map((m,y)=>d.jsx(j_e,{draggableId:m,index:y,children:g=>d.jsx("div",{ref:g.innerRef,...g.draggableProps,children:d.jsxs("div",{className:"flex gap-2 py-1 items-center",children:[d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"text-2xl",...g.dragHandleProps,children:d.jsx("i",{className:"bi bi-grip-vertical"})})}),d.jsx("div",{className:"flex-[2] border border-neutral-400",children:d.jsx("img",{className:"aspect-[18/25] w-full cursor-pointer",src:a[2*y],onClick:u,"data-type":"proPicUrl","data-index":y,alt:""})}),d.jsx("div",{className:"flex-[2] border border-neutral-400",children:d.jsx("img",{className:"aspect-square w-full cursor-pointer",src:a[2*y+1],onClick:u,"data-type":"teamPicUrl","data-index":y,alt:""})}),d.jsx("div",{className:"flex-[5]",children:d.jsx("input",{className:"w-full",...r(`${m}.title`)})}),d.jsx("div",{className:"flex-[5]",children:d.jsx("input",{className:"w-full",...r(`${m}.name`)})}),d.jsx("div",{className:"flex-[3]",children:d.jsx("input",{className:"w-full",...r(`${m}.nickname`)})}),d.jsx("div",{className:"flex-[3]",children:d.jsx("input",{className:"w-full text-white",...r(`${m}.color`),style:{background:l[y]}})})]})})},m)),p.placeholder]})})})})]}),d.jsxs("div",{className:"flex mt-8",children:[d.jsx(De,{className:"flex-1",variant:"text",color:"secondary",onClick:f,children:"重置"}),d.jsx(De,{className:"flex-1",onClick:h,children:"儲存"})]})]})},vA=[{label:d.jsxs("span",{children:[d.jsx("i",{className:"bi bi-hdd-stack-fill"})," 列表(舊版)"]}),value:"listView-old"},{label:d.jsxs("span",{children:[d.jsx("i",{className:"bi bi-hdd-stack-fill"})," 列表(新版)"]}),value:"listView-new"},{label:d.jsxs("span",{children:[d.jsx("i",{className:"bi-grid-fill"})," 2x2"]}),value:"gridView"}];function jv({value:t}){return d.jsx(Mt,{value:t,positiveClassName:"text-green-600",negativeClassName:"text-red-600",signed:!0,hideZero:!0})}const $v=({match:t,matchRound:e,playerIndex:r})=>{var n;return d.jsxs("div",{className:"text-xs",children:[d.jsxs("p",{children:[e.playerResults[r].isRiichi&&d.jsx("span",{children:"立"}),e.resultType===Qe.Ron&&e.playerResults[r].type===yt.Lose&&d.jsx("span",{children:"統"}),e.resultType===Qe.Ron&&e.playerResults[r].type===yt.Win&&d.jsx("span",{children:"和"}),e.resultType===Qe.SelfDrawn&&e.playerResults[r].type===yt.Win&&d.jsx("span",{children:"摸"}),e.resultType===Qe.Exhausted&&e.playerResults[r].type===yt.Win&&d.jsx("span",{children:"聽"})]}),(e.resultType===Qe.Ron||e.resultType===Qe.SelfDrawn)&&e.playerResults[r].type===yt.Win&&d.jsxs("div",{className:"bg-black bg-opacity-10 rounded py-1 px-2 mx-auto inline-block",children:[d.jsx("p",{className:"font-bold",children:d.jsx(Nx,{className:"text-xs text-neutral-600",han:e.playerResults[r].detail.han,fu:e.playerResults[r].detail.fu,yakumanCount:e.playerResults[r].detail.yakumanCount,isManganRoundUp:t.setting.isManganRoundUp==="1"})}),d.jsx("p",{children:(n=e.playerResults[r].detail.yakus)==null?void 0:n.map(({label:i})=>i).join(" ")})]})]})};function xH({params:{matchId:t}}){const{data:e,set:r}=Jr("obs/1"),{data:n}=Ac({queryKey:["matches",t],queryFn:({queryKey:M})=>SO(M[1])}),{match:i,matchRounds:o,matchCurrentRound:s,matchCurrentRoundDoras:a,updateMatchRoundById:l,updateCurrentMatchRound:c,pushMatchRound:u,setCurrentRoundDoras:f,setMatchName:h,setMatchPlayers:p,setMatchPointDisplay:m,setMatchHideHeaderDisplay:y,setMatchActiveResultDetail:g,setMatchRoundHasBroadcastedToTrue:b}=Xo(t),v=E.useMemo(()=>Object.entries(o??{}).map(([M,fe])=>({id:M,...fe}))??[],[o]),x=E.useMemo(()=>v.filter(({resultDetail:M,hasBroadcasted:fe})=>!!M&&!fe),[v]),[S,_]=E.useState(void 0),[w,A]=E.useState(vA[0].value),[C,I]=So(!1),[T,P]=E.useState({initialActivePlayerIndex:"0",initialTargetPlayerIndex:"-1"}),O=Tye(),[N,R]=So(!1),[L,U]=So(!1),V=E.useCallback(()=>{U(!0)},[U]),D=E.useCallback(M=>{p(M),U(!1)},[p,U]),[F,G]=So(!1),[ce,te]=So(!1),[be,st]=E.useState({id:null,matchRound:null}),rt=E.useCallback(M=>{const fe=M.currentTarget.getAttribute("data-matchRoundId");if(!fe)return;const Te=o==null?void 0:o[fe];Te&&(st({id:fe,matchRound:Te}),te(!0))},[o,te]),Vt=E.useCallback(M=>{if(!v||!be.id)return;const fe=v.findIndex(({id:zt})=>zt===be.id);if(fe===-1)return;l(be.id,M);let Te=M;for(let zt=fe+1;zt<v.length;zt++){const{id:gJ,...Vn}=v[zt],l$={...Vn,playerResults:{0:{...Vn.playerResults[0],beforeScore:Te.playerResults[0].afterScore,afterScore:Te.playerResults[0].afterScore+(Vn.playerResults[0].afterScore-Vn.playerResults[0].beforeScore)},1:{...Vn.playerResults[1],beforeScore:Te.playerResults[1].afterScore,afterScore:Te.playerResults[1].afterScore+(Vn.playerResults[1].afterScore-Vn.playerResults[1].beforeScore)},2:{...Vn.playerResults[2],beforeScore:Te.playerResults[2].afterScore,afterScore:Te.playerResults[2].afterScore+(Vn.playerResults[2].afterScore-Vn.playerResults[2].beforeScore)},3:{...Vn.playerResults[3],beforeScore:Te.playerResults[3].afterScore,afterScore:Te.playerResults[3].afterScore+(Vn.playerResults[3].afterScore-Vn.playerResults[3].beforeScore)}}};l(gJ,l$),Te=l$}te(!1),setTimeout(()=>{alert("「下次小心d喇屌 :)」")},0)},[be.id,v,te,l]),[,pt]=E.useState(null),Zt=E.useCallback(M=>{const fe=M.currentTarget.getAttribute("data-player-index");if(!fe)return;const Te=i==null?void 0:i.players[fe];if(!Te)return;const zt=!(s!=null&&s.playerResults[fe].isRiichi);O.showConfirmDialog({title:zt?"確定要立直嗎？":"取消立直？",content:zt?`一旦點擊確定，就會播出立直動畫，請確定立直的是 ${Te.name}！`:`你是否想取消 ${Te.name} 的立直？`,onClickOk:async()=>{c({playerResults:{...s==null?void 0:s.playerResults,[fe]:{...s==null?void 0:s.playerResults[fe],isRiichi:!(s!=null&&s.playerResults[fe].isRiichi)}}})}})},[O,i==null?void 0:i.players,s==null?void 0:s.playerResults,c]),ee=E.useCallback(M=>{var Te;const fe=parseInt((Te=M.currentTarget)==null?void 0:Te.getAttribute("data-index"),10);typeof fe<"u"&&!Number.isNaN(fe)&&_(fe)},[]),xe=E.useCallback(M=>{if(typeof S<"u"){const fe=M[0];if(!fe)return;const Te=[...a];S===-1?Te.push(fe):Te[S]=fe,f(Te),_(void 0)}},[S,a,f]),Ee=E.useCallback(()=>{if(typeof S<"u"){const M=[...a];S>-1&&(M.splice(S,1),f(M),_(void 0))}},[S,a,f]),q=E.useCallback(()=>{_(void 0)},[]),Ze=E.useCallback(M=>{const fe=M==null?void 0:M.currentTarget.getAttribute("data-player-index");fe&&(P({initialActivePlayerIndex:fe}),I())},[I]),ke=E.useCallback(()=>{R(!0)},[R]),vt=E.useCallback(()=>{G(!0)},[G]),$t=E.useCallback((M,fe)=>{if(console.log(M,fe),!i||!s)return;const Te=i.players[M],zt=s.playerResults[M];switch(fe){case"reveal":return c({playerResults:{...s.playerResults,[M]:{...s.playerResults[M],isRevealed:!s.playerResults[M].isRevealed,detail:{...s.playerResults[M].detail,isRevealed:!s.playerResults[M].isRevealed}}}});case"riichi":return O.showConfirmDialog({title:zt.isRiichi?"取消立直？":"確定要立直嗎？",content:zt.isRiichi?`你是否想取消 ${Te.name} 的立直？`:`一旦點擊確定，就會播出立直動畫，請確定立直的是 ${Te.name}！`,onClickOk:async()=>{c({playerResults:{...s==null?void 0:s.playerResults,[M]:{...s==null?void 0:s.playerResults[M],isRiichi:!(s!=null&&s.playerResults[M].isRiichi),detail:{...s.playerResults[M].detail,isRiichied:!s.playerResults[M].isRiichi,raw:{...s.playerResults[M].detail.raw,riichi:!s.playerResults[M].isRiichi}}}}}),zt.isRiichi||(pt("立直動畫"),setTimeout(()=>{pt(null)},2e3))}});case"ron-self":c({playerResults:{...s==null?void 0:s.playerResults,[M]:{...s==null?void 0:s.playerResults[M],detail:{...s.playerResults[M].detail,raw:{...s.playerResults[M].detail.raw,"menzenchin-tsumohou":!(s!=null&&s.playerResults[M].detail.isRevealed)}}}}}),P({initialActivePlayerIndex:M,initialTargetPlayerIndex:"-1"}),I();return;case"ron-before":c({playerResults:{...s==null?void 0:s.playerResults,[M]:{...s==null?void 0:s.playerResults[M],detail:{...s.playerResults[M].detail,raw:{...s.playerResults[M].detail.raw,"menzenchin-tsumohou":!1}}}}}),P({initialActivePlayerIndex:M,initialTargetPlayerIndex:PG(M)}),I();return;case"ron-after":c({playerResults:{...s==null?void 0:s.playerResults,[M]:{...s==null?void 0:s.playerResults[M],detail:{...s.playerResults[M].detail,raw:{...s.playerResults[M].detail.raw,"menzenchin-tsumohou":!1}}}}}),P({initialActivePlayerIndex:M,initialTargetPlayerIndex:IG(M)}),I();return;case"ron-opposite":c({playerResults:{...s==null?void 0:s.playerResults,[M]:{...s==null?void 0:s.playerResults[M],detail:{...s.playerResults[M].detail,raw:{...s.playerResults[M].detail.raw,"menzenchin-tsumohou":!1}}}}}),P({initialActivePlayerIndex:M,initialTargetPlayerIndex:NG(M)}),I();return;case"dora-normal-plus":return c({playerResults:{...s.playerResults,[M]:{...s.playerResults[M],detail:{...s.playerResults[M].detail,dora:s.playerResults[M].detail.dora+1}}}});case"dora-normal-minus":return c({playerResults:{...s.playerResults,[M]:{...s.playerResults[M],detail:{...s.playerResults[M].detail,dora:Math.max(s.playerResults[M].detail.dora-1,0)}}}});case"dora-red-plus":return c({playerResults:{...s.playerResults,[M]:{...s.playerResults[M],detail:{...s.playerResults[M].detail,redDora:s.playerResults[M].detail.redDora+1}}}});case"dora-red-minus":return c({playerResults:{...s.playerResults,[M]:{...s.playerResults[M],detail:{...s.playerResults[M].detail,redDora:Math.max(s.playerResults[M].detail.redDora-1,0)}}}});case"waitingTile":return Z({index:M,tiles:(s==null?void 0:s.playerResults[M].waitingTiles)??[]});case"yaku":return ho({index:M});case"yellow-card":return O.showConfirmDialog({title:zt.isYellowCarded?"取消黃牌？":"確定要給予這名玩家黃牌嗎？",content:zt.isYellowCarded?`你是否想取消 ${Te.name} 的黃牌？`:`一旦點擊確定，就會播出黃牌動畫，請確定要黃牌的是 ${Te.name}！`,onClickOk:async()=>{c({playerResults:{...s==null?void 0:s.playerResults,[M]:{...s==null?void 0:s.playerResults[M],isYellowCarded:!(s!=null&&s.playerResults[M].isYellowCarded)}}})}});case"red-card":return O.showConfirmDialog({title:zt.isRedCarded?"取消紅牌？":"確定要給予這名玩家紅牌嗎？",content:zt.isRedCarded?`你是否想取消 ${Te.name} 的紅牌？`:`一旦點擊確定，就會播出紅牌動畫，請確定要紅牌的是 ${Te.name}！`,onClickOk:async()=>{c({playerResults:{...s==null?void 0:s.playerResults,[M]:{...s==null?void 0:s.playerResults[M],isRedCarded:!(s!=null&&s.playerResults[M].isRedCarded)}}})}})}},[O,i,s,I,c]),Zr=E.useCallback(M=>{try{const fe=_F(M.roundCount),Te=M.playerResults[fe].type===yt.Win,zt=!Te&&M.roundCount>=8;zt&&alert("對局結束。"),c({...M,nextRoundType:zt?bt.End:Te?bt.Extended:bt.NextRound}),I(!1),pt("分數變動中…"),setTimeout(()=>{pt(null)},4e3)}catch(fe){console.error(fe)}},[I,c]),Un=E.useCallback(M=>{try{const fe=_F(M.roundCount),Te=M.playerResults[fe].type!==yt.Win,zt=Te&&M.roundCount>=8;zt&&alert("對局結束。"),c({...M,nextRoundType:zt?bt.End:Te?bt.NextRoundAndExtended:bt.Extended}),R(!1),pt("分數變動中…"),setTimeout(()=>{pt(null)},4e3)}catch(fe){console.error(fe)}},[R,c]),j=E.useCallback(M=>{try{c({playerResults:M.playerResults,resultType:Qe.Hotfix});const fe={matchId:t,code:Ix(t,M.roundCount,M.extendedRoundCount),roundCount:M.roundCount,extendedRoundCount:M.extendedRoundCount,cumulatedThousands:M.cumulatedThousands,nextRoundCumulatedThousands:0,resultType:Qe.Unknown,nextRoundType:bt.Unknown,playerResults:wF(M.playerResults),doras:(s==null?void 0:s.doras)??[]};u(fe),pt("分數變動中…"),setTimeout(()=>{pt(null)},4e3),G(!1)}catch(fe){console.error(fe)}},[s==null?void 0:s.doras,t,u,G,c]),B=E.useCallback(()=>{if(!s)return;const M=s.nextRoundType===bt.NextRound||s.nextRoundType===bt.NextRoundAndExtended?s.roundCount+1:s.roundCount,fe=s.nextRoundType===bt.Extended||s.nextRoundType===bt.NextRoundAndExtended?s.extendedRoundCount+1:0,Te={matchId:t,code:Ix(t,M,fe),roundCount:M,extendedRoundCount:fe,cumulatedThousands:s.nextRoundCumulatedThousands,nextRoundCumulatedThousands:0,resultType:Qe.Unknown,nextRoundType:bt.Unknown,playerResults:wF(s.playerResults),doras:{}};u(Te)},[s,t,u]),W=E.useCallback(()=>{r({matchId:t})},[t,r]),[re,Z]=E.useState(null),Q=E.useCallback(M=>{const fe=M.currentTarget.getAttribute("data-player-index");typeof fe>"u"||!(s!=null&&s.playerResults[fe])||Z({index:fe,tiles:(s==null?void 0:s.playerResults[fe].waitingTiles)??[]})},[s==null?void 0:s.playerResults]),pe=E.useCallback(()=>{Z(null)},[]),nt=E.useCallback(M=>{re&&(c({playerResults:{...s==null?void 0:s.playerResults,[re.index]:{...s==null?void 0:s.playerResults[re.index],waitingTiles:M}}}),Z(null))},[re,s==null?void 0:s.playerResults,c]),Wt=E.useCallback(()=>{re&&(c({playerResults:{...s==null?void 0:s.playerResults,[re.index]:{...s==null?void 0:s.playerResults[re.index],waitingTiles:[]}}}),Z(null))},[re,s==null?void 0:s.playerResults,c]),[$r,ho]=E.useState(null),CS=E.useCallback(()=>{ho(null)},[]),fh=E.useCallback(M=>{!s||!$r||(c({playerResults:{...s.playerResults,[$r.index]:{...s.playerResults[$r.index],detail:{...s.playerResults[$r.index].detail,...M}}}}),ho(null))},[$r,s,c]),dh=E.useCallback(M=>{if(M.preventDefault(),!i)return;const fe=prompt("對局名稱",i.name);fe&&h(fe)},[i,h]),TS=E.useCallback(M=>{if(!o)return;const fe=M.currentTarget.getAttribute("data-match-round-id");if(!fe)return;const Te=o[fe].resultDetail;Te&&(g(Te),b(fe),pt("播放和牌中…"),setTimeout(()=>{g(null),pt(null)},2e4))},[o,g,b]),Jg=E.useCallback(()=>{g(null)},[g]),PS=E.useCallback(()=>{m(!0)},[m]),Zg=E.useCallback(()=>{m(!1)},[m]),mJ=E.useCallback(()=>{y(!0)},[y]),yJ=E.useCallback(()=>{y(!1)},[y]);return E.useEffect(()=>{s&&a.length===0&&_(-1)},[s,a.length]),(!i||!s)&&n?d.jsx(Vye,{matchDTO:n}):!i||!s?d.jsx("div",{children:"對局讀取失敗。"}):d.jsxs("div",{children:[d.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-24 pb-48",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-row items-center gap-x-4 text-white",children:[d.jsxs("div",{className:"p-2 pl-4 pr-10 flex items-center gap-x-8 transition-[width] text-[4rem]",style:{background:"linear-gradient(280deg, transparent, transparent 22px, #00000080 23px, #00000080 100%)"},children:[d.jsxs("div",{className:"text-[0.5em] relative",children:[d.jsx("div",{className:"text-[0.5em]",children:d.jsxs("button",{type:"button",onClick:dh,children:[i.name," ",d.jsx("i",{className:"bi bi-pencil"})]})}),d.jsxs("div",{className:"flex gap-x-8 items-center",children:[d.jsx("div",{children:d.jsx(cs,{roundCount:s.roundCount,max:8})}),d.jsxs("div",{className:"flex flex-col justify-around",children:[d.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx("img",{src:"/images/score-hundred.png",alt:"hundred",className:"h-2"})}),d.jsx("div",{className:"text-[0.4em] pb-1.5 leading-none",children:s.extendedRoundCount??0})]}),d.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx("img",{src:"/images/score-thousand.png",alt:"thousand",className:"h-2"})}),d.jsx("div",{className:"text-[0.4em] pb-1.5 leading-none",children:s.cumulatedThousands??0})]})]})]}),i.hideHeader&&d.jsx("div",{className:"absolute inset-0 opacity-100 bg-red-800 text-center",children:"隱藏中"})]}),d.jsxs("div",{className:"flex items-center gap-x-2",children:[a.map((M,fe)=>d.jsx("button",{"data-index":fe,onClick:ee,className:"hover:opacity-80",children:d.jsx(No,{className:"w-12 animate-[fadeInFromLeft_0.5s_ease-in-out]",children:M},M)})),d.jsx(De,{type:"button",color:a.length===0?"danger":"secondary",className:`${a.length===0&&"animate-bounce"}`,"data-index":"-1",onClick:ee,children:"+懸賞"})]})]}),d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:"shrink-0",children:(e==null?void 0:e.matchId)!==t&&d.jsx(De,{color:"success",type:"button",className:"animate-pulse",onClick:W,children:"開始OBS"})})]}),d.jsxs("div",{className:"flex justify-between gap-x-8 ",children:[d.jsx("div",{className:"flex-1",children:d.jsx(qye,{tabs:vA,defaultValue:vA[0].value,onChangeValue:A})}),d.jsxs("div",{className:"text-right space-x-4",children:[i.activeResultDetail&&d.jsxs(De,{color:"secondary",type:"button",onClick:Jg,children:["結束播放中的和牌詳情",d.jsx("br",{}),d.jsx("span",{className:"text-xs",children:"(或最多20秒後自動結束)"})]}),s.nextRoundType!==bt.Unknown&&s.nextRoundType!==bt.End&&d.jsxs(De,{color:"success",type:"button",className:"animate-pulse",onClick:B,children:["進入",d.jsx(cs,{roundCount:s.nextRoundType===bt.NextRound||s.nextRoundType===bt.NextRoundAndExtended?s.roundCount+1:s.roundCount,extendedRoundCount:s.nextRoundType===bt.Extended||s.nextRoundType===bt.NextRoundAndExtended?s.extendedRoundCount+1:0})]}),d.jsx(De,{color:"secondary",type:"button",onClick:ke,children:"流局"})]})]}),w==="listView-old"&&d.jsx("div",{className:"space-y-4",children:["0","1","2","3"].map(M=>d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsx("div",{className:"flex-1 text-[2.5rem]",children:d.jsx(Ga,{player:i.players[M],playerIndex:M,score:s.playerResults[M].afterScore,scoreChanges:s.playerResults[M].scoreChanges,isEast:Xn(M,s.roundCount),isRiichi:s.playerResults[M].isRiichi,waitingTiles:s.playerResults[M].waitingTiles,onClickWaitingTiles:Q,isYellowCarded:s.playerResults[M].isYellowCarded,isRedCarded:s.playerResults[M].isRedCarded,showPointAndRanking:i.showPoints})}),d.jsx("div",{children:d.jsx("button",{type:"button",className:`${s.playerResults[M].isRiichi?"bg-orange-600 text-white":"bg-white text-orange-600 opacity-30"} h-16 w-16 border-2 border-orange-600  rounded-full text-lg`,onClick:Zt,"data-player-index":M,children:s.playerResults[M].isRiichi?"已立直":"立直?"})}),d.jsx("div",{className:"pl-6",children:d.jsx(De,{color:"danger",type:"button",onClick:Ze,"data-player-index":M,children:"和了"})})]}))}),w==="listView-new"&&d.jsx(Wye,{players:i.players,currentRound:s,onAction:$t}),w==="gridView"&&d.jsx(Gye,{players:i.players,currentRound:s,onAction:$t}),d.jsx("div",{children:d.jsxs(De,{size:"small",color:"secondary",onClick:V,children:[d.jsx("i",{className:"bi bi-people"})," 修改玩家"]})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h4",{className:"text-3xl",children:[d.jsx("i",{className:"bi bi-bar-chart-steps"})," 紀錄"," ",d.jsx("span",{className:"text-sm",children:"( 立=立直, 和=和牌, 統=出統, 摸=自摸, 聽=聽牌 )"})]}),d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-400 [&>th]:p-2",children:[d.jsx("th",{className:"whitespace-nowrap px-16",children:"局數"}),d.jsx("th",{children:i.players[0].nickname}),d.jsx("th",{children:i.players[1].nickname}),d.jsx("th",{children:i.players[2].nickname}),d.jsx("th",{children:i.players[3].nickname}),d.jsx("th",{className:"text-right",children:"操作"})]})}),d.jsxs("tbody",{children:[v[0]&&d.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[d.jsx("td",{className:"text-center"}),d.jsx("td",{className:"text-center",children:d.jsx(Mt,{value:v[0].playerResults[0].beforeScore})}),d.jsx("td",{className:"text-center",children:d.jsx(Mt,{value:v[0].playerResults[1].beforeScore})}),d.jsx("td",{className:"text-center",children:d.jsx(Mt,{value:v[0].playerResults[2].beforeScore})}),d.jsx("td",{className:"text-center",children:d.jsx(Mt,{value:v[0].playerResults[3].beforeScore})}),d.jsx("td",{})]}),v.map(M=>M.resultType===Qe.Hotfix?d.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[d.jsx("td",{className:"text-center whitespace-nowrap px-16",children:"手動調整"}),d.jsx("td",{className:"text-center",children:M.playerResults[0].afterScore}),d.jsx("td",{className:"text-center",children:M.playerResults[1].afterScore}),d.jsx("td",{className:"text-center",children:M.playerResults[2].afterScore}),d.jsx("td",{className:"text-center",children:M.playerResults[3].afterScore}),d.jsx("td",{})]},M.id):d.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[d.jsx("td",{className:"text-center whitespace-nowrap",children:d.jsx(cs,{roundCount:M.roundCount,extendedRoundCount:M.extendedRoundCount,max:8,className:"px-4"})}),d.jsxs("td",{className:"text-center",children:[d.jsx(jv,{value:M.playerResults[0].afterScore-M.playerResults[0].beforeScore}),d.jsx($v,{match:i,matchRound:M,playerIndex:"0"})]}),d.jsxs("td",{className:"text-center",children:[d.jsx(jv,{value:M.playerResults[1].afterScore-M.playerResults[1].beforeScore}),d.jsx($v,{match:i,matchRound:M,playerIndex:"1"})]}),d.jsxs("td",{className:"text-center",children:[d.jsx(jv,{value:M.playerResults[2].afterScore-M.playerResults[2].beforeScore}),d.jsx($v,{match:i,matchRound:M,playerIndex:"2"})]}),d.jsxs("td",{className:"text-center",children:[d.jsx(jv,{value:M.playerResults[3].afterScore-M.playerResults[3].beforeScore}),d.jsx($v,{match:i,matchRound:M,playerIndex:"3"})]}),d.jsx("td",{className:"text-right",children:M.resultType!==Qe.Unknown&&d.jsxs(De,{variant:"text",color:"danger","data-matchRoundId":M.id,onClick:rt,children:[d.jsx("i",{className:"bi bi-pencil"})," 修改"]})})]},M.id)),v[v.length-1]&&d.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[d.jsx("td",{className:"text-center whitespace-nowrap px-16",children:d.jsxs(De,{onClick:vt,size:"small",color:"secondary",children:[d.jsx("i",{className:"bi bi-pencil"})," 手動調整分數"]})}),d.jsx("td",{className:"text-center font-bold text-lg",children:d.jsx(Mt,{value:v[v.length-1].playerResults[0].afterScore})}),d.jsx("td",{className:"text-center font-bold text-lg",children:d.jsx(Mt,{value:v[v.length-1].playerResults[1].afterScore})}),d.jsx("td",{className:"text-center font-bold text-lg",children:d.jsx(Mt,{value:v[v.length-1].playerResults[2].afterScore})}),d.jsx("td",{className:"text-center font-bold text-lg",children:d.jsx(Mt,{value:v[v.length-1].playerResults[3].afterScore})}),d.jsx("td",{})]})]})]})]})]}),d.jsx(Kn,{open:typeof S<"u",title:"選擇懸賞",onClose:q,children:d.jsx(PF,{hideRedTiles:!0,onSubmit:xe,onRemove:Ee,canRemove:typeof S<"u"&&S>0,defaultValue:typeof S<"u"?[a[S]]:void 0})}),d.jsx(Kn,{open:!!re,title:"選擇待牌",onClose:pe,children:d.jsx(PF,{hideRedTiles:!0,onSubmit:nt,onRemove:Wt,defaultValue:re==null?void 0:re.tiles,multiple:!0,canRemove:!0})}),d.jsx(Jye,{round:s.roundCount,activePlayerIndex:($r==null?void 0:$r.index)??"0",targetPlayerIndex:"-1",open:!!$r,onClose:CS,onSubmit:fh,defaultValue:s.playerResults[($r==null?void 0:$r.index)??"0"].detail}),d.jsx(Kn,{title:"和了",open:C,onClose:()=>I(!1),children:d.jsx(FG,{match:i,currentMatchRound:s,onSubmit:Zr,...T})}),d.jsx(Kn,{title:"流局",open:N,onClose:()=>R(!1),children:d.jsx(LG,{match:i,currentMatchRound:s,onSubmit:Un,...T})}),d.jsx(Kn,{title:"修改玩家",open:L,onClose:()=>U(!1),children:d.jsx(swe,{defaultPlayers:i.players,onSubmit:D})}),d.jsx(Kn,{title:"手動調整分數",open:F,onClose:()=>G(!1),children:d.jsx(gge,{match:i,currentMatchRound:s,onSubmit:j,...T})}),d.jsx(Kn,{title:"修改局數",open:ce,onClose:()=>te(!1),children:d.jsx(vge,{match:i,matchRound:be.matchRound,onSubmit:Vt})}),d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 pl-6 pr-6 pb-6 z-50 flex justify-between items-end bg-gradient-to-b from-transparent to-[#00000080]",children:[d.jsx("div",{className:"text-left"}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-right mb-4",children:[s.nextRoundType!==bt.Unknown&&s.nextRoundType!==bt.End&&d.jsxs("button",{className:"text-6xl p-4 text-green-800 bg-green-400 border-4 border-green-600 rounded-lg",onClick:B,children:["進入",d.jsx(cs,{roundCount:s.nextRoundType===bt.NextRound||s.nextRoundType===bt.NextRoundAndExtended?s.roundCount+1:s.roundCount,extendedRoundCount:s.nextRoundType===bt.Extended||s.nextRoundType===bt.NextRoundAndExtended?s.extendedRoundCount+1:0})," ",d.jsx("i",{className:"bi bi-play-fill"})]}),s.nextRoundType===bt.End&&d.jsx("a",{href:`/match/${t}/export`,target:"_blank",children:d.jsxs("button",{className:"text-6xl p-4 text-yellow-800 bg-yellow-400 border-4 border-yellow-600 rounded-lg",children:["上傳成績",d.jsx("i",{className:"bi bi-cloud-upload"})]})})]}),d.jsxs("div",{className:"flex gap-x-6 items-end justify-end",children:[!i.hideHeader&&d.jsxs("button",{onClick:mJ,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-neutral-200 border border-neutral-300 leading-6 text-neutral-600",children:[d.jsx("i",{className:"bi bi-eye"})," 標題：顯示中"]}),i.hideHeader&&d.jsxs("button",{onClick:yJ,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-red-600 border border-red-500 leading-6 text-white",children:[d.jsx("i",{className:"bi bi-eye-slash"})," 標題：隱藏中"]}),!i.showPoints&&d.jsxs("button",{onClick:PS,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-neutral-200 border border-neutral-300 leading-6 text-neutral-600",children:[d.jsx("i",{className:"bi bi-list-ol"})," 切換播放馬點＆名次"]}),i.showPoints&&d.jsxs("button",{onClick:Zg,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-green-300 border border-green-300 leading-6 text-green-800",children:[d.jsx("i",{className:"bi bi-list-ol"})," 切換播放馬點＆名次"]}),x.map(M=>d.jsx("button",{onClick:TS,"data-match-round-id":M.id,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-red-200 border border-red-300 leading-6 text-red-800 animate-bounce",children:d.jsxs("p",{children:[d.jsx("i",{className:"bi bi-trophy"})," ",M.roundCount,".",M.extendedRoundCount," 和牌動畫：待播放"]})}))]})]})]})]})}function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ye.apply(this,arguments)}function Os(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var gP=t=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(t),Du=255,ga=100,ap=t=>{var{r:e,g:r,b:n,a:i}=t,o=Math.max(e,r,n),s=o-Math.min(e,r,n),a=s?o===e?(r-n)/s:o===r?2+(n-e)/s:4+(e-r)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*ga:0,v:o/Du*ga,a:i}},_H=t=>{var{h:e,s:r,l:n,a:i}=wH(t);return"hsla("+e+", "+r+"%, "+n+"%, "+i+")"},wH=t=>{var{h:e,s:r,v:n,a:i}=t,o=(200-r)*n/ga;return{h:e,s:o>0&&o<200?r*n/ga/(o<=ga?o:200-o)*ga:0,l:o/2,a:i}},SH=t=>{var{r:e,g:r,b:n}=t,i=e<<16|r<<8|n;return"#"+(o=>new Array(7-o.length).join("0")+o)(i.toString(16))},awe=t=>{var{r:e,g:r,b:n,a:i}=t,o=typeof i=="number"&&(i*255|256).toString(16).slice(1);return""+SH({r:e,g:r,b:n,a:i})+(o||"")},$m=t=>ap(lwe(t)),lwe=t=>{var e=t.replace("#","");/^#?/.test(t)&&e.length===3&&(t="#"+e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2));var r=new RegExp("[A-Za-z0-9]{2}","g"),[n,i,o=0,s]=t.match(r).map(a=>parseInt(a,16));return{r:n,g:i,b:o,a:(s??255)/Du}},x1=t=>{var{h:e,s:r,v:n,a:i}=t,o=e/60,s=r/ga,a=n/ga,l=Math.floor(o)%6,c=o-Math.floor(o),u=Du*a*(1-s),f=Du*a*(1-s*c),h=Du*a*(1-s*(1-c));a*=Du;var p={};switch(l){case 0:p.r=a,p.g=h,p.b=u;break;case 1:p.r=f,p.g=a,p.b=u;break;case 2:p.r=u,p.g=a,p.b=h;break;case 3:p.r=u,p.g=f,p.b=a;break;case 4:p.r=h,p.g=u,p.b=a;break;case 5:p.r=a,p.g=u,p.b=f;break}return p.r=Math.round(p.r),p.g=Math.round(p.g),p.b=Math.round(p.b),ye({},p,{a:i})},cwe=t=>{var{r:e,g:r,b:n,a:i}=x1(t);return"rgba("+e+", "+r+", "+n+", "+i+")"},uwe=t=>{var{r:e,g:r,b:n}=t;return{r:e,g:r,b:n}},fwe=t=>{var{h:e,s:r,l:n}=t;return{h:e,s:r,l:n}},vP=t=>SH(x1(t)),dwe=t=>{var{h:e,s:r,v:n}=t;return{h:e,s:r,v:n}},Mu=t=>{var e,r,n,i,o,s,a,l;return typeof t=="string"&&gP(t)?(s=$m(t),a=t):typeof t!="string"&&(s=t),s&&(n=dwe(s),o=wH(s),i=x1(s),l=awe(i),a=vP(s),r=fwe(o),e=uwe(i)),{rgb:e,hsl:r,hsv:n,rgba:i,hsla:o,hsva:s,hex:a,hexa:l}};function IL(t){var e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useCallback((r,n)=>e.current&&e.current(r,n),[])}var Mp=t=>"touches"in t,NL=t=>{!Mp(t)&&t.preventDefault&&t.preventDefault()},kL=function(e,r,n){return r===void 0&&(r=0),n===void 0&&(n=1),e>n?n:e<r?r:e},OL=(t,e)=>{var r=t.getBoundingClientRect(),n=Mp(e)?e.touches[0]:e;return{left:kL((n.pageX-(r.left+window.pageXOffset))/r.width),top:kL((n.pageY-(r.top+window.pageYOffset))/r.height),width:r.width,height:r.height,x:n.pageX-(r.left+window.pageXOffset),y:n.pageY-(r.top+window.pageYOffset)}},hwe=["prefixCls","className","onMove","onDown"],EH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-interactive",className:n,onMove:i,onDown:o}=t,s=Os(t,hwe),a=E.useRef(null),l=E.useRef(!1),[c,u]=E.useState(!1),f=IL(i),h=IL(o),p=v=>l.current&&!Mp(v)?!1:(l.current=Mp(v),!0),m=E.useCallback(v=>{NL(v);var x=Mp(v)?v.touches.length>0:v.buttons>0;x&&a.current?f&&f(OL(a.current,v),v):u(!1)},[f]),y=E.useCallback(()=>u(!1),[]),g=E.useCallback(v=>{var x=v?window.addEventListener:window.removeEventListener;x(l.current?"touchmove":"mousemove",m),x(l.current?"touchend":"mouseup",y)},[]);E.useEffect(()=>(g(c),()=>{c&&g(!1)}),[c,g]);var b=E.useCallback(v=>{NL(v.nativeEvent),p(v.nativeEvent)&&(h&&h(OL(a.current,v.nativeEvent),v.nativeEvent),u(!0))},[h]);return d.jsx("div",ye({},s,{className:[r,n||""].filter(Boolean).join(" "),style:ye({},s.style,{touchAction:"none"}),ref:a,tabIndex:0,onMouseDown:b,onTouchStart:b}))});EH.displayName="Interactive";const AH=EH;var pwe=t=>{var{className:e,color:r,left:n,top:i,prefixCls:o}=t,s={position:"absolute",top:i,left:n},a={"--saturation-pointer-box-shadow":"rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",width:6,height:6,transform:"translate(-3px, -3px)",boxShadow:"var(--saturation-pointer-box-shadow)",borderRadius:"50%",backgroundColor:r};return E.useMemo(()=>d.jsx("div",{className:o+"-pointer "+(e||""),style:s,children:d.jsx("div",{className:o+"-fill",style:a})}),[i,n,r,e,o])},mwe=["prefixCls","radius","pointer","className","hue","style","hsva","onChange"],CH=k.forwardRef((t,e)=>{var r,{prefixCls:n="w-color-saturation",radius:i=0,pointer:o,className:s,hue:a=0,style:l,hsva:c,onChange:u}=t,f=Os(t,mwe),h=ye({width:200,height:200,borderRadius:i},l,{position:"relative"}),p=(y,g)=>{u&&c&&u({h:c.h,s:y.left*100,v:(1-y.top)*100,a:c.a})},m=E.useMemo(()=>{if(!c)return null;var y={top:100-c.v+"%",left:c.s+"%",color:_H(c)};return o&&typeof o=="function"?o(ye({prefixCls:n},y)):d.jsx(pwe,ye({prefixCls:n},y))},[c,o,n]);return d.jsx(AH,ye({className:[n,s||""].filter(Boolean).join(" ")},f,{style:ye({position:"absolute",inset:0,cursor:"crosshair",backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsl("+((r=c==null?void 0:c.h)!=null?r:a)+", 100%, 50%))"},h),ref:e,onMove:p,onDown:p,children:m}))});CH.displayName="Saturation";const ywe=CH;var gwe=["className","prefixCls","left","top","style","fillProps"],vwe=t=>{var{className:e,prefixCls:r,left:n,top:i,style:o,fillProps:s}=t,a=Os(t,gwe),l=ye({},o,{position:"absolute",left:n,top:i}),c=ye({width:18,height:18,boxShadow:"var(--alpha-pointer-box-shadow)",borderRadius:"50%",backgroundColor:"var(--alpha-pointer-background-color)"},s==null?void 0:s.style,{transform:n?"translate(-9px, -1px)":"translate(-1px, -9px)"});return d.jsx("div",ye({className:r+"-pointer "+(e||""),style:l},a,{children:d.jsx("div",ye({className:r+"-fill"},s,{style:c}))}))},bwe=["prefixCls","className","hsva","background","bgProps","innerProps","pointerProps","radius","width","height","direction","style","onChange","pointer"],xwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",TH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-alpha",className:n,hsva:i,background:o,bgProps:s={},innerProps:a={},pointerProps:l={},radius:c=0,width:u,height:f=16,direction:h="horizontal",style:p,onChange:m,pointer:y}=t,g=Os(t,bwe),b=A=>{m&&m(ye({},i,{a:h==="horizontal"?A.left:A.top}),A)},v=_H(Object.assign({},i,{a:1})),x="linear-gradient(to "+(h==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+v+" 100%)",S={};h==="horizontal"?S.left=i.a*100+"%":S.top=i.a*100+"%";var _=ye({"--alpha-background-color":"#fff","--alpha-pointer-background-color":"rgb(248, 248, 248)","--alpha-pointer-box-shadow":"rgb(0 0 0 / 37%) 0px 1px 4px 0px",borderRadius:c,background:"url("+xwe+") left center",backgroundColor:"var(--alpha-background-color)"},p,{position:"relative"},{width:u,height:f}),w=y&&typeof y=="function"?y(ye({prefixCls:r},l,S)):d.jsx(vwe,ye({},l,{prefixCls:r},S));return d.jsxs("div",ye({},g,{className:[r,r+"-"+h,n||""].filter(Boolean).join(" "),style:_,ref:e,children:[d.jsx("div",ye({},s,{style:ye({inset:0,position:"absolute",background:o||x,borderRadius:c},s.style)})),d.jsx(AH,ye({},a,{style:ye({},a.style,{inset:0,zIndex:1,position:"absolute"}),onMove:b,onDown:b,children:w}))]}))});TH.displayName="Alpha";const bP=TH;var _we=["prefixCls","placement","label","value","className","style","labelStyle","inputStyle","onChange","onBlur"],wwe=t=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(t),Swe=t=>Number(String(t).replace(/%/g,"")),PH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-editable-input",placement:n="bottom",label:i,value:o,className:s,style:a,labelStyle:l,inputStyle:c,onChange:u,onBlur:f}=t,h=Os(t,_we),[p,m]=E.useState(o),y=E.useRef(!1);E.useEffect(()=>{t.value!==p&&(y.current||m(t.value))},[t.value]);function g(_,w){var A=(w||_.target.value).trim().replace(/^#/,"");wwe(A)&&u&&u(_,A);var C=Swe(A);isNaN(C)||u&&u(_,C),m(A)}function b(_){y.current=!1,m(t.value),f&&f(_)}var v={};n==="bottom"&&(v.flexDirection="column"),n==="top"&&(v.flexDirection="column-reverse"),n==="left"&&(v.flexDirection="row-reverse");var x=ye({"--editable-input-label-color":"rgb(153, 153, 153)","--editable-input-box-shadow":"rgb(204 204 204) 0px 0px 0px 1px inset","--editable-input-color":"#666",position:"relative",alignItems:"center",display:"flex",fontSize:11},v,a),S=ye({width:"100%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,fontSize:11,background:"transparent",boxSizing:"border-box",border:"none",color:"var(--editable-input-color)",boxShadow:"var(--editable-input-box-shadow)"},c);return d.jsxs("div",{className:[r,s||""].filter(Boolean).join(" "),style:x,children:[d.jsx("input",ye({ref:e,value:p,onChange:g,onBlur:b,autoComplete:"off",onFocus:()=>y.current=!0},h,{style:S})),i&&d.jsx("span",{style:ye({color:"var(--editable-input-label-color)",textTransform:"capitalize"},l),children:i})]})});PH.displayName="EditableInput";const lp=PH;var Ewe=["prefixCls","hsva","placement","rProps","gProps","bProps","aProps","className","style","onChange"],IH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-editable-input-rgba",hsva:n,placement:i="bottom",rProps:o={},gProps:s={},bProps:a={},aProps:l={},className:c,style:u,onChange:f}=t,h=Os(t,Ewe),p=n?x1(n):{};function m(g){var b=Number(g.target.value);b&&b>255&&(g.target.value="255"),b&&b<0&&(g.target.value="0")}var y=(g,b,v)=>{typeof g=="number"&&(b==="a"&&(g<0&&(g=0),g>100&&(g=100),f&&f(Mu(ap(ye({},p,{a:g/100}))))),g>255&&(g=255,v.target.value="255"),g<0&&(g=0,v.target.value="0"),b==="r"&&f&&f(Mu(ap(ye({},p,{r:g})))),b==="g"&&f&&f(Mu(ap(ye({},p,{g})))),b==="b"&&f&&f(Mu(ap(ye({},p,{b:g})))))};return d.jsxs("div",ye({ref:e,className:[r,c||""].filter(Boolean).join(" ")},h,{style:ye({fontSize:11,display:"flex"},u),children:[d.jsx(lp,ye({label:"R",value:p.r||0,onBlur:m,placement:i,onChange:(g,b)=>y(b,"r",g)},o,{style:ye({},o.style)})),d.jsx(lp,ye({label:"G",value:p.g||0,onBlur:m,placement:i,onChange:(g,b)=>y(b,"g",g)},s,{style:ye({marginLeft:5},o.style)})),d.jsx(lp,ye({label:"B",value:p.b||0,onBlur:m,placement:i,onChange:(g,b)=>y(b,"b",g)},a,{style:ye({marginLeft:5},a.style)})),l&&d.jsx(lp,ye({label:"A",value:p.a?parseInt(String(p.a*100),10):0,onBlur:m,placement:i,onChange:(g,b)=>y(b,"a",g)},l,{style:ye({marginLeft:5},l.style)}))]}))});IH.displayName="EditableInputRGBA";const Awe=IH;var Cwe=["prefixCls","className","hue","onChange","direction"],NH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-hue",className:n,hue:i=0,onChange:o,direction:s="horizontal"}=t,a=Os(t,Cwe);return d.jsx(bP,ye({ref:e,className:r+" "+(n||"")},a,{direction:s,background:"linear-gradient(to "+(s==="horizontal"?"right":"bottom")+", rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)",hsva:{h:i,s:100,v:100,a:i/360},onChange:(l,c)=>{o&&o({h:s==="horizontal"?360*c.left:360*c.top})}}))});NH.displayName="Hue";const Twe=NH;var Pwe=["prefixCls","className","color","colors","style","rectProps","onChange","addonAfter","addonBefore","rectRender"],kH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-swatch",className:n,color:i,colors:o=[],style:s,rectProps:a={},onChange:l,addonAfter:c,addonBefore:u,rectRender:f}=t,h=Os(t,Pwe),p=ye({"--swatch-background-color":"rgb(144, 19, 254)",background:"var(--swatch-background-color)",height:15,width:15,marginRight:5,marginBottom:5,cursor:"pointer",position:"relative",outline:"none",borderRadius:2},a.style),m=(y,g)=>{l&&l($m(y),Mu($m(y)),g)};return d.jsxs("div",ye({ref:e},h,{className:[r,n||""].filter(Boolean).join(" "),style:ye({display:"flex",flexWrap:"wrap",position:"relative"},s),children:[u&&k.isValidElement(u)&&u,o&&Array.isArray(o)&&o.map((y,g)=>{var b="",v="";typeof y=="string"&&(b=y,v=y),typeof y=="object"&&y.color&&(b=y.title||y.color,v=y.color);var x=i&&i.toLocaleLowerCase()===v.toLocaleLowerCase(),S=f&&f({key:g,title:b,color:v,checked:!!x,style:ye({},p,{background:v}),onClick:w=>m(v,w)});if(S)return S;var _=a.children&&k.isValidElement(a.children)?k.cloneElement(a.children,{color:v,checked:x}):null;return d.jsx("div",ye({tabIndex:0,title:b,onClick:w=>m(v,w)},a,{children:_,style:ye({},p,{background:v})}),g)}),c&&k.isValidElement(c)&&c]}))});kH.displayName="Swatch";const Iwe=kH;var Nwe=["prefixCls","className","onChange","width","presetColors","color","editableDisable","disableAlpha","style"],kwe=["#D0021B","#F5A623","#f8e61b","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],RL=t=>d.jsx("div",{style:{boxShadow:"rgb(0 0 0 / 60%) 0px 0px 2px",width:4,top:1,bottom:1,left:t.left,borderRadius:1,position:"absolute",backgroundColor:"#fff"}}),OH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-sketch",className:n,onChange:i,width:o=218,presetColors:s=kwe,color:a,editableDisable:l=!0,disableAlpha:c=!1,style:u}=t,f=Os(t,Nwe),[h,p]=E.useState({h:209,s:36,v:90,a:1});E.useEffect(()=>{typeof a=="string"&&gP(a)&&p($m(a)),typeof a=="object"&&p(a)},[a]);var m=w=>{p(w),i&&i(Mu(w))},y=(w,A)=>{typeof w=="string"&&gP(w)&&/(3|6)/.test(String(w.length))&&m($m(w))},g=w=>m(ye({},h,{a:w.a})),b=w=>m(ye({},h,w,{a:h.a})),v=ye({"--sketch-background":"rgb(255, 255, 255)","--sketch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px, rgb(0 0 0 / 15%) 0px 8px 16px","--sketch-swatch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset","--sketch-alpha-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset, rgb(0 0 0 / 25%) 0px 0px 4px inset","--sketch-swatch-border-top":"1px solid rgb(238, 238, 238)",background:"var(--sketch-background)",borderRadius:4,boxShadow:"var(--sketch-box-shadow)",width:o},u),x={borderRadius:2,background:cwe(h),boxShadow:"var(--sketch-alpha-box-shadow)"},S={borderTop:"var(--sketch-swatch-border-top)",paddingTop:10,paddingLeft:10},_={marginRight:10,marginBottom:10,borderRadius:3,boxShadow:"var(--sketch-swatch-box-shadow)"};return d.jsxs("div",ye({},f,{className:r+" "+(n||""),ref:e,style:v,children:[d.jsxs("div",{style:{padding:"10px 10px 8px"},children:[d.jsx(ywe,{hsva:h,style:{width:"auto",height:150},onChange:b}),d.jsxs("div",{style:{display:"flex",marginTop:4},children:[d.jsxs("div",{style:{flex:1},children:[d.jsx(Twe,{width:"auto",height:10,hue:h.h,pointer:RL,innerProps:{style:{marginLeft:1,marginRight:5}},onChange:w=>m(ye({},h,w))}),!c&&d.jsx(bP,{width:"auto",height:10,hsva:h,pointer:RL,style:{marginTop:4},innerProps:{style:{marginLeft:1,marginRight:5}},onChange:g})]}),!c&&d.jsx(bP,{width:24,height:24,hsva:h,radius:2,style:{marginLeft:4},bgProps:{style:{background:"transparent"}},innerProps:{style:x},pointer:()=>d.jsx(E.Fragment,{})})]})]}),l&&d.jsxs("div",{style:{display:"flex",margin:"0 10px 3px 10px"},children:[d.jsx(lp,{label:"Hex",value:vP(h).replace(/^#/,"").toLocaleUpperCase(),onChange:(w,A)=>y(A),style:{minWidth:58}}),d.jsx(Awe,{hsva:h,style:{marginLeft:6},aProps:c?!1:{},onChange:w=>m(w.hsva)})]}),s&&s.length>0&&d.jsx(Iwe,{style:S,colors:s,color:vP(h),onChange:w=>m(w),rectProps:{style:_}})]}))});OH.displayName="Sketch";const Owe=OH;function RH({value:t,onChange:e,onBlur:r}){const n=E.useCallback(i=>{e==null||e(i.hex)},[e]);return d.jsx(Owe,{disableAlpha:!0,onChange:n,onBlur:r,color:t})}const Rwe=async()=>new Promise(t=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.addEventListener("change",r=>{var i;const n=(i=r.target.files)==null?void 0:i[0];n&&t(n)}),e.click()}),jL=({children:t,helperText:e,onChangeFile:r=async()=>{},...n})=>{const i=E.useMemo(()=>t||d.jsxs("div",{className:"space-y-2 text-center text-xs",children:[d.jsx("p",{children:d.jsx("i",{className:"bi bi-upload"})}),d.jsx("p",{children:"拖拉檔案上傳 ／ 點擊上傳"}),d.jsx("p",{children:e})]}),[t,e]),[{loading:o},s]=Gw(r),a=E.useCallback(()=>{Rwe().then(s)},[s]),l=E.useMemo(()=>({onFiles:u=>{const f=u.find(h=>!!h);f&&s(f)}}),[s]),[c]=$ye(l);return d.jsxs("div",{className:"relative",children:[d.jsx("div",{...n,className:"bg-neutral-50 border border-neutral-200 border-dashed p-1 cursor-pointer hover:border-neutral-400 text-neutral-400",onClick:a,...c,children:i}),o&&d.jsx("div",{className:"absolute z-10 cursor-not-allowed inset-0 bg-neutral-300 text-white flex gap-x-1 items-center justify-center",children:d.jsx(AO,{})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="firebasestorage.googleapis.com",$H="storageBucket",jwe=2*60*1e3,$we=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends $c{constructor(e,r,n=0){super(bA(e),`Firebase Storage: ${r} (${bA(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kt||(Kt={}));function bA(t){return"storage/"+t}function sR(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Kt.UNKNOWN,t)}function Dwe(t){return new Qt(Kt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Mwe(t){return new Qt(Kt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Fwe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Kt.UNAUTHENTICATED,t)}function Lwe(){return new Qt(Kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Bwe(t){return new Qt(Kt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Uwe(){return new Qt(Kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vwe(){return new Qt(Kt.CANCELED,"User canceled the upload/download.")}function Wwe(t){return new Qt(Kt.INVALID_URL,"Invalid URL '"+t+"'.")}function zwe(t){return new Qt(Kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Gwe(){return new Qt(Kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$H+"' property when initializing the app?")}function qwe(){return new Qt(Kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Hwe(){return new Qt(Kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Kwe(t){return new Qt(Kt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xP(t){return new Qt(Kt.INVALID_ARGUMENT,t)}function DH(){return new Qt(Kt.APP_DELETED,"The Firebase app was deleted.")}function Ywe(t){return new Qt(Kt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fp(t,e){return new Qt(Kt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rh(t){throw new Qt(Kt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Zn.makeFromUrl(e,r)}catch{return new Zn(e,"")}if(n.path==="")return n;throw zwe(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=r===jH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,g="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${g}`,"i"),x=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<x.length;S++){const _=x[S],w=_.regex.exec(e);if(w){const A=w[_.indices.bucket];let C=w[_.indices.path];C||(C=""),n=new Zn(A,C),_.postModify(n);break}}if(n==null)throw Wwe(e);return n}}class Qwe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xwe(t,e,r){let n=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...g){c||(c=!0,e.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,t(p,l())},g)}function h(){o&&clearTimeout(o)}function p(g,...b){if(c){h();return}if(g){h(),u.call(null,g,...b);return}if(l()||s){h(),u.call(null,g,...b);return}n<64&&(n*=2);let x;a===1?(a=2,x=0):x=(n+Math.random())*1e3,f(x)}let m=!1;function y(g){m||(m=!0,h(),!c&&(i!==null?(g||(a=2),clearTimeout(i),f(0)):g||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,y(!0)},r),y}function Jwe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zwe(t){return t!==void 0}function e1e(t){return typeof t=="object"&&!Array.isArray(t)}function aR(t){return typeof t=="string"||t instanceof String}function $L(t){return lR()&&t instanceof Blob}function lR(){return typeof Blob<"u"&&!Lte()}function DL(t,e,r,n){if(n<e)throw xP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw xP(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function MH(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(uc||(uc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1e(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return r||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1e{constructor(e,r,n,i,o,s,a,l,c,u,f,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Dv(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===uc.NO_ERROR,l=o.getStatus();if(!a||t1e(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===uc.ABORT;n(!1,new Dv(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Dv(c,o))})},r=(n,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Zwe(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=sR();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?DH():Vwe();s(l)}else{const l=Uwe();s(l)}};this.canceled_?r(!1,new Dv(!1,null,!0)):this.backoffId_=Xwe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Jwe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dv{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function n1e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function i1e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o1e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s1e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function a1e(t,e,r,n,i,o,s=!0){const a=MH(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return o1e(c,e),n1e(c,r),i1e(c,o),s1e(c,n),new r1e(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function c1e(...t){const e=l1e();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(lR())return new Blob(t);throw new Qt(Kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function u1e(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1e(t){if(typeof atob>"u")throw Kwe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xA{constructor(e,r){this.data=e,this.contentType=r||null}}function d1e(t,e){switch(t){case Oo.RAW:return new xA(FH(e));case Oo.BASE64:case Oo.BASE64URL:return new xA(LH(t,e));case Oo.DATA_URL:return new xA(p1e(e),m1e(e))}throw sR()}function FH(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const o=n,s=t.charCodeAt(++r);n=65536|(o&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function h1e(t){let e;try{e=decodeURIComponent(t)}catch{throw Fp(Oo.DATA_URL,"Malformed data URL.")}return FH(e)}function LH(t,e){switch(t){case Oo.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Fp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Oo.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Fp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=f1e(e)}catch(i){throw i.message.includes("polyfill")?i:Fp(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class BH{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Fp(Oo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=y1e(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function p1e(t){const e=new BH(t);return e.base64?LH(Oo.BASE64,e.rest):h1e(e.rest)}function m1e(t){return new BH(t).contentType}function y1e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,r){let n=0,i="";$L(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if($L(this.data_)){const n=this.data_,i=u1e(n,e,r);return i===null?null:new ea(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new ea(n,!0)}}static getBlob(...e){if(lR()){const r=e.map(n=>n instanceof ea?n.data_:n);return new ea(c1e.apply(null,r))}else{const r=e.map(s=>aR(s)?d1e(Oo.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let o=0;return r.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new ea(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(t){let e;try{e=JSON.parse(t)}catch{return null}return e1e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function v1e(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function VH(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1e(t,e){return e}class gn{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||b1e}}let Mv=null;function x1e(t){return!aR(t)||t.length<2?t:VH(t)}function WH(){if(Mv)return Mv;const t=[];t.push(new gn("bucket")),t.push(new gn("generation")),t.push(new gn("metageneration")),t.push(new gn("name","fullPath",!0));function e(o,s){return x1e(s)}const r=new gn("name");r.xform=e,t.push(r);function n(o,s){return s!==void 0?Number(s):s}const i=new gn("size");return i.xform=n,t.push(i),t.push(new gn("timeCreated")),t.push(new gn("updated")),t.push(new gn("md5Hash",null,!0)),t.push(new gn("cacheControl",null,!0)),t.push(new gn("contentDisposition",null,!0)),t.push(new gn("contentEncoding",null,!0)),t.push(new gn("contentLanguage",null,!0)),t.push(new gn("contentType",null,!0)),t.push(new gn("metadata","customMetadata",!0)),Mv=t,Mv}function _1e(t,e){function r(){const n=t.bucket,i=t.fullPath,o=new Zn(n,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:r})}function w1e(t,e,r){const n={};n.type="file";const i=r.length;for(let o=0;o<i;o++){const s=r[o];n[s.local]=s.xform(n,e[s.server])}return _1e(n,t),n}function zH(t,e,r){const n=UH(e);return n===null?null:w1e(t,n,r)}function S1e(t,e,r,n){const i=UH(e);if(i===null||!aR(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+s(u)+"/o/"+s(f),p=cR(h,r,n),m=MH({alt:"media",token:c});return p+m})[0]}function E1e(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const o=e[i];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}class GH{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t){if(!t)throw sR()}function A1e(t,e){function r(n,i){const o=zH(t,i,e);return qH(o!==null),o}return r}function C1e(t,e){function r(n,i){const o=zH(t,i,e);return qH(o!==null),S1e(o,i,t.host,t._protocol)}return r}function HH(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Lwe():i=Fwe():r.getStatus()===402?i=Mwe(t.bucket):r.getStatus()===403?i=Bwe(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function T1e(t){const e=HH(t);function r(n,i){let o=e(n,i);return n.getStatus()===404&&(o=Dwe(t.path)),o.serverResponse=i.serverResponse,o}return r}function P1e(t,e,r){const n=e.fullServerUrl(),i=cR(n,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new GH(i,o,C1e(t,r),s);return a.errorHandler=T1e(e),a}function I1e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function N1e(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=I1e(null,e)),n}function k1e(t,e,r,n,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let S=0;S<2;S++)x=x+Math.random().toString().slice(2);return x}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=N1e(e,n,i),u=E1e(c,r),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ea.getBlob(f,n,h);if(p===null)throw qwe();const m={name:c.fullPath},y=cR(o,t.host,t._protocol),g="POST",b=t.maxUploadRetryTime,v=new GH(y,g,A1e(t,r),b);return v.urlParams=m,v.headers=s,v.body=p.uploadData(),v.errorHandler=HH(e),v}class O1e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Rh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class R1e extends O1e{initXhr(){this.xhr_.responseType="text"}}function KH(){return new R1e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,r){this._service=e,r instanceof Zn?this._location=r:this._location=Zn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Pc(e,r)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VH(this._location.path)}get storage(){return this._service}get parent(){const e=g1e(this._location.path);if(e===null)return null;const r=new Zn(this._location.bucket,e);return new Pc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Ywe(e)}}function j1e(t,e,r){t._throwIfRoot("uploadBytes");const n=k1e(t.storage,t._location,WH(),new ea(e,!0),r);return t.storage.makeRequestWithTokens(n,KH).then(i=>({metadata:i,ref:t}))}function $1e(t){t._throwIfRoot("getDownloadURL");const e=P1e(t.storage,t._location,WH());return t.storage.makeRequestWithTokens(e,KH).then(r=>{if(r===null)throw Hwe();return r})}function D1e(t,e){const r=v1e(t._location.path,e),n=new Zn(t._location.bucket,r);return new Pc(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1e(t){return/^[A-Za-z]+:\/\//.test(t)}function F1e(t,e){return new Pc(t,e)}function YH(t,e){if(t instanceof uR){const r=t;if(r._bucket==null)throw Gwe();const n=new Pc(r,r._bucket);return e!=null?YH(n,e):n}else return e!==void 0?D1e(t,e):t}function L1e(t,e){if(e&&M1e(e)){if(t instanceof uR)return F1e(t,e);throw xP("To use ref(service, url), the first argument must be a Storage instance.")}else return YH(t,e)}function ML(t,e){const r=e==null?void 0:e[$H];return r==null?null:Zn.makeFromBucketSpec(r,t)}function B1e(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:ak(i,t.app.options.projectId))}class uR{constructor(e,r,n,i,o){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=jH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jwe,this._maxUploadRetryTime=$we,this._requests=new Set,i!=null?this._bucket=Zn.makeFromBucketSpec(i,this._host):this._bucket=ML(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=ML(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pc(this,e)}_makeRequest(e,r,n,i,o=!0){if(this._deleted)return new Qwe(DH());{const s=a1e(e,this._appId,n,i,r,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const FL="@firebase/storage",LL="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH="storage";function U1e(t,e,r){return t=Qr(t),j1e(t,e,r)}function V1e(t){return t=Qr(t),$1e(t)}function W1e(t,e){return t=Qr(t),L1e(t,e)}function z1e(t=dk(),e){t=Qr(t);const n=uk(t,QH).getImmediate({identifier:e}),i=sk("storage");return i&&G1e(n,...i),n}function G1e(t,e,r,n={}){B1e(t,e,r,n)}function q1e(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uR(r,n,i,e,fk)}function H1e(){Lf(new xc(QH,q1e,"PUBLIC").setMultipleInstances(!0)),Fo(FL,LL,""),Fo(FL,LL,"esm2017")}H1e();const K1e=z1e(fO),BL=(t,e)=>{const r=e??`images/uploads/ungroup/image_${ls()}`,n=W1e(K1e,r);return U1e(n,t).then(async i=>({url:await V1e(i.ref)}))},UL={title:"",name:"新的玩家",color:"#FF0000",proPicUrl:""};function XH({defaultValue:t,onSubmit:e}){const{reset:r,setValue:n,control:i,handleSubmit:o}=Wd({defaultValues:UL}),[{loading:s},a]=Gw(e,[e]),l=E.useMemo(()=>o(m=>{a(m)}),[a,o]),c=qa({control:i}),u=E.useCallback(m=>BL(m).then(({url:y})=>{n("proPicUrl",y)}),[n]),f=E.useCallback(()=>{n("proPicUrl",null)},[n]),h=E.useCallback(m=>BL(m).then(({url:y})=>{n("teamPicUrl",y)}),[n]),p=E.useCallback(()=>{n("teamPicUrl",null)},[n]);return E.useEffect(()=>{r(t??UL)},[t,r]),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{className:"flex gap-x-6",children:[d.jsx("div",{className:"shrink-0",children:d.jsx(wn,{label:"顏色",children:d.jsx(Rn,{name:"color",control:i,render:({field:m})=>d.jsx(RH,{...m}),disabled:s})})}),d.jsxs("div",{className:"flex-1 space-y-6",children:[d.jsx(wn,{label:"稱號",children:d.jsx(Rn,{name:"title",control:i,render:({field:m})=>d.jsx(ya,{type:"text",...m,placeholder:"例：天鳳鳳位、雀魂x段",disabled:s})})}),d.jsx(wn,{className:"mb-6",label:"名字",children:d.jsx(Rn,{name:"name",control:i,rules:{required:!0},render:({field:m})=>d.jsx(ya,{...m}),disabled:s})}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-6",children:[d.jsx(wn,{className:"mb-6",label:"玩家圖片",action:c.proPicUrl&&d.jsx("a",{href:"#",className:"text-xs underline text-teal-800",onClick:f,children:"移除"}),children:d.jsx(jL,{helperText:"建議大小 360px * 500px (18:25)",onChangeFile:u,children:c.proPicUrl&&d.jsx("img",{className:"aspect-[18/25]",src:c.proPicUrl})})}),d.jsx(wn,{className:"mb-6",label:"隊伍圖片",action:c.teamPicUrl&&d.jsx("a",{href:"#",className:"text-xs underline text-teal-800",onClick:p,children:"移除"}),children:d.jsx(jL,{helperText:"建議大小 500px * 500px (1:1)",onChangeFile:h,children:c.teamPicUrl&&d.jsx("img",{className:"aspect-square",src:c.teamPicUrl})})})]})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"mb-2",children:"預覽"}),d.jsx("div",{className:"text-[4rem] p-4 bg-gray-800 text-white",children:d.jsx(Ga,{player:c,score:25e3,waitingTiles:["5m","6m","7m"],isRiichi:!0,isEast:!0})})]}),d.jsx("div",{children:d.jsx(De,{type:"submit",loading:s,children:"儲存"})})]})}var Y1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,fR=fR||{},Se=Y1e||self;function _1(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ag(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Q1e(t){return Object.prototype.hasOwnProperty.call(t,_A)&&t[_A]||(t[_A]=++X1e)}var _A="closure_uid_"+(1e9*Math.random()>>>0),X1e=0;function J1e(t,e,r){return t.call.apply(t.bind,arguments)}function Z1e(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function fn(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?fn=J1e:fn=Z1e,fn.apply(null,arguments)}function Fv(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function Rr(t,e){function r(){}r.prototype=e.prototype,t.$=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.ac=function(n,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(n,s)}}function nl(){this.s=this.s,this.o=this.o}var eSe=0;nl.prototype.s=!1;nl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),eSe!=0)&&Q1e(this)};nl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JH=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function dR(t){const e=t.length;if(0<e){const r=Array(e);for(let n=0;n<e;n++)r[n]=t[n];return r}return[]}function VL(t,e){for(let r=1;r<arguments.length;r++){const n=arguments[r];if(_1(n)){const i=t.length||0,o=n.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=n[s]}else t.push(n)}}function dn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};var tSe=function(){if(!Se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Se.addEventListener("test",()=>{},e),Se.removeEventListener("test",()=>{},e)}catch{}return t}();function Dm(t){return/^[\s\xa0]*$/.test(t)}function w1(){var t=Se.navigator;return t&&(t=t.userAgent)?t:""}function Ao(t){return w1().indexOf(t)!=-1}function hR(t){return hR[" "](t),t}hR[" "]=function(){};function rSe(t,e){var r=KSe;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=e(t)}var nSe=Ao("Opera"),od=Ao("Trident")||Ao("MSIE"),ZH=Ao("Edge"),_P=ZH||od,e7=Ao("Gecko")&&!(w1().toLowerCase().indexOf("webkit")!=-1&&!Ao("Edge"))&&!(Ao("Trident")||Ao("MSIE"))&&!Ao("Edge"),iSe=w1().toLowerCase().indexOf("webkit")!=-1&&!Ao("Edge");function t7(){var t=Se.document;return t?t.documentMode:void 0}var wP;e:{var wA="",SA=function(){var t=w1();if(e7)return/rv:([^\);]+)(\)|;)/.exec(t);if(ZH)return/Edge\/([\d\.]+)/.exec(t);if(od)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(iSe)return/WebKit\/(\S+)/.exec(t);if(nSe)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(SA&&(wA=SA?SA[1]:""),od){var EA=t7();if(EA!=null&&EA>parseFloat(wA)){wP=String(EA);break e}}wP=wA}var SP;if(Se.document&&od){var WL=t7();SP=WL||parseInt(wP,10)||void 0}else SP=void 0;var oSe=SP;function Mm(t,e){if(dn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(e7){e:{try{hR(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:sSe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mm.$.h.call(this)}}Rr(Mm,dn);var sSe={2:"touch",3:"pen",4:"mouse"};Mm.prototype.h=function(){Mm.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cg="closure_listenable_"+(1e6*Math.random()|0),aSe=0;function lSe(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.la=i,this.key=++aSe,this.fa=this.ia=!1}function S1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function pR(t,e,r){for(const n in t)e.call(r,t[n],n,t)}function cSe(t,e){for(const r in t)e.call(void 0,t[r],r,t)}function r7(t){const e={};for(const r in t)e[r]=t[r];return e}const zL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function n7(t,e){let r,n;for(let i=1;i<arguments.length;i++){n=arguments[i];for(r in n)t[r]=n[r];for(let o=0;o<zL.length;o++)r=zL[o],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function E1(t){this.src=t,this.g={},this.h=0}E1.prototype.add=function(t,e,r,n,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=AP(t,e,n,i);return-1<s?(e=t[s],r||(e.ia=!1)):(e=new lSe(e,this.src,o,!!n,i),e.ia=r,t.push(e)),e};function EP(t,e){var r=e.type;if(r in t.g){var n=t.g[r],i=JH(n,e),o;(o=0<=i)&&Array.prototype.splice.call(n,i,1),o&&(S1(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function AP(t,e,r,n){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!r&&o.la==n)return i}return-1}var mR="closure_lm_"+(1e6*Math.random()|0),AA={};function i7(t,e,r,n,i){if(n&&n.once)return s7(t,e,r,n,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)i7(t,e[o],r,n,i);return null}return r=vR(r),t&&t[Cg]?t.O(e,r,Ag(n)?!!n.capture:!!n,i):o7(t,e,r,!1,n,i)}function o7(t,e,r,n,i,o){if(!e)throw Error("Invalid event type");var s=Ag(i)?!!i.capture:!!i,a=gR(t);if(a||(t[mR]=a=new E1(t)),r=a.add(e,r,n,s,o),r.proxy)return r;if(n=uSe(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)tSe||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(l7(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function uSe(){function t(r){return e.call(t.src,t.listener,r)}const e=fSe;return t}function s7(t,e,r,n,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)s7(t,e[o],r,n,i);return null}return r=vR(r),t&&t[Cg]?t.P(e,r,Ag(n)?!!n.capture:!!n,i):o7(t,e,r,!0,n,i)}function a7(t,e,r,n,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)a7(t,e[o],r,n,i);else n=Ag(n)?!!n.capture:!!n,r=vR(r),t&&t[Cg]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],r=AP(o,r,n,i),-1<r&&(S1(o[r]),Array.prototype.splice.call(o,r,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=gR(t))&&(e=t.g[e.toString()],t=-1,e&&(t=AP(e,r,n,i)),(r=-1<t?e[t]:null)&&yR(r))}function yR(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cg])EP(e.i,t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(l7(r),n):e.addListener&&e.removeListener&&e.removeListener(n),(r=gR(e))?(EP(r,t),r.h==0&&(r.src=null,e[mR]=null)):S1(t)}}}function l7(t){return t in AA?AA[t]:AA[t]="on"+t}function fSe(t,e){if(t.fa)t=!0;else{e=new Mm(e,this);var r=t.listener,n=t.la||t.src;t.ia&&yR(t),t=r.call(n,e)}return t}function gR(t){return t=t[mR],t instanceof E1?t:null}var CA="__closure_events_fn_"+(1e9*Math.random()>>>0);function vR(t){return typeof t=="function"?t:(t[CA]||(t[CA]=function(e){return t.handleEvent(e)}),t[CA])}function kr(){nl.call(this),this.i=new E1(this),this.S=this,this.J=null}Rr(kr,nl);kr.prototype[Cg]=!0;kr.prototype.removeEventListener=function(t,e,r,n){a7(this,t,e,r,n)};function Hr(t,e){var r,n=t.J;if(n)for(r=[];n;n=n.J)r.push(n);if(t=t.S,n=e.type||e,typeof e=="string")e=new dn(e,t);else if(e instanceof dn)e.target=e.target||t;else{var i=e;e=new dn(n,t),n7(e,i)}if(i=!0,r)for(var o=r.length-1;0<=o;o--){var s=e.g=r[o];i=Lv(s,n,!0,e)&&i}if(s=e.g=t,i=Lv(s,n,!0,e)&&i,i=Lv(s,n,!1,e)&&i,r)for(o=0;o<r.length;o++)s=e.g=r[o],i=Lv(s,n,!1,e)&&i}kr.prototype.N=function(){if(kr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)S1(r[n]);delete t.g[e],t.h--}}this.J=null};kr.prototype.O=function(t,e,r,n){return this.i.add(String(t),e,!1,r,n)};kr.prototype.P=function(t,e,r,n){return this.i.add(String(t),e,!0,r,n)};function Lv(t,e,r,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==r){var a=s.listener,l=s.la||s.src;s.ia&&EP(t.i,s),i=a.call(l,n)!==!1&&i}}return i&&!n.defaultPrevented}var bR=Se.JSON.stringify;class dSe{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function hSe(){var t=xR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pSe{constructor(){this.h=this.g=null}add(e,r){const n=c7.get();n.set(e,r),this.h?this.h.next=n:this.g=n,this.h=n}}var c7=new dSe(()=>new mSe,t=>t.reset());class mSe{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function ySe(t){var e=1;t=t.split(":");const r=[];for(;0<e&&t.length;)r.push(t.shift()),e--;return t.length&&r.push(t.join(":")),r}function gSe(t){Se.setTimeout(()=>{throw t},0)}let Fm,Lm=!1,xR=new pSe,u7=()=>{const t=Se.Promise.resolve(void 0);Fm=()=>{t.then(vSe)}};var vSe=()=>{for(var t;t=hSe();){try{t.h.call(t.g)}catch(r){gSe(r)}var e=c7;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lm=!1};function A1(t,e){kr.call(this),this.h=t||1,this.g=e||Se,this.j=fn(this.qb,this),this.l=Date.now()}Rr(A1,kr);ie=A1.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hr(this,"tick"),this.ga&&(_R(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _R(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){A1.$.N.call(this),_R(this),delete this.g};function wR(t,e,r){if(typeof t=="function")r&&(t=fn(t,r));else if(t&&typeof t.handleEvent=="function")t=fn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Se.setTimeout(t,e||0)}function f7(t){t.g=wR(()=>{t.g=null,t.i&&(t.i=!1,f7(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class bSe extends nl{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:f7(this)}N(){super.N(),this.g&&(Se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bm(t){nl.call(this),this.h=t,this.g={}}Rr(Bm,nl);var GL=[];function d7(t,e,r,n){Array.isArray(r)||(r&&(GL[0]=r.toString()),r=GL);for(var i=0;i<r.length;i++){var o=i7(e,r[i],n||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function h7(t){pR(t.g,function(e,r){this.g.hasOwnProperty(r)&&yR(e)},t),t.g={}}Bm.prototype.N=function(){Bm.$.N.call(this),h7(this)};Bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function C1(){this.g=!0}C1.prototype.Ea=function(){this.g=!1};function xSe(t,e,r,n,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");s=2<=f.length&&f[1]=="type"?s+(u+"="+c+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+`
`+r+`
`+s})}function _Se(t,e,r,n,i,o,s){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+`
`+r+`
`+o+" "+s})}function Fu(t,e,r,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SSe(t,r)+(n?" "+n:"")})}function wSe(t,e){t.info(function(){return"TIMEOUT: "+e})}C1.prototype.info=function(){};function SSe(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var n=r[t];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return bR(r)}catch{return e}}var Bc={},qL=null;function T1(){return qL=qL||new kr}Bc.Ta="serverreachability";function p7(t){dn.call(this,Bc.Ta,t)}Rr(p7,dn);function Um(t){const e=T1();Hr(e,new p7(e))}Bc.STAT_EVENT="statevent";function m7(t,e){dn.call(this,Bc.STAT_EVENT,t),this.stat=e}Rr(m7,dn);function En(t){const e=T1();Hr(e,new m7(e,t))}Bc.Ua="timingevent";function y7(t,e){dn.call(this,Bc.Ua,t),this.size=e}Rr(y7,dn);function Tg(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Se.setTimeout(function(){t()},e)}var P1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},g7={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function SR(){}SR.prototype.h=null;function HL(t){return t.h||(t.h=t.i())}function v7(){}var Pg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ER(){dn.call(this,"d")}Rr(ER,dn);function AR(){dn.call(this,"c")}Rr(AR,dn);var CP;function I1(){}Rr(I1,SR);I1.prototype.g=function(){return new XMLHttpRequest};I1.prototype.i=function(){return{}};CP=new I1;function Ig(t,e,r,n){this.l=t,this.j=e,this.m=r,this.W=n||1,this.U=new Bm(this),this.P=ESe,t=_P?125:void 0,this.V=new A1(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new b7}function b7(){this.i=null,this.g="",this.h=!1}var ESe=45e3,TP={},qx={};ie=Ig.prototype;ie.setTimeout=function(t){this.P=t};function PP(t,e,r){t.L=1,t.v=k1(Ss(e)),t.s=r,t.S=!0,x7(t,null)}function x7(t,e){t.G=Date.now(),Ng(t),t.A=Ss(t.v);var r=t.A,n=t.W;Array.isArray(n)||(n=[String(n)]),P7(r.i,"t",n),t.C=0,r=t.l.J,t.h=new b7,t.g=Y7(t.l,r?e:null,!t.s),0<t.O&&(t.M=new bSe(fn(t.Pa,t,t.g),t.O)),d7(t.U,t.g,"readystatechange",t.nb),e=t.I?r7(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Um(),xSe(t.j,t.u,t.A,t.m,t.W,t.s)}ie.nb=function(t){t=t.target;const e=this.M;e&&Ro(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const u=Ro(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>u)&&(u!=3||_P||this.g&&(this.h.h||this.g.ja()||XL(this.g)))){this.J||u!=4||e==7||(e==8||0>=f?Um(3):Um(2)),N1(this);var r=this.g.da();this.ca=r;t:if(_7(this)){var n=XL(this.g);t="";var i=n.length,o=Ro(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$l(this),Lp(this);var s="";break t}this.h.i=new Se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:o&&e==i-1});n.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=r==200,_Se(this.j,this.u,this.A,this.m,this.W,u,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dm(a)){var c=a;break t}}c=null}if(r=c)Fu(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IP(this,r);else{this.i=!1,this.o=3,En(12),$l(this),Lp(this);break e}}this.S?(w7(this,u,s),_P&&this.i&&u==3&&(d7(this.U,this.V,"tick",this.mb),this.V.start())):(Fu(this.j,this.m,s,null),IP(this,s)),u==4&&$l(this),this.i&&!this.J&&(u==4?G7(this.l,this):(this.i=!1,Ng(this)))}else GSe(this.g),r==400&&0<s.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),$l(this),Lp(this)}}}catch{}finally{}};function _7(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function w7(t,e,r){let n=!0,i;for(;!t.J&&t.C<r.length;)if(i=ASe(t,r),i==qx){e==4&&(t.o=4,En(14),n=!1),Fu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==TP){t.o=4,En(15),Fu(t.j,t.m,r,"[Invalid Chunk]"),n=!1;break}else Fu(t.j,t.m,i,null),IP(t,i);_7(t)&&i!=qx&&i!=TP&&(t.h.g="",t.C=0),e!=4||r.length!=0||t.h.h||(t.o=1,En(16),n=!1),t.i=t.i&&n,n?0<r.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),kR(e),e.M=!0,En(11))):(Fu(t.j,t.m,r,"[Invalid Chunked Response]"),$l(t),Lp(t))}ie.mb=function(){if(this.g){var t=Ro(this.g),e=this.g.ja();this.C<e.length&&(N1(this),w7(this,t,e),this.i&&t!=4&&Ng(this))}};function ASe(t,e){var r=t.C,n=e.indexOf(`
`,r);return n==-1?qx:(r=Number(e.substring(r,n)),isNaN(r)?TP:(n+=1,n+r>e.length?qx:(e=e.slice(n,n+r),t.C=n+r,e)))}ie.cancel=function(){this.J=!0,$l(this)};function Ng(t){t.Y=Date.now()+t.P,S7(t,t.P)}function S7(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Tg(fn(t.lb,t),e)}function N1(t){t.B&&(Se.clearTimeout(t.B),t.B=null)}ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(wSe(this.j,this.A),this.L!=2&&(Um(),En(17)),$l(this),this.o=2,Lp(this)):S7(this,this.Y-t)};function Lp(t){t.l.H==0||t.J||G7(t.l,t)}function $l(t){N1(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,_R(t.V),h7(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function IP(t,e){try{var r=t.l;if(r.H!=0&&(r.g==t||NP(r.i,t))){if(!t.K&&NP(r.i,t)&&r.H==3){try{var n=r.Ja.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var i=n;if(i[0]==0){e:if(!r.u){if(r.g)if(r.g.G+3e3<t.G)Yx(r),j1(r);else break e;NR(r),En(18)}}else r.Fa=i[1],0<r.Fa-r.V&&37500>i[2]&&r.G&&r.A==0&&!r.v&&(r.v=Tg(fn(r.ib,r),6e3));if(1>=k7(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Dl(r,11)}else if((t.K||r.g==t)&&Yx(r),!Dm(e))for(i=r.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(r.V=c[0],c=c[1],r.H==2)if(c[0]=="c"){r.K=c[1],r.pa=c[2];const u=c[3];u!=null&&(r.ra=u,r.l.info("VER="+r.ra));const f=c[4];f!=null&&(r.Ga=f,r.l.info("SVER="+r.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(n=1.5*h,r.L=n,r.l.info("backChannelRequestTimeoutMs_="+n)),n=r;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=n.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(CR(o,o.h),o.h=null))}if(n.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(n.Da=y,It(n.I,n.F,y))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-t.G,r.l.info("Handshake RTT: "+r.S+"ms")),n=r;var s=t;if(n.wa=K7(n,n.J?n.pa:null,n.Y),s.K){O7(n.i,s);var a=s,l=n.L;l&&a.setTimeout(l),a.B&&(N1(a),Ng(a)),n.g=s}else W7(n);0<r.j.length&&$1(r)}else c[0]!="stop"&&c[0]!="close"||Dl(r,7);else r.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Dl(r,7):IR(r):c[0]!="noop"&&r.h&&r.h.Aa(c),r.A=0)}}Um(4)}catch{}}function CSe(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_1(t)){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e}e=[],r=0;for(n in t)e[r++]=t[n];return e}function TSe(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_1(t)||typeof t=="string"){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const n in t)e[r++]=n;return e}}}function E7(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_1(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var r=TSe(t),n=CSe(t),i=n.length,o=0;o<i;o++)e.call(void 0,n[o],r&&r[o],t)}var A7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PSe(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var o=t[r].substring(0,n);i=t[r].substring(n+1)}else o=t[r];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fc){this.h=t.h,Hx(this,t.j),this.s=t.s,this.g=t.g,Kx(this,t.m),this.l=t.l;var e=t.i,r=new Vm;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),KL(this,r),this.o=t.o}else t&&(e=String(t).match(A7))?(this.h=!1,Hx(this,e[1]||"",!0),this.s=cp(e[2]||""),this.g=cp(e[3]||"",!0),Kx(this,e[4]),this.l=cp(e[5]||"",!0),KL(this,e[6]||"",!0),this.o=cp(e[7]||"")):(this.h=!1,this.i=new Vm(null,this.h))}fc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(up(e,YL,!0),":");var r=this.g;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(up(e,YL,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(up(r,r.charAt(0)=="/"?kSe:NSe,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",up(r,RSe)),t.join("")};function Ss(t){return new fc(t)}function Hx(t,e,r){t.j=r?cp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Kx(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KL(t,e,r){e instanceof Vm?(t.i=e,jSe(t.i,t.h)):(r||(e=up(e,OSe)),t.i=new Vm(e,t.h))}function It(t,e,r){t.i.set(e,r)}function k1(t){return It(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function up(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,ISe),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ISe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var YL=/[#\/\?@]/g,NSe=/[#\?:]/g,kSe=/[#\?]/g,OSe=/[#\?@]/g,RSe=/#/g;function Vm(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function il(t){t.g||(t.g=new Map,t.h=0,t.i&&PSe(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}ie=Vm.prototype;ie.add=function(t,e){il(this),this.i=null,t=Hd(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function C7(t,e){il(t),e=Hd(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function T7(t,e){return il(t),e=Hd(t,e),t.g.has(e)}ie.forEach=function(t,e){il(this),this.g.forEach(function(r,n){r.forEach(function(i){t.call(e,i,n,this)},this)},this)};ie.ta=function(){il(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let n=0;n<e.length;n++){const i=t[n];for(let o=0;o<i.length;o++)r.push(e[n])}return r};ie.Z=function(t){il(this);let e=[];if(typeof t=="string")T7(this,t)&&(e=e.concat(this.g.get(Hd(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e};ie.set=function(t,e){return il(this),this.i=null,t=Hd(this,t),T7(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function P7(t,e,r){C7(t,e),0<r.length&&(t.i=null,t.g.set(Hd(t,e),dR(r)),t.h+=r.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var n=e[r];const o=encodeURIComponent(String(n)),s=this.Z(n);for(n=0;n<s.length;n++){var i=o;s[n]!==""&&(i+="="+encodeURIComponent(String(s[n]))),t.push(i)}}return this.i=t.join("&")};function Hd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jSe(t,e){e&&!t.j&&(il(t),t.i=null,t.g.forEach(function(r,n){var i=n.toLowerCase();n!=i&&(C7(this,n),P7(this,i,r))},t)),t.j=e}var $Se=class{constructor(t,e){this.g=t,this.map=e}};function I7(t){this.l=t||DSe,Se.PerformanceNavigationTiming?(t=Se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Se.g&&Se.g.Ka&&Se.g.Ka()&&Se.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DSe=10;function N7(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function k7(t){return t.h?1:t.g?t.g.size:0}function NP(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function CR(t,e){t.g?t.g.add(e):t.h=e}function O7(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}I7.prototype.cancel=function(){if(this.i=R7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function R7(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.F);return e}return dR(t.i)}var MSe=class{stringify(t){return Se.JSON.stringify(t,void 0)}parse(t){return Se.JSON.parse(t,void 0)}};function FSe(){this.g=new MSe}function LSe(t,e,r){const n=r||"";try{E7(t,function(i,o){let s=i;Ag(i)&&(s=bR(i)),e.push(n+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(n+"type="+encodeURIComponent("_badmap")),i}}function BSe(t,e){const r=new C1;if(Se.Image){const n=new Image;n.onload=Fv(Bv,r,n,"TestLoadImage: loaded",!0,e),n.onerror=Fv(Bv,r,n,"TestLoadImage: error",!1,e),n.onabort=Fv(Bv,r,n,"TestLoadImage: abort",!1,e),n.ontimeout=Fv(Bv,r,n,"TestLoadImage: timeout",!1,e),Se.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function Bv(t,e,r,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch{}}function kg(t){this.l=t.ec||null,this.j=t.ob||!1}Rr(kg,SR);kg.prototype.g=function(){return new O1(this.l,this.j)};kg.prototype.i=function(t){return function(){return t}}({});function O1(t,e){kr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=TR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rr(O1,kr);var TR=0;ie=O1.prototype;ie.open=function(t,e){if(this.readyState!=TR)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wm(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Og(this)),this.readyState=TR};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wm(this)),this.g&&(this.readyState=3,Wm(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function j7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Og(this):Wm(this),this.readyState==3&&j7(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,Og(this))};ie.Ya=function(t){this.g&&(this.response=t,Og(this))};ie.ka=function(){this.g&&Og(this)};function Og(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wm(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function Wm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(O1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var USe=Se.JSON.parse;function Yt(t){kr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$7,this.L=this.M=!1}Rr(Yt,kr);var $7="",VSe=/^https?$/i,WSe=["POST","PUT"];ie=Yt.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():CP.g(),this.C=this.u?HL(this.u):HL(CP),this.g.onreadystatechange=fn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){QL(this,o);return}if(t=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(const o of n.keys())r.set(o,n.get(o));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(r.keys()).find(o=>o.toLowerCase()=="content-type"),i=Se.FormData&&t instanceof Se.FormData,!(0<=JH(WSe,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of r)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{F7(this),0<this.B&&((this.L=zSe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.ua,this)):this.A=wR(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){QL(this,o)}};function zSe(t){return od&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof fR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))};function QL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,D7(t),R1(t)}function D7(t){t.F||(t.F=!0,Hr(t,"complete"),Hr(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Hr(this,"complete"),Hr(this,"abort"),R1(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R1(this,!0)),Yt.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?M7(this):this.kb())};ie.kb=function(){M7(this)};function M7(t){if(t.h&&typeof fR<"u"&&(!t.C[1]||Ro(t)!=4||t.da()!=2)){if(t.v&&Ro(t)==4)wR(t.La,0,t);else if(Hr(t,"readystatechange"),Ro(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var n;if(n=s===0){var i=String(t.I).match(A7)[1]||null;!i&&Se.self&&Se.self.location&&(i=Se.self.location.protocol.slice(0,-1)),n=!VSe.test(i?i.toLowerCase():"")}r=n}if(r)Hr(t,"complete"),Hr(t,"success");else{t.m=6;try{var o=2<Ro(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",D7(t)}}finally{R1(t)}}}}function R1(t,e){if(t.g){F7(t);const r=t.g,n=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Hr(t,"ready");try{r.onreadystatechange=n}catch{}}}function F7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Se.clearTimeout(t.A),t.A=null)}ie.isActive=function(){return!!this.g};function Ro(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<Ro(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),USe(e)}};function XL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function GSe(t){const e={};t=(t.g&&2<=Ro(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let n=0;n<t.length;n++){if(Dm(t[n]))continue;var r=ySe(t[n]);const i=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();const o=e[i]||[];e[i]=o,o.push(r)}cSe(e,function(n){return n.join(", ")})}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function L7(t){let e="";return pR(t,function(r,n){e+=n,e+=":",e+=r,e+=`\r
`}),e}function PR(t,e,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=L7(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):It(t,e,r))}function jh(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function B7(t){this.Ga=0,this.j=[],this.l=new C1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jh("baseRetryDelayMs",5e3,t),this.hb=jh("retryDelaySeedMs",1e4,t),this.eb=jh("forwardChannelMaxRetries",2,t),this.xa=jh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new I7(t&&t.concurrentRequestLimit),this.Ja=new FSe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ie=B7.prototype;ie.ra=8;ie.H=1;function IR(t){if(U7(t),t.H==3){var e=t.W++,r=Ss(t.I);if(It(r,"SID",t.K),It(r,"RID",e),It(r,"TYPE","terminate"),Rg(t,r),e=new Ig(t,t.l,e),e.L=2,e.v=k1(Ss(r)),r=!1,Se.navigator&&Se.navigator.sendBeacon)try{r=Se.navigator.sendBeacon(e.v.toString(),"")}catch{}!r&&Se.Image&&(new Image().src=e.v,r=!0),r||(e.g=Y7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ng(e)}H7(t)}function j1(t){t.g&&(kR(t),t.g.cancel(),t.g=null)}function U7(t){j1(t),t.u&&(Se.clearTimeout(t.u),t.u=null),Yx(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Se.clearTimeout(t.m),t.m=null)}function $1(t){if(!N7(t.i)&&!t.m){t.m=!0;var e=t.Na;Fm||u7(),Lm||(Fm(),Lm=!0),xR.add(e,t),t.C=0}}function qSe(t,e){return k7(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Tg(fn(t.Na,t,e),q7(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ig(this,this.l,t);let o=this.s;if(this.U&&(o?(o=r7(o),n7(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){t:{var n=this.j[r];if("__data__"in n.map&&(n=n.map.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=r;break e}if(e===4096||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=V7(this,i,e),r=Ss(this.I),It(r,"RID",t),It(r,"CVER",22),this.F&&It(r,"X-HTTP-Session-Id",this.F),Rg(this,r),o&&(this.O?e="headers="+encodeURIComponent(String(L7(o)))+"&"+e:this.o&&PR(r,this.o,o)),CR(this.i,i),this.bb&&It(r,"TYPE","init"),this.P?(It(r,"$req",e),It(r,"SID","null"),i.aa=!0,PP(i,r,null)):PP(i,r,e),this.H=2}}else this.H==3&&(t?JL(this,t):this.j.length==0||N7(this.i)||JL(this))};function JL(t,e){var r;e?r=e.m:r=t.W++;const n=Ss(t.I);It(n,"SID",t.K),It(n,"RID",r),It(n,"AID",t.V),Rg(t,n),t.o&&t.s&&PR(n,t.o,t.s),r=new Ig(t,t.l,r,t.C+1),t.o===null&&(r.I=t.s),e&&(t.j=e.F.concat(t.j)),e=V7(t,r,1e3),r.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),CR(t.i,r),PP(r,n,e)}function Rg(t,e){t.na&&pR(t.na,function(r,n){It(e,n,r)}),t.h&&E7({},function(r,n){It(e,n,r)})}function V7(t,e,r){r=Math.min(t.j.length,r);var n=t.h?fn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+r];o==-1?0<r?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<r;l++){let c=i[l].g;const u=i[l].map;if(c-=o,0>c)o=Math.max(0,i[l].g-100),a=!1;else try{LSe(u,s,"req"+c+"_")}catch{n&&n(u)}}if(a){n=s.join("&");break e}}}return t=t.j.splice(0,r),e.F=t,n}function W7(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fm||u7(),Lm||(Fm(),Lm=!0),xR.add(e,t),t.A=0}}function NR(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Tg(fn(t.Ma,t),q7(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,z7(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Tg(fn(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,En(10),j1(this),z7(this))};function kR(t){t.B!=null&&(Se.clearTimeout(t.B),t.B=null)}function z7(t){t.g=new Ig(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ss(t.wa);It(e,"RID","rpc"),It(e,"SID",t.K),It(e,"AID",t.V),It(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&It(e,"TO",t.qa),It(e,"TYPE","xmlhttp"),Rg(t,e),t.o&&t.s&&PR(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var r=t.g;t=t.pa,r.L=1,r.v=k1(Ss(e)),r.s=null,r.S=!0,x7(r,t)}ie.ib=function(){this.v!=null&&(this.v=null,j1(this),NR(this),En(19))};function Yx(t){t.v!=null&&(Se.clearTimeout(t.v),t.v=null)}function G7(t,e){var r=null;if(t.g==e){Yx(t),kR(t),t.g=null;var n=2}else if(NP(t.i,e))r=e.F,O7(t.i,e),n=1;else return;if(t.H!=0){if(e.i)if(n==1){r=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;n=T1(),Hr(n,new y7(n,r)),$1(t)}else W7(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(n==1&&qSe(t,e)||n==2&&NR(t)))switch(r&&0<r.length&&(e=t.i,e.i=e.i.concat(r)),i){case 1:Dl(t,5);break;case 4:Dl(t,10);break;case 3:Dl(t,6);break;default:Dl(t,2)}}}function q7(t,e){let r=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(r*=2),r*e}function Dl(t,e){if(t.l.info("Error code "+e),e==2){var r=null;t.h&&(r=null);var n=fn(t.pb,t);r||(r=new fc("//www.google.com/images/cleardot.gif"),Se.location&&Se.location.protocol=="http"||Hx(r,"https"),k1(r)),BSe(r.toString(),n)}else En(2);t.H=0,t.h&&t.h.za(e),H7(t),U7(t)}ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),En(2)):(this.l.info("Failed to ping google.com"),En(1))};function H7(t){if(t.H=0,t.ma=[],t.h){const e=R7(t.i);(e.length!=0||t.j.length!=0)&&(VL(t.ma,e),VL(t.ma,t.j),t.i.i.length=0,dR(t.j),t.j.length=0),t.h.ya()}}function K7(t,e,r){var n=r instanceof fc?Ss(r):new fc(r);if(n.g!="")e&&(n.g=e+"."+n.g),Kx(n,n.m);else{var i=Se.location;n=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new fc(null);n&&Hx(o,n),e&&(o.g=e),i&&Kx(o,i),r&&(o.l=r),n=o}return r=t.F,e=t.Da,r&&e&&It(n,r,e),It(n,"VER",t.ra),Rg(t,n),n}function Y7(t,e,r){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&t.Ha&&!t.va?new Yt(new kg({ob:!0})):new Yt(t.va),e.Oa(t.J),e}ie.isActive=function(){return!!this.h&&this.h.isActive(this)};function Q7(){}ie=Q7.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.isActive=function(){return!0};ie.Va=function(){};function Qx(){if(od&&!(10<=Number(oSe)))throw Error("Environmental error: no available transport.")}Qx.prototype.g=function(t,e){return new ii(t,e)};function ii(t,e){kr.call(this),this.g=new B7(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Dm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dm(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Kd(this)}Rr(ii,kr);ii.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,r=this.h||void 0;En(0),t.Y=e,t.na=r||{},t.G=t.aa,t.I=K7(t,null,t.Y),$1(t)};ii.prototype.close=function(){IR(this.g)};ii.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=bR(t),t=r);e.j.push(new $Se(e.fb++,t)),e.H==3&&$1(e)};ii.prototype.N=function(){this.g.h=null,delete this.j,IR(this.g),delete this.g,ii.$.N.call(this)};function X7(t){ER.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Rr(X7,ER);function J7(){AR.call(this),this.status=1}Rr(J7,AR);function Kd(t){this.g=t}Rr(Kd,Q7);Kd.prototype.Ba=function(){Hr(this.g,"a")};Kd.prototype.Aa=function(t){Hr(this.g,new X7(t))};Kd.prototype.za=function(t){Hr(this.g,new J7)};Kd.prototype.ya=function(){Hr(this.g,"b")};function HSe(){this.blockSize=-1}function co(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Rr(co,HSe);co.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function TA(t,e,r){r||(r=0);var n=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)n[i]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;e=t.g[0],r=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^r&(i^o))+n[0]+3614090360&4294967295;e=r+(s<<7&4294967295|s>>>25),s=o+(i^e&(r^i))+n[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(r^o&(e^r))+n[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=r+(e^i&(o^e))+n[3]+3250441966&4294967295,r=i+(s<<22&4294967295|s>>>10),s=e+(o^r&(i^o))+n[4]+4118548399&4294967295,e=r+(s<<7&4294967295|s>>>25),s=o+(i^e&(r^i))+n[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(r^o&(e^r))+n[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=r+(e^i&(o^e))+n[7]+4249261313&4294967295,r=i+(s<<22&4294967295|s>>>10),s=e+(o^r&(i^o))+n[8]+1770035416&4294967295,e=r+(s<<7&4294967295|s>>>25),s=o+(i^e&(r^i))+n[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(r^o&(e^r))+n[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=r+(e^i&(o^e))+n[11]+2304563134&4294967295,r=i+(s<<22&4294967295|s>>>10),s=e+(o^r&(i^o))+n[12]+1804603682&4294967295,e=r+(s<<7&4294967295|s>>>25),s=o+(i^e&(r^i))+n[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(r^o&(e^r))+n[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=r+(e^i&(o^e))+n[15]+1236535329&4294967295,r=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(r^i))+n[1]+4129170786&4294967295,e=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(e^r))+n[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^r&(o^e))+n[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^e&(i^o))+n[0]+3921069994&4294967295,r=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(r^i))+n[5]+3593408605&4294967295,e=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(e^r))+n[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^r&(o^e))+n[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^e&(i^o))+n[4]+3889429448&4294967295,r=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(r^i))+n[9]+568446438&4294967295,e=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(e^r))+n[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^r&(o^e))+n[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^e&(i^o))+n[8]+1163531501&4294967295,r=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(r^i))+n[13]+2850285829&4294967295,e=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(e^r))+n[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^r&(o^e))+n[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^e&(i^o))+n[12]+2368359562&4294967295,r=i+(s<<20&4294967295|s>>>12),s=e+(r^i^o)+n[5]+4294588738&4294967295,e=r+(s<<4&4294967295|s>>>28),s=o+(e^r^i)+n[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^r)+n[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=r+(i^o^e)+n[14]+4259657740&4294967295,r=i+(s<<23&4294967295|s>>>9),s=e+(r^i^o)+n[1]+2763975236&4294967295,e=r+(s<<4&4294967295|s>>>28),s=o+(e^r^i)+n[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^r)+n[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=r+(i^o^e)+n[10]+3200236656&4294967295,r=i+(s<<23&4294967295|s>>>9),s=e+(r^i^o)+n[13]+681279174&4294967295,e=r+(s<<4&4294967295|s>>>28),s=o+(e^r^i)+n[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^r)+n[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=r+(i^o^e)+n[6]+76029189&4294967295,r=i+(s<<23&4294967295|s>>>9),s=e+(r^i^o)+n[9]+3654602809&4294967295,e=r+(s<<4&4294967295|s>>>28),s=o+(e^r^i)+n[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^r)+n[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=r+(i^o^e)+n[2]+3299628645&4294967295,r=i+(s<<23&4294967295|s>>>9),s=e+(i^(r|~o))+n[0]+4096336452&4294967295,e=r+(s<<6&4294967295|s>>>26),s=o+(r^(e|~i))+n[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~r))+n[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~e))+n[5]+4237533241&4294967295,r=i+(s<<21&4294967295|s>>>11),s=e+(i^(r|~o))+n[12]+1700485571&4294967295,e=r+(s<<6&4294967295|s>>>26),s=o+(r^(e|~i))+n[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~r))+n[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~e))+n[1]+2240044497&4294967295,r=i+(s<<21&4294967295|s>>>11),s=e+(i^(r|~o))+n[8]+1873313359&4294967295,e=r+(s<<6&4294967295|s>>>26),s=o+(r^(e|~i))+n[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~r))+n[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~e))+n[13]+1309151649&4294967295,r=i+(s<<21&4294967295|s>>>11),s=e+(i^(r|~o))+n[4]+4149444226&4294967295,e=r+(s<<6&4294967295|s>>>26),s=o+(r^(e|~i))+n[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~r))+n[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~e))+n[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}co.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var r=e-this.blockSize,n=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=r;)TA(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(n[i++]=t.charCodeAt(o++),i==this.blockSize){TA(this,n),i=0;break}}else for(;o<e;)if(n[i++]=t[o++],i==this.blockSize){TA(this,n),i=0;break}}this.h=i,this.i+=e};co.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var r=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=r&255,r/=256;for(this.j(t),t=Array(16),e=r=0;4>e;++e)for(var n=0;32>n;n+=8)t[r++]=this.g[e]>>>n&255;return t};function ft(t,e){this.h=e;for(var r=[],n=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;n&&o==e||(r[i]=o,n=!1)}this.g=r}var KSe={};function OR(t){return-128<=t&&128>t?rSe(t,function(e){return new ft([e|0],0>e?-1:0)}):new ft([t|0],0>t?-1:0)}function jo(t){if(isNaN(t)||!isFinite(t))return cf;if(0>t)return Vr(jo(-t));for(var e=[],r=1,n=0;t>=r;n++)e[n]=t/r|0,r*=kP;return new ft(e,0)}function Z7(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Vr(Z7(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=jo(Math.pow(e,8)),n=cf,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=jo(Math.pow(e,o)),n=n.R(o).add(jo(s))):(n=n.R(r),n=n.add(jo(s)))}return n}var kP=4294967296,cf=OR(0),OP=OR(1),ZL=OR(16777216);ie=ft.prototype;ie.ea=function(){if(wi(this))return-Vr(this).ea();for(var t=0,e=1,r=0;r<this.g.length;r++){var n=this.D(r);t+=(0<=n?n:kP+n)*e,e*=kP}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(us(this))return"0";if(wi(this))return"-"+Vr(this).toString(t);for(var e=jo(Math.pow(t,6)),r=this,n="";;){var i=Jx(r,e).g;r=Xx(r,i.R(e));var o=((0<r.g.length?r.g[0]:r.h)>>>0).toString(t);if(r=i,us(r))return o+n;for(;6>o.length;)o="0"+o;n=o+n}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function us(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function wi(t){return t.h==-1}ie.X=function(t){return t=Xx(this,t),wi(t)?-1:us(t)?0:1};function Vr(t){for(var e=t.g.length,r=[],n=0;n<e;n++)r[n]=~t.g[n];return new ft(r,~t.h).add(OP)}ie.abs=function(){return wi(this)?Vr(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0,i=0;i<=e;i++){var o=n+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);n=s>>>16,o&=65535,s&=65535,r[i]=s<<16|o}return new ft(r,r[r.length-1]&-2147483648?-1:0)};function Xx(t,e){return t.add(Vr(e))}ie.R=function(t){if(us(this)||us(t))return cf;if(wi(this))return wi(t)?Vr(this).R(Vr(t)):Vr(Vr(this).R(t));if(wi(t))return Vr(this.R(Vr(t)));if(0>this.X(ZL)&&0>t.X(ZL))return jo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,r=[],n=0;n<2*e;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<t.g.length;i++){var o=this.D(n)>>>16,s=this.D(n)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;r[2*n+2*i]+=s*l,Uv(r,2*n+2*i),r[2*n+2*i+1]+=o*l,Uv(r,2*n+2*i+1),r[2*n+2*i+1]+=s*a,Uv(r,2*n+2*i+1),r[2*n+2*i+2]+=o*a,Uv(r,2*n+2*i+2)}for(n=0;n<e;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=e;n<2*e;n++)r[n]=0;return new ft(r,0)};function Uv(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $h(t,e){this.g=t,this.h=e}function Jx(t,e){if(us(e))throw Error("division by zero");if(us(t))return new $h(cf,cf);if(wi(t))return e=Jx(Vr(t),e),new $h(Vr(e.g),Vr(e.h));if(wi(e))return e=Jx(t,Vr(e)),new $h(Vr(e.g),e.h);if(30<t.g.length){if(wi(t)||wi(e))throw Error("slowDivide_ only works with positive integers.");for(var r=OP,n=e;0>=n.X(t);)r=e3(r),n=e3(n);var i=nu(r,1),o=nu(n,1);for(n=nu(n,2),r=nu(r,2);!us(n);){var s=o.add(n);0>=s.X(t)&&(i=i.add(r),o=s),n=nu(n,1),r=nu(r,1)}return e=Xx(t,i.R(e)),new $h(i,e)}for(i=cf;0<=t.X(e);){for(r=Math.max(1,Math.floor(t.ea()/e.ea())),n=Math.ceil(Math.log(r)/Math.LN2),n=48>=n?1:Math.pow(2,n-48),o=jo(r),s=o.R(e);wi(s)||0<s.X(t);)r-=n,o=jo(r),s=o.R(e);us(o)&&(o=OP),i=i.add(o),t=Xx(t,s)}return new $h(i,t)}ie.gb=function(t){return Jx(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)&t.D(n);return new ft(r,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)|t.D(n);return new ft(r,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)^t.D(n);return new ft(r,this.h^t.h)};function e3(t){for(var e=t.g.length+1,r=[],n=0;n<e;n++)r[n]=t.D(n)<<1|t.D(n-1)>>>31;return new ft(r,t.h)}function nu(t,e){var r=e>>5;e%=32;for(var n=t.g.length-r,i=[],o=0;o<n;o++)i[o]=0<e?t.D(o+r)>>>e|t.D(o+r+1)<<32-e:t.D(o+r);return new ft(i,t.h)}Qx.prototype.createWebChannel=Qx.prototype.g;ii.prototype.send=ii.prototype.u;ii.prototype.open=ii.prototype.m;ii.prototype.close=ii.prototype.close;P1.NO_ERROR=0;P1.TIMEOUT=8;P1.HTTP_ERROR=6;g7.COMPLETE="complete";v7.EventType=Pg;Pg.OPEN="a";Pg.CLOSE="b";Pg.ERROR="c";Pg.MESSAGE="d";kr.prototype.listen=kr.prototype.O;Yt.prototype.listenOnce=Yt.prototype.P;Yt.prototype.getLastError=Yt.prototype.Sa;Yt.prototype.getLastErrorCode=Yt.prototype.Ia;Yt.prototype.getStatus=Yt.prototype.da;Yt.prototype.getResponseJson=Yt.prototype.Wa;Yt.prototype.getResponseText=Yt.prototype.ja;Yt.prototype.send=Yt.prototype.ha;Yt.prototype.setWithCredentials=Yt.prototype.Oa;co.prototype.digest=co.prototype.l;co.prototype.reset=co.prototype.reset;co.prototype.update=co.prototype.j;ft.prototype.add=ft.prototype.add;ft.prototype.multiply=ft.prototype.R;ft.prototype.modulo=ft.prototype.gb;ft.prototype.compare=ft.prototype.X;ft.prototype.toNumber=ft.prototype.ea;ft.prototype.toString=ft.prototype.toString;ft.prototype.getBits=ft.prototype.D;ft.fromNumber=jo;ft.fromString=Z7;var YSe=function(){return new Qx},QSe=function(){return T1()},PA=P1,XSe=g7,JSe=Bc,t3={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZSe=kg,Vv=v7,eEe=Yt,tEe=co,uf=ft;const r3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new lk("@firebase/firestore");function Dh(){return Ic.logLevel}function ue(t,...e){if(Ic.logLevel<=Ye.DEBUG){const r=e.map(RR);Ic.debug(`Firestore (${Yd}): ${t}`,...r)}}function Es(t,...e){if(Ic.logLevel<=Ye.ERROR){const r=e.map(RR);Ic.error(`Firestore (${Yd}): ${t}`,...r)}}function sd(t,...e){if(Ic.logLevel<=Ye.WARN){const r=e.map(RR);Ic.warn(`Firestore (${Yd}): ${t}`,...r)}}function RR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${Yd}) INTERNAL ASSERTION FAILED: `+t;throw Es(e),new Error(e)}function kt(t,e){t||we()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends $c{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(an.UNAUTHENTICATED))}shutdown(){}}class nEe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class iEe{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let o=new $a;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $a,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $a)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(kt(typeof n.accessToken=="string"),new eK(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new an(e)}}class oEe{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sEe{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new oEe(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aEe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lEe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const n=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(kt(typeof r.token=="string"),this.R=r.token,new aEe(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cEe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=cEe(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%e.length))}return n}}function it(t,e){return t<e?-1:t>e?1:0}function ad(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ge(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ge(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ge(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new hr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new hr(0,0))}static max(){return new Ae(new hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,r,n){r===void 0?r=0:r>e.length&&we(),n===void 0?n=e.length-r:n>e.length-r&&we(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return zm.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof zm?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=e.get(i),s=r.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Rt extends zm{construct(e,r,n){return new Rt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ge(K.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Rt(r)}static emptyPath(){return new Rt([])}}const uEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends zm{construct(e,r,n){return new Wr(e,r,n)}static isValidIdentifier(e){return uEe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new ge(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ge(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(n+=a,i++):(o(),i++)}if(o(),s)throw new ge(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(r)}static emptyPath(){return new Wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Rt.fromString(e))}static fromName(e){return new ve(Rt.fromString(e).popFirst(5))}static empty(){return new ve(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Rt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Rt(e.slice()))}}function fEe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(n===1e9?new hr(r+1,0):new hr(r,n));return new Ka(i,ve.empty(),e)}function dEe(t){return new Ka(t.readTime,t.key,-1)}class Ka{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ka(Ae.min(),ve.empty(),-1)}static max(){return new Ka(Ae.max(),ve.empty(),-1)}}function hEe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ve.comparator(t.documentKey,e.documentKey),r!==0?r:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pEe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mEe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jg(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==pEe)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new H((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof H?r:H.resolve(r)}catch(r){return H.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):H.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):H.reject(r)}static resolve(e){return new H((r,n)=>{r(e)})}static reject(e){return new H((r,n)=>{n(e)})}static waitFor(e){return new H((r,n)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&r()},l=>n(l))}),s=!0,o===i&&r()})}static or(e){let r=H.resolve(!1);for(const n of e)r=r.next(i=>i?H.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new H((n,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;r(e[c]).next(u=>{s[c]=u,++a,a===o&&n(s)},u=>i(u))}})}static doWhile(e,r){return new H((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}function $g(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.se(n),this.oe=n=>r.writeSequenceNumber(n))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}jR._e=-1;function D1(t){return t==null}function Zx(t){return t===0&&1/t==-1/0}function yEe(t){return typeof t=="number"&&Number.isInteger(t)&&!Zx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Qd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function rK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,r){this.comparator=e,this.root=r||Lr.EMPTY}insert(e,r){return new Ut(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wv(this.root,e,this.comparator,!0)}}class Wv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??Lr.RED,this.left=i??Lr.EMPTY,this.right=o??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new Lr(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Lr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1;Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,r,n,i,o){return this}insert(e,r,n){return new Lr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new i3(this.data.getIterator())}getIteratorFrom(e){return new i3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Kr(this.comparator);return r.data=e,r}}class i3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.fields=e,e.sort(Wr.comparator)}static empty(){return new to([])}unionWith(e){let r=new Kr(Wr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new to(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ad(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nK("Invalid base64 string: "+o):o}}(e);return new mn(r)}static fromUint8Array(e){const r=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new mn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const gEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ya(t){if(kt(!!t),typeof t=="string"){let e=0;const r=gEe.exec(t);if(kt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nc(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function DR(t){const e=t.mapValue.fields.__previous_value__;return $R(e)?DR(e):e}function Gm(t){const e=Ya(t.mapValue.fields.__local_write_time__.timestampValue);return new hr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vEe{constructor(e,r,n,i,o,s,a,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class qm{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function kc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$R(t)?4:bEe(t)?9007199254740991:10:we()}function Go(t,e){if(t===e)return!0;const r=kc(t);if(r!==kc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gm(t).isEqual(Gm(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ya(i.timestampValue),a=Ya(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Nc(i.bytesValue).isEqual(Nc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return tr(i.geoPointValue.latitude)===tr(o.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tr(i.integerValue)===tr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=tr(i.doubleValue),a=tr(o.doubleValue);return s===a?Zx(s)===Zx(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ad(t.arrayValue.values||[],e.arrayValue.values||[],Go);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(n3(s)!==n3(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Go(s[l],a[l])))return!1;return!0}(t,e);default:return we()}}function Hm(t,e){return(t.values||[]).find(r=>Go(r,e))!==void 0}function ld(t,e){if(t===e)return 0;const r=kc(t),n=kc(e);if(r!==n)return it(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=tr(o.integerValue||o.doubleValue),l=tr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return o3(t.timestampValue,e.timestampValue);case 4:return o3(Gm(t),Gm(e));case 5:return it(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Nc(o),l=Nc(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=it(a[c],l[c]);if(u!==0)return u}return it(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=it(tr(o.latitude),tr(s.latitude));return a!==0?a:it(tr(o.longitude),tr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=ld(a[c],l[c]);if(u)return u}return it(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===zv.mapValue&&s===zv.mapValue)return 0;if(o===zv.mapValue)return 1;if(s===zv.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=it(l[f],u[f]);if(h!==0)return h;const p=ld(a[l[f]],c[u[f]]);if(p!==0)return p}return it(l.length,u.length)}(t.mapValue,e.mapValue);default:throw we()}}function o3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const r=Ya(t),n=Ya(e),i=it(r.seconds,n.seconds);return i!==0?i:it(r.nanos,n.nanos)}function cd(t){return RP(t)}function RP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ya(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Nc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ve.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=RP(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${RP(r.fields[s])}`;return i+"}"}(t.mapValue):we()}function jP(t){return!!t&&"integerValue"in t}function MR(t){return!!t&&"arrayValue"in t}function s3(t){return!!t&&"nullValue"in t}function a3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function K0(t){return!!t&&"mapValue"in t}function Bp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qd(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Bp(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bp(t.arrayValue.values[r]);return e}return Object.assign({},t)}function bEe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.value=e}static empty(){return new Si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!K0(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bp(r)}setAll(e){let r=Wr.emptyPath(),n={},i=[];e.forEach((s,a)=>{if(!r.isImmediateParentOf(a)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=a.popLast()}s?n[a.lastSegment()]=Bp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());K0(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Go(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];K0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Qd(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new Si(Bp(this.value))}}function iK(t){const e=[];return Qd(t.fields,(r,n)=>{const i=new Wr([r]);if(K0(n)){const o=iK(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new to(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,r,n,i,o,s,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new cn(e,0,Ae.min(),Ae.min(),Ae.min(),Si.empty(),0)}static newFoundDocument(e,r,n,i){return new cn(e,1,r,Ae.min(),n,i,0)}static newNoDocument(e,r){return new cn(e,2,r,Ae.min(),Ae.min(),Si.empty(),0)}static newUnknownDocument(e,r){return new cn(e,3,r,Ae.min(),Ae.min(),Si.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,r){this.position=e,this.inclusive=r}}function l3(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?n=ve.comparator(ve.fromName(s.referenceValue),r.key):n=ld(s,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function c3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Go(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,r="asc"){this.field=e,this.dir=r}}function xEe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{}class ur extends oK{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new wEe(e,r,n):r==="array-contains"?new AEe(e,n):r==="in"?new CEe(e,n):r==="not-in"?new TEe(e,n):r==="array-contains-any"?new PEe(e,n):new ur(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new SEe(e,n):new EEe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ld(r,this.value)):r!==null&&kc(this.value)===kc(r)&&this.matchesComparison(ld(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qo extends oK{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new qo(e,r)}matches(e){return sK(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sK(t){return t.op==="and"}function aK(t){return _Ee(t)&&sK(t)}function _Ee(t){for(const e of t.filters)if(e instanceof qo)return!1;return!0}function $P(t){if(t instanceof ur)return t.field.canonicalString()+t.op.toString()+cd(t.value);if(aK(t))return t.filters.map(e=>$P(e)).join(",");{const e=t.filters.map(r=>$P(r)).join(",");return`${t.op}(${e})`}}function lK(t,e){return t instanceof ur?function(n,i){return i instanceof ur&&n.op===i.op&&n.field.isEqual(i.field)&&Go(n.value,i.value)}(t,e):t instanceof qo?function(n,i){return i instanceof qo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,s,a)=>o&&lK(s,i.filters[a]),!0):!1}(t,e):void we()}function cK(t){return t instanceof ur?function(r){return`${r.field.canonicalString()} ${r.op} ${cd(r.value)}`}(t):t instanceof qo?function(r){return r.op.toString()+" {"+r.getFilters().map(cK).join(" ,")+"}"}(t):"Filter"}class wEe extends ur{constructor(e,r,n){super(e,r,n),this.key=ve.fromName(n.referenceValue)}matches(e){const r=ve.comparator(e.key,this.key);return this.matchesComparison(r)}}class SEe extends ur{constructor(e,r){super(e,"in",r),this.keys=uK("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class EEe extends ur{constructor(e,r){super(e,"not-in",r),this.keys=uK("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function uK(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ve.fromName(n.referenceValue))}class AEe extends ur{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return MR(r)&&Hm(r.arrayValue,this.value)}}class CEe extends ur{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Hm(this.value.arrayValue,r)}}class TEe extends ur{constructor(e,r){super(e,"not-in",r)}matches(e){if(Hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Hm(this.value.arrayValue,r)}}class PEe extends ur{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!MR(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Hm(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IEe{constructor(e,r=null,n=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function u3(t,e=null,r=[],n=[],i=null,o=null,s=null){return new IEe(t,e,r,n,i,o,s)}function FR(t){const e=Ce(t);if(e.ce===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>$P(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),D1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>cd(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>cd(n)).join(",")),e.ce=r}return e.ce}function LR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!xEe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!lK(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c3(t.startAt,e.startAt)&&c3(t.endAt,e.endAt)}function DP(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,r=null,n=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function NEe(t,e,r,n,i,o,s,a){return new M1(t,e,r,n,i,o,s,a)}function fK(t){return new M1(t)}function f3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kEe(t){return t.collectionGroup!==null}function Up(t){const e=Ce(t);if(e.le===null){e.le=[];const r=new Set;for(const o of e.explicitOrderBy)e.le.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Kr(Wr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.le.push(new t_(o,n))}),r.has(Wr.keyField().canonicalString())||e.le.push(new t_(Wr.keyField(),n))}return e.le}function Bo(t){const e=Ce(t);return e.he||(e.he=OEe(e,Up(t))),e.he}function OEe(t,e){if(t.limitType==="F")return u3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new t_(i.field,o)});const r=t.endAt?new e_(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new e_(t.startAt.position,t.startAt.inclusive):null;return u3(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function MP(t,e,r){return new M1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function F1(t,e){return LR(Bo(t),Bo(e))&&t.limitType===e.limitType}function dK(t){return`${FR(Bo(t))}|lt:${t.limitType}`}function gu(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>cK(i)).join(", ")}]`),D1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>cd(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>cd(i)).join(",")),`Target(${n})`}(Bo(t))}; limitType=${t.limitType})`}function L1(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ve.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of Up(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,a,l){const c=l3(s,a,l);return s.inclusive?c<=0:c<0}(n.startAt,Up(n),i)||n.endAt&&!function(s,a,l){const c=l3(s,a,l);return s.inclusive?c>=0:c>0}(n.endAt,Up(n),i))}(t,e)}function REe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hK(t){return(e,r)=>{let n=!1;for(const i of Up(t)){const o=jEe(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function jEe(t,e,r){const n=t.field.isKeyField()?ve.comparator(e.key,r.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?ld(l,c):we()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qd(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return rK(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ee=new Ut(ve.comparator);function As(){return $Ee}const pK=new Ut(ve.comparator);function fp(...t){let e=pK;for(const r of t)e=e.insert(r.key,r);return e}function mK(t){let e=pK;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ml(){return Vp()}function yK(){return Vp()}function Vp(){return new Xd(t=>t.toString(),(t,e)=>t.isEqual(e))}const DEe=new Ut(ve.comparator),MEe=new Kr(ve.comparator);function Ve(...t){let e=MEe;for(const r of t)e=e.add(r);return e}const FEe=new Kr(it);function LEe(){return FEe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zx(e)?"-0":e}}function vK(t){return{integerValue:""+t}}function BEe(t,e){return yEe(e)?vK(e):gK(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this._=void 0}}function UEe(t,e,r){return t instanceof r_?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$R(o)&&(o=DR(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(r,e):t instanceof Km?xK(t,e):t instanceof Ym?_K(t,e):function(i,o){const s=bK(i,o),a=d3(s)+d3(i.Ie);return jP(s)&&jP(i.Ie)?vK(a):gK(i.serializer,a)}(t,e)}function VEe(t,e,r){return t instanceof Km?xK(t,e):t instanceof Ym?_K(t,e):r}function bK(t,e){return t instanceof n_?function(n){return jP(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class r_ extends B1{}class Km extends B1{constructor(e){super(),this.elements=e}}function xK(t,e){const r=wK(e);for(const n of t.elements)r.some(i=>Go(i,n))||r.push(n);return{arrayValue:{values:r}}}class Ym extends B1{constructor(e){super(),this.elements=e}}function _K(t,e){let r=wK(e);for(const n of t.elements)r=r.filter(i=>!Go(i,n));return{arrayValue:{values:r}}}class n_ extends B1{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function d3(t){return tr(t.integerValue||t.doubleValue)}function wK(t){return MR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WEe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Km&&i instanceof Km||n instanceof Ym&&i instanceof Ym?ad(n.elements,i.elements,Go):n instanceof n_&&i instanceof n_?Go(n.Ie,i.Ie):n instanceof r_&&i instanceof r_}(t.transform,e.transform)}class zEe{constructor(e,r){this.version=e,this.transformResults=r}}class Uo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Uo}static exists(e){return new Uo(void 0,e)}static updateTime(e){return new Uo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Y0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class U1{}function SK(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BR(t.key,Uo.none()):new Dg(t.key,t.data,Uo.none());{const r=t.data,n=Si.empty();let i=new Kr(Wr.comparator);for(let o of e.fields)if(!i.has(o)){let s=r.field(o);s===null&&o.length>1&&(o=o.popLast(),s=r.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new Uc(t.key,n,new to(i.toArray()),Uo.none())}}function GEe(t,e,r){t instanceof Dg?function(i,o,s){const a=i.value.clone(),l=p3(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,r):t instanceof Uc?function(i,o,s){if(!Y0(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=p3(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(EK(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function Wp(t,e,r,n){return t instanceof Dg?function(o,s,a,l){if(!Y0(o.precondition,s))return a;const c=o.value.clone(),u=m3(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Uc?function(o,s,a,l){if(!Y0(o.precondition,s))return a;const c=m3(o.fieldTransforms,l,s),u=s.data;return u.setAll(EK(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(o,s,a){return Y0(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,r)}function qEe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=bK(n.transform,i||null);o!=null&&(r===null&&(r=Si.empty()),r.set(n.field,o))}return r||null}function h3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ad(n,i,(o,s)=>WEe(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dg extends U1{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uc extends U1{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function EK(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function p3(t,e,r){const n=new Map;kt(t.length===r.length);for(let i=0;i<r.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);n.set(o.field,VEe(s,a,r[i]))}return n}function m3(t,e,r){const n=new Map;for(const i of t){const o=i.transform,s=r.data.field(i.field);n.set(i.field,UEe(o,s,e))}return n}class BR extends U1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HEe extends U1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KEe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&GEe(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Wp(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Wp(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=yK();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=r.has(i.key)?null:a;const l=SK(s,a);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ae.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ve())}isEqual(e){return this.batchId===e.batchId&&ad(this.mutations,e.mutations,(r,n)=>h3(r,n))&&ad(this.baseMutations,e.baseMutations,(r,n)=>h3(r,n))}}class UR{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){kt(e.mutations.length===n.length);let i=function(){return DEe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new UR(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YEe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QEe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er,qe;function XEe(t){switch(t){default:return we();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function AK(t){if(t===void 0)return Es("GRPC error has no .code"),K.UNKNOWN;switch(t){case er.OK:return K.OK;case er.CANCELLED:return K.CANCELLED;case er.UNKNOWN:return K.UNKNOWN;case er.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case er.INTERNAL:return K.INTERNAL;case er.UNAVAILABLE:return K.UNAVAILABLE;case er.UNAUTHENTICATED:return K.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case er.NOT_FOUND:return K.NOT_FOUND;case er.ALREADY_EXISTS:return K.ALREADY_EXISTS;case er.PERMISSION_DENIED:return K.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case er.ABORTED:return K.ABORTED;case er.OUT_OF_RANGE:return K.OUT_OF_RANGE;case er.UNIMPLEMENTED:return K.UNIMPLEMENTED;case er.DATA_LOSS:return K.DATA_LOSS;default:return we()}}(qe=er||(er={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JEe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZEe=new uf([4294967295,4294967295],0);function y3(t){const e=JEe().encode(t),r=new tEe;return r.update(e),new Uint8Array(r.digest())}function g3(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new uf([r,n],0),new uf([i,o],0)]}class VR{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new dp(`Invalid padding: ${r}`);if(n<0)throw new dp(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new dp(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new dp(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=uf.fromNumber(this.Te)}de(e,r,n){let i=e.add(r.multiply(uf.fromNumber(n)));return i.compare(ZEe)===1&&(i=new uf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const r=y3(e),[n,i]=g3(r);for(let o=0;o<this.hashCount;o++){const s=this.de(n,i,o);if(!this.Ae(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new VR(o,i,r);return n.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const r=y3(e),[n,i]=g3(r);for(let o=0;o<this.hashCount;o++){const s=this.de(n,i,o);this.Re(s)}}Re(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class dp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Mg.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new V1(Ae.min(),i,new Ut(it),As(),Ve())}}class Mg{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Mg(n,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,r,n,i){this.Ve=e,this.removedTargetIds=r,this.key=n,this.me=i}}class CK{constructor(e,r){this.targetId=e,this.fe=r}}class TK{constructor(e,r,n=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class v3{constructor(){this.ge=0,this.pe=x3(),this.ye=mn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ve(),r=Ve(),n=Ve();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:we()}}),new Mg(this.ye,this.we,e,r,n)}Fe(){this.Se=!1,this.pe=x3()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class eAe{constructor(e){this.Le=e,this.ke=new Map,this.qe=As(),this.Qe=b3(),this.Ke=new Ut(it)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const n=this.ze(r);switch(e.state){case 0:this.je(r)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(r);break;case 3:this.je(r)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),n.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((n,i)=>{this.je(i)&&r(i)})}Je(e){const r=e.targetId,n=e.fe.count,i=this.Ye(r);if(i){const o=i.target;if(DP(o))if(n===0){const s=new ve(o.path);this.We(r,s,cn.newNoDocument(s,Ae.min()))}else kt(n===1);else{const s=this.Ze(r);if(s!==n){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,c)}}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let s,a;try{s=Nc(n).toUint8Array()}catch(l){if(l instanceof nK)return sd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new VR(s,i,o)}catch(l){return sd(l instanceof dp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,r,n){return r.fe.count===n-this.rt(e,r.targetId)?0:2}rt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(r,o,null),i++)}),i}it(e){const r=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&DP(a.target)){const l=new ve(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,cn.newNoDocument(l,e))}o.De&&(r.set(s,o.ve()),o.Fe())}});let n=Ve();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new V1(e,r,this.Ke,this.qe,n);return this.qe=As(),this.Qe=b3(),this.Ke=new Ut(it),i}Ue(e,r){if(!this.je(e))return;const n=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,n),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,n){if(!this.je(e))return;const i=this.ze(e);this.st(e,r)?i.Me(r,1):i.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),n&&(this.qe=this.qe.insert(r,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new v3,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new Kr(it),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=this.Ye(e)!==null;return r||ue("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new v3),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function b3(){return new Ut(ve.comparator)}function x3(){return new Ut(ve.comparator)}const tAe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rAe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),nAe=(()=>({and:"AND",or:"OR"}))();class iAe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function FP(t,e){return t.useProto3Json||D1(e)?e:{value:e}}function i_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PK(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oAe(t,e){return i_(t,e.toTimestamp())}function Vo(t){return kt(!!t),Ae.fromTimestamp(function(r){const n=Ya(r);return new hr(n.seconds,n.nanos)}(t))}function WR(t,e){return function(n){return new Rt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function IK(t){const e=Rt.fromString(t);return kt(RK(e)),e}function LP(t,e){return WR(t.databaseId,e.path)}function IA(t,e){const r=IK(e);if(r.get(1)!==t.databaseId.projectId)throw new ge(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ge(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ve(NK(r))}function BP(t,e){return WR(t.databaseId,e)}function sAe(t){const e=IK(t);return e.length===4?Rt.emptyPath():NK(e)}function UP(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NK(t){return kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _3(t,e,r){return{name:LP(t,e),fields:r.value.mapValue.fields}}function aAe(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(kt(u===void 0||typeof u=="string"),mn.fromBase64String(u||"")):(kt(u===void 0||u instanceof Uint8Array),mn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?K.UNKNOWN:AK(c.code);return new ge(u,c.message||"")}(s);r=new TK(n,i,o,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=IA(t,n.document.name),o=Vo(n.document.updateTime),s=n.document.createTime?Vo(n.document.createTime):Ae.min(),a=new Si({mapValue:{fields:n.document.fields}}),l=cn.newFoundDocument(i,o,s,a),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Q0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=IA(t,n.document),o=n.readTime?Vo(n.readTime):Ae.min(),s=cn.newNoDocument(i,o),a=n.removedTargetIds||[];r=new Q0([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=IA(t,n.document),o=n.removedTargetIds||[];r=new Q0([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new QEe(i,o),a=n.targetId;r=new CK(a,s)}}return r}function lAe(t,e){let r;if(e instanceof Dg)r={update:_3(t,e.key,e.value)};else if(e instanceof BR)r={delete:LP(t,e.key)};else if(e instanceof Uc)r={update:_3(t,e.key,e.data),updateMask:gAe(e.fieldMask)};else{if(!(e instanceof HEe))return we();r={verify:LP(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,s){const a=s.transform;if(a instanceof r_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Km)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ym)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof n_)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw we()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:oAe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(t,e.precondition)),r}function cAe(t,e){return t&&t.length>0?(kt(e!==void 0),t.map(r=>function(i,o){let s=i.updateTime?Vo(i.updateTime):Vo(o);return s.isEqual(Ae.min())&&(s=Vo(o)),new zEe(s,i.transformResults||[])}(r,e))):[]}function uAe(t,e){return{documents:[BP(t,e.path)]}}function fAe(t,e){const r={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(r.parent=BP(t,n),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=BP(t,n.popLast()),r.structuredQuery.from=[{collectionId:n.lastSegment()}]);const i=function(l){if(l.length!==0)return OK(qo.create(l,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:vu(f.field),direction:pAe(f.dir)}}(c))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=FP(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),r}function dAe(t){let e=sAe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){kt(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];r.where&&(o=function(f){const h=kK(f);return h instanceof qo&&aK(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(m){return new t_(bu(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let a=null;r.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,D1(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new e_(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new e_(p,h)}(r.endAt)),NEe(e,i,s,o,a,"F",l,c)}function hAe(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function kK(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=bu(r.unaryFilter.field);return ur.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=bu(r.unaryFilter.field);return ur.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bu(r.unaryFilter.field);return ur.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=bu(r.unaryFilter.field);return ur.create(s,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(r){return ur.create(bu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return qo.create(r.compositeFilter.filters.map(n=>kK(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(r.compositeFilter.op))}(t):we()}function pAe(t){return tAe[t]}function mAe(t){return rAe[t]}function yAe(t){return nAe[t]}function vu(t){return{fieldPath:t.canonicalString()}}function bu(t){return Wr.fromServerFormat(t.fieldPath)}function OK(t){return t instanceof ur?function(r){if(r.op==="=="){if(a3(r.value))return{unaryFilter:{field:vu(r.field),op:"IS_NAN"}};if(s3(r.value))return{unaryFilter:{field:vu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(a3(r.value))return{unaryFilter:{field:vu(r.field),op:"IS_NOT_NAN"}};if(s3(r.value))return{unaryFilter:{field:vu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(r.field),op:mAe(r.op),value:r.value}}}(t):t instanceof qo?function(r){const n=r.getFilters().map(i=>OK(i));return n.length===1?n[0]:{compositeFilter:{op:yAe(r.op),filters:n}}}(t):we()}function gAe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function RK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,r,n,i,o=Ae.min(),s=Ae.min(),a=mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vAe{constructor(e){this.ut=e}}function bAe(t){const e=dAe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?MP(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xAe{constructor(){this.on=new _Ae}addToCollectionParentIndex(e,r){return this.on.add(r),H.resolve()}getCollectionParents(e,r){return H.resolve(this.on.getEntries(r))}addFieldIndex(e,r){return H.resolve()}deleteFieldIndex(e,r){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,r){return H.resolve()}getDocumentsMatchingTarget(e,r){return H.resolve(null)}getIndexType(e,r){return H.resolve(0)}getFieldIndexes(e,r){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,r){return H.resolve(Ka.min())}getMinOffsetFromCollectionGroup(e,r){return H.resolve(Ka.min())}updateCollectionGroup(e,r,n){return H.resolve()}updateIndexEntries(e,r){return H.resolve()}}class _Ae{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Kr(Rt.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Kr(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ud(0)}static Nn(){return new ud(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wAe{constructor(){this.changes=new Xd(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?H.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SAe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EAe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Wp(n.mutation,i,to.empty(),hr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ve()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ve()){const i=Ml();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let s=fp();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Ml();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ve()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{r.set(s,a)})})}computeViews(e,r,n,i){let o=As();const s=Vp(),a=function(){return Vp()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Uc)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Wp(u.mutation,c,u.mutation.getFieldMask(),hr.now())):s.set(c.key,to.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return a.set(c,new SAe(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,r){const n=Vp();let i=new Ut((s,a)=>s-a),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||to.empty();u=a.applyToLocalView(c,u),n.set(l,u);const f=(i.get(a.batchId)||Ve()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=yK();u.forEach(h=>{if(!o.has(h)){const p=SK(r.get(h),n.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):kEe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):H.resolve(Ml());let a=-1,l=o;return s.next(c=>H.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ve())).next(u=>({batchId:a,changes:mK(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ve(r)).next(n=>{let i=fp();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let s=fp();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{const c=function(f,h){return new M1(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,cn.newInvalidDocument(u)))});let a=fp();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Wp(u.mutation,c,to.empty(),hr.now()),L1(r,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AAe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,r){return H.resolve(this.ur.get(r))}saveBundleMetadata(e,r){return this.ur.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Vo(i.createTime)}}(r)),H.resolve()}getNamedQuery(e,r){return H.resolve(this.cr.get(r))}saveNamedQuery(e,r){return this.cr.set(r.name,function(i){return{name:i.name,query:bAe(i.bundledQuery),readTime:Vo(i.readTime)}}(r)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CAe{constructor(){this.overlays=new Ut(ve.comparator),this.lr=new Map}getOverlay(e,r){return H.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ml();return H.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.lt(e,r,o)}),H.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.lr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(n)),H.resolve()}getOverlaysForCollection(e,r,n){const i=Ml(),o=r.length+1,s=new ve(r.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>n&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Ut((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=o.get(c.largestBatchId);u===null&&(u=Ml(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ml(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return H.resolve(a)}lt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(n.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new YEe(r,n));let o=this.lr.get(r);o===void 0&&(o=Ve(),this.lr.set(r,o)),this.lr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.hr=new Kr(Ar.Pr),this.Ir=new Kr(Ar.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,r){const n=new Ar(e,r);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.dr(new Ar(e,r))}Ar(e,r){e.forEach(n=>this.removeReference(n,r))}Rr(e){const r=new ve(new Rt([])),n=new Ar(r,e),i=new Ar(r,e+1),o=[];return this.Ir.forEachInRange([n,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const r=new ve(new Rt([])),n=new Ar(r,e),i=new Ar(r,e+1);let o=Ve();return this.Ir.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(e){const r=new Ar(e,0),n=this.hr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ar{constructor(e,r){this.key=e,this.gr=r}static Pr(e,r){return ve.comparator(e.key,r.key)||it(e.gr,r.gr)}static Tr(e,r){return it(e.gr,r.gr)||ve.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TAe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.pr=1,this.yr=new Kr(Ar.Pr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new KEe(o,r,n,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Ar(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,r){return H.resolve(this.wr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Sr(n),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ar(r,0),i=new Ar(r,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([n,i],s=>{const a=this.wr(s.gr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Kr(it);return r.forEach(i=>{const o=new Ar(i,0),s=new Ar(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{n=n.add(a.gr)})}),H.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;ve.isDocumentKey(o)||(o=o.child(""));const s=new Ar(new ve(o),0);let a=new Kr(it);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},s),H.resolve(this.br(a))}br(e){const r=[];return e.forEach(n=>{const i=this.wr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){kt(this.Dr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.yr;return H.forEach(r.mutations,i=>{const o=new Ar(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=n})}Fn(e){}containsKey(e,r){const n=new Ar(r,0),i=this.yr.firstAfterOrEqual(n);return H.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Dr(e,r){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const r=this.Sr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PAe{constructor(e){this.Cr=e,this.docs=function(){return new Ut(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,s=this.Cr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return H.resolve(n?n.document.mutableCopy():cn.newInvalidDocument(r))}getEntries(e,r){let n=As();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():cn.newInvalidDocument(i))}),H.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=As();const s=r.path,a=new ve(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||hEe(dEe(u),n)<=0||(i.has(u.key)||L1(r,u))&&(o=o.insert(u.key,u.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,r,n,i){we()}vr(e,r){return H.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new IAe(this)}getSize(e){return H.resolve(this.size)}}class IAe extends wAe{constructor(e){super(),this._r=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this._r.addEntry(e,i)):this._r.removeEntry(n)}),H.waitFor(r)}getFromCache(e,r){return this._r.getEntry(e,r)}getAllFromCache(e,r){return this._r.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NAe{constructor(e){this.persistence=e,this.Fr=new Xd(r=>FR(r),LR),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Mr=0,this.Or=new zR,this.targetCount=0,this.Nr=ud.On()}forEachTarget(e,r){return this.Fr.forEach((n,i)=>r(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Mr&&(this.Mr=r),H.resolve()}kn(e){this.Fr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Nr=new ud(r),this.highestTargetId=r),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,r){return this.kn(r),this.targetCount+=1,H.resolve()}updateTargetData(e,r){return this.kn(r),H.resolve()}removeTargetData(e,r){return this.Fr.delete(r.target),this.Or.Rr(r.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,r){const n=this.Fr.get(r)||null;return H.resolve(n)}addMatchingKeys(e,r,n){return this.Or.Er(r,n),H.resolve()}removeMatchingKeys(e,r,n){this.Or.Ar(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.Or.Rr(r),H.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Or.mr(r);return H.resolve(n)}containsKey(e,r){return H.resolve(this.Or.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kAe{constructor(e,r){this.Br={},this.overlays={},this.Lr=new jR(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new NAe(this),this.indexManager=new xAe,this.remoteDocumentCache=function(i){return new PAe(i)}(n=>this.referenceDelegate.Qr(n)),this.serializer=new vAe(r),this.Kr=new AAe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new CAe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Br[e.toKey()];return n||(n=new TAe(r,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,r,n){ue("MemoryPersistence","Starting transaction:",e);const i=new OAe(this.Lr.next());return this.referenceDelegate.$r(),n(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,r){return H.or(Object.values(this.Br).map(n=>()=>n.containsKey(e,r)))}}class OAe extends mEe{constructor(e){super(),this.currentSequenceNumber=e}}class GR{constructor(e){this.persistence=e,this.Gr=new zR,this.zr=null}static jr(e){return new GR(e)}get Hr(){if(this.zr)return this.zr;throw we()}addReference(e,r,n){return this.Gr.addReference(n,r),this.Hr.delete(n.toString()),H.resolve()}removeReference(e,r,n){return this.Gr.removeReference(n,r),this.Hr.add(n.toString()),H.resolve()}markPotentiallyOrphaned(e,r){return this.Hr.add(r.toString()),H.resolve()}removeTarget(e,r){this.Gr.Rr(r.targetId).forEach(i=>this.Hr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}$r(){this.zr=new Set}Ur(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Hr,n=>{const i=ve.fromPath(n);return this.Jr(e,i).next(o=>{o||r.removeEntry(i,Ae.min())})}).next(()=>(this.zr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Jr(e,r).next(n=>{n?this.Hr.delete(r.toString()):this.Hr.add(r.toString())})}Qr(e){return 0}Jr(e,r){return H.or([()=>H.resolve(this.Gr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Wr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ki=n,this.qi=i}static Qi(e,r){let n=Ve(),i=Ve();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new qR(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RAe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jAe{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,r){this.Gi=e,this.indexManager=r,this.Ki=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.zi(e,r).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,r,i,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new RAe;return this.Hi(e,r,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,r,s,a.size)})}).next(()=>o.result)}Ji(e,r,n,i){return n.documentReadCount<this.Ui?(Dh()<=Ye.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",gu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),H.resolve()):(Dh()<=Ye.DEBUG&&ue("QueryEngine","Query:",gu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Wi*i?(Dh()<=Ye.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",gu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bo(r))):H.resolve())}zi(e,r){if(f3(r))return H.resolve(null);let n=Bo(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=MP(r,null,"F"),n=Bo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const s=Ve(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Yi(r,a);return this.Zi(r,c,s,l.readTime)?this.zi(e,MP(r,null,"F")):this.Xi(e,c,r,l)}))})))}ji(e,r,n,i){return f3(r)||i.isEqual(Ae.min())?H.resolve(null):this.Gi.getDocuments(e,n).next(o=>{const s=this.Yi(r,o);return this.Zi(r,s,n,i)?H.resolve(null):(Dh()<=Ye.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gu(r)),this.Xi(e,s,r,fEe(i,-1)).next(a=>a))})}Yi(e,r){let n=new Kr(hK(e));return r.forEach((i,o)=>{L1(e,o)&&(n=n.add(o))}),n}Zi(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,r,n){return Dh()<=Ye.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",gu(r)),this.Gi.getDocumentsMatchingQuery(e,r,Ka.min(),n)}Xi(e,r,n,i){return this.Gi.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Ae{constructor(e,r,n,i){this.persistence=e,this.es=r,this.serializer=i,this.ts=new Ut(it),this.ns=new Xd(o=>FR(o),LR),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EAe(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ts))}}function DAe(t,e,r,n){return new $Ae(t,e,r,n)}async function jK(t,e){const r=Ce(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r.os(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],a=[];let l=Ve();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}function MAe(t,e){const r=Ce(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=H.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(y=>{const g=c.docVersions.get(m);kt(g!==null),y.version.compareTo(g)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function $K(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.qr.getLastRemoteSnapshotVersion(r))}function FAe(t,e){const r=Ce(t),n=e.snapshotVersion;let i=r.ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=r.ss.newChangeBuffer({trackRemovals:!0});i=r.ts;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(r.qr.removeMatchingKeys(o,u.removedDocuments,f).next(()=>r.qr.addMatchingKeys(o,u.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(mn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(f,p),function(y,g,b){return y.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,u)&&a.push(r.qr.updateTargetData(o,p))});let l=As(),c=Ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(LAe(o,s,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!n.isEqual(Ae.min())){const u=r.qr.getLastRemoteSnapshotVersion(o).next(f=>r.qr.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(u)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(r.ts=i,o))}function LAe(t,e,r){let n=Ve(),i=Ve();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let s=As();return r.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:i}})}function BAe(t,e){const r=Ce(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function UAe(t,e){const r=Ce(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.qr.getTargetData(n,e).next(o=>o?(i=o,H.resolve(i)):r.qr.allocateTargetId(n).next(s=>(i=new va(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.qr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.ts=r.ts.insert(n.targetId,n),r.ns.set(e,n.targetId)),n})}async function VP(t,e,r){const n=Ce(t),i=n.ts.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!$g(s))throw s;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.ts=n.ts.remove(e),n.ns.delete(i.target)}function w3(t,e,r){const n=Ce(t);let i=Ae.min(),o=Ve();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Ce(l),h=f.ns.get(u);return h!==void 0?H.resolve(f.ts.get(h)):f.qr.getTargetData(c,u)}(n,s,Bo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>n.es.getDocumentsMatchingQuery(s,e,r?i:Ae.min(),r?o:Ve())).next(a=>(VAe(n,REe(e),a),{documents:a,ls:o})))}function VAe(t,e,r){let n=t.rs.get(e)||Ae.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.rs.set(e,n)}class S3{constructor(){this.activeTargetIds=LEe()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WAe{constructor(){this.eo=new S3,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,r,n){this.no[e]=r}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new S3,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zAe{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gv=null;function NA(){return Gv===null?Gv=function(){return 268435456+Math.round(2147483648*Math.random())}():Gv++,"0x"+Gv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GAe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qAe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class HAe extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+r.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(r,n,i,o,s){const a=NA(),l=this.So(r,n);ue("RestConnection",`Sending RPC '${r}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(r,l,c,i).then(u=>(ue("RestConnection",`Received RPC '${r}' ${a}: `,u),u),u=>{throw sd("RestConnection",`RPC '${r}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Co(r,n,i,o,s,a){return this.wo(r,n,i,o,s)}bo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yd}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>r[s]=o),i&&i.headers.forEach((o,s)=>r[s]=o)}So(r,n){const i=GAe[r];return`${this.mo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,r,n,i){const o=NA();return new Promise((s,a)=>{const l=new eEe;l.setWithCredentials(!0),l.listenOnce(XSe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case PA.NO_ERROR:const u=l.getResponseJson();ue(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case PA.TIMEOUT:ue(rn,`RPC '${e}' ${o} timed out`),a(new ge(K.DEADLINE_EXCEEDED,"Request time out"));break;case PA.HTTP_ERROR:const f=l.getStatus();if(ue(rn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(g){const b=g.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(b)>=0?b:K.UNKNOWN}(p.status);a(new ge(m,p.message))}else a(new ge(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ge(K.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(rn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ue(rn,`RPC '${e}' ${o} sending request:`,i),l.send(r,"POST",c,n,15)})}vo(e,r,n){const i=NA(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=YSe(),a=QSe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new ZSe({})),this.bo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=o.join("");ue(rn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const m=new qAe({co:g=>{p?ue(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(ue(rn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ue(rn,`RPC '${e}' stream ${i} sending:`,g),f.send(g))},lo:()=>f.close()}),y=(g,b,v)=>{g.listen(b,x=>{try{v(x)}catch(S){setTimeout(()=>{throw S},0)}})};return y(f,Vv.EventType.OPEN,()=>{p||ue(rn,`RPC '${e}' stream ${i} transport opened.`)}),y(f,Vv.EventType.CLOSE,()=>{p||(p=!0,ue(rn,`RPC '${e}' stream ${i} transport closed`),m.Ro())}),y(f,Vv.EventType.ERROR,g=>{p||(p=!0,sd(rn,`RPC '${e}' stream ${i} transport errored:`,g),m.Ro(new ge(K.UNAVAILABLE,"The operation could not be completed")))}),y(f,Vv.EventType.MESSAGE,g=>{var b;if(!p){const v=g.data[0];kt(!!v);const x=v,S=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(S){ue(rn,`RPC '${e}' stream ${i} received error:`,S);const _=S.status;let w=function(I){const T=er[I];if(T!==void 0)return AK(T)}(_),A=S.message;w===void 0&&(w=K.INTERNAL,A="Unknown error status: "+_+" with message "+S.message),p=!0,m.Ro(new ge(w,A)),f.close()}else ue(rn,`RPC '${e}' stream ${i} received:`,v),m.Vo(v)}}),y(a,JSe.STAT_EVENT,g=>{g.stat===t3.PROXY?ue(rn,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===t3.NOPROXY&&ue(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}}function kA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t){return new iAe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e,r,n=1e3,i=1.5,o=6e4){this.si=e,this.timerId=r,this.Fo=n,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const r=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),i=Math.max(0,r-n);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(e,r,n,i,o,s,a,l){this.si=e,this.Ko=n,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new DK(e,r)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,r){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():r&&r.code===K.RESOURCE_EXHAUSTED?(Es(r.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):r&&r.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(r)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),r=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Uo===r&&this.s_(n,i)},n=>{e(()=>{const i=new ge(K.UNKNOWN,"Fetching auth token failed: "+n.message);return this.o_(i)})})}s_(e,r){const n=this.i_(this.Uo);this.stream=this.__(e,r),this.stream.ho(()=>{n(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{n(()=>this.o_(i))}),this.stream.onMessage(i=>{n(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return r=>{this.si.enqueueAndForget(()=>this.Uo===e?r():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KAe extends MK{constructor(e,r,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}__(e,r){return this.connection.vo("Listen",e,r)}onMessage(e){this.zo.reset();const r=aAe(this.serializer,e),n=function(o){if(!("targetChange"in o))return Ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?Vo(s.readTime):Ae.min()}(e);return this.listener.a_(r,n)}u_(e){const r={};r.database=UP(this.serializer),r.addTarget=function(o,s){let a;const l=s.target;if(a=DP(l)?{documents:uAe(o,l)}:{query:fAe(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=PK(o,s.resumeToken);const c=FP(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ae.min())>0){a.readTime=i_(o,s.snapshotVersion.toTimestamp());const c=FP(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const n=hAe(this.serializer,e);n&&(r.labels=n),this.e_(r)}c_(e){const r={};r.database=UP(this.serializer),r.removeTarget=e,this.e_(r)}}class YAe extends MK{constructor(e,r,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,r){return this.connection.vo("Write",e,r)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const r=cAe(e.writeResults,e.commitTime),n=Vo(e.commitTime);return this.listener.I_(n,r)}return kt(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=UP(this.serializer),this.e_(e)}P_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>lAe(this.serializer,n))};this.e_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QAe extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ge(K.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,r,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,r,n,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(K.UNKNOWN,i.toString())})}Co(e,r,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,r,n,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(K.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class XAe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Es(r),this.f_=!1):ue("OnlineStateTracker",r)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JAe{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{n.enqueueAndForget(async()=>{Vc(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ce(l);c.C_.add(4),await Fg(c),c.M_.set("Unknown"),c.C_.delete(4),await z1(c)}(this))})}),this.M_=new XAe(n,i)}}async function z1(t){if(Vc(t))for(const e of t.v_)await e(!0)}async function Fg(t){for(const e of t.v_)await e(!1)}function FK(t,e){const r=Ce(t);r.D_.has(e.targetId)||(r.D_.set(e.targetId,e),YR(r)?KR(r):Jd(r).Ho()&&HR(r,e))}function LK(t,e){const r=Ce(t),n=Jd(r);r.D_.delete(e),n.Ho()&&BK(r,e),r.D_.size===0&&(n.Ho()?n.Zo():Vc(r)&&r.M_.set("Unknown"))}function HR(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Jd(t).u_(e)}function BK(t,e){t.x_.Oe(e),Jd(t).c_(e)}function KR(t){t.x_=new eAe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Jd(t).start(),t.M_.g_()}function YR(t){return Vc(t)&&!Jd(t).jo()&&t.D_.size>0}function Vc(t){return Ce(t).C_.size===0}function UK(t){t.x_=void 0}async function ZAe(t){t.D_.forEach((e,r)=>{HR(t,e)})}async function eCe(t,e){UK(t),YR(t)?(t.M_.w_(e),KR(t)):t.M_.set("Unknown")}async function tCe(t,e,r){if(t.M_.set("Online"),e instanceof TK&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(n){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await o_(t,n)}else if(e instanceof Q0?t.x_.$e(e):e instanceof CK?t.x_.Je(e):t.x_.Ge(e),!r.isEqual(Ae.min()))try{const n=await $K(t.localStore);r.compareTo(n)>=0&&await function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.D_.get(c);u&&o.D_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.D_.get(l);if(!u)return;o.D_.set(l,u.withResumeToken(mn.EMPTY_BYTE_STRING,u.snapshotVersion)),BK(o,l);const f=new va(u.target,l,c,u.sequenceNumber);HR(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){ue("RemoteStore","Failed to raise snapshot:",n),await o_(t,n)}}async function o_(t,e,r){if(!$g(e))throw e;t.C_.add(1),await Fg(t),t.M_.set("Offline"),r||(r=()=>$K(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await r(),t.C_.delete(1),await z1(t)})}function VK(t,e){return e().catch(r=>o_(t,r,e))}async function G1(t){const e=Ce(t),r=Qa(e);let n=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;rCe(e);)try{const i=await BAe(e.localStore,n);if(i===null){e.b_.length===0&&r.Zo();break}n=i.batchId,nCe(e,i)}catch(i){await o_(e,i)}WK(e)&&zK(e)}function rCe(t){return Vc(t)&&t.b_.length<10}function nCe(t,e){t.b_.push(e);const r=Qa(t);r.Ho()&&r.h_&&r.P_(e.mutations)}function WK(t){return Vc(t)&&!Qa(t).jo()&&t.b_.length>0}function zK(t){Qa(t).start()}async function iCe(t){Qa(t).E_()}async function oCe(t){const e=Qa(t);for(const r of t.b_)e.P_(r.mutations)}async function sCe(t,e,r){const n=t.b_.shift(),i=UR.from(n,e,r);await VK(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await G1(t)}async function aCe(t,e){e&&Qa(t).h_&&await async function(n,i){if(function(s){return XEe(s)&&s!==K.ABORTED}(i.code)){const o=n.b_.shift();Qa(n).Yo(),await VK(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await G1(n)}}(t,e),WK(t)&&zK(t)}async function A3(t,e){const r=Ce(t);r.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const n=Vc(r);r.C_.add(3),await Fg(r),n&&r.M_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.C_.delete(3),await z1(r)}async function lCe(t,e){const r=Ce(t);e?(r.C_.delete(2),await z1(r)):e||(r.C_.add(2),await Fg(r),r.M_.set("Unknown"))}function Jd(t){return t.O_||(t.O_=function(r,n,i){const o=Ce(r);return o.A_(),new KAe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:ZAe.bind(null,t),Io:eCe.bind(null,t),a_:tCe.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),YR(t)?KR(t):t.M_.set("Unknown")):(await t.O_.stop(),UK(t))})),t.O_}function Qa(t){return t.N_||(t.N_=function(r,n,i){const o=Ce(r);return o.A_(),new YAe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:iCe.bind(null,t),Io:aCe.bind(null,t),T_:oCe.bind(null,t),I_:sCe.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await G1(t)):(await t.N_.stop(),t.b_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new $a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const s=Date.now()+n,a=new QR(e,r,s,i,o);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function XR(t,e){if(Es("AsyncQueue",`${e}: ${t}`),$g(t))return new ge(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ve.comparator(r.key,n.key):(r,n)=>ve.comparator(r.key,n.key),this.keyedMap=fp(),this.sortedSet=new Ut(this.comparator)}static emptySet(e){return new ff(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ff)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ff;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.B_=new Ut(ve.comparator)}track(e){const r=e.doc.key,n=this.B_.get(r);n?e.type!==0&&n.type===3?this.B_=this.B_.insert(r,e):e.type===3&&n.type!==1?this.B_=this.B_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.B_=this.B_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.B_=this.B_.remove(r):e.type===1&&n.type===2?this.B_=this.B_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):we():this.B_=this.B_.insert(r,e)}L_(){const e=[];return this.B_.inorderTraversal((r,n)=>{e.push(n)}),e}}class fd{constructor(e,r,n,i,o,s,a,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,o){const s=[];return r.forEach(a=>{s.push({type:0,doc:a})}),new fd(e,r,ff.emptySet(r),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cCe{constructor(){this.k_=void 0,this.listeners=[]}}class uCe{constructor(){this.queries=new Xd(e=>dK(e),F1),this.onlineState="Unknown",this.q_=new Set}}async function fCe(t,e){const r=Ce(t),n=e.query;let i=!1,o=r.queries.get(n);if(o||(i=!0,o=new cCe),i)try{o.k_=await r.onListen(n)}catch(s){const a=XR(s,`Initialization of query '${gu(e.query)}' failed`);return void e.onError(a)}r.queries.set(n,o),o.listeners.push(e),e.Q_(r.onlineState),o.k_&&e.K_(o.k_)&&JR(r)}async function dCe(t,e){const r=Ce(t),n=e.query;let i=!1;const o=r.queries.get(n);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return r.queries.delete(n),r.onUnlisten(n)}function hCe(t,e){const r=Ce(t);let n=!1;for(const i of e){const o=i.query,s=r.queries.get(o);if(s){for(const a of s.listeners)a.K_(i)&&(n=!0);s.k_=i}}n&&JR(r)}function pCe(t,e,r){const n=Ce(t),i=n.queries.get(e);if(i)for(const o of i.listeners)o.onError(r);n.queries.delete(e)}function JR(t){t.q_.forEach(e=>{e.next()})}class mCe{constructor(e,r,n){this.query=e,this.U_=r,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new fd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.W_?this.z_(e)&&(this.U_.next(e),r=!0):this.j_(e,this.onlineState)&&(this.H_(e),r=!0),this.G_=e,r}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let r=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),r=!0),r}j_(e,r){if(!e.fromCache)return!0;const n=r!=="Offline";return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const r=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}H_(e){e=fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e){this.key=e}}class qK{constructor(e){this.key=e}}class yCe{constructor(e,r){this.query=e,this.ia=r,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ve(),this.mutatedKeys=Ve(),this._a=hK(e),this.aa=new ff(this._a)}get ua(){return this.ia}ca(e,r){const n=r?r.la:new C3,i=r?r.aa:this.aa;let o=r?r.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=L1(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let g=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(n.track({type:3,doc:p}),g=!0):this.ha(h,p)||(n.track({type:2,doc:p}),g=!0,(l&&this._a(p,l)>0||c&&this._a(p,c)<0)&&(a=!0)):!h&&p?(n.track({type:0,doc:p}),g=!0):h&&!p&&(n.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(p?(s=s.add(p),o=y?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),n.track({type:1,doc:u})}return{aa:s,la:n,Zi:a,mutatedKeys:o}}ha(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,u)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return m(h)-m(p)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(n);const s=r?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,o.length!==0||l?{snapshot:new fd(this.query,e.aa,i,o,e.mutatedKeys,a===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new C3,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(r=>this.ia=this.ia.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.ia=this.ia.delete(r)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ve(),this.aa.forEach(n=>{this.Ea(n.key)&&(this.oa=this.oa.add(n.key))});const r=[];return e.forEach(n=>{this.oa.has(n)||r.push(new qK(n))}),this.oa.forEach(n=>{e.has(n)||r.push(new GK(n))}),r}da(e){this.ia=e.ls,this.oa=Ve();const r=this.ca(e.documents);return this.applyChanges(r,!0)}Aa(){return fd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class gCe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class vCe{constructor(e){this.key=e,this.Ra=!1}}class bCe{constructor(e,r,n,i,o,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Xd(a=>dK(a),F1),this.fa=new Map,this.ga=new Set,this.pa=new Ut(ve.comparator),this.ya=new Map,this.wa=new zR,this.Sa={},this.ba=new Map,this.Da=ud.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function xCe(t,e){const r=NCe(t);let n,i;const o=r.ma.get(e);if(o)n=o.targetId,r.sharedClientState.addLocalQueryTarget(n),i=o.view.Aa();else{const s=await UAe(r.localStore,Bo(e)),a=r.sharedClientState.addLocalQueryTarget(s.targetId);n=s.targetId,i=await _Ce(r,e,n,a==="current",s.resumeToken),r.isPrimaryClient&&FK(r.remoteStore,s)}return i}async function _Ce(t,e,r,n,i){t.va=(f,h,p)=>async function(y,g,b,v){let x=g.view.ca(b);x.Zi&&(x=await w3(y.localStore,g.query,!1).then(({documents:w})=>g.view.ca(w,x)));const S=v&&v.targetChanges.get(g.targetId),_=g.view.applyChanges(x,y.isPrimaryClient,S);return P3(y,g.targetId,_.Ta),_.snapshot}(t,f,h,p);const o=await w3(t.localStore,e,!0),s=new yCe(e,o.ls),a=s.ca(o.documents),l=Mg.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);P3(t,r,c.Ta);const u=new gCe(e,r,s);return t.ma.set(e,u),t.fa.has(r)?t.fa.get(r).push(e):t.fa.set(r,[e]),c.snapshot}async function wCe(t,e){const r=Ce(t),n=r.ma.get(e),i=r.fa.get(n.targetId);if(i.length>1)return r.fa.set(n.targetId,i.filter(o=>!F1(o,e))),void r.ma.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await VP(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),LK(r.remoteStore,n.targetId),WP(r,n.targetId)}).catch(jg)):(WP(r,n.targetId),await VP(r.localStore,n.targetId,!0))}async function SCe(t,e,r){const n=kCe(t);try{const i=await function(s,a){const l=Ce(s),c=hr.now(),u=a.reduce((p,m)=>p.add(m.key),Ve());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=As(),y=Ve();return l.ss.getEntries(p,u).next(g=>{m=g,m.forEach((b,v)=>{v.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(g=>{f=g;const b=[];for(const v of a){const x=qEe(v,f.get(v.key).overlayedDocument);x!=null&&b.push(new Uc(v.key,x,iK(x.value.mapValue),Uo.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(g=>{h=g;const b=g.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,g.batchId,b)})}).then(()=>({batchId:h.batchId,changes:mK(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new Ut(it)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(n,i.batchId,r),await Lg(n,i.changes),await G1(n.remoteStore)}catch(i){const o=XR(i,"Failed to persist write");r.reject(o)}}async function HK(t,e){const r=Ce(t);try{const n=await FAe(r.localStore,e);e.targetChanges.forEach((i,o)=>{const s=r.ya.get(o);s&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?kt(s.Ra):i.removedDocuments.size>0&&(kt(s.Ra),s.Ra=!1))}),await Lg(r,n,e)}catch(n){await jg(n)}}function T3(t,e,r){const n=Ce(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ce(s);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.listeners)h.Q_(a)&&(c=!0)}),c&&JR(l)}(n.eventManager,e),i.length&&n.Va.a_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ECe(t,e,r){const n=Ce(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.ya.get(e),o=i&&i.key;if(o){let s=new Ut(ve.comparator);s=s.insert(o,cn.newNoDocument(o,Ae.min()));const a=Ve().add(o),l=new V1(Ae.min(),new Map,new Ut(it),s,a);await HK(n,l),n.pa=n.pa.remove(o),n.ya.delete(e),ZR(n)}else await VP(n.localStore,e,!1).then(()=>WP(n,e,r)).catch(jg)}async function ACe(t,e){const r=Ce(t),n=e.batch.batchId;try{const i=await MAe(r.localStore,e);YK(r,n,null),KK(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Lg(r,i)}catch(i){await jg(i)}}async function CCe(t,e,r){const n=Ce(t);try{const i=await function(s,a){const l=Ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(kt(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);YK(n,e,r),KK(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Lg(n,i)}catch(i){await jg(i)}}function KK(t,e){(t.ba.get(e)||[]).forEach(r=>{r.resolve()}),t.ba.delete(e)}function YK(t,e,r){const n=Ce(t);let i=n.Sa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Sa[n.currentUser.toKey()]=i}}function WP(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.fa.get(e))t.ma.delete(n),r&&t.Va.Fa(n,r);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(n=>{t.wa.containsKey(n)||QK(t,n)})}function QK(t,e){t.ga.delete(e.path.canonicalString());const r=t.pa.get(e);r!==null&&(LK(t.remoteStore,r),t.pa=t.pa.remove(e),t.ya.delete(r),ZR(t))}function P3(t,e,r){for(const n of r)n instanceof GK?(t.wa.addReference(n.key,e),TCe(t,n)):n instanceof qK?(ue("SyncEngine","Document no longer in limbo: "+n.key),t.wa.removeReference(n.key,e),t.wa.containsKey(n.key)||QK(t,n.key)):we()}function TCe(t,e){const r=e.key,n=r.path.canonicalString();t.pa.get(r)||t.ga.has(n)||(ue("SyncEngine","New document in limbo: "+r),t.ga.add(n),ZR(t))}function ZR(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const r=new ve(Rt.fromString(e)),n=t.Da.next();t.ya.set(n,new vCe(r)),t.pa=t.pa.insert(r,n),FK(t.remoteStore,new va(Bo(fK(r.path)),n,"TargetPurposeLimboResolution",jR._e))}}async function Lg(t,e,r){const n=Ce(t),i=[],o=[],s=[];n.ma.isEmpty()||(n.ma.forEach((a,l)=>{s.push(n.va(l,e,r).then(c=>{if((c||r)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=qR.Qi(l.targetId,c);o.push(u)}}))}),await Promise.all(s),n.Va.a_(i),await async function(l,c){const u=Ce(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,h=>H.forEach(h.ki,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>H.forEach(h.qi,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!$g(f))throw f;ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.ts.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);u.ts=u.ts.insert(h,y)}}}(n.localStore,o))}async function PCe(t,e){const r=Ce(t);if(!r.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const n=await jK(r.localStore,e);r.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(l=>{l.reject(new ge(K.CANCELLED,s))})}),o.ba.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Lg(r,n._s)}}function ICe(t,e){const r=Ce(t),n=r.ya.get(e);if(n&&n.Ra)return Ve().add(n.key);{let i=Ve();const o=r.fa.get(e);if(!o)return i;for(const s of o){const a=r.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function NCe(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ICe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ECe.bind(null,e),e.Va.a_=hCe.bind(null,e.eventManager),e.Va.Fa=pCe.bind(null,e.eventManager),e}function kCe(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ACe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CCe.bind(null,e),e}class I3{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=W1(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return DAe(this.persistence,new jAe,e.initialUser,this.serializer)}createPersistence(e){return new kAe(GR.jr,this.serializer)}createSharedClientState(e){return new WAe}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OCe{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>T3(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=PCe.bind(null,this.syncEngine),await lCe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uCe}()}createDatastore(e){const r=W1(e.databaseInfo.databaseId),n=function(o){return new HAe(o)}(e.databaseInfo);return function(o,s,a,l){return new QAe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,s,a){return new JAe(n,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,r=>T3(this.syncEngine,r,0),function(){return E3.D()?new E3:new zAe}())}createSyncEngine(e,r){return function(i,o,s,a,l,c,u){const f=new bCe(i,o,s,a,l,c);return u&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(r){const n=Ce(r);ue("RemoteStore","RemoteStore shutting down."),n.C_.add(5),await Fg(n),n.F_.shutdown(),n.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RCe{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jCe{constructor(e,r,n,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=tK.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async o=>{ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=XR(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function OA(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await jK(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N3(t,e){t.asyncQueue.verifyOperationInProgress();const r=await DCe(t);ue("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(r,n),t.setCredentialChangeListener(i=>A3(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>A3(e.remoteStore,o)),t._onlineComponents=e}function $Ce(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function DCe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await OA(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!$Ce(r))throw r;sd("Error using user provided cache. Falling back to memory cache: "+r),await OA(t,new I3)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await OA(t,new I3);return t._offlineComponents}async function XK(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await N3(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await N3(t,new OCe))),t._onlineComponents}function MCe(t){return XK(t).then(e=>e.syncEngine)}async function FCe(t){const e=await XK(t),r=e.eventManager;return r.onListen=xCe.bind(null,e.syncEngine),r.onUnlisten=wCe.bind(null,e.syncEngine),r}function LCe(t,e,r={}){const n=new $a;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new RCe({next:h=>{s.enqueueAndForget(()=>dCe(o,f)),h.fromCache&&l.source==="server"?c.reject(new ge(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new mCe(a,u,{includeMetadataChanges:!0,J_:!0});return fCe(o,f)}(await FCe(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t,e,r){if(!r)throw new ge(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BCe(t,e,r,n){if(e===!0&&n===!0)throw new ge(K.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function O3(t){if(!ve.isDocumentKey(t))throw new ge(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R3(t){if(ve.isDocumentKey(t))throw new ge(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ej(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function dd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ej(t);throw new ge(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BCe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JK((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class q1{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ge(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j3(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new rEe;switch(n.type){case"firstParty":return new sEe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=k3.get(r);n&&(ue("ComponentProvider","Removing Datastore"),k3.delete(r),n.terminate())}(this),Promise.resolve()}}function UCe(t,e,r,n={}){var i;const o=(t=dd(t,q1))._getSettings(),s=`${e}:${r}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&sd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=an.MOCK_USER;else{a=ak(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new ge(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(c)}t._authCredentials=new nEe(new eK(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new H1(this.firestore,e,this._query)}}class Ni{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class Da extends H1{constructor(e,r,n){super(e,r,fK(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new ve(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function VCe(t,e,...r){if(t=Qr(t),ZK("collection","path",e),t instanceof q1){const n=Rt.fromString(e,...r);return R3(n),new Da(t,null,n)}{if(!(t instanceof Ni||t instanceof Da))throw new ge(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Rt.fromString(e,...r));return R3(n),new Da(t.firestore,null,n)}}function tj(t,e,...r){if(t=Qr(t),arguments.length===1&&(e=tK.newId()),ZK("doc","path",e),t instanceof q1){const n=Rt.fromString(e,...r);return O3(n),new Ni(t,null,new ve(n))}{if(!(t instanceof Ni||t instanceof Da))throw new ge(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Rt.fromString(e,...r));return O3(n),new Ni(t.firestore,t instanceof Da?t.converter:null,new ve(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WCe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new DK(this,"async_queue_retry"),this.iu=()=>{const r=kA();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.zo.Qo()};const e=kA();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const r=kA();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const r=new $a;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!$g(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const r=this.Ja.then(()=>(this.tu=!0,e().catch(n=>{this.eu=n,this.tu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(n);throw Es("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.tu=!1,n))));return this.Ja=r,r}enqueueAfterDelay(e,r,n){this.su(),this.ru.indexOf(e)>-1&&(r=0);const i=QR.createAndSchedule(this,e,r,n,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&we()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const r of this.Xa)if(r.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Xa)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const r=this.Xa.indexOf(e);this.Xa.splice(r,1)}}class K1 extends q1{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=function(){return new WCe}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tY(this),this._firestoreClient.terminate()}}function zCe(t,e){const r=typeof t=="object"?t:dk(),n=typeof t=="string"?t:e||"(default)",i=uk(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=sk("firestore");o&&UCe(i,...o)}return i}function eY(t){return t._firestoreClient||tY(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tY(t){var e,r,n;const i=t._freezeSettings(),o=function(a,l,c,u){return new vEe(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,JK(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new jCe(t._authCredentials,t._appCheckCredentials,t._queue,o),!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hd(mn.fromBase64String(e))}catch(r){throw new ge(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new hd(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ge(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ge(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ge(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GCe=/^__.*__$/;class qCe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Uc(e,this.data,this.fieldMask,r,this.fieldTransforms):new Dg(e,this.data,r,this.fieldTransforms)}}function nY(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class ij{constructor(e,r,n,i,o,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new ij(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tu({path:n,du:!1});return i.Au(e),i}Ru(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tu({path:n,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return s_(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(nY(this.Iu)&&GCe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class HCe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||W1(e)}pu(e,r,n,i=!1){return new ij({Iu:e,methodName:r,gu:n,path:Wr.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KCe(t){const e=t._freezeSettings(),r=W1(t._databaseId);return new HCe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function YCe(t,e,r,n,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,r,i);aY("Data must be an object, but it was:",s,n);const a=oY(n,s);let l,c;if(o.merge)l=new to(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const f of o.mergeFields){const h=QCe(e,f,r);if(!s.contains(h))throw new ge(K.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);JCe(u,h)||u.push(h)}l=new to(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new qCe(new Si(a),l,c)}function iY(t,e){if(sY(t=Qr(t)))return aY("Unsupported field value:",e,t),oY(t,e);if(t instanceof rY)return function(n,i){if(!nY(i.Iu))throw i.mu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(n,i){const o=[];let s=0;for(const a of n){let l=iY(a,i.Vu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Qr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BEe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=hr.fromDate(n);return{timestampValue:i_(i.serializer,o)}}if(n instanceof hr){const o=new hr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:i_(i.serializer,o)}}if(n instanceof nj)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hd)return{bytesValue:PK(i.serializer,n._byteString)};if(n instanceof Ni){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:WR(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.mu(`Unsupported field value: ${ej(n)}`)}(t,e)}function oY(t,e){const r={};return rK(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qd(t,(n,i)=>{const o=iY(i,e.Eu(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function sY(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hr||t instanceof nj||t instanceof hd||t instanceof Ni||t instanceof rY)}function aY(t,e,r){if(!sY(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=ej(r);throw n==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+n)}}function QCe(t,e,r){if((e=Qr(e))instanceof rj)return e._internalPath;if(typeof e=="string")return lY(t,e);throw s_("Field path arguments must be of type string or ",t,!1,void 0,r)}const XCe=new RegExp("[~\\*/\\[\\]]");function lY(t,e,r){if(e.search(XCe)>=0)throw s_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new rj(...e.split("."))._internalPath}catch{throw s_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function s_(t,e,r,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new ge(K.INVALID_ARGUMENT,a+t+l)}function JCe(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(uY("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class ZCe extends cY{data(){return super.data()}}function uY(t,e){return typeof e=="string"?lY(t,e):e instanceof rj?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eTe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tTe{convertValue(e,r="none"){switch(kc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw we()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Qd(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertGeoPoint(e){return new nj(tr(e.latitude),tr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=DR(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Gm(e));default:return null}}convertTimestamp(e){const r=Ya(e);return new hr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Rt.fromString(e);kt(RK(n));const i=new qm(n.get(1),n.get(3)),o=new ve(n.popFirst(5));return i.isEqual(r)||Es(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rTe(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nTe extends cY{constructor(e,r,n,i,o,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new X0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(uY("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class X0 extends nTe{data(e={}){return super.data(e)}}class iTe{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new qv(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new X0(this._firestore,this._userDataWriter,n.key,n,new qv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ge(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new X0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new X0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:oTe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function oTe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class sTe extends tTe{constructor(e){super(),this.firestore=e}convertBytes(e){return new hd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,r)}}function aTe(t){t=dd(t,H1);const e=dd(t.firestore,K1),r=eY(e),n=new sTe(e);return eTe(t._query),LCe(r,t._query).then(i=>new iTe(e,n,t,i))}function fY(t,e,r){t=dd(t,Ni);const n=dd(t.firestore,K1),i=rTe(t.converter,e,r);return dY(n,[YCe(KCe(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Uo.none())])}function lTe(t){return dY(dd(t.firestore,K1),[new BR(t._key,Uo.none())])}function dY(t,e){return function(n,i){const o=new $a;return n.asyncQueue.enqueueAndForget(async()=>SCe(await MCe(n),i,o)),o.promise}(eY(t),e)}(function(e,r=!0){(function(i){Yd=i})(fk),Lf(new xc("firestore",(n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),a=new K1(new iEe(n.getProvider("auth-internal")),new lEe(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ge(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qm(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:r},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fo(r3,"4.3.2",e),Fo(r3,"4.3.2","esm2017")})();const Y1=zCe(fO),cTe=async()=>await aTe(VCe(Y1,"players")).then(e=>e.docs.map(r=>r.data())).catch(console.log),zP=async t=>{const e={...t,id:ls(),createdAt:new Date().getTime(),updatedAt:new Date().getTime()};return await fY(tj(Y1,"players",e.id),e),e},uTe=async(t,e)=>{const r={...e,updatedAt:new Date().getTime()};return await fY(tj(Y1,"players",r.id),r),r},fTe=async t=>(await lTe(tj(Y1,"players",t)),!0);function dTe({onSelect:t,...e}){const[r,n]=E.useState(""),i=E.useCallback(()=>{n(ls())},[]);return d.jsxs(Kn,{title:"選擇玩家",...e,children:[d.jsx(De,{onClick:i,color:"secondary",children:"刷新列表"}),d.jsx("div",{className:"mt-4",children:d.jsx(hY,{onClickPlayer:t},r)})]})}const hY=({onClickPlayer:t,onClickClone:e,onClickDelete:r})=>{const{value:n,loading:i}=Pye(cTe),o=E.useCallback(l=>{if(!t||!n)return;const c=l.currentTarget.getAttribute("data-id");if(!c)return;const u=n.find(f=>f.id===c);u&&t(c,u)},[t,n]),s=E.useCallback(l=>{if(!e||!n)return;const c=l.currentTarget.getAttribute("data-id");if(!c)return;const u=n.find(p=>p.id===c);if(!u)return;const{id:f,...h}=u;e(h)},[e,n]),a=E.useCallback(l=>{if(!r)return;const c=l.currentTarget.getAttribute("data-id");c&&r(c)},[r]);return d.jsxs(d.Fragment,{children:[i&&d.jsx("div",{className:"w-32 text-center mx-auto my-8",children:d.jsx(AO,{})}),!i&&(n==null?void 0:n.length)===0&&d.jsx("div",{className:"text-gray-500 text-center py-4",children:d.jsx("span",{children:"沒有已儲存的玩家"})}),d.jsx("div",{className:`grid grid-cols-1 gap-2 ${e||r?"":"md:grid-cols-2"}`,children:!i&&(n==null?void 0:n.map(l=>d.jsxs("div",{className:"text-left flex items-center gap-x-2",children:[d.jsx("div",{className:"flex-1 cursor-pointer",onClick:o,"data-id":l.id,children:d.jsx(eq,{player:l})}),e&&d.jsx("div",{className:"shrink-0",children:d.jsx(De,{color:"primary",variant:"text",onClick:s,"data-id":l.id,children:"複製"})}),r&&d.jsx("div",{className:"shrink-0",children:d.jsx(De,{color:"danger",variant:"text",onClick:a,"data-id":l.id,children:"刪除"})})]},l.id)))})]})};function hTe(){const[t,e]=E.useState(),[r,n]=E.useState("1"),[i,o]=So(!1),s=E.useCallback(()=>o(!1),[o]),a=E.useCallback(()=>{e(void 0),o(!0)},[o]),l=E.useCallback((h,p)=>{e(p),o(!0)},[o]),c=E.useCallback(h=>{zP({...h,name:h.name+"(複製)"}).then(()=>{n(ls())})},[]),u=E.useCallback(h=>{confirm("確定要刪除玩家嗎？")&&fTe(h).then(()=>{n(ls())})},[]),f=E.useCallback(h=>h.id?uTe(h.id,h).then(()=>{n(ls()),o(!1)}):zP(h).then(()=>{n(ls()),o(!1)}),[o]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"container mx-auto max-w-screen-sm space-y-4 py-16",children:[d.jsx("div",{className:"shrink-0",children:d.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("div",{children:d.jsx("h1",{className:"text-4xl",children:"玩家"})}),d.jsx("div",{children:d.jsx(De,{onClick:a,children:"新增"})})]}),d.jsx(hY,{onClickPlayer:l,onClickClone:c,onClickDelete:u},r)]}),d.jsx(Kn,{title:"新增／修改玩家",open:i,onClose:s,children:d.jsx("div",{className:"container space-y-6",children:d.jsx(XH,{onSubmit:f,defaultValue:t})})})]})}const pTe={0:"東",1:"南",2:"西",3:"北"};function mTe({playerIndex:t,...e}){return d.jsx("span",{...e,children:pTe[t]})}const yTe={0:{title:"",name:"玩家A",color:"#6700cf"},1:{title:"",name:"玩家B",color:"#00b5de"},2:{title:"",name:"玩家C",color:"#e3277b"},3:{title:"",name:"玩家D",color:"#03ada5"}},gTe=`${new Date().toISOString().substring(0,10)} 對局`;function vTe(){const t=d9(),[,e]=wte(),{getValues:r,control:n}=Wd({defaultValues:{name:gTe,startingScore:"25000",isManganRoundUp:"1",yakuMax:"12",yakumanMax:"13"}}),i=qa({name:"startingScore",control:n}),[o,s]=E.useState(yTe),[a,l]=E.useState(),[c,u]=So(!1),f=E.useCallback(w=>{const A=w.currentTarget.getAttribute("data-player-index");if(!A)return;const C=o[A];l({index:A,player:C}),u(!0)},[o,u]),h=E.useCallback(async w=>{a&&(s(A=>({...A,[a.index]:{...A[a.index],...w}})),u(!1))},[a,u]),p=E.useCallback(()=>{u(!1)},[u]),[m,y]=E.useState(),g=E.useCallback(w=>{w.preventDefault(),y("choose")},[]),b=E.useCallback(()=>{y(null)},[]),v=E.useCallback((w,A)=>{m==="choose"&&(l(C=>C?{...C,player:A}:void 0),y(null))},[m]),x=E.useCallback(w=>{const A=w.currentTarget;if(!A)return;const C=A.getAttribute("data-player-index");if(!C)return;const I=C==="0"?"1":C==="1"?"2":"3";s(T=>({...T,[C]:T[I],[I]:T[C]}))},[]),[{loading:S},_]=Gw(async()=>{const{name:w,...A}=r(),C=await Promise.all(Object.values(o).map(N=>N.id||N.name==="玩家A"||N.name==="玩家B"||N.name==="玩家C"||N.name==="玩家D"?Promise.resolve(N):zP(N))),I={code:pye(),name:w,remark:"",createdAt:new Date().toISOString(),createdBy:"Dicky",updatedAt:new Date().toISOString(),updatedBy:"Dicky",setting:A,players:{0:C[0],1:C[1],2:C[2],3:C[3]},activeResultDetail:null},T=await t.push("matches",I),P=parseInt(A.startingScore),O={matchId:T.key,code:Ix(I.code,1,0),roundCount:1,extendedRoundCount:0,cumulatedThousands:0,nextRoundCumulatedThousands:0,resultType:0,nextRoundType:0,playerResults:{0:{beforeScore:P,afterScore:P,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},1:{beforeScore:P,afterScore:P,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},2:{beforeScore:P,afterScore:P,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},3:{beforeScore:P,afterScore:P,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}}},doras:[]};await t.push("matchRounds",O),e(`/match/${O.matchId}/obs`)},[t,r,o,e]);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"container mx-auto max-w-screen-sm",children:d.jsxs("div",{className:"min-h-screen flex flex-col py-16 gap-y-4",children:[d.jsx("div",{className:"shrink-0",children:d.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"space-y-12",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h1",{className:"text-4xl",children:"對局"}),d.jsx(wn,{label:"對局名稱",children:d.jsx(Rn,{name:"name",control:n,rules:{required:!0},render:({field:w})=>d.jsx("div",{className:"text-xl",children:d.jsx(ya,{...w})})})}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsx(wn,{label:"起始點數",children:d.jsx(Rn,{name:"startingScore",control:n,rules:{required:!0},render:({field:w})=>d.jsxs(is,{...w,children:[d.jsx("option",{value:"25000",children:"25000"}),d.jsx("option",{value:"30000",children:"30000"}),d.jsx("option",{value:"35000",children:"35000"}),d.jsx("option",{value:"50000",children:"50000"}),d.jsx("option",{value:"100000",children:"100000"})]})})}),d.jsx(wn,{label:"滿貫切上",children:d.jsx(Rn,{name:"isManganRoundUp",control:n,rules:{required:!0},render:({field:w})=>d.jsxs(is,{...w,children:[d.jsx("option",{value:"0",children:"不切上"}),d.jsx("option",{value:"1",children:"切上 (3翻70符 & 4翻40符 = 滿貫)"})]})})}),d.jsx(wn,{label:"累積翻數上限",children:d.jsx(Rn,{name:"yakuMax",control:n,rules:{required:!0},render:({field:w})=>d.jsxs(is,{...w,children:[d.jsx("option",{value:"12",children:"三倍滿 (12翻)"}),d.jsx("option",{value:"13",children:"累計役滿 (13翻)"})]})})}),d.jsx(wn,{label:"役滿上限",children:d.jsx(Rn,{name:"yakumanMax",control:n,rules:{required:!0},render:({field:w})=>d.jsxs(is,{...w,children:[d.jsx("option",{value:"13",children:"單役滿"}),d.jsx("option",{value:"26",children:"兩倍役滿"}),d.jsx("option",{value:"39",children:"三倍役滿"}),d.jsx("option",{value:"130",children:"無上限"})]})})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h1",{className:"text-4xl",children:"玩家"}),d.jsx("div",{children:["0","1","2","3"].map(w=>d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-x-4",children:[d.jsx("div",{className:"shrink-0",children:d.jsx("div",{className:"h-14 w-14 border-4 rounded border-black text-[40px] flex items-center justify-center pb-1",children:d.jsx(mTe,{playerIndex:w})})}),d.jsx("div",{className:"flex-1 text-[48px] cursor-pointer hover:scale-105","data-player-index":w,onClick:f,children:d.jsx(Ga,{player:o[w],score:i})})]},w),w!=="3"&&d.jsx("div",{className:"text-center",children:d.jsx(De,{variant:"icon",color:"secondary",type:"button","data-player-index":w,onClick:x,children:d.jsx("i",{className:"bi bi-arrow-down-up"})})})]}))})]})]})}),d.jsx("div",{className:"shrink-0 space-y-4",children:d.jsx(De,{size:"xlarge",className:"w-full",onClick:_,loading:S,type:"submit",children:"開始對局"})})]})}),d.jsx(Kn,{title:d.jsxs("div",{className:"space-x-4",children:[d.jsx("span",{children:"修改玩家"}),d.jsxs("a",{href:"#",className:"text-xs underline font-normal text-teal-600 hover:text-teal-500 align-middle",onClick:g,children:[d.jsx("i",{className:"bi bi-search"}),"搜尋玩家"]})]}),open:c,onClose:p,children:d.jsxs("div",{className:"container space-y-6",children:[!!(a!=null&&a.player.id)&&d.jsxs("div",{className:"py-2 px-3 bg-yellow-200 text-yellow-800 rounded",children:["注意：在這裡的修改不會儲存到玩家列表的資料庫。假如你想保留這些修改，請在"," ",d.jsxs("a",{href:"/players",target:"_blank",className:"text-teal-600 underline",children:["玩家列表 ",d.jsx("i",{className:"bi bi-box-arrow-up-right"})]})," ","中修改。"]}),d.jsx(XH,{onSubmit:h,defaultValue:a==null?void 0:a.player})]})}),d.jsx(dTe,{open:m==="choose",onSelect:v,onClose:b})]})}function bTe({team:t,onClickEdit:e,children:r,...n}){const i=E.useCallback(()=>{e==null||e(t)},[e,t]);return d.jsxs("div",{className:"flex-1 flex items-center gap-x-2 rounded p-2 text-white",style:{background:t.color??"#115e59"},...n,children:[d.jsx("div",{className:"flex-1",children:d.jsx("div",{className:"text-2xl",children:t.name??"(無名稱)"})}),e&&d.jsx("div",{className:"shrink-0",children:d.jsx(De,{variant:"icon",color:"inverted",type:"button",onClick:i,children:d.jsx("i",{className:"bi bi-pencil"})})})]})}function xTe(){const{data:t,update:e,push:r}=Jr("teams"),n=E.useMemo(()=>Object.entries(t??{}).reverse().map(([b,v])=>({...v,_id:b})),[t]),[i,o]=So(!1),{register:s,reset:a,handleSubmit:l,control:c}=Wd({defaultValues:{_id:void 0,name:"新的隊伍",color:"#000000"}}),u=qa({control:c}),f=E.useMemo(()=>({name:"隊員名字",title:u.name??"",color:u.color??"#000000"}),[u.color,u.name]),h=E.useRef(null),p=E.useCallback(()=>o(!1),[o]),m=E.useCallback(()=>{a({_id:"",name:"新的隊伍",color:"#000000"}),o(!0)},[a,o]),y=E.useCallback(b=>{a({...b}),o(!0)},[a,o]),g=E.useMemo(()=>l(b=>{b._id?e({[b._id]:b}):r(b),o(!1)}),[l,r,o,e]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"container mx-auto max-w-screen-sm space-y-4 py-16",children:[d.jsx("div",{className:"shrink-0",children:d.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("div",{children:d.jsx("h1",{className:"text-4xl",children:"隊伍"})}),d.jsx("div",{children:d.jsx(De,{onClick:m,children:"新增"})})]}),d.jsx("div",{className:"space-y-2",children:n.map(b=>d.jsx(bTe,{team:b,onClickEdit:y},b._id))})]}),d.jsx(Kn,{title:"新增／修改隊伍",open:i,onClose:p,children:d.jsx("div",{className:"container",children:d.jsxs("form",{ref:h,onSubmit:g,children:[d.jsx("input",{type:"hidden",...s("_id")}),d.jsxs("div",{children:[d.jsx(wn,{className:"mb-6",label:"名字",children:d.jsx(Rn,{name:"name",control:c,rules:{required:!0},render:({field:b})=>d.jsx(ya,{...b})})}),d.jsx(wn,{className:"mb-6",label:"顏色（務必選能看清楚白字的深色）",children:d.jsx(Rn,{name:"color",control:c,rules:{required:!0},render:({field:b})=>d.jsx(RH,{...b})})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"mb-2",children:"預覽"}),d.jsx("div",{className:"text-[4rem] px-4 pt-6 pb-1 bg-gray-800 text-white relative",children:d.jsx(Ga,{player:f,score:25e3})})]}),d.jsxs("div",{className:"flex gap-x-2",children:[d.jsx("div",{className:"flex-1",children:d.jsx(De,{className:"w-full",color:"secondary",type:"button",onClick:p,children:"取消"})}),d.jsx("div",{className:"flex-1",children:d.jsx(De,{className:"w-full",type:"submit",children:"儲存"})})]})]})})})]})}function _Te({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?d.jsx(d.Fragment,{children:"讀取中…"}):d.jsx(RG,{params:r})}function wTe({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),{match:r,matchRounds:n,matchCurrentRound:i}=Xo((e==null?void 0:e.matchId)??"");return!r||!i?d.jsx("div",{children:"對局讀取失敗。"}):d.jsx("div",{children:d.jsx("div",{className:"container mx-auto my-8 px-8 space-y-6",children:d.jsx(xg,{players:r.players,matchRounds:n,className:"w-full table-auto"})})})}function STe(){const{data:t}=Jr("matches"),e=E.useMemo(()=>Object.entries(t??{}).reverse().map(([r,n])=>({...n,_id:r})),[t]);return console.log(e),d.jsxs("div",{className:"container mx-auto max-w-screen-sm space-y-4 py-16",children:[d.jsx("div",{className:"shrink-0",children:d.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("div",{children:d.jsx("h1",{className:"text-4xl",children:"對局"})})}),d.jsxs("table",{className:"data-table w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"對局"}),d.jsx("th",{children:"東家"}),d.jsx("th",{children:"南家"}),d.jsx("th",{children:"西家"}),d.jsx("th",{children:"北家"})]})}),d.jsx("tbody",{children:e.map(r=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("a",{href:`/match/${r._id}`,target:"_blank",children:r.name})}),d.jsx("td",{children:r.players[0].name}),d.jsx("td",{children:r.players[1].name}),d.jsx("td",{children:r.players[2].name}),d.jsx("td",{children:r.players[3].name})]},r._id))})]})]})}function ETe({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),{match:r,matchRounds:n,matchCurrentRound:i}=Xo((e==null?void 0:e.matchId)??"");return!r||!i?d.jsx("div",{children:"對局讀取失敗。"}):d.jsx("div",{children:d.jsx("div",{className:"container mx-auto my-8 px-8 space-y-6"})})}function ATe({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),{match:r,matchRounds:n,matchCurrentRound:i}=Xo((e==null?void 0:e.matchId)??""),[o,s]=E.useState(0);return E.useEffect(()=>{const l=setInterval(()=>{s(c=>1-c)},8e3);return()=>{clearInterval(l)}},[]),!r||!i?d.jsx("div",{children:"對局讀取失敗。"}):d.jsxs("div",{children:[d.jsx("div",{className:o===0?"block":"hidden",children:d.jsx(xg,{players:r.players,matchRounds:n,className:"w-full table-auto"})}),d.jsx("div",{className:o===1?"block":"hidden"})]})}function CTe({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?d.jsx(d.Fragment,{children:"讀取中…"}):d.jsx(xH,{params:r})}const Hv=({teamPlayer:t})=>{const e=E.useMemo(()=>EO(t.color),[t.color]);return d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("table",{className:"w-full",children:d.jsxs("tbody",{children:[d.jsxs("tr",{style:{background:t.color},children:[d.jsx("td",{className:"w-[8mm] h-[8mm]"}),d.jsx("td",{className:"w-[2mm] border-r border-white"}),d.jsx("td",{}),d.jsx("td",{className:"w-[2mm] border-l border-white"}),d.jsx("td",{className:"w-[8mm] h-[8mm]"})]}),d.jsxs("tr",{style:{background:t.color},children:[d.jsx("td",{className:"h-[2mm] border-b border-white"}),d.jsx("td",{}),d.jsx("td",{}),d.jsx("td",{}),d.jsx("td",{className:"h-[2mm] border-b border-white"})]}),d.jsxs("tr",{style:{background:`linear-gradient(180deg, ${t.color}, ${e})`},children:[d.jsx("td",{}),d.jsx("td",{}),d.jsx("td",{className:"w-[150mm] h-[40mm]"}),d.jsx("td",{}),d.jsx("td",{})]}),d.jsxs("tr",{style:{background:e},children:[d.jsx("td",{className:"h-[2mm] border-t border-white"}),d.jsx("td",{}),d.jsx("td",{}),d.jsx("td",{}),d.jsx("td",{className:"h-[2mm] border-t border-white"})]}),d.jsxs("tr",{style:{background:e},children:[d.jsx("td",{className:"w-[8mm] h-[8mm]"}),d.jsx("td",{className:"w-[2mm] border-r border-white"}),d.jsx("td",{}),d.jsx("td",{className:"w-[2mm] border-l border-white"}),d.jsx("td",{className:"w-[8mm] h-[8mm]"})]})]})}),d.jsx("div",{className:"absolute left-[0] top-[2.5mm] w-[55mm] h-[55mm] bg-contain opacity-50",style:{backgroundImage:`url(${t.teamLogoImageUrl+"?w=500&h=500"})`}}),d.jsxs("div",{className:"absolute top-[10mm] bottom-[10mm] left-[25mm] right-[12mm] flex flex-col items-center justify-center",children:[d.jsx("p",{className:"text-[13mm] text-white leading-none font-semibold mb-[3mm]",style:{textShadow:"0px 0px 3px #333333B0, 0px 0px 6px #333333B0"},children:t.playerName}),d.jsx("p",{className:"text-[13mm] text-white leading-none font-semibold",style:{textShadow:"0px 0px 3px #333333B0, 0px 0px 6px #333333B0"},children:t.playerNickname})]})]})},TTe=()=>{const{matchId:t}=Ete(),{data:e}=Ac({queryKey:["matches",t],queryFn:({queryKey:r})=>SO(r[1]),enabled:!!t});return e?d.jsxs("div",{className:"pt-16",children:[d.jsxs("div",{className:"w-[170mm] mx-auto mb-8 print:hidden",children:[d.jsx("p",{children:"右鍵「列印」，設定如下："}),d.jsxs("ul",{children:[d.jsxs("li",{children:["紙張大小：",d.jsx("strong",{children:"A4"})]}),d.jsxs("li",{children:["邊界：",d.jsx("strong",{children:"無邊界"})]}),d.jsxs("li",{children:["選項：",d.jsx("strong",{children:"打勾「背景圖片」"})]})]})]}),d.jsx("div",{className:"w-[170mm] h-[60mm] mx-auto",children:d.jsx(Hv,{teamPlayer:e==null?void 0:e.playerEast})}),d.jsx("div",{className:"w-[170mm] h-[60mm] mx-auto",children:d.jsx(Hv,{teamPlayer:e==null?void 0:e.playerSouth})}),d.jsx("div",{className:"w-[170mm] h-[60mm] mx-auto",children:d.jsx(Hv,{teamPlayer:e==null?void 0:e.playerWest})}),d.jsx("div",{className:"w-[170mm] h-[60mm] mx-auto",children:d.jsx(Hv,{teamPlayer:e==null?void 0:e.playerNorth})})]}):d.jsx(d.Fragment,{})},pY=({params:{matchId:t}})=>{const{match:e,matchRounds:r}=Xo(t),n=E.useMemo(()=>Object.entries(r??{}).filter(([,i])=>!!i.resultDetail).map(([i,o])=>({id:i,...o}))??[],[r]);return!e||!r?d.jsx(d.Fragment,{}):d.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-8",children:[d.jsx("h1",{className:"text-4xl text-center",children:e.name}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h4",{className:"text-3xl",children:[d.jsx("i",{className:"bi bi-bar-chart-steps"})," 分數"," ",d.jsx("span",{className:"text-sm",children:"( 立=立直, 和=和牌, 統=出統, 摸=自摸, 聽=聽牌 )"})]}),d.jsx(xg,{players:e.players,matchRounds:r??{},className:"w-full table-auto"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h4",{className:"text-3xl",children:[d.jsx("i",{className:"bi bi-clock-history"})," 和牌記錄"]}),d.jsxs("table",{className:"data-table w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"局數"}),d.jsx("th",{children:"玩家"}),d.jsx("th",{children:"分數"}),d.jsx("th",{children:"役種"})]})}),d.jsx("tbody",{children:n.map(i=>d.jsxs("tr",{className:"odd:bg-neutral-200",children:[d.jsx("td",{className:"text-center py-1",children:d.jsx(cs,{roundCount:i.roundCount,extendedRoundCount:i.extendedRoundCount})}),d.jsx("td",{className:"text-center py-1",style:{background:e.players[i.resultDetail.winnerPlayerIndex].color},children:e.players[i.resultDetail.winnerPlayerIndex].name}),d.jsx("td",{className:"text-center py-1 text-xl",children:d.jsx(Mt,{value:i.playerResults[i.resultDetail.winnerPlayerIndex].afterScore-i.playerResults[i.resultDetail.winnerPlayerIndex].beforeScore,positiveClassName:"text-green-600",negativeClassName:"text-red-600",signed:!0,hideZero:!0})}),d.jsxs("td",{className:"text-center py-1",children:[d.jsx("p",{children:i.resultDetail.yakus.map(({label:o})=>o).join(" ")}),d.jsx("p",{children:d.jsx(Nx,{han:i.resultDetail.han,fu:i.resultDetail.fu,yakumanCount:i.resultDetail.yakumanCount,isManganRoundUp:e.setting.isManganRoundUp==="1"})})]})]},i.id))})]})]})]})};function PTe({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?d.jsx(d.Fragment,{children:"讀取中…"}):d.jsx(pY,{params:r})}function mY({params:{matchId:t}}){const{match:e,matchRounds:r,matchCurrentRound:n}=Xo(t),[i,o]=E.useState(!1),[s,a]=E.useState(!1),l=E.useCallback(()=>{if(!e||!r)return;const c={_id:t,...OG(Object.values(r))};a(!0),fetch(`https://hkleague2024.hkmahjong.org/api/match/${c._id}/result`,{method:"PATCH",body:JSON.stringify(c),headers:{Accept:"application/json"}}).then(()=>{o(!0),a(!1),alert("上傳完畢，請在資料庫上查看。")})},[e,t,r]);return!e||!n?d.jsx("div",{children:"對局讀取失敗。"}):d.jsx("div",{children:d.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h6",{className:"text-center text-sm",children:t}),d.jsx("h3",{className:"text-2xl text-center",children:e.name})]}),d.jsx(xg,{players:e.players,matchRounds:r,className:"w-full table-auto"}),d.jsxs("div",{className:"text-center",children:[!i&&d.jsx(De,{disabled:s,onClick:l,children:s?"上傳中…":"上傳成績"}),i&&d.jsx("a",{href:`https://hkmjbs.sanity.studio/structure/general-list-matches-past;${t}`,children:d.jsx(De,{color:"secondary",children:"在資料庫上查看"})})]})]})})}const ITe=({queryKey:t})=>SO(t[1],t[2]),oj=(t,e)=>Ac({queryKey:["matches",t,e],queryFn:ITe,enabled:!!t}),NTe=({initialMinutes:t})=>{const[e,r]=E.useState(0),[n,i]=E.useMemo(()=>[Math.floor(e/60).toString().padStart(2,"0"),(e%60).toString().padStart(2,"0")],[e]);return E.useEffect(()=>{r(t*60)},[t]),Mye(()=>{r(o=>o-1)},e>0?1e3:null),d.jsxs("span",{children:[n,":",i]})},yY=({params:{matchId:t}})=>{const{data:e}=oj(t),r=E.useMemo(()=>e?[e[e._order[0]],e[e._order[1]],e[e._order[2]],e[e._order[3]]]:[],[e]),n=CF("startAt"),i=CF("m"),o=E.useMemo(()=>{if(i)return parseInt(i);try{const[s,a]=n.split(":").map(u=>parseInt(u)),l=new Date;l.setHours(s),l.setMinutes(a);const c=new Date;return Math.max(0,(l.getTime()-c.getTime())/6e4)}catch{return 15}},[i,n]);return d.jsxs("div",{className:"fixed inset-0 text-white flex flex-col justify-center items-center",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},children:[d.jsxs("div",{className:"w-[80vw]",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("img",{src:"/images/tournament-long-logo.png",className:"w-[50%]",alt:""}),d.jsx("div",{children:d.jsx("img",{src:"/images/logo-hkma.webp",className:"w-[12vw]",alt:""})})]}),d.jsxs("div",{className:"flex justify-between items-center mb-[10vh]",children:[d.jsxs("div",{style:{paddingBottom:"25vh"},children:[d.jsx("p",{className:"text-left text-[80px] leading-3",children:"下一場賽事"}),d.jsx("p",{className:"text-left text-[120px] scale-[200%] origin-top-left font-numeric",children:d.jsx(NTe,{initialMinutes:o})})]}),d.jsx("div",{className:"grid grid-cols-2 gap-[2vw]",children:r.map(s=>d.jsx("img",{className:"w-[16vw] aspect-square",src:s.teamLogoImageUrl+"?w=500&h=500"}))})]})]}),d.jsxs("div",{className:"fixed bottom-[5vh] left-[10vw]",children:[d.jsx("div",{children:d.jsx("img",{src:"/images/homepage-qr.png",className:"w-[8vw]",alt:""})}),d.jsxs("p",{className:"text-[32px]",children:["聯賽官網: ",d.jsx("u",{children:"https://hkleague2024.hkmahjong.org/"})]})]})]})};function kTe({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?d.jsx(d.Fragment,{children:"讀取中…"}):d.jsx(yY,{params:r})}function OTe(){return d.jsx("div",{className:"fixed inset-0 text-white flex flex-col justify-center items-center",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},children:d.jsxs("div",{className:"w-[80vw]",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("img",{src:"/images/tournament-long-logo.png",className:"w-[50%]",alt:""}),d.jsx("div",{children:d.jsx("img",{src:"/images/logo-hkma.webp",className:"w-[12vw]",alt:""})})]}),d.jsxs("div",{className:"flex flex-col justify-center items-center h-[70vh]",children:[d.jsx("p",{className:"text-[100px] text-center",children:"今天賽事已結束，感謝各位收看！"}),d.jsx("div",{className:"text-center mt-[5vh]",children:d.jsx("img",{src:"/images/homepage-qr.png",className:"w-[12vw] mx-auto",alt:""})}),d.jsx("p",{className:"text-[48px] text-center",children:d.jsx("u",{children:"https://hkleague2024.hkmahjong.org/"})}),d.jsx("p",{className:"text-[48px] text-center",children:"賽程、賽事重溫、隊伍介紹、新手教程"})]})]})})}var gY={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,n(a)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(gY);var RTe=gY.exports;const _n=ot(RTe),$3=({teamPlayer:t,team:e,fadeIn:r,fadeOut:n,delay:i})=>{const o=EO(e.color);return d.jsxs("div",{className:_n("relative aspect-[18/25] rounded-[1em] overflow-hidden",{"mi-team-player-in":r,"mi-team-player-out":n}),style:{background:`linear-gradient(180deg, ${e.color}, ${o})`,animationDelay:i+"s"},children:[d.jsx("div",{className:"absolute inset-0",style:{background:`url(${e.teamLogoImageUrl+"?w=500&h=500&auto=format"})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",opacity:.2}}),d.jsx("img",{className:"relative z-10 block mx-auto w-full",src:t.playerPortraitImageUrl+"?h=500&w=360&auto=format&fit=crop&crop=top",alt:t.playerName}),d.jsx("div",{className:"absolute z-20 bottom-0 left-0 right-0 text-center py-[0.25em]",style:{background:"linear-gradient(to top, #00000090 80%, transparent"},children:d.jsxs("div",{children:[d.jsx("p",{className:"text-[1.5em] leading-[1em] font-semibold",children:t.playerNickname}),d.jsx("p",{className:"text-[0.8em]",children:t.playerName})]})})]},t.playerName)},jTe=({slide:t,status:e,subslide:r})=>{var n,i,o,s,a,l,c,u,f,h,p,m;return t.type==="teams"?d.jsxs("div",{className:"absolute px-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:"flex-[2] grid grid-cols-4 items-center",children:t.teams.map((y,g)=>d.jsxs("div",{className:_n("relative h-full overflow-hidden",{"mi-teams-in":e===0,"mi-teams-out":e>0}),style:{animationDelay:e===0?g*.25+"s":"0s"},children:[d.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`linear-gradient(to bottom, transparent, ${y.color})`,opacity:.5}},y.teamId),d.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`url(${y.teamLogoImageUrl+"?w=800&h=800&auto=format"})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:.05}}),d.jsxs("div",{className:_n("absolute inset-0",{"mi-teams-team-out":e>=0&&r>0}),children:[d.jsx("img",{src:y.teamLogoImageUrl+"?w=800&h=800&auto=format",className:"aspect-square w-full",alt:""}),d.jsx("h3",{className:"text-[1.5em] font-semibold text-center",children:y.teamName}),d.jsx("h3",{className:"text-[1em] font-semibold text-center",children:y.teamSecondaryName})]}),d.jsxs("div",{className:_n("absolute inset-0 opacity-0",{"mi-teams-player-in":e>=0&&r>=1,"mi-teams-player-out":e>0}),style:{animationDelay:e===0?g*.25+"s":"0s"},children:[d.jsx("img",{src:y.playerPortraitImageUrl+"?w=360&h=500&auto=format",className:"aspect-[18/25] w-full",alt:""}),d.jsxs("div",{className:"font-semibold text-center",children:[d.jsx("p",{className:"text-[1em]",children:y.playerNickname}),d.jsx("p",{className:"text-[.8em]",children:y.playerName})]})]})]},y.teamId))})]}):t.type==="team"?d.jsxs("div",{className:"absolute py-16 px-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[d.jsx("div",{className:_n("absolute inset-0 -z-10",{"mi-team-colorBackground-in":e===0,"mi-team-colorBackground-out":e>0}),style:{background:`linear-gradient(to bottom, transparent 60%, ${t.team.color})`,opacity:.5}}),d.jsx("div",{className:_n("absolute inset-0 -z-10",{"mi-team-logoBackground-in":e===0,"mi-team-logoBackground-out":e>0}),style:{background:`url(${t.team.teamLogoImageUrl+"?w=800&h=800&auto=format"})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:.125}}),d.jsxs("div",{className:_n("text-right mb-[.5em]",{"mi-team-team-in":e===0,"mi-team-team-out":e>0}),children:[d.jsxs("div",{className:"flex-1 flex gap-x-[1.5em] items-center justify-end",children:[d.jsxs("div",{className:"text-left space-y-[.5em]",children:[d.jsxs("div",{className:"flex justify-start gap-x-[1em]",children:[d.jsx("p",{children:"隊伍積分"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:td((n=t.team.teamStatistic)==null?void 0:n.point)})})]}),d.jsxs("div",{className:"flex justify-start gap-x-[1em]",children:[d.jsx("p",{children:"隊伍排名"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:Cm((i=t.team.teamStatistic)==null?void 0:i.ranking)})})]})]}),d.jsx("img",{src:t.team.teamLogoImageUrl+"?w=512&h=512&auto=format",alt:t.team.teamFullname,className:"aspect-square",style:{width:256,height:256}})]}),d.jsx("h3",{className:"inline-block font-semibold text-right text-[1.5em]",children:t.team.teamFullname})]}),d.jsxs("div",{className:"flex-[2] relative",children:[d.jsx("div",{className:"absolute inset-0 grid grid-cols-4 items-center gap-16",style:{opacity:e===0&&r>=0&&r<1?1:0},children:t.teamPlayers.map((y,g)=>d.jsx($3,{team:t.team,teamPlayer:y,fadeIn:e===0&&r<=0,fadeOut:e===0&&r>0,delay:(r<=0?1.7:0)+g*.25},y.playerName))}),d.jsxs("div",{className:"absolute inset-0 grid grid-cols-4 items-center gap-16",style:{opacity:e>=0&&e<1&&r>=1&&r<2?1:0},children:[d.jsx($3,{team:t.team,teamPlayer:t.team,fadeIn:e===0&&r===1,fadeOut:e>0,delay:0}),d.jsx("div",{className:"col-span-3",children:d.jsxs("div",{className:_n({"mi-team-activePlayerStat-in":e===0&&r===1,"mi-team-activePlayerStat-out":e>0}),children:[d.jsxs("div",{className:"flex justify-between mb-[1em]",children:[d.jsxs("p",{className:"text-[2em]",children:["個人總分"," ",d.jsx("span",{className:"font-numeric",children:td((o=t.team.playerStatistic)==null?void 0:o.point)})]}),d.jsxs("p",{className:"text-[2em]",children:["半莊數"," ",d.jsx("span",{className:"font-numeric",children:((s=t.team.playerStatistic)==null?void 0:s.matchCount)??"-"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-[2em] text-[1.5em]",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"text-[.9em]",children:"四位迴避率"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:Fs((a=t.team.playerStatistic)==null?void 0:a.nonFourthP)})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"text-[.9em]",children:"連對率"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:Fs((l=t.team.playerStatistic)==null?void 0:l.firstAndSecondP)})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"text-[.9em]",children:"立直率"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:Fs((c=t.team.playerStatistic)==null?void 0:c.riichiP)})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"text-[.9em]",children:"和了率"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:Fs((u=t.team.playerStatistic)==null?void 0:u.ronP)})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"text-[.9em]",children:"銃和率"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:Fs((f=t.team.playerStatistic)==null?void 0:f.chuckP)})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"text-[.9em]",children:"副露率"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:Fs((h=t.team.playerStatistic)==null?void 0:h.revealP)})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-[2em] text-[1.5em] mt-[.8em]",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"text-[.9em]",children:"和了平均打點"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:Fs((p=t.team.playerStatistic)==null?void 0:p.ronPureScoreAvg)})})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"text-[.9em]",children:"銃和平均打點"}),d.jsx("p",{children:d.jsx("span",{className:"font-numeric",children:Fs((m=t.team.playerStatistic)==null?void 0:m.chuckPureScoreAvg)})})]})]})]})})]})]})]}):d.jsx(d.Fragment,{})},vY=({params:{matchId:t}})=>{var h;const{data:e}=oj(t,!0),r=E.useMemo(()=>e?[e==null?void 0:e.playerEast.teamId,e==null?void 0:e.playerSouth.teamId,e==null?void 0:e.playerWest.teamId,e==null?void 0:e.playerNorth.teamId]:null,[e]),{data:n}=Ac({queryKey:["match",t,"groupedPlayers"],queryFn:()=>Jme(r,e==null?void 0:e.tournament._id),enabled:!!e&&!!r}),i=E.useMemo(()=>!e||!n?[{type:"empty",_id:"empty",subslide:0}]:[{type:"empty",_id:"empty",subslide:0},{type:"teams",_id:"teams",teams:[e.playerEast,e.playerSouth,e.playerWest,e.playerNorth],subslide:1},{_id:"team_playerEast",type:"team",team:e.playerEast,teamPlayers:n[e.playerEast.teamId],subslide:2},{_id:"team_playerSouth",type:"team",team:e.playerSouth,teamPlayers:n[e.playerSouth.teamId],subslide:2},{_id:"team_playerWest",type:"team",team:e.playerWest,teamPlayers:n[e.playerWest.teamId],subslide:2},{_id:"team_playerNorth",type:"team",team:e.playerNorth,teamPlayers:n[e.playerNorth.teamId],subslide:2}],[e,n]),[o,s]=E.useState(0),[a,l]=E.useState(0),[c,u]=E.useState(!1),f=E.useCallback(()=>{if(c)return;const p=i[o];if(!p){s(1);return}p.type==="empty"?s(m=>m+1):a>=p.subslide-1?(s(m=>m+.5),u(!0),setTimeout(()=>{s(m=>Math.ceil(m)),l(0),u(!1)},1200)):(l(m=>m+.5),u(!0),setTimeout(()=>{l(m=>Math.ceil(m)),u(!1)},1200))},[c,o,i,a]);return!e||!n?d.jsx(d.Fragment,{}):d.jsxs("div",{className:"match-introduction fixed inset-0 text-white text-[36px]",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},onClick:f,children:[d.jsx("div",{className:"absolute py-16 px-24 inset-0",children:d.jsxs("div",{className:"flex gap-x-[0.25em] mi-title-in",children:[d.jsx("div",{children:d.jsx("img",{src:e.tournament.logoUrl+"?w=280&h=280&auto=format",alt:e.tournament.name,style:{width:"3.5em",height:"3.5em",marginTop:"0.15em"}})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[1.25em] leading-[1em]",children:e.tournament.name}),d.jsxs("h1",{className:"text-[2em] leading-[1.2em] font-semibold",children:["常規賽 ",(h=e.startAt)==null?void 0:h.substring(0,10)]})]})]})}),i.map((p,m)=>d.jsx(jTe,{slide:p,status:o-m,subslide:a},p._id))]})},Kv=({player:t})=>d.jsx("div",{className:"relative w-full h-full border-[.5em]",style:{borderColor:t.color},children:d.jsxs("div",{className:"absolute top-0 left-0 flex gap-x-8 pr-1 rounded-br-lg text-[1.5em] font-semibold text-white",style:{backgroundColor:t.color},children:[d.jsxs("p",{children:[t.name," (",t.nickname,")"]}),d.jsx("p",{children:t.currentStatus.afterScore})]})}),bY=({params:{matchId:t}})=>{const{match:e,matchCurrentRound:r}=Xo(t),n=E.useMemo(()=>{if(!e||!r)return[];const i=[{ranking:1,point:50},{ranking:2,point:10},{ranking:3,point:-10},{ranking:4,point:-30}],o=Object.entries(r.playerResults).map(([s,a])=>({playerIndex:s,score:a.afterScore})).sort((s,a)=>a.score-s.score).map((s,a)=>({playerIndex:s.playerIndex,...i[a],point:(s.score-3e4)/1e3+i[a].point})).reduce((s,a)=>(s[a.playerIndex]={point:a.point,ranking:a.ranking},s),{});return["0","1","2","3"].map(s=>({...e.players[s],color:e.players[s].color,currentStatus:{...r.playerResults[s],isEast:Xn(s,r.roundCount),...o[s]}}))},[e,r]);return!e||n.length===0?d.jsx(d.Fragment,{}):d.jsxs("div",{className:"fixed inset-0 grid grid-cols-8",children:[d.jsx("div",{className:"col-span-5",children:d.jsx(Kv,{player:n[0]})}),d.jsx("div",{className:"col-span-1"}),d.jsx("div",{className:"col-span-2"}),d.jsx("div",{className:"col-span-5",children:d.jsx(Kv,{player:n[1]})}),d.jsx("div",{className:"col-span-1"}),d.jsx("div",{className:"col-span-1"}),d.jsx("div",{className:"col-span-1"}),d.jsx("div",{className:"col-span-5",children:d.jsx(Kv,{player:n[2]})}),d.jsx("div",{className:"col-span-3 row-span-2"}),d.jsx("div",{className:"col-span-5",children:d.jsx(Kv,{player:n[3]})})]})};function $Te({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?d.jsx(d.Fragment,{children:"讀取中…"}):d.jsx(bY,{params:r})}function DTe({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?d.jsx(d.Fragment,{children:"讀取中…"}):d.jsx(mY,{params:r})}const iu="b6908027-9179-485a-8bce-822c42114371",Mh=(t,e,r,n,i,o)=>t.map(s=>({player:Io(e[s.teamId],{...s,team:e[s.teamId]}),value:r(s.player.statistics),tieBreakValue:n(s.player.statistics)})).sort((s,a)=>s.value===a.value?(s.tieBreakValue-a.tieBreakValue)*(o==="asc"?1:-1):(s.value-a.value)*(i==="asc"?1:-1)).slice(0,6),D3=({params:{week:t}})=>{const[e,r]=E.useState(0),n=E.useCallback(()=>{e===2?(r(h=>h+.5),setTimeout(()=>{r(3)},1e3)):e<2&&r(h=>h+1)},[e]),{data:i}=Ac({queryKey:["tournament",iu],queryFn:()=>xG(iu).then(h=>({...h,teams:h.teams.sort((p,m)=>m.point-p.point)})),enabled:!!iu}),{data:o}=Ac({queryKey:["tournament",iu,"players"],queryFn:()=>tye(iu),enabled:!!iu}),s=E.useMemo(()=>i?i.teams.reduce((h,{team:p})=>(h[p._id]=p,h),{}):{},[i]),[a,l,c,u,f]=E.useMemo(()=>{if(!o||!s)return[[],[],[],[],[]];const h=o.filter(p=>p.player.statistics.matchCount>0);return[Mh(h,s,p=>p.point,p=>p.matchCount,"desc","asc"),Mh(h,s,p=>p.ronCount/p.roundCount,p=>p.roundCount,"desc","desc"),Mh(h,s,p=>p.ronPureScoreAvg,p=>p.roundCount,"desc","desc"),Mh(h,s,p=>p.chuckCount/p.roundCount,p=>p.roundCount,"asc","desc"),Mh(h,s,p=>p.scoreMax,p=>p.roundCount,"desc","desc")]},[o,s]);return console.log(a,l,c,u),i?d.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},onClick:n,children:d.jsxs("div",{className:"absolute inset-0 tournament-weekly-report text-white text-[36px] flex py-[1em] px-[1em] gap-x-[1em]","data-active":e>=1,children:[d.jsxs("div",{className:"twr-title flex flex-col justify-between items-center","data-active":e>=1,children:[d.jsx("div",{children:d.jsx("img",{src:i.logoUrl+"?w=280&h=280&auto=format",alt:i.name,style:{width:"3.5em",height:"3.5em",marginTop:"0.15em"}})}),d.jsxs("p",{style:{fontSize:"3em",writingMode:"vertical-rl",textOrientation:"upright"},children:["第",d.jsx("span",{style:{writingMode:"initial",textOrientation:"initial"},children:"1"}),"週結算"]}),d.jsxs("p",{style:{fontSize:"1.2em",writingMode:"vertical-rl",textOrientation:"upright"},children:[d.jsx("span",{style:{writingMode:"initial",textOrientation:"initial"},children:"9/1"}),"~",d.jsx("span",{style:{writingMode:"initial",textOrientation:"initial"},children:"11/1"})]})]}),d.jsxs("div",{className:"flex-1 relative",children:[d.jsxs("div",{className:"absolute inset-0 flex flex-col twr-team-ranking","data-active":e===2,children:[d.jsxs("div",{className:"flex-1 flex items-center text-[0.75em] gap-6 twr-team-ranking-row",children:[d.jsx("p",{className:"flex-1 text-center",children:"排名"}),d.jsx("p",{className:"flex-[5]",children:"隊伍"}),d.jsx("p",{className:"flex-1 text-center",children:"積分"}),d.jsx("p",{className:"flex-1 text-center",children:"與前名差距"}),d.jsx("p",{className:"flex-1 text-center",children:"半莊數"})]}),i.teams.map((h,p)=>d.jsxs("div",{className:"relative flex-1 flex items-center gap-6 overflow-hidden twr-team-ranking-row",style:{background:`linear-gradient(to right, ${h.team.color}C0, transparent 105%)`,animationDelay:`${p*.05}s`},children:[d.jsx("img",{src:h.team.squareLogoImage+"?w=320&h=320",alt:h.team._id,className:"absolute left-0 opacity-25 -z-10"}),d.jsx("p",{className:"flex-1 text-center",children:Cm(h.ranking)}),d.jsxs("p",{className:"flex-[5]",children:[h.team.name," ",h.team.secondaryName]}),d.jsx("p",{className:"flex-1 text-center",children:td(h.point)}),d.jsx("p",{className:"flex-1 text-center",children:p>0?(i.teams[p-1].point-h.point).toFixed(1):"-"}),d.jsxs("p",{className:"flex-1 text-center",children:[h.matchCount,d.jsx("span",{className:"text-[0.75em]",children:"/60"})]})]},h._id))]}),d.jsxs("div",{className:"absolute inset-0 flex twr-player-ranking gap-[1em] items-stretch twr-player-ranking","data-active":e===3,children:[d.jsxs("div",{className:"flex-1 flex flex-col gap-y-[.5em]",children:[d.jsx("h4",{className:"text-[2em] font-semibold text-center leading-[1em] twr-player-ranking-row",children:"MVP"}),d.jsx("p",{className:"text-center twr-player-ranking-row",children:"積分最高選手"}),d.jsx("div",{className:"flex-1 flex flex-col",children:a.map(({player:h,value:p,tieBreakValue:m},y)=>d.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center twr-player-ranking-row",style:{background:`linear-gradient(to right, ${h.color}C0, transparent 105%)`,animationDelay:`${y*.05}s`},children:[d.jsx("img",{src:h.teamLogoImageUrl+"?w=320&h=320",alt:h.teamName,className:"absolute left-[3em] opacity-25 -z-10"}),d.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em]",children:[d.jsx("div",{className:"w-[2.2em]",children:Cm(y+1)}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-[1.5em] leading-[1em]",children:h.playerNickname}),d.jsx("p",{className:"text-[.75em] leading-[1em]",children:h.playerName})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[1.5em] leading-[1em] font-numeric",children:p.toFixed(1)}),d.jsxs("p",{className:"text-[.75em] leading-[1em] opacity-80",children:["(半莊數: ",m,")"]})]})]})]},h.playerId))})]}),d.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-[1em] twr-player-ranking-row",style:{animationDelay:"1.5s"},children:[d.jsxs("div",{className:"space-y-[.5em]",children:[d.jsx("p",{className:"text-center",children:"和了率"}),d.jsx("div",{className:"flex-1 flex flex-col",children:l.map(({player:h,value:p})=>d.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${h.color}20`},children:[d.jsx("img",{src:h.teamLogoImageUrl+"?w=320&h=320",alt:h.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),d.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[d.jsx("div",{className:"flex-1",children:d.jsx("p",{className:"leading-[1.2em]",children:h.playerNickname})}),d.jsx("div",{className:"text-right",children:d.jsx("p",{className:"leading-[1.2em]",children:p.toFixed(2)})})]})]},h.playerId))})]}),d.jsxs("div",{className:"space-y-[.5em]",children:[d.jsx("p",{className:"text-center",children:"平均打點"}),d.jsx("div",{className:"flex-1 flex flex-col",children:c.map(({player:h,value:p})=>d.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${h.color}20`},children:[d.jsx("img",{src:h.teamLogoImageUrl+"?w=320&h=320",alt:h.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),d.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[d.jsx("div",{className:"flex-1",children:d.jsx("p",{className:"leading-[1.2em]",children:h.playerNickname})}),d.jsx("div",{className:"text-right",children:d.jsx("p",{className:"leading-[1.2em]",children:p.toFixed(2)})})]})]},h.playerId))})]}),d.jsxs("div",{className:"space-y-[.5em]",children:[d.jsx("p",{className:"text-center",children:"銃和率"}),d.jsx("div",{className:"flex-1 flex flex-col",children:u.map(({player:h,value:p})=>d.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${h.color}20`},children:[d.jsx("img",{src:h.teamLogoImageUrl+"?w=320&h=320",alt:h.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),d.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[d.jsx("div",{className:"flex-1",children:d.jsx("p",{className:"leading-[1.2em]",children:h.playerNickname})}),d.jsx("div",{className:"text-right",children:d.jsx("p",{className:"leading-[1.2em]",children:p.toFixed(2)})})]})]},h.playerId))})]}),d.jsxs("div",{className:"space-y-[.5em]",children:[d.jsx("p",{className:"text-center",children:"最高得點"}),d.jsx("div",{className:"flex-1 flex flex-col",children:f.map(({player:h,value:p})=>d.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${h.color}20`},children:[d.jsx("img",{src:h.teamLogoImageUrl+"?w=320&h=320",alt:h.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),d.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[d.jsx("div",{className:"flex-1",children:d.jsx("p",{className:"leading-[1.2em]",children:h.playerNickname})}),d.jsx("div",{className:"text-right",children:d.jsx("p",{className:"leading-[1.2em]",children:p.toFixed(0)})})]})]},h.playerId))})]})]})]})]})]})}):d.jsx(d.Fragment,{})};function MTe({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?d.jsx(d.Fragment,{children:"讀取中…"}):d.jsx(vY,{params:r})}function xY(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=xY(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ct(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=xY(t))&&(n&&(n+=" "),n+=e);return n}var FTe=Array.isArray,Bn=FTe,LTe=typeof Il=="object"&&Il&&Il.Object===Object&&Il,_Y=LTe,BTe=_Y,UTe=typeof self=="object"&&self&&self.Object===Object&&self,VTe=BTe||UTe||Function("return this")(),Jo=VTe,WTe=Jo,zTe=WTe.Symbol,Bg=zTe,M3=Bg,wY=Object.prototype,GTe=wY.hasOwnProperty,qTe=wY.toString,Fh=M3?M3.toStringTag:void 0;function HTe(t){var e=GTe.call(t,Fh),r=t[Fh];try{t[Fh]=void 0;var n=!0}catch{}var i=qTe.call(t);return n&&(e?t[Fh]=r:delete t[Fh]),i}var KTe=HTe,YTe=Object.prototype,QTe=YTe.toString;function XTe(t){return QTe.call(t)}var JTe=XTe,F3=Bg,ZTe=KTe,ePe=JTe,tPe="[object Null]",rPe="[object Undefined]",L3=F3?F3.toStringTag:void 0;function nPe(t){return t==null?t===void 0?rPe:tPe:L3&&L3 in Object(t)?ZTe(t):ePe(t)}var Rs=nPe;function iPe(t){return t!=null&&typeof t=="object"}var js=iPe,oPe=Rs,sPe=js,aPe="[object Symbol]";function lPe(t){return typeof t=="symbol"||sPe(t)&&oPe(t)==aPe}var Zd=lPe,cPe=Bn,uPe=Zd,fPe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dPe=/^\w*$/;function hPe(t,e){if(cPe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||uPe(t)?!0:dPe.test(t)||!fPe.test(t)||e!=null&&t in Object(e)}var sj=hPe;function pPe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ol=pPe;const eh=ot(ol);var mPe=Rs,yPe=ol,gPe="[object AsyncFunction]",vPe="[object Function]",bPe="[object GeneratorFunction]",xPe="[object Proxy]";function _Pe(t){if(!yPe(t))return!1;var e=mPe(t);return e==vPe||e==bPe||e==gPe||e==xPe}var aj=_Pe;const Me=ot(aj);var wPe=Jo,SPe=wPe["__core-js_shared__"],EPe=SPe,RA=EPe,B3=function(){var t=/[^.]+$/.exec(RA&&RA.keys&&RA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function APe(t){return!!B3&&B3 in t}var CPe=APe,TPe=Function.prototype,PPe=TPe.toString;function IPe(t){if(t!=null){try{return PPe.call(t)}catch{}try{return t+""}catch{}}return""}var SY=IPe,NPe=aj,kPe=CPe,OPe=ol,RPe=SY,jPe=/[\\^$.*+?()[\]{}|]/g,$Pe=/^\[object .+?Constructor\]$/,DPe=Function.prototype,MPe=Object.prototype,FPe=DPe.toString,LPe=MPe.hasOwnProperty,BPe=RegExp("^"+FPe.call(LPe).replace(jPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UPe(t){if(!OPe(t)||kPe(t))return!1;var e=NPe(t)?BPe:$Pe;return e.test(RPe(t))}var VPe=UPe;function WPe(t,e){return t==null?void 0:t[e]}var zPe=WPe,GPe=VPe,qPe=zPe;function HPe(t,e){var r=qPe(t,e);return GPe(r)?r:void 0}var Wc=HPe,KPe=Wc,YPe=KPe(Object,"create"),Q1=YPe,U3=Q1;function QPe(){this.__data__=U3?U3(null):{},this.size=0}var XPe=QPe;function JPe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ZPe=JPe,eIe=Q1,tIe="__lodash_hash_undefined__",rIe=Object.prototype,nIe=rIe.hasOwnProperty;function iIe(t){var e=this.__data__;if(eIe){var r=e[t];return r===tIe?void 0:r}return nIe.call(e,t)?e[t]:void 0}var oIe=iIe,sIe=Q1,aIe=Object.prototype,lIe=aIe.hasOwnProperty;function cIe(t){var e=this.__data__;return sIe?e[t]!==void 0:lIe.call(e,t)}var uIe=cIe,fIe=Q1,dIe="__lodash_hash_undefined__";function hIe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=fIe&&e===void 0?dIe:e,this}var pIe=hIe,mIe=XPe,yIe=ZPe,gIe=oIe,vIe=uIe,bIe=pIe;function th(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}th.prototype.clear=mIe;th.prototype.delete=yIe;th.prototype.get=gIe;th.prototype.has=vIe;th.prototype.set=bIe;var xIe=th;function _Ie(){this.__data__=[],this.size=0}var wIe=_Ie;function SIe(t,e){return t===e||t!==t&&e!==e}var lj=SIe,EIe=lj;function AIe(t,e){for(var r=t.length;r--;)if(EIe(t[r][0],e))return r;return-1}var X1=AIe,CIe=X1,TIe=Array.prototype,PIe=TIe.splice;function IIe(t){var e=this.__data__,r=CIe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():PIe.call(e,r,1),--this.size,!0}var NIe=IIe,kIe=X1;function OIe(t){var e=this.__data__,r=kIe(e,t);return r<0?void 0:e[r][1]}var RIe=OIe,jIe=X1;function $Ie(t){return jIe(this.__data__,t)>-1}var DIe=$Ie,MIe=X1;function FIe(t,e){var r=this.__data__,n=MIe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var LIe=FIe,BIe=wIe,UIe=NIe,VIe=RIe,WIe=DIe,zIe=LIe;function rh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rh.prototype.clear=BIe;rh.prototype.delete=UIe;rh.prototype.get=VIe;rh.prototype.has=WIe;rh.prototype.set=zIe;var J1=rh,GIe=Wc,qIe=Jo,HIe=GIe(qIe,"Map"),cj=HIe,V3=xIe,KIe=J1,YIe=cj;function QIe(){this.size=0,this.__data__={hash:new V3,map:new(YIe||KIe),string:new V3}}var XIe=QIe;function JIe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ZIe=JIe,eNe=ZIe;function tNe(t,e){var r=t.__data__;return eNe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Z1=tNe,rNe=Z1;function nNe(t){var e=rNe(this,t).delete(t);return this.size-=e?1:0,e}var iNe=nNe,oNe=Z1;function sNe(t){return oNe(this,t).get(t)}var aNe=sNe,lNe=Z1;function cNe(t){return lNe(this,t).has(t)}var uNe=cNe,fNe=Z1;function dNe(t,e){var r=fNe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var hNe=dNe,pNe=XIe,mNe=iNe,yNe=aNe,gNe=uNe,vNe=hNe;function nh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nh.prototype.clear=pNe;nh.prototype.delete=mNe;nh.prototype.get=yNe;nh.prototype.has=gNe;nh.prototype.set=vNe;var uj=nh,EY=uj,bNe="Expected a function";function fj(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bNe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(fj.Cache||EY),r}fj.Cache=EY;var xNe=fj,_Ne=xNe,wNe=500;function SNe(t){var e=_Ne(t,function(n){return r.size===wNe&&r.clear(),n}),r=e.cache;return e}var ENe=SNe,ANe=ENe,CNe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TNe=/\\(\\)?/g,PNe=ANe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(CNe,function(r,n,i,o){e.push(i?o.replace(TNe,"$1"):n||r)}),e}),INe=PNe;function NNe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var dj=NNe,W3=Bg,kNe=dj,ONe=Bn,RNe=Zd,jNe=1/0,z3=W3?W3.prototype:void 0,G3=z3?z3.toString:void 0;function AY(t){if(typeof t=="string")return t;if(ONe(t))return kNe(t,AY)+"";if(RNe(t))return G3?G3.call(t):"";var e=t+"";return e=="0"&&1/t==-jNe?"-0":e}var $Ne=AY,DNe=$Ne;function MNe(t){return t==null?"":DNe(t)}var CY=MNe,FNe=Bn,LNe=sj,BNe=INe,UNe=CY;function VNe(t,e){return FNe(t)?t:LNe(t,e)?[t]:BNe(UNe(t))}var TY=VNe,WNe=Zd,zNe=1/0;function GNe(t){if(typeof t=="string"||WNe(t))return t;var e=t+"";return e=="0"&&1/t==-zNe?"-0":e}var eS=GNe,qNe=TY,HNe=eS;function KNe(t,e){e=qNe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[HNe(e[r++])];return r&&r==n?t:void 0}var hj=KNe,YNe=hj;function QNe(t,e,r){var n=t==null?void 0:YNe(t,e);return n===void 0?r:n}var PY=QNe;const ki=ot(PY);function XNe(t){return t==null}var JNe=XNe;const Xe=ot(JNe);var ZNe=Rs,eke=Bn,tke=js,rke="[object String]";function nke(t){return typeof t=="string"||!eke(t)&&tke(t)&&ZNe(t)==rke}var ike=nke;const Ug=ot(ike);var oke=Rs,ske=js,ake="[object Number]";function lke(t){return typeof t=="number"||ske(t)&&oke(t)==ake}var IY=lke;const cke=ot(IY);var uke=IY;function fke(t){return uke(t)&&t!=+t}var dke=fke;const Vg=ot(dke);var ro=function(e){return e===0?0:e>0?1:-1},Fl=function(e){return Ug(e)&&e.indexOf("%")===e.length-1},ne=function(e){return cke(e)&&!Vg(e)},dr=function(e){return ne(e)||Ug(e)},hke=0,Wg=function(e){var r=++hke;return"".concat(e||"").concat(r)},pd=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!Ug(e))return n;var o;if(Fl(e)){var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return Vg(o)&&(o=n),i&&o>r&&(o=r),o},Ws=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},pke=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Yi=function(e,r){return ne(e)&&ne(r)?function(n){return e+n*(r-e)}:function(){return r}};function a_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ki(n,e))===r})}function df(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function GP(t){"@babel/helpers - typeof";return GP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GP(t)}var mke=["viewBox","children"],yke=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],q3=["points","pathLength"],jA={svg:mke,polygon:q3,polyline:q3},pj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],l_=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),!eh(n))return null;var i={};return Object.keys(n).forEach(function(o){pj.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},gke=function(e,r,n){return function(i){return e(r,n,i),null}},c_=function(e,r,n){if(!eh(e)||GP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];pj.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=gke(s,r,n))}),i},vke=["children"],bke=["children"];function H3(t,e){if(t==null)return{};var r=xke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xke(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function qP(t){"@babel/helpers - typeof";return qP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qP(t)}var K3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ms=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Y3=null,$A=null,mj=function t(e){if(e===Y3&&Array.isArray($A))return $A;var r=[];return E.Children.forEach(e,function(n){Xe(n)||(Dx.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),$A=r,Y3=e,r};function Oi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ms(i)}):n=[ms(e)],mj(t).forEach(function(i){var o=ki(i,"type.displayName")||ki(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Co(t,e){var r=Oi(t,e);return r&&r[0]}var Q3=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ne(n)||n<=0||!ne(i)||i<=0)},_ke=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wke=function(e){return e&&e.type&&Ug(e.type)&&_ke.indexOf(e.type)>=0},Ske=function(e){return e&&qP(e)==="object"&&"cx"in e&&"cy"in e&&"r"in e},Eke=function(e,r,n,i){var o,s=(o=jA==null?void 0:jA[i])!==null&&o!==void 0?o:[];return!Me(e)&&(i&&s.includes(r)||yke.includes(r))||n&&pj.includes(r)},Ge=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(E.isValidElement(e)&&(i=e.props),!eh(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Eke((a=i)===null||a===void 0?void 0:a[s],s,r,n)&&(o[s]=i[s])}),o},NY=function t(e,r){if(e===r)return!0;var n=E.Children.count(e);if(n!==E.Children.count(r))return!1;if(n===0)return!0;if(n===1)return X3(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!X3(o,s))return!1}return!0},X3=function(e,r){if(Xe(e)&&Xe(r))return!0;if(!Xe(e)&&!Xe(r)){var n=e.props||{},i=n.children,o=H3(n,vke),s=r.props||{},a=s.children,l=H3(s,bke);return i&&a?df(o,l)&&NY(i,a):!i&&!a?df(o,l):!1}return!1},J3=function(e,r){var n=[],i={};return mj(e).forEach(function(o,s){if(wke(o))n.push(o);else if(o){var a=ms(o.type),l=r[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var f=c(o,a,s);n.push(f),i[a]=!0}}}),n},Ake=function(e){var r=e&&e.type;return r&&K3[r]?K3[r]:null},Cke=function(e,r){return mj(r).indexOf(e)},Tke=["children","width","height","viewBox","className","style","title","desc"];function HP(){return HP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HP.apply(this,arguments)}function Pke(t,e){if(t==null)return{};var r=Ike(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ike(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function KP(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=Pke(t,Tke),u=i||{width:r,height:n,x:0,y:0},f=ct("recharts-surface",o);return k.createElement("svg",HP({},Ge(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),k.createElement("title",null,a),k.createElement("desc",null,l),e)}var Nke=["children","className"];function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YP.apply(this,arguments)}function kke(t,e){if(t==null)return{};var r=Oke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oke(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Jt=k.forwardRef(function(t,e){var r=t.children,n=t.className,i=kke(t,Nke),o=ct("recharts-layer",n);return k.createElement("g",YP({className:o},Ge(i,!0),{ref:e}),r)}),dc=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function Rke(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}var jke=Rke,$ke=jke;function Dke(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:$ke(t,e,r)}var Mke=Dke,Fke="\\ud800-\\udfff",Lke="\\u0300-\\u036f",Bke="\\ufe20-\\ufe2f",Uke="\\u20d0-\\u20ff",Vke=Lke+Bke+Uke,Wke="\\ufe0e\\ufe0f",zke="\\u200d",Gke=RegExp("["+zke+Fke+Vke+Wke+"]");function qke(t){return Gke.test(t)}var kY=qke;function Hke(t){return t.split("")}var Kke=Hke,OY="\\ud800-\\udfff",Yke="\\u0300-\\u036f",Qke="\\ufe20-\\ufe2f",Xke="\\u20d0-\\u20ff",Jke=Yke+Qke+Xke,Zke="\\ufe0e\\ufe0f",eOe="["+OY+"]",QP="["+Jke+"]",XP="\\ud83c[\\udffb-\\udfff]",tOe="(?:"+QP+"|"+XP+")",RY="[^"+OY+"]",jY="(?:\\ud83c[\\udde6-\\uddff]){2}",$Y="[\\ud800-\\udbff][\\udc00-\\udfff]",rOe="\\u200d",DY=tOe+"?",MY="["+Zke+"]?",nOe="(?:"+rOe+"(?:"+[RY,jY,$Y].join("|")+")"+MY+DY+")*",iOe=MY+DY+nOe,oOe="(?:"+[RY+QP+"?",QP,jY,$Y,eOe].join("|")+")",sOe=RegExp(XP+"(?="+XP+")|"+oOe+iOe,"g");function aOe(t){return t.match(sOe)||[]}var lOe=aOe,cOe=Kke,uOe=kY,fOe=lOe;function dOe(t){return uOe(t)?fOe(t):cOe(t)}var hOe=dOe,pOe=Mke,mOe=kY,yOe=hOe,gOe=CY;function vOe(t){return function(e){e=gOe(e);var r=mOe(e)?yOe(e):void 0,n=r?r[0]:e.charAt(0),i=r?pOe(r,1).join(""):e.slice(1);return n[t]()+i}}var bOe=vOe,xOe=bOe,_Oe=xOe("toUpperCase"),wOe=_Oe;const tS=ot(wOe);function St(t){return function(){return t}}const FY=Math.cos,u_=Math.sin,fo=Math.sqrt,f_=Math.PI,rS=2*f_,JP=Math.PI,ZP=2*JP,Cl=1e-6,SOe=ZP-Cl;function LY(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function EOe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return LY;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class AOe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?LY:EOe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=n-e,c=i-r,u=s-e,f=a-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Cl)if(!(Math.abs(f*l-c*u)>Cl)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,m=i-a,y=l*l+c*c,g=p*p+m*m,b=Math.sqrt(y),v=Math.sqrt(h),x=o*Math.tan((JP-Math.acos((y+h-g)/(2*b*v)))/2),S=x/v,_=x/b;Math.abs(S-1)>Cl&&this._append`L${e+S*u},${r+S*f}`,this._append`A${o},${o},0,0,${+(f*p>u*m)},${this._x1=e+_*l},${this._y1=r+_*c}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),c=e+a,u=r+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Cl||Math.abs(this._y1-u)>Cl)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%ZP+ZP),h>SOe?this._append`A${n},${n},0,1,${f},${e-a},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Cl&&this._append`A${n},${n},0,${+(h>=JP)},${f},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function yj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new AOe(e)}function gj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function BY(t){this._context=t}BY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function nS(t){return new BY(t)}function UY(t){return t[0]}function VY(t){return t[1]}function WY(t,e){var r=St(!0),n=null,i=nS,o=null,s=yj(a);t=typeof t=="function"?t:t===void 0?UY:St(t),e=typeof e=="function"?e:e===void 0?VY:St(e);function a(l){var c,u=(l=gj(l)).length,f,h=!1,p;for(n==null&&(o=i(p=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:St(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:St(+l),a):e},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:St(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),a):n},a}function Yv(t,e,r){var n=null,i=St(!0),o=null,s=nS,a=null,l=yj(c);t=typeof t=="function"?t:t===void 0?UY:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?VY:St(+r);function c(f){var h,p,m,y=(f=gj(f)).length,g,b=!1,v,x=new Array(y),S=new Array(y);for(o==null&&(a=s(v=l())),h=0;h<=y;++h){if(!(h<y&&i(g=f[h],h,f))===b)if(b=!b)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=h-1;m>=p;--m)a.point(x[m],S[m]);a.lineEnd(),a.areaEnd()}b&&(x[h]=+t(g,h,f),S[h]=+e(g,h,f),a.point(n?+n(g,h,f):x[h],r?+r(g,h,f):S[h]))}if(v)return a=null,v+""||null}function u(){return WY().defined(i).curve(s).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:St(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:St(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:St(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),c):s},c.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),c):o},c}class zY{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function COe(t){return new zY(t,!0)}function TOe(t){return new zY(t,!1)}const vj={draw(t,e){const r=fo(e/f_);t.moveTo(r,0),t.arc(0,0,r,0,rS)}},POe={draw(t,e){const r=fo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},GY=fo(1/3),IOe=GY*2,NOe={draw(t,e){const r=fo(e/IOe),n=r*GY;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},kOe={draw(t,e){const r=fo(e),n=-r/2;t.rect(n,n,r,r)}},OOe=.8908130915292852,qY=u_(f_/10)/u_(7*f_/10),ROe=u_(rS/10)*qY,jOe=-FY(rS/10)*qY,$Oe={draw(t,e){const r=fo(e*OOe),n=ROe*r,i=jOe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const s=rS*o/5,a=FY(s),l=u_(s);t.lineTo(l*r,-a*r),t.lineTo(a*n-l*i,l*n+a*i)}t.closePath()}},DA=fo(3),DOe={draw(t,e){const r=-fo(e/(DA*3));t.moveTo(0,r*2),t.lineTo(-DA*r,-r),t.lineTo(DA*r,-r),t.closePath()}},fi=-.5,di=fo(3)/2,eI=1/fo(12),MOe=(eI/2+1)*3,FOe={draw(t,e){const r=fo(e/MOe),n=r/2,i=r*eI,o=n,s=r*eI+r,a=-o,l=s;t.moveTo(n,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(fi*n-di*i,di*n+fi*i),t.lineTo(fi*o-di*s,di*o+fi*s),t.lineTo(fi*a-di*l,di*a+fi*l),t.lineTo(fi*n+di*i,fi*i-di*n),t.lineTo(fi*o+di*s,fi*s-di*o),t.lineTo(fi*a+di*l,fi*l-di*a),t.closePath()}};function LOe(t,e){let r=null,n=yj(i);t=typeof t=="function"?t:St(t||vj),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:St(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:St(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function d_(){}function h_(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function HY(t){this._context=t}HY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:h_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:h_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BOe(t){return new HY(t)}function KY(t){this._context=t}KY.prototype={areaStart:d_,areaEnd:d_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:h_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UOe(t){return new KY(t)}function YY(t){this._context=t}YY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:h_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VOe(t){return new YY(t)}function QY(t){this._context=t}QY.prototype={areaStart:d_,areaEnd:d_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function WOe(t){return new QY(t)}function Z3(t){return t<0?-1:1}function eB(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(Z3(o)+Z3(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function tB(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function MA(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-n)/3;t._context.bezierCurveTo(n+a,i+a*e,o-a,s-a*r,o,s)}function p_(t){this._context=t}p_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:MA(this,this._t0,tB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,MA(this,tB(this,r=eB(this,t,e)),r);break;default:MA(this,this._t0,r=eB(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function XY(t){this._context=new JY(t)}(XY.prototype=Object.create(p_.prototype)).point=function(t,e){p_.prototype.point.call(this,e,t)};function JY(t){this._context=t}JY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function zOe(t){return new p_(t)}function GOe(t){return new XY(t)}function ZY(t){this._context=t}ZY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=rB(t),i=rB(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rB(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function qOe(t){return new ZY(t)}function iS(t,e){this._context=t,this._t=e}iS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function HOe(t){return new iS(t,.5)}function KOe(t){return new iS(t,0)}function YOe(t){return new iS(t,1)}function md(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,a=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function tI(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function QOe(t,e){return t[e]}function XOe(t){const e=[];return e.key=t,e}function JOe(){var t=St([]),e=tI,r=md,n=QOe;function i(o){var s=Array.from(t.apply(this,arguments),XOe),a,l=s.length,c=-1,u;for(const f of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(f,s[a].key,c,o)]).data=f;for(a=0,u=gj(e(s));a<l;++a)s[u[a]].index=a;return r(s,u),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:St(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:St(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?tI:typeof o=="function"?o:St(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??md,i):r},i}function ZOe(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}md(t,e)}}function eRe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=t[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}md(t,e)}}function tRe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,l=0,c=0;a<s;++a){for(var u=t[e[a]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<a;++m){var y=t[e[m]],g=y[n][1]||0,b=y[n-1][1]||0;p+=g-b}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,md(t,e)}}function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}var rRe=["type","size","sizeType"];function rI(){return rI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rI.apply(this,arguments)}function nB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(r),!0).forEach(function(n){nRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nRe(t,e,r){return e=iRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iRe(t){var e=oRe(t,"string");return Qm(e)==="symbol"?e:String(e)}function oRe(t,e){if(Qm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sRe(t,e){if(t==null)return{};var r=aRe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aRe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var eQ={symbolCircle:vj,symbolCross:POe,symbolDiamond:NOe,symbolSquare:kOe,symbolStar:$Oe,symbolTriangle:DOe,symbolWye:FOe},lRe=Math.PI/180,cRe=function(e){var r="symbol".concat(tS(e));return eQ[r]||vj},uRe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*lRe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fRe=function(e,r){eQ["symbol".concat(tS(e))]=r},bj=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=sRe(e,rRe),c=iB(iB({},l),{},{type:n,size:o,sizeType:a}),u=function(){var g=cRe(n),b=LOe().type(g).size(uRe(o,a,n));return b()},f=c.className,h=c.cx,p=c.cy,m=Ge(c,!0);return h===+h&&p===+p&&o===+o?k.createElement("path",rI({},m,{className:ct("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};bj.registerSymbol=fRe;function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function nI(){return nI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nI.apply(this,arguments)}function oB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dRe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(r),!0).forEach(function(n){Xm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tQ(n.key),n)}}function pRe(t,e,r){return e&&sB(t.prototype,e),r&&sB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iI(t,e)}function iI(t,e){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iI(t,e)}function yRe(t){var e=bRe();return function(){var n=m_(t),i;if(e){var o=m_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return gRe(this,i)}}function gRe(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vRe(t)}function vRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m_(t){return m_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m_(t)}function Xm(t,e,r){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tQ(t){var e=xRe(t,"string");return yd(e)==="symbol"?e:String(e)}function xRe(t,e){if(yd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hi=32,xj=function(t){mRe(r,t);var e=yRe(r);function r(){return hRe(this,r),e.apply(this,arguments)}return pRe(r,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=hi/2,a=hi/6,l=hi/3,c=i.inactive?o:i.color;if(i.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:hi,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(hi,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return k.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(hi/8,"h").concat(hi,"v").concat(hi*3/4,"h").concat(-hi,"z"),className:"recharts-legend-icon"});if(k.isValidElement(i.legendIcon)){var u=dRe({},i);return delete u.legendIcon,k.cloneElement(i.legendIcon,u)}return k.createElement(bj,{fill:c,cx:s,cy:s,size:hi,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,l=o.layout,c=o.formatter,u=o.inactiveColor,f={x:0,y:0,width:hi,height:hi},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,y){var g,b=m.formatter||c,v=ct((g={"recharts-legend-item":!0},Xm(g,"legend-item-".concat(y),!0),Xm(g,"inactive",m.inactive),g));if(m.type==="none")return null;var x=Me(m.value)?null:m.value;dc(!Me(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=m.inactive?u:m.color;return k.createElement("li",nI({className:v,style:h,key:"legend-item-".concat(y)},c_(i.props,m,y)),k.createElement(KP,{width:a,height:a,viewBox:f,style:p},i.renderIcon(m)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(x,m,y):x))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),r}(E.PureComponent);Xm(xj,"displayName","Legend");Xm(xj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _Re=J1;function wRe(){this.__data__=new _Re,this.size=0}var SRe=wRe;function ERe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var ARe=ERe;function CRe(t){return this.__data__.get(t)}var TRe=CRe;function PRe(t){return this.__data__.has(t)}var IRe=PRe,NRe=J1,kRe=cj,ORe=uj,RRe=200;function jRe(t,e){var r=this.__data__;if(r instanceof NRe){var n=r.__data__;if(!kRe||n.length<RRe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ORe(n)}return r.set(t,e),this.size=r.size,this}var $Re=jRe,DRe=J1,MRe=SRe,FRe=ARe,LRe=TRe,BRe=IRe,URe=$Re;function ih(t){var e=this.__data__=new DRe(t);this.size=e.size}ih.prototype.clear=MRe;ih.prototype.delete=FRe;ih.prototype.get=LRe;ih.prototype.has=BRe;ih.prototype.set=URe;var rQ=ih,VRe="__lodash_hash_undefined__";function WRe(t){return this.__data__.set(t,VRe),this}var zRe=WRe;function GRe(t){return this.__data__.has(t)}var qRe=GRe,HRe=uj,KRe=zRe,YRe=qRe;function y_(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new HRe;++e<r;)this.add(t[e])}y_.prototype.add=y_.prototype.push=KRe;y_.prototype.has=YRe;var nQ=y_;function QRe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var iQ=QRe;function XRe(t,e){return t.has(e)}var oQ=XRe,JRe=nQ,ZRe=iQ,eje=oQ,tje=1,rje=2;function nje(t,e,r,n,i,o){var s=r&tje,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=r&rje?new JRe:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var m=t[f],y=e[f];if(n)var g=s?n(y,m,f,e,t,o):n(m,y,f,t,e,o);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!ZRe(e,function(b,v){if(!eje(p,v)&&(m===b||i(m,b,r,n,o)))return p.push(v)})){h=!1;break}}else if(!(m===y||i(m,y,r,n,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var sQ=nje,ije=Jo,oje=ije.Uint8Array,sje=oje;function aje(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var lje=aje;function cje(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var _j=cje,aB=Bg,lB=sje,uje=lj,fje=sQ,dje=lje,hje=_j,pje=1,mje=2,yje="[object Boolean]",gje="[object Date]",vje="[object Error]",bje="[object Map]",xje="[object Number]",_je="[object RegExp]",wje="[object Set]",Sje="[object String]",Eje="[object Symbol]",Aje="[object ArrayBuffer]",Cje="[object DataView]",cB=aB?aB.prototype:void 0,FA=cB?cB.valueOf:void 0;function Tje(t,e,r,n,i,o,s){switch(r){case Cje:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Aje:return!(t.byteLength!=e.byteLength||!o(new lB(t),new lB(e)));case yje:case gje:case xje:return uje(+t,+e);case vje:return t.name==e.name&&t.message==e.message;case _je:case Sje:return t==e+"";case bje:var a=dje;case wje:var l=n&pje;if(a||(a=hje),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=mje,s.set(t,e);var u=fje(a(t),a(e),n,i,o,s);return s.delete(t),u;case Eje:if(FA)return FA.call(t)==FA.call(e)}return!1}var Pje=Tje;function Ije(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var aQ=Ije,Nje=aQ,kje=Bn;function Oje(t,e,r){var n=e(t);return kje(t)?n:Nje(n,r(t))}var Rje=Oje;function jje(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}var $je=jje;function Dje(){return[]}var Mje=Dje,Fje=$je,Lje=Mje,Bje=Object.prototype,Uje=Bje.propertyIsEnumerable,uB=Object.getOwnPropertySymbols,Vje=uB?function(t){return t==null?[]:(t=Object(t),Fje(uB(t),function(e){return Uje.call(t,e)}))}:Lje,Wje=Vje;function zje(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Gje=zje,qje=Rs,Hje=js,Kje="[object Arguments]";function Yje(t){return Hje(t)&&qje(t)==Kje}var Qje=Yje,fB=Qje,Xje=js,lQ=Object.prototype,Jje=lQ.hasOwnProperty,Zje=lQ.propertyIsEnumerable,e$e=fB(function(){return arguments}())?fB:function(t){return Xje(t)&&Jje.call(t,"callee")&&!Zje.call(t,"callee")},wj=e$e,g_={exports:{}};function t$e(){return!1}var r$e=t$e;g_.exports;(function(t,e){var r=Jo,n=r$e,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?r.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;t.exports=c})(g_,g_.exports);var cQ=g_.exports,n$e=9007199254740991,i$e=/^(?:0|[1-9]\d*)$/;function o$e(t,e){var r=typeof t;return e=e??n$e,!!e&&(r=="number"||r!="symbol"&&i$e.test(t))&&t>-1&&t%1==0&&t<e}var Sj=o$e,s$e=9007199254740991;function a$e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=s$e}var Ej=a$e,l$e=Rs,c$e=Ej,u$e=js,f$e="[object Arguments]",d$e="[object Array]",h$e="[object Boolean]",p$e="[object Date]",m$e="[object Error]",y$e="[object Function]",g$e="[object Map]",v$e="[object Number]",b$e="[object Object]",x$e="[object RegExp]",_$e="[object Set]",w$e="[object String]",S$e="[object WeakMap]",E$e="[object ArrayBuffer]",A$e="[object DataView]",C$e="[object Float32Array]",T$e="[object Float64Array]",P$e="[object Int8Array]",I$e="[object Int16Array]",N$e="[object Int32Array]",k$e="[object Uint8Array]",O$e="[object Uint8ClampedArray]",R$e="[object Uint16Array]",j$e="[object Uint32Array]",Tt={};Tt[C$e]=Tt[T$e]=Tt[P$e]=Tt[I$e]=Tt[N$e]=Tt[k$e]=Tt[O$e]=Tt[R$e]=Tt[j$e]=!0;Tt[f$e]=Tt[d$e]=Tt[E$e]=Tt[h$e]=Tt[A$e]=Tt[p$e]=Tt[m$e]=Tt[y$e]=Tt[g$e]=Tt[v$e]=Tt[b$e]=Tt[x$e]=Tt[_$e]=Tt[w$e]=Tt[S$e]=!1;function $$e(t){return u$e(t)&&c$e(t.length)&&!!Tt[l$e(t)]}var D$e=$$e;function M$e(t){return function(e){return t(e)}}var uQ=M$e,v_={exports:{}};v_.exports;(function(t,e){var r=_Y,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(v_,v_.exports);var F$e=v_.exports,L$e=D$e,B$e=uQ,dB=F$e,hB=dB&&dB.isTypedArray,U$e=hB?B$e(hB):L$e,fQ=U$e,V$e=Gje,W$e=wj,z$e=Bn,G$e=cQ,q$e=Sj,H$e=fQ,K$e=Object.prototype,Y$e=K$e.hasOwnProperty;function Q$e(t,e){var r=z$e(t),n=!r&&W$e(t),i=!r&&!n&&G$e(t),o=!r&&!n&&!i&&H$e(t),s=r||n||i||o,a=s?V$e(t.length,String):[],l=a.length;for(var c in t)(e||Y$e.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||q$e(c,l)))&&a.push(c);return a}var X$e=Q$e,J$e=Object.prototype;function Z$e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||J$e;return t===r}var e2e=Z$e;function t2e(t,e){return function(r){return t(e(r))}}var dQ=t2e,r2e=dQ,n2e=r2e(Object.keys,Object),i2e=n2e,o2e=e2e,s2e=i2e,a2e=Object.prototype,l2e=a2e.hasOwnProperty;function c2e(t){if(!o2e(t))return s2e(t);var e=[];for(var r in Object(t))l2e.call(t,r)&&r!="constructor"&&e.push(r);return e}var u2e=c2e,f2e=aj,d2e=Ej;function h2e(t){return t!=null&&d2e(t.length)&&!f2e(t)}var zg=h2e,p2e=X$e,m2e=u2e,y2e=zg;function g2e(t){return y2e(t)?p2e(t):m2e(t)}var oS=g2e,v2e=Rje,b2e=Wje,x2e=oS;function _2e(t){return v2e(t,x2e,b2e)}var w2e=_2e,pB=w2e,S2e=1,E2e=Object.prototype,A2e=E2e.hasOwnProperty;function C2e(t,e,r,n,i,o){var s=r&S2e,a=pB(t),l=a.length,c=pB(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:A2e.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var g=s;++f<l;){h=a[f];var b=t[h],v=e[h];if(n)var x=s?n(v,b,h,e,t,o):n(b,v,h,t,e,o);if(!(x===void 0?b===v||i(b,v,r,n,o):x)){y=!1;break}g||(g=h=="constructor")}if(y&&!g){var S=t.constructor,_=e.constructor;S!=_&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(y=!1)}return o.delete(t),o.delete(e),y}var T2e=C2e,P2e=Wc,I2e=Jo,N2e=P2e(I2e,"DataView"),k2e=N2e,O2e=Wc,R2e=Jo,j2e=O2e(R2e,"Promise"),$2e=j2e,D2e=Wc,M2e=Jo,F2e=D2e(M2e,"Set"),hQ=F2e,L2e=Wc,B2e=Jo,U2e=L2e(B2e,"WeakMap"),V2e=U2e,oI=k2e,sI=cj,aI=$2e,lI=hQ,cI=V2e,pQ=Rs,oh=SY,mB="[object Map]",W2e="[object Object]",yB="[object Promise]",gB="[object Set]",vB="[object WeakMap]",bB="[object DataView]",z2e=oh(oI),G2e=oh(sI),q2e=oh(aI),H2e=oh(lI),K2e=oh(cI),Tl=pQ;(oI&&Tl(new oI(new ArrayBuffer(1)))!=bB||sI&&Tl(new sI)!=mB||aI&&Tl(aI.resolve())!=yB||lI&&Tl(new lI)!=gB||cI&&Tl(new cI)!=vB)&&(Tl=function(t){var e=pQ(t),r=e==W2e?t.constructor:void 0,n=r?oh(r):"";if(n)switch(n){case z2e:return bB;case G2e:return mB;case q2e:return yB;case H2e:return gB;case K2e:return vB}return e});var Y2e=Tl,LA=rQ,Q2e=sQ,X2e=Pje,J2e=T2e,xB=Y2e,_B=Bn,wB=cQ,Z2e=fQ,eDe=1,SB="[object Arguments]",EB="[object Array]",Qv="[object Object]",tDe=Object.prototype,AB=tDe.hasOwnProperty;function rDe(t,e,r,n,i,o){var s=_B(t),a=_B(e),l=s?EB:xB(t),c=a?EB:xB(e);l=l==SB?Qv:l,c=c==SB?Qv:c;var u=l==Qv,f=c==Qv,h=l==c;if(h&&wB(t)){if(!wB(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new LA),s||Z2e(t)?Q2e(t,e,r,n,i,o):X2e(t,e,l,r,n,i,o);if(!(r&eDe)){var p=u&&AB.call(t,"__wrapped__"),m=f&&AB.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,g=m?e.value():e;return o||(o=new LA),i(y,g,r,n,o)}}return h?(o||(o=new LA),J2e(t,e,r,n,i,o)):!1}var nDe=rDe,iDe=nDe,CB=js;function mQ(t,e,r,n,i){return t===e?!0:t==null||e==null||!CB(t)&&!CB(e)?t!==t&&e!==e:iDe(t,e,r,n,mQ,i)}var Aj=mQ,oDe=rQ,sDe=Aj,aDe=1,lDe=2;function cDe(t,e,r,n){var i=r.length,o=i,s=!n;if(t==null)return!o;for(t=Object(t);i--;){var a=r[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=r[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new oDe;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?sDe(u,c,aDe|lDe,n,f):h))return!1}}return!0}var uDe=cDe,fDe=ol;function dDe(t){return t===t&&!fDe(t)}var yQ=dDe,hDe=yQ,pDe=oS;function mDe(t){for(var e=pDe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,hDe(i)]}return e}var yDe=mDe;function gDe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var gQ=gDe,vDe=uDe,bDe=yDe,xDe=gQ;function _De(t){var e=bDe(t);return e.length==1&&e[0][2]?xDe(e[0][0],e[0][1]):function(r){return r===t||vDe(r,t,e)}}var wDe=_De;function SDe(t,e){return t!=null&&e in Object(t)}var EDe=SDe,ADe=TY,CDe=wj,TDe=Bn,PDe=Sj,IDe=Ej,NDe=eS;function kDe(t,e,r){e=ADe(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var s=NDe(e[n]);if(!(o=t!=null&&r(t,s)))break;t=t[s]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&IDe(i)&&PDe(s,i)&&(TDe(t)||CDe(t)))}var ODe=kDe,RDe=EDe,jDe=ODe;function $De(t,e){return t!=null&&jDe(t,e,RDe)}var DDe=$De,MDe=Aj,FDe=PY,LDe=DDe,BDe=sj,UDe=yQ,VDe=gQ,WDe=eS,zDe=1,GDe=2;function qDe(t,e){return BDe(t)&&UDe(e)?VDe(WDe(t),e):function(r){var n=FDe(r,t);return n===void 0&&n===e?LDe(r,t):MDe(e,n,zDe|GDe)}}var HDe=qDe;function KDe(t){return t}var sh=KDe;function YDe(t){return function(e){return e==null?void 0:e[t]}}var QDe=YDe,XDe=hj;function JDe(t){return function(e){return XDe(e,t)}}var ZDe=JDe,eMe=QDe,tMe=ZDe,rMe=sj,nMe=eS;function iMe(t){return rMe(t)?eMe(nMe(t)):tMe(t)}var oMe=iMe,sMe=wDe,aMe=HDe,lMe=sh,cMe=Bn,uMe=oMe;function fMe(t){return typeof t=="function"?t:t==null?lMe:typeof t=="object"?cMe(t)?aMe(t[0],t[1]):sMe(t):uMe(t)}var sl=fMe;function dMe(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var vQ=dMe;function hMe(t){return t!==t}var pMe=hMe;function mMe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var yMe=mMe,gMe=vQ,vMe=pMe,bMe=yMe;function xMe(t,e,r){return e===e?bMe(t,e,r):gMe(t,vMe,r)}var _Me=xMe,wMe=_Me;function SMe(t,e){var r=t==null?0:t.length;return!!r&&wMe(t,e,0)>-1}var EMe=SMe;function AMe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var CMe=AMe;function TMe(){}var PMe=TMe,BA=hQ,IMe=PMe,NMe=_j,kMe=1/0,OMe=BA&&1/NMe(new BA([,-0]))[1]==kMe?function(t){return new BA(t)}:IMe,RMe=OMe,jMe=nQ,$Me=EMe,DMe=CMe,MMe=oQ,FMe=RMe,LMe=_j,BMe=200;function UMe(t,e,r){var n=-1,i=$Me,o=t.length,s=!0,a=[],l=a;if(r)s=!1,i=DMe;else if(o>=BMe){var c=e?null:FMe(t);if(c)return LMe(c);s=!1,i=MMe,l=new jMe}else l=e?[]:a;e:for(;++n<o;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(u)}else i(l,f,r)||(l!==a&&l.push(f),a.push(u))}return a}var VMe=UMe,WMe=sl,zMe=VMe;function GMe(t,e){return t&&t.length?zMe(t,WMe(e)):[]}var qMe=GMe;const TB=ot(qMe);function bQ(t,e,r){return e===!0?TB(t,r):Me(e)?TB(t,e):t}function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}var HMe=["ref"];function PB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(r),!0).forEach(function(n){sS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_Q(n.key),n)}}function YMe(t,e,r){return e&&IB(t.prototype,e),r&&IB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uI(t,e)}function uI(t,e){return uI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uI(t,e)}function XMe(t){var e=ZMe();return function(){var n=b_(t),i;if(e){var o=b_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return JMe(this,i)}}function JMe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xQ(t)}function xQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b_(t){return b_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b_(t)}function sS(t,e,r){return e=_Q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Q(t){var e=eFe(t,"string");return gd(e)==="symbol"?e:String(e)}function eFe(t,e){if(gd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tFe(t,e){if(t==null)return{};var r=rFe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rFe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function nFe(t){return t.value}function iFe(t,e){if(k.isValidElement(t))return k.cloneElement(t,e);if(typeof t=="function")return k.createElement(t,e);e.ref;var r=tFe(e,HMe);return k.createElement(xj,r)}var NB=1,Jm=function(t){QMe(r,t);var e=XMe(r);function r(){var n;KMe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o)),sS(xQ(n),"lastBoundingBox",{width:-1,height:-1}),n}return YMe(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.lastBoundingBox.width)>NB||Math.abs(o.height-this.lastBoundingBox.height)>NB)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,i&&i(o))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,l=o.verticalAlign,c=o.margin,u=o.chartWidth,f=o.chartHeight,h,p;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();p={top:((f||0)-y.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return dl(dl({},h),p)}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,l=o.height,c=o.wrapperStyle,u=o.payloadUniqBy,f=o.payload,h=dl(dl({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return k.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){i.wrapperNode=m}},iFe(s,dl(dl({},this.props),{},{payload:bQ(f,u,nFe)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&ne(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),r}(E.PureComponent);sS(Jm,"displayName","Legend");sS(Jm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kB=Bg,oFe=wj,sFe=Bn,OB=kB?kB.isConcatSpreadable:void 0;function aFe(t){return sFe(t)||oFe(t)||!!(OB&&t&&t[OB])}var lFe=aFe,cFe=aQ,uFe=lFe;function wQ(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=uFe),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?wQ(a,e-1,r,n,i):cFe(i,a):n||(i[i.length]=a)}return i}var SQ=wQ;function fFe(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++i];if(r(o[l],l,o)===!1)break}return e}}var dFe=fFe,hFe=dFe,pFe=hFe(),mFe=pFe,yFe=mFe,gFe=oS;function vFe(t,e){return t&&yFe(t,e,gFe)}var EQ=vFe,bFe=zg;function xFe(t,e){return function(r,n){if(r==null)return r;if(!bFe(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Object(r);(e?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var _Fe=xFe,wFe=EQ,SFe=_Fe,EFe=SFe(wFe),Cj=EFe,AFe=Cj,CFe=zg;function TFe(t,e){var r=-1,n=CFe(t)?Array(t.length):[];return AFe(t,function(i,o,s){n[++r]=e(i,o,s)}),n}var AQ=TFe;function PFe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var IFe=PFe,RB=Zd;function NFe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,o=RB(t),s=e!==void 0,a=e===null,l=e===e,c=RB(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!l)return-1}return 0}var kFe=NFe,OFe=kFe;function RFe(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var l=OFe(i[n],o[n]);if(l){if(n>=a)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var jFe=RFe,UA=dj,$Fe=hj,DFe=sl,MFe=AQ,FFe=IFe,LFe=uQ,BFe=jFe,UFe=sh,VFe=Bn;function WFe(t,e,r){e.length?e=UA(e,function(o){return VFe(o)?function(s){return $Fe(s,o.length===1?o[0]:o)}:o}):e=[UFe];var n=-1;e=UA(e,LFe(DFe));var i=MFe(t,function(o,s,a){var l=UA(e,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return FFe(i,function(o,s){return BFe(o,s,r)})}var zFe=WFe;function GFe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var qFe=GFe,HFe=qFe,jB=Math.max;function KFe(t,e,r){return e=jB(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=jB(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),HFe(t,this,a)}}var YFe=KFe;function QFe(t){return function(){return t}}var XFe=QFe,JFe=Wc,ZFe=function(){try{var t=JFe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),CQ=ZFe,eLe=XFe,$B=CQ,tLe=sh,rLe=$B?function(t,e){return $B(t,"toString",{configurable:!0,enumerable:!1,value:eLe(e),writable:!0})}:tLe,nLe=rLe,iLe=800,oLe=16,sLe=Date.now;function aLe(t){var e=0,r=0;return function(){var n=sLe(),i=oLe-(n-r);if(r=n,i>0){if(++e>=iLe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var lLe=aLe,cLe=nLe,uLe=lLe,fLe=uLe(cLe),dLe=fLe,hLe=sh,pLe=YFe,mLe=dLe;function yLe(t,e){return mLe(pLe(t,e,hLe),t+"")}var gLe=yLe,vLe=lj,bLe=zg,xLe=Sj,_Le=ol;function wLe(t,e,r){if(!_Le(r))return!1;var n=typeof e;return(n=="number"?bLe(r)&&xLe(e,r.length):n=="string"&&e in r)?vLe(r[e],t):!1}var aS=wLe,SLe=SQ,ELe=zFe,ALe=gLe,DB=aS,CLe=ALe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&DB(t,e[0],e[1])?e=[]:r>2&&DB(e[0],e[1],e[2])&&(e=[e[0]]),ELe(t,SLe(e,1),[])}),TLe=CLe;const Tj=ot(TLe);function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function PLe(t,e){return OLe(t)||kLe(t,e)||NLe(t,e)||ILe()}function ILe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NLe(t,e){if(t){if(typeof t=="string")return MB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MB(t,e)}}function MB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function OLe(t){if(Array.isArray(t))return t}function FB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(r),!0).forEach(function(n){RLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RLe(t,e,r){return e=jLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jLe(t){var e=$Le(t,"string");return Zm(e)==="symbol"?e:String(e)}function $Le(t,e){if(Zm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DLe(t){return Array.isArray(t)&&dr(t[0])&&dr(t[1])?t.join(" ~ "):t}var MLe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,g=e.labelFormatter,b=function(){if(u&&u.length){var I={padding:0,margin:0},T=(h?Tj(u,h):u).map(function(P,O){if(P.type==="none")return null;var N=VA({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},a),R=P.formatter||f||DLe,L=P.value,U=P.name,V=L,D=U;if(R&&V!=null&&D!=null){var F=R(L,U,P,O,u);if(Array.isArray(F)){var G=PLe(F,2);V=G[0],D=G[1]}else V=F}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:N},dr(D)?k.createElement("span",{className:"recharts-tooltip-item-name"},D):null,dr(D)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},V),k.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:I},T)}return null},v=VA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),x=VA({margin:0},c),S=!Xe(y),_=S?y:"",w=ct("recharts-default-tooltip",p),A=ct("recharts-tooltip-label",m);return S&&g&&u!==void 0&&u!==null&&(_=g(y,u)),k.createElement("div",{className:w,style:v},k.createElement("p",{className:A,style:x},k.isValidElement(_)?_:"".concat(_)),b())},TQ={exports:{}},FLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LLe=FLe,BLe=LLe;function PQ(){}function IQ(){}IQ.resetWarningCache=PQ;var ULe=function(){function t(n,i,o,s,a,l){if(l!==BLe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:IQ,resetWarningCache:PQ};return r.PropTypes=r,r};TQ.exports=ULe();var VLe=TQ.exports;const Pe=ot(VLe);var WLe=Object.getOwnPropertyNames,zLe=Object.getOwnPropertySymbols,GLe=Object.prototype.hasOwnProperty;function LB(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Xv(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,s=o.get(r),a=o.get(n);if(s&&a)return s===n&&a===r;o.set(r,n),o.set(n,r);var l=t(r,n,i);return o.delete(r),o.delete(n),l}}function BB(t){return WLe(t).concat(zLe(t))}var NQ=Object.hasOwn||function(t,e){return GLe.call(t,e)};function ah(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var kQ="_owner",UB=Object.getOwnPropertyDescriptor,VB=Object.keys;function qLe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function HLe(t,e){return ah(t.getTime(),e.getTime())}function WB(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var l=e.entries(),c=!1,u=0;(a=l.next())&&!a.done;){var f=s.value,h=f[0],p=f[1],m=a.value,y=m[0],g=m[1];!c&&!n[u]&&(c=r.equals(h,y,o,u,t,e,r)&&r.equals(p,g,h,y,t,e,r))&&(n[u]=!0),u++}if(!c)return!1;o++}return!0}function KLe(t,e,r){var n=VB(t),i=n.length;if(VB(e).length!==i)return!1;for(var o;i-- >0;)if(o=n[i],o===kQ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!NQ(e,o)||!r.equals(t[o],e[o],o,o,t,e,r))return!1;return!0}function Lh(t,e,r){var n=BB(t),i=n.length;if(BB(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=n[i],o===kQ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!NQ(e,o)||!r.equals(t[o],e[o],o,o,t,e,r)||(s=UB(t,o),a=UB(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function YLe(t,e){return ah(t.valueOf(),e.valueOf())}function QLe(t,e){return t.source===e.source&&t.flags===e.flags}function zB(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),o,s;(o=i.next())&&!o.done;){for(var a=e.values(),l=!1,c=0;(s=a.next())&&!s.done;)!l&&!n[c]&&(l=r.equals(o.value,s.value,o.value,s.value,t,e,r))&&(n[c]=!0),c++;if(!l)return!1}return!0}function XLe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var JLe="[object Arguments]",ZLe="[object Boolean]",e3e="[object Date]",t3e="[object Map]",r3e="[object Number]",n3e="[object Object]",i3e="[object RegExp]",o3e="[object Set]",s3e="[object String]",a3e=Array.isArray,GB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,qB=Object.assign,l3e=Object.prototype.toString.call.bind(Object.prototype.toString);function c3e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,a=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var p=u.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(u,f,h);if(a3e(u))return e(u,f,h);if(GB!=null&&GB(u))return l(u,f,h);if(p===Date)return r(u,f,h);if(p===RegExp)return s(u,f,h);if(p===Map)return n(u,f,h);if(p===Set)return a(u,f,h);var m=l3e(u);return m===e3e?r(u,f,h):m===i3e?s(u,f,h):m===t3e?n(u,f,h):m===o3e?a(u,f,h):m===n3e?typeof u.then!="function"&&typeof f.then!="function"&&i(u,f,h):m===JLe?i(u,f,h):m===ZLe||m===r3e||m===s3e?o(u,f,h):!1}}function u3e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Lh:qLe,areDatesEqual:HLe,areMapsEqual:n?LB(WB,Lh):WB,areObjectsEqual:n?Lh:KLe,arePrimitiveWrappersEqual:YLe,areRegExpsEqual:QLe,areSetsEqual:n?LB(zB,Lh):zB,areTypedArraysEqual:n?Lh:XLe};if(r&&(i=qB({},i,r(i))),e){var o=Xv(i.areArraysEqual),s=Xv(i.areMapsEqual),a=Xv(i.areObjectsEqual),l=Xv(i.areSetsEqual);i=qB({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function f3e(t){return function(e,r,n,i,o,s,a){return t(e,r,a)}}function d3e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return r(l,c,s)}}var h3e=al();al({strict:!0});al({circular:!0});al({circular:!0,strict:!0});al({createInternalComparator:function(){return ah}});al({strict:!0,createInternalComparator:function(){return ah}});al({circular:!0,createInternalComparator:function(){return ah}});al({circular:!0,createInternalComparator:function(){return ah},strict:!0});function al(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=u3e(t),l=c3e(a),c=n?n(l):f3e(l);return d3e({circular:r,comparator:l,createState:i,equals:c,strict:s})}function p3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function HB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):p3e(i)};requestAnimationFrame(n)}function fI(t){"@babel/helpers - typeof";return fI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fI(t)}function m3e(t){return b3e(t)||v3e(t)||g3e(t)||y3e()}function y3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g3e(t,e){if(t){if(typeof t=="string")return KB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KB(t,e)}}function KB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b3e(t){if(Array.isArray(t))return t}function x3e(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,a=m3e(s),l=a[0],c=a.slice(1);if(typeof l=="number"){HB(i.bind(null,c),l);return}i(l),HB(i.bind(null,c));return}fI(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function YB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(r),!0).forEach(function(n){x_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x_(t,e,r){return e=_3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _3e(t){var e=w3e(t,"string");return ey(e)==="symbol"?e:String(e)}function w3e(t,e){if(ey(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ey(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S3e=["Webkit","Moz","O","ms"],E3e=["-webkit-","-moz-","-o-","-ms-"],A3e=["transform","transformOrigin","transition"],C3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},T3e=function(e){return e},P3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},I3e=function(e,r){if(A3e.indexOf(e)===-1)return x_({},e,Number.isNaN(r)?0:r);var n=e==="transition",i=e.replace(/(\w)/,function(s){return s.toUpperCase()}),o=r;return S3e.reduce(function(s,a,l){return n&&(o=r.replace(/(transform|transform-origin)/gim,"".concat(E3e[l],"$1"))),vd(vd({},s),{},x_({},a+i,o))},{})},zp=function(e,r){return Object.keys(r).reduce(function(n,i){return vd(vd({},n),{},x_({},i,e(i,r[i])))},{})},Pj=function(e){return Object.keys(e).reduce(function(r,n){return vd(vd({},r),I3e(n,r[n]))},e)},QB=function(e,r,n){return e.map(function(i){return"".concat(P3e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function N3e(t,e){return R3e(t)||O3e(t,e)||OQ(t,e)||k3e()}function k3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function R3e(t){if(Array.isArray(t))return t}function j3e(t){return M3e(t)||D3e(t)||OQ(t)||$3e()}function $3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t,e){if(t){if(typeof t=="string")return dI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(t,e)}}function D3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M3e(t){if(Array.isArray(t))return dI(t)}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var __=1e-4,RQ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},jQ=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},XB=function(e,r){return function(n){var i=RQ(e,r);return jQ(i,n)}},F3e=function(e,r){return function(n){var i=RQ(e,r),o=[].concat(j3e(i.map(function(s,a){return s*a}).slice(1)),[0]);return jQ(o,n)}},JB=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=N3e(c,4);i=u[0],o=u[1],s=u[2],a=u[3]}}}var f=XB(i,s),h=XB(o,a),p=F3e(i,s),m=function(b){return b>1?1:b<0?0:b},y=function(b){for(var v=b>1?1:b,x=v,S=0;S<8;++S){var _=f(x)-v,w=p(x);if(Math.abs(_-v)<__||w<__)return h(x);x=m(x-_/w)}return h(x)};return y.isStepper=!1,y},L3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*n,m=h*o,y=h+(p-m)*a/1e3,g=h*a/1e3+u;return Math.abs(g-f)<__&&Math.abs(y)<__?[f,0]:[g,y]};return l.isStepper=!0,l.dt=a,l},B3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JB(i);case"spring":return L3e();default:if(i.split("(")[0]==="cubic-bezier")return JB(i)}return typeof i=="function"?i:null};function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function ZB(t){return W3e(t)||V3e(t)||$Q(t)||U3e()}function U3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W3e(t){if(Array.isArray(t))return pI(t)}function e4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(r),!0).forEach(function(n){hI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hI(t,e,r){return e=z3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z3e(t){var e=G3e(t,"string");return ty(e)==="symbol"?e:String(e)}function G3e(t,e){if(ty(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ty(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q3e(t,e){return Y3e(t)||K3e(t,e)||$Q(t,e)||H3e()}function H3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(t,e){if(t){if(typeof t=="string")return pI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(t,e)}}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Y3e(t){if(Array.isArray(t))return t}var w_=function(e,r,n){return e+(r-e)*n},mI=function(e){var r=e.from,n=e.to;return r!==n},Q3e=function t(e,r,n){var i=zp(function(o,s){if(mI(s)){var a=e(s.from,s.to,s.velocity),l=q3e(a,2),c=l[0],u=l[1];return Mr(Mr({},s),{},{from:c,velocity:u})}return s},r);return n<1?zp(function(o,s){return mI(s)?Mr(Mr({},s),{},{velocity:w_(s.velocity,i[o].velocity,n),from:w_(s.from,i[o].from,n)}):s},r):t(e,i,n-1)};const X3e=function(t,e,r,n,i){var o=C3e(t,e),s=o.reduce(function(g,b){return Mr(Mr({},g),{},hI({},b,[t[b],e[b]]))},{}),a=o.reduce(function(g,b){return Mr(Mr({},g),{},hI({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return zp(function(b,v){return v.from},a)},p=function(){return!Object.values(a).filter(mI).length},m=function(b){c||(c=b);var v=b-c,x=v/r.dt;a=Q3e(r,a,x),i(Mr(Mr(Mr({},t),e),h())),c=b,p()||(l=requestAnimationFrame(f))},y=function(b){u||(u=b);var v=(b-u)/n,x=zp(function(_,w){return w_.apply(void 0,ZB(w).concat([r(v)]))},s);if(i(Mr(Mr(Mr({},t),e),x)),v<1)l=requestAnimationFrame(f);else{var S=zp(function(_,w){return w_.apply(void 0,ZB(w).concat([r(1)]))},s);i(Mr(Mr(Mr({},t),e),S))}};return f=r.isStepper?m:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}var J3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Z3e(t,e){if(t==null)return{};var r=eBe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eBe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function WA(t){return iBe(t)||nBe(t)||rBe(t)||tBe()}function tBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rBe(t,e){if(t){if(typeof t=="string")return yI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yI(t,e)}}function nBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iBe(t){if(Array.isArray(t))return yI(t)}function yI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(r),!0).forEach(function(n){hp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hp(t,e,r){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DQ(n.key),n)}}function sBe(t,e,r){return e&&r4(t.prototype,e),r&&r4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DQ(t){var e=aBe(t,"string");return bd(e)==="symbol"?e:String(e)}function aBe(t,e){if(bd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gI(t,e)}function gI(t,e){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gI(t,e)}function cBe(t){var e=uBe();return function(){var n=S_(t),i;if(e){var o=S_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return vI(this,i)}}function vI(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bI(t)}function bI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S_(t){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S_(t)}var Cs=function(t){lBe(r,t);var e=cBe(r);function r(n,i){var o;oBe(this,r),o=e.call(this,n,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(bI(o)),o.changeStyle=o.changeStyle.bind(bI(o)),!a||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),vI(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},vI(o);o.state={style:l?hp({},l,c):c}}else o.state={style:{}};return o}return sBe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,h=this.state.style;if(a){if(!s){var p={style:l?hp({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(h3e(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||c?f:i.to;if(this.state&&h){var g={style:l?hp({},l,y):y};(l&&[l]!==y||!l&&h!==y)&&this.setState(g)}this.runAnimation(Ui(Ui({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=X3e(s,a,B3e(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(y,g,b){if(b===0)return y;var v=g.duration,x=g.easing,S=x===void 0?"ease":x,_=g.style,w=g.properties,A=g.onAnimationEnd,C=b>0?s[b-1]:g,I=w||Object.keys(_);if(typeof S=="function"||S==="spring")return[].concat(WA(y),[o.runJSAnimation.bind(o,{from:C.style,to:_,duration:v,easing:S}),v]);var T=QB(I,v,S),P=Ui(Ui(Ui({},C.style),_),{},{transition:T});return[].concat(WA(y),[P,v,A]).filter(T3e)};return this.manager.start([l].concat(WA(s.reduce(p,[u,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=x3e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=a?hp({},a,l):l,g=QB(Object.keys(y),s,c);m.start([u,o,Ui(Ui({},y),{},{transition:g}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Z3e(i,J3e),c=E.Children.count(o),u=Pj(this.state.style);if(typeof o=="function")return o(u);if(!a||c===0||s<=0)return o;var f=function(p){var m=p.props,y=m.style,g=y===void 0?{}:y,b=m.className,v=E.cloneElement(p,Ui(Ui({},l),{},{style:Ui(Ui({},g),u),className:b}));return v};return c===1?f(E.Children.only(o)):k.createElement("div",null,E.Children.map(o,function(h){return f(h)}))}}]),r}(E.PureComponent);Cs.displayName="Animate";Cs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cs.propTypes={from:Pe.oneOfType([Pe.object,Pe.string]),to:Pe.oneOfType([Pe.object,Pe.string]),attributeName:Pe.string,duration:Pe.number,begin:Pe.number,easing:Pe.oneOfType([Pe.string,Pe.func]),steps:Pe.arrayOf(Pe.shape({duration:Pe.number.isRequired,style:Pe.object.isRequired,easing:Pe.oneOfType([Pe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pe.func]),properties:Pe.arrayOf("string"),onAnimationEnd:Pe.func})),children:Pe.oneOfType([Pe.node,Pe.func]),isActive:Pe.bool,canBegin:Pe.bool,onAnimationEnd:Pe.func,shouldReAnimate:Pe.bool,onAnimationStart:Pe.func,onAnimationReStart:Pe.func};Number.isFinite===void 0&&(Number.isFinite=function(t){return typeof t=="number"&&isFinite(t)});Pe.object,Pe.object,Pe.object,Pe.element;Pe.object,Pe.object,Pe.object,Pe.oneOfType([Pe.array,Pe.element]),Pe.any;function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function Jv(t,e,r){return e=fBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fBe(t){var e=dBe(t,"string");return ry(e)==="symbol"?e:String(e)}function dBe(t,e){if(ry(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ry(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bh="recharts-tooltip-wrapper",hBe={visibility:"hidden"};function pBe(t){var e,r=t.coordinate,n=t.translateX,i=t.translateY;return ct(Bh,(e={},Jv(e,"".concat(Bh,"-right"),ne(n)&&r&&ne(r.x)&&n>=r.x),Jv(e,"".concat(Bh,"-left"),ne(n)&&r&&ne(r.x)&&n<r.x),Jv(e,"".concat(Bh,"-bottom"),ne(i)&&r&&ne(r.y)&&i>=r.y),Jv(e,"".concat(Bh,"-top"),ne(i)&&r&&ne(r.y)&&i<r.y),e))}function n4(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&ne(o[n]))return o[n];var u=r[n]-a-i,f=r[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+a,y=l[n]+c;return m>y?Math.max(u,l[n]):Math.max(f,l[n])}function mBe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return Pj({transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")})}function yBe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=n4({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=n4({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=mBe({translateX:u,translateY:f,useTranslate3d:a})):c=hBe,{cssProperties:c,cssClasses:pBe({translateX:u,translateY:f,coordinate:r})}}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function i4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(r),!0).forEach(function(n){Z0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MQ(n.key),n)}}function vBe(t,e,r){return e&&o4(t.prototype,e),r&&o4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xI(t,e)}function xI(t,e){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xI(t,e)}function xBe(t){var e=wBe();return function(){var n=E_(t),i;if(e){var o=E_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return _Be(this,i)}}function _Be(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J0(t)}function J0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E_(t){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E_(t)}function Z0(t,e,r){return e=MQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MQ(t){var e=SBe(t,"string");return xd(e)==="symbol"?e:String(e)}function SBe(t,e){if(xd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s4=1,EBe=function(t){bBe(r,t);var e=xBe(r);function r(){var n;gBe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o)),Z0(J0(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Z0(J0(n),"lastBoundingBox",{width:-1,height:-1}),Z0(J0(n),"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return vBe(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>s4||Math.abs(i.height-this.lastBoundingBox.height)>s4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,o=this.props,s=o.active,a=o.allowEscapeViewBox,l=o.animationDuration,c=o.animationEasing,u=o.children,f=o.coordinate,h=o.hasPayload,p=o.isAnimationActive,m=o.offset,y=o.position,g=o.reverseDirection,b=o.useTranslate3d,v=o.viewBox,x=o.wrapperStyle,S=yBe({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:b,viewBox:v}),_=S.cssClasses,w=S.cssProperties,A=zA(zA(zA({},p&&s&&Pj({transition:"transform ".concat(l,"ms ").concat(c)})),w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},x);return k.createElement("div",{tabIndex:-1,role:"dialog",className:_,style:A,ref:function(I){i.wrapperNode=I}},u)}}]),r}(E.PureComponent),ABe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ys={isSsr:ABe(),get:function(e){return ys[e]},set:function(e,r){if(typeof e=="string")ys[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){ys[i]=e[i]})}}};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function a4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(r),!0).forEach(function(n){Ij(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FQ(n.key),n)}}function TBe(t,e,r){return e&&c4(t.prototype,e),r&&c4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_I(t,e)}function _I(t,e){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_I(t,e)}function IBe(t){var e=OBe();return function(){var n=A_(t),i;if(e){var o=A_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return NBe(this,i)}}function NBe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kBe(t)}function kBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A_(t){return A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A_(t)}function Ij(t,e,r){return e=FQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FQ(t){var e=RBe(t,"string");return _d(e)==="symbol"?e:String(e)}function RBe(t,e){if(_d(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jBe(t){return t.dataKey}function $Be(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(MLe,e)}var Lu=function(t){PBe(r,t);var e=IBe(r);function r(){return CBe(this,r),e.apply(this,arguments)}return TBe(r,[{key:"render",value:function(){var i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,y=i.payloadUniqBy,g=i.position,b=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,S=i.wrapperStyle,_=m??[];f&&_.length&&(_=bQ(m.filter(function(A){return A.value!=null}),y,jBe));var w=_.length>0;return k.createElement(EBe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:w,offset:p,position:g,reverseDirection:b,useTranslate3d:v,viewBox:x,wrapperStyle:S},$Be(c,l4(l4({},this.props),{},{payload:_})))}}]),r}(E.PureComponent);Ij(Lu,"displayName","Tooltip");Ij(Lu,"defaultProps",{allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ys.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var DBe=Jo,MBe=function(){return DBe.Date.now()},FBe=MBe,LBe=/\s/;function BBe(t){for(var e=t.length;e--&&LBe.test(t.charAt(e)););return e}var UBe=BBe,VBe=UBe,WBe=/^\s+/;function zBe(t){return t&&t.slice(0,VBe(t)+1).replace(WBe,"")}var GBe=zBe,qBe=GBe,u4=ol,HBe=Zd,f4=0/0,KBe=/^[-+]0x[0-9a-f]+$/i,YBe=/^0b[01]+$/i,QBe=/^0o[0-7]+$/i,XBe=parseInt;function JBe(t){if(typeof t=="number")return t;if(HBe(t))return f4;if(u4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=u4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qBe(t);var r=YBe.test(t);return r||QBe.test(t)?XBe(t.slice(2),r?2:8):KBe.test(t)?f4:+t}var LQ=JBe,ZBe=ol,GA=FBe,d4=LQ,e4e="Expected a function",t4e=Math.max,r4e=Math.min;function n4e(t,e,r){var n,i,o,s,a,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(e4e);e=d4(e)||0,ZBe(r)&&(u=!!r.leading,f="maxWait"in r,o=f?t4e(d4(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h);function p(w){var A=n,C=i;return n=i=void 0,c=w,s=t.apply(C,A),s}function m(w){return c=w,a=setTimeout(b,e),u?p(w):s}function y(w){var A=w-l,C=w-c,I=e-A;return f?r4e(I,o-C):I}function g(w){var A=w-l,C=w-c;return l===void 0||A>=e||A<0||f&&C>=o}function b(){var w=GA();if(g(w))return v(w);a=setTimeout(b,y(w))}function v(w){return a=void 0,h&&n?p(w):(n=i=void 0,s)}function x(){a!==void 0&&clearTimeout(a),c=0,n=l=i=a=void 0}function S(){return a===void 0?s:v(GA())}function _(){var w=GA(),A=g(w);if(n=arguments,i=this,l=w,A){if(a===void 0)return m(l);if(f)return clearTimeout(a),a=setTimeout(b,e),p(l)}return a===void 0&&(a=setTimeout(b,e)),s}return _.cancel=x,_.flush=S,_}var i4e=n4e,o4e=i4e,s4e=ol,a4e="Expected a function";function l4e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(a4e);return s4e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),o4e(t,e,{leading:n,maxWait:e,trailing:i})}var c4e=l4e;const BQ=ot(c4e);function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function h4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(r),!0).forEach(function(n){u4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u4e(t,e,r){return e=f4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f4e(t){var e=d4e(t,"string");return ny(e)==="symbol"?e:String(e)}function d4e(t,e){if(ny(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ny(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h4e(t,e){return g4e(t)||y4e(t,e)||m4e(t,e)||p4e()}function p4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4e(t,e){if(t){if(typeof t=="string")return p4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p4(t,e)}}function p4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function g4e(t){if(Array.isArray(t))return t}var v4e=E.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,y=m===void 0?0:m,g=t.id,b=t.className,v=t.onResize,x=t.style,S=x===void 0?{}:x,_=E.useRef(null),w=E.useRef();w.current=v,E.useImperativeHandle(e,function(){return Object.assign(_.current,{get current(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current}})});var A=E.useState({containerWidth:i.width,containerHeight:i.height}),C=h4e(A,2),I=C[0],T=C[1],P=E.useCallback(function(N,R){T(function(L){var U=Math.round(N),V=Math.round(R);return L.containerWidth===U&&L.containerHeight===V?L:{containerWidth:U,containerHeight:V}})},[]);E.useEffect(function(){var N=function(F){var G,ce=F[0].contentRect,te=ce.width,be=ce.height;P(te,be),(G=w.current)===null||G===void 0||G.call(w,te,be)};y>0&&(N=BQ(N,y,{trailing:!0,leading:!1}));var R=new ResizeObserver(N),L=_.current.getBoundingClientRect(),U=L.width,V=L.height;return P(U,V),R.observe(_.current),function(){R.disconnect()}},[P,y]);var O=E.useMemo(function(){var N=I.containerWidth,R=I.containerHeight;if(N<0||R<0)return null;dc(Fl(s)||Fl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),dc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Fl(s)?N:s,U=Fl(l)?R:l;r&&r>0&&(L?U=L/r:U&&(L=U*r),h&&U>h&&(U=h)),dc(L>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,U,s,l,u,f,r);var V=!Array.isArray(p)&&Dx.isElement(p)&&ms(p.type).endsWith("Chart");return k.Children.map(p,function(D){return Dx.isElement(D)?E.cloneElement(D,Zv({width:L,height:U},V?{style:Zv({height:"100%",width:"100%",maxHeight:U,maxWidth:L},D.props.style)}:{})):D})},[r,p,l,h,f,u,I,s]);return k.createElement("div",{id:g?"".concat(g):void 0,className:ct("recharts-responsive-container",b),style:Zv(Zv({},S),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:_},O)}),UQ=function(e){return null};UQ.displayName="Cell";function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function m4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(r),!0).forEach(function(n){b4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b4e(t,e,r){return e=x4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x4e(t){var e=_4e(t,"string");return iy(e)==="symbol"?e:String(e)}function _4e(t,e){if(iy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(iy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ou={widthCache:{},cacheCount:0},w4e=2e3,S4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},y4="recharts_measurement_span";function E4e(t){var e=wI({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Gp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ys.isSsr)return{width:0,height:0};var n=E4e(r),i=JSON.stringify({text:e,copyStyle:n});if(ou.widthCache[i])return ou.widthCache[i];try{var o=document.getElementById(y4);o||(o=document.createElement("span"),o.setAttribute("id",y4),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=wI(wI({},S4e),n);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ou.widthCache[i]=l,++ou.cacheCount>w4e&&(ou.cacheCount=0,ou.widthCache={}),l}catch{return{width:0,height:0}}},A4e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function C_(t,e){return I4e(t)||P4e(t,e)||T4e(t,e)||C4e()}function C4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T4e(t,e){if(t){if(typeof t=="string")return g4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g4(t,e)}}function g4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function I4e(t){if(Array.isArray(t))return t}function N4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O4e(n.key),n)}}function k4e(t,e,r){return e&&v4(t.prototype,e),r&&v4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O4e(t){var e=R4e(t,"string");return oy(e)==="symbol"?e:String(e)}function R4e(t,e){if(oy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(oy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,j4e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$4e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},D4e=Object.keys(VQ),Bu="NaN";function M4e(t,e){return t*VQ[e]}var e0=function(){function t(e,r){N4e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!j4e.test(r)&&(this.num=NaN,this.unit=""),D4e.includes(r)&&(this.num=M4e(e,r),this.unit="px")}return k4e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=$4e.exec(r))!==null&&n!==void 0?n:[],o=C_(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}]),t}();function WQ(t){if(t.includes(Bu))return Bu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=b4.exec(e))!==null&&r!==void 0?r:[],i=C_(n,4),o=i[1],s=i[2],a=i[3],l=e0.parse(o??""),c=e0.parse(a??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Bu;e=e.replace(b4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=x4.exec(e))!==null&&f!==void 0?f:[],p=C_(h,4),m=p[1],y=p[2],g=p[3],b=e0.parse(m??""),v=e0.parse(g??""),x=y==="+"?b.add(v):b.subtract(v);if(x.isNaN())return Bu;e=e.replace(x4,x.toString())}return e}var _4=/\(([^()]*)\)/;function F4e(t){for(var e=t;e.includes("(");){var r=_4.exec(e),n=C_(r,2),i=n[1];e=e.replace(_4,WQ(i))}return e}function L4e(t){var e=t.replace(/\s+/g,"");return e=F4e(e),e=WQ(e),e}function B4e(t){try{return L4e(t)}catch{return Bu}}function qA(t){var e=B4e(t.slice(5,-1));return e===Bu?"":e}var U4e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],V4e=["dx","dy","angle","className","breakAll"];function SI(){return SI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SI.apply(this,arguments)}function w4(t,e){if(t==null)return{};var r=W4e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W4e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function S4(t,e){return H4e(t)||q4e(t,e)||G4e(t,e)||z4e()}function z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G4e(t,e){if(t){if(typeof t=="string")return E4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E4(t,e)}}function E4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function H4e(t){if(Array.isArray(t))return t}var zQ=/[ \f\n\r\t\v\u2028\u2029]+/,GQ=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Xe(r)||(n?o=r.toString().split(""):o=r.toString().split(zQ));var s=o.map(function(l){return{word:l,width:Gp(l,i).width}}),a=n?0:Gp(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},K4e=function(e,r,n,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=ne(s),f=a,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(U,V){var D=V.word,F=V.width,G=U[U.length-1];if(G&&(i==null||o||G.width+F+n<Number(i)))G.words.push(D),G.width+=F+n;else{var ce={words:[D],width:F};U.push(ce)}return U},[])},p=h(r),m=function(L){return L.reduce(function(U,V){return U.width>V.width?U:V})};if(!u)return p;for(var y="…",g=function(L){var U=f.slice(0,L),V=GQ({breakAll:c,style:l,children:U+y}).wordsWithComputedWidth,D=h(V),F=D.length>s||m(D).width>Number(i);return[F,D]},b=0,v=f.length-1,x=0,S;b<=v&&x<=f.length-1;){var _=Math.floor((b+v)/2),w=_-1,A=g(w),C=S4(A,2),I=C[0],T=C[1],P=g(_),O=S4(P,1),N=O[0];if(!I&&!N&&(b=_+1),I&&N&&(v=_-1),!I&&N){S=T;break}x++}return S||p},A4=function(e){var r=Xe(e)?[]:e.toString().split(zQ);return[{words:r}]},Y4e=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((r||n)&&!ys.isSsr){var l,c,u=GQ({breakAll:s,children:i,style:o});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return A4(i);return K4e({breakAll:s,children:i,maxLines:a,style:o},l,c,r,n)}return A4(i)},C4="#808080",T_=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,y=m===void 0?"end":m,g=e.fill,b=g===void 0?C4:g,v=w4(e,U4e),x=E.useMemo(function(){return Y4e({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),S=v.dx,_=v.dy,w=v.angle,A=v.className,C=v.breakAll,I=w4(v,V4e);if(!dr(n)||!dr(o))return null;var T=n+(ne(S)?S:0),P=o+(ne(_)?_:0),O;switch(y){case"start":O=qA("calc(".concat(c,")"));break;case"middle":O=qA("calc(".concat((x.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:O=qA("calc(".concat(x.length-1," * -").concat(a,")"));break}var N=[];if(f){var R=x[0].width,L=v.width;N.push("scale(".concat((ne(L)?L/R:1)/R,")"))}return w&&N.push("rotate(".concat(w,", ").concat(T,", ").concat(P,")")),N.length&&(I.transform=N.join(" ")),k.createElement("text",SI({},Ge(I,!0),{x:T,y:P,className:ct("recharts-text",A),textAnchor:p,fill:b.includes("url")?C4:b}),x.map(function(U,V){var D=U.words.join(C?"":" ");return k.createElement("tspan",{x:T,dy:V===0?O:a,key:D},D)}))};function Ma(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Q4e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nj(t){let e,r,n;t.length!==2?(e=Ma,r=(a,l)=>Ma(t(a),l),n=(a,l)=>t(a)-l):(e=t===Ma||t===Q4e?t:X4e,r=t,n=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){const f=i(a,l,c,u-1);return f>c&&n(a[f-1],l)>-n(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function X4e(){return 0}function qQ(t){return t===null?NaN:+t}function*J4e(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const Z4e=Nj(Ma),eUe=Z4e.right;Nj(qQ).center;const Gg=eUe;class T4 extends Map{constructor(e,r=nUe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(P4(this,e))}has(e){return super.has(P4(this,e))}set(e,r){return super.set(tUe(this,e),r)}delete(e){return super.delete(rUe(this,e))}}function P4({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function tUe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function rUe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function nUe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iUe(t=Ma){if(t===Ma)return HQ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function HQ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oUe=Math.sqrt(50),sUe=Math.sqrt(10),aUe=Math.sqrt(2);function P_(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=oUe?10:o>=sUe?5:o>=aUe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=r&&r<2?P_(t,e,r*2):[a,l,c]}function EI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?P_(e,t,r):P_(t,e,r);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(n)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function AI(t,e,r){return e=+e,t=+t,r=+r,P_(t,e,r)[2]}function CI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?AI(e,t,r):AI(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function I4(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function N4(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function KQ(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?HQ:iUe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),m=Math.min(n,Math.floor(e+(l-c)*f/l+h));KQ(t,e,p,m,i)}const o=t[e];let s=r,a=n;for(Uh(t,r,e),i(t[n],o)>0&&Uh(t,r,n);s<a;){for(Uh(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[r],o)===0?Uh(t,r,a):(++a,Uh(t,a,n)),a<=e&&(r=a+1),e<=a&&(n=a-1)}return t}function Uh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function lUe(t,e,r){if(t=Float64Array.from(J4e(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return N4(t);if(e>=1)return I4(t);var n,i=(n-1)*e,o=Math.floor(i),s=I4(KQ(t,o).subarray(0,o+1)),a=N4(t.subarray(o+1));return s+(a-s)*(i-o)}}function cUe(t,e,r=qQ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),s=+r(t[o],o,t),a=+r(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function uUe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $s(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const TI=Symbol("implicit");function kj(){var t=new T4,e=[],r=[],n=TI;function i(o){let s=t.get(o);if(s===void 0){if(n!==TI)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new T4;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return kj(e,r).unknown(n)},Fi.apply(i,arguments),i}function sy(){var t=kj().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,y=p?n:i;o=(y-m)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),m+=(y-m-o*(h-l))*u,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var g=uUe(h).map(function(b){return m+o*b});return r(p?g.reverse():g)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return sy(e(),[n,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Fi.apply(f(),arguments)}function YQ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return YQ(e())},t}function qp(){return YQ(sy.apply(null,arguments).paddingInner(1))}function Oj(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function QQ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function qg(){}var ay=.7,I_=1/ay,hf="\\s*([+-]?\\d+)\\s*",ly="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fUe=/^#([0-9a-f]{3,8})$/,dUe=new RegExp(`^rgb\\(${hf},${hf},${hf}\\)$`),hUe=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),pUe=new RegExp(`^rgba\\(${hf},${hf},${hf},${ly}\\)$`),mUe=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${ly}\\)$`),yUe=new RegExp(`^hsl\\(${ly},${Wo},${Wo}\\)$`),gUe=new RegExp(`^hsla\\(${ly},${Wo},${Wo},${ly}\\)$`),k4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Oj(qg,cy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:O4,formatHex:O4,formatHex8:vUe,formatHsl:bUe,formatRgb:R4,toString:R4});function O4(){return this.rgb().formatHex()}function vUe(){return this.rgb().formatHex8()}function bUe(){return XQ(this).formatHsl()}function R4(){return this.rgb().formatRgb()}function cy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=fUe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?j4(e):r===3?new Dn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?t0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?t0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dUe.exec(t))?new Dn(e[1],e[2],e[3],1):(e=hUe.exec(t))?new Dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pUe.exec(t))?t0(e[1],e[2],e[3],e[4]):(e=mUe.exec(t))?t0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yUe.exec(t))?M4(e[1],e[2]/100,e[3]/100,1):(e=gUe.exec(t))?M4(e[1],e[2]/100,e[3]/100,e[4]):k4.hasOwnProperty(t)?j4(k4[t]):t==="transparent"?new Dn(NaN,NaN,NaN,0):null}function j4(t){return new Dn(t>>16&255,t>>8&255,t&255,1)}function t0(t,e,r,n){return n<=0&&(t=e=r=NaN),new Dn(t,e,r,n)}function xUe(t){return t instanceof qg||(t=cy(t)),t?(t=t.rgb(),new Dn(t.r,t.g,t.b,t.opacity)):new Dn}function PI(t,e,r,n){return arguments.length===1?xUe(t):new Dn(t,e,r,n??1)}function Dn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Oj(Dn,PI,QQ(qg,{brighter(t){return t=t==null?I_:Math.pow(I_,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ay:Math.pow(ay,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dn(hc(this.r),hc(this.g),hc(this.b),N_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$4,formatHex:$4,formatHex8:_Ue,formatRgb:D4,toString:D4}));function $4(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}`}function _Ue(){return`#${Ll(this.r)}${Ll(this.g)}${Ll(this.b)}${Ll((isNaN(this.opacity)?1:this.opacity)*255)}`}function D4(){const t=N_(this.opacity);return`${t===1?"rgb(":"rgba("}${hc(this.r)}, ${hc(this.g)}, ${hc(this.b)}${t===1?")":`, ${t})`}`}function N_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ll(t){return t=hc(t),(t<16?"0":"")+t.toString(16)}function M4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ji(t,e,r,n)}function XQ(t){if(t instanceof Ji)return new Ji(t.h,t.s,t.l,t.opacity);if(t instanceof qg||(t=cy(t)),!t)return new Ji;if(t instanceof Ji)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-e)/a+2:s=(e-r)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ji(s,a,l,t.opacity)}function wUe(t,e,r,n){return arguments.length===1?XQ(t):new Ji(t,e,r,n??1)}function Ji(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Oj(Ji,wUe,QQ(qg,{brighter(t){return t=t==null?I_:Math.pow(I_,t),new Ji(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ay:Math.pow(ay,t),new Ji(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Dn(HA(t>=240?t-240:t+120,i,n),HA(t,i,n),HA(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ji(F4(this.h),r0(this.s),r0(this.l),N_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=N_(this.opacity);return`${t===1?"hsl(":"hsla("}${F4(this.h)}, ${r0(this.s)*100}%, ${r0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function F4(t){return t=(t||0)%360,t<0?t+360:t}function r0(t){return Math.max(0,Math.min(1,t||0))}function HA(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Rj=t=>()=>t;function SUe(t,e){return function(r){return t+r*e}}function EUe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function AUe(t){return(t=+t)==1?JQ:function(e,r){return r-e?EUe(e,r,t):Rj(isNaN(e)?r:e)}}function JQ(t,e){var r=e-t;return r?SUe(t,r):Rj(isNaN(t)?e:t)}const L4=function t(e){var r=AUe(e);function n(i,o){var s=r((i=PI(i)).r,(o=PI(o)).r),a=r(i.g,o.g),l=r(i.b,o.b),c=JQ(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function CUe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function TUe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PUe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=lh(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function IUe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function k_(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function NUe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=lh(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var II=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KA=new RegExp(II.source,"g");function kUe(t){return function(){return t}}function OUe(t){return function(e){return t(e)+""}}function RUe(t,e){var r=II.lastIndex=KA.lastIndex=0,n,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(n=II.exec(t))&&(i=KA.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:k_(n,i)})),r=KA.lastIndex;return r<e.length&&(o=e.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?OUe(l[0].x):kUe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function lh(t,e){var r=typeof e,n;return e==null||r==="boolean"?Rj(e):(r==="number"?k_:r==="string"?(n=cy(e))?(e=n,L4):RUe:e instanceof cy?L4:e instanceof Date?IUe:TUe(e)?CUe:Array.isArray(e)?PUe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?NUe:k_)(t,e)}function jj(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function jUe(t,e){e===void 0&&(e=t,t=lh);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function $Ue(t){return function(){return t}}function O_(t){return+t}var B4=[0,1];function An(t){return t}function NI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:$Ue(isNaN(e)?NaN:.5)}function DUe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function MUe(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=NI(i,n),o=r(s,o)):(n=NI(n,i),o=r(o,s)),function(a){return o(n(a))}}function FUe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=NI(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(a){var l=Gg(t,a,1,n)-1;return o[l](i[l](a))}}function Hg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lS(){var t=B4,e=B4,r=lh,n,i,o,s=An,a,l,c;function u(){var h=Math.min(t.length,e.length);return s!==An&&(s=DUe(t[0],t[h-1])),a=h>2?FUe:MUe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(i((c||(c=a(e,t.map(n),k_)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,O_),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=jj,u()},f.clamp=function(h){return arguments.length?(s=h?!0:An,u()):s!==An},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,i=p,u()}}function $j(){return lS()(An,An)}function LUe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function R_(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function wd(t){return t=R_(Math.abs(t)),t?t[1]:NaN}function BUe(t,e){return function(r,n){for(var i=r.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function UUe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var VUe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uy(t){if(!(e=VUe.exec(t)))throw new Error("invalid format: "+t);var e;return new Dj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uy.prototype=Dj.prototype;function Dj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Dj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WUe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var ZQ;function zUe(t,e){var r=R_(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(ZQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+R_(t,Math.max(0,e+o-1))[0]}function U4(t,e){var r=R_(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const V4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:LUe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>U4(t*100,e),r:U4,s:zUe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function W4(t){return t}var z4=Array.prototype.map,G4=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function GUe(t){var e=t.grouping===void 0||t.thousands===void 0?W4:BUe(z4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?W4:UUe(z4.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=uy(f);var h=f.fill,p=f.align,m=f.sign,y=f.symbol,g=f.zero,b=f.width,v=f.comma,x=f.precision,S=f.trim,_=f.type;_==="n"?(v=!0,_="g"):V4[_]||(x===void 0&&(x=12),S=!0,_="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var w=y==="$"?r:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=y==="$"?n:/[%p]/.test(_)?s:"",C=V4[_],I=/[defgprs%]/.test(_);x=x===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function T(P){var O=w,N=A,R,L,U;if(_==="c")N=C(P)+N,P="";else{P=+P;var V=P<0||1/P<0;if(P=isNaN(P)?l:C(Math.abs(P),x),S&&(P=WUe(P)),V&&+P==0&&m!=="+"&&(V=!1),O=(V?m==="("?m:a:m==="-"||m==="("?"":m)+O,N=(_==="s"?G4[8+ZQ/3]:"")+N+(V&&m==="("?")":""),I){for(R=-1,L=P.length;++R<L;)if(U=P.charCodeAt(R),48>U||U>57){N=(U===46?i+P.slice(R+1):P.slice(R))+N,P=P.slice(0,R);break}}}v&&!g&&(P=e(P,1/0));var D=O.length+P.length+N.length,F=D<b?new Array(b-D+1).join(h):"";switch(v&&g&&(P=e(F+P,F.length?b-N.length:1/0),F=""),p){case"<":P=O+P+N+F;break;case"=":P=O+F+P+N;break;case"^":P=F.slice(0,D=F.length>>1)+O+P+N+F.slice(D);break;default:P=F+O+P+N;break}return o(P)}return T.toString=function(){return f+""},T}function u(f,h){var p=c((f=uy(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(wd(h)/3)))*3,y=Math.pow(10,-m),g=G4[8+m/3];return function(b){return p(y*b)+g}}return{format:c,formatPrefix:u}}var n0,Mj,eX;qUe({thousands:",",grouping:[3],currency:["$",""]});function qUe(t){return n0=GUe(t),Mj=n0.format,eX=n0.formatPrefix,n0}function HUe(t){return Math.max(0,-wd(Math.abs(t)))}function KUe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wd(e)/3)))*3-wd(Math.abs(t)))}function YUe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wd(e)-wd(t))+1}function tX(t,e,r,n){var i=CI(t,e,r),o;switch(n=uy(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=KUe(i,s))&&(n.precision=o),eX(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=YUe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=HUe(i))&&(n.precision=o-(n.type==="%")*2);break}}return Mj(n)}function ll(t){var e=t.domain;return t.ticks=function(r){var n=e();return EI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return tX(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],a=n[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=AI(s,a,r),c===l)return n[i]=s,n[o]=a,e(n);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function j_(){var t=$j();return t.copy=function(){return Hg(t,j_())},Fi.apply(t,arguments),ll(t)}function rX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,O_),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return rX(t).unknown(e)},t=arguments.length?Array.from(t,O_):[0,1],ll(r)}function nX(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function q4(t){return Math.log(t)}function H4(t){return Math.exp(t)}function QUe(t){return-Math.log(-t)}function XUe(t){return-Math.exp(-t)}function JUe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ZUe(t){return t===10?JUe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eVe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function K4(t){return(e,r)=>-t(-e,r)}function Fj(t){const e=t(q4,H4),r=e.domain;let n=10,i,o;function s(){return i=eVe(n),o=ZUe(n),r()[0]<0?(i=K4(i),o=K4(o),t(QUe,XUe)):t(q4,H4),e}return e.base=function(a){return arguments.length?(n=+a,s()):n},e.domain=function(a){return arguments.length?(r(a),s()):r()},e.ticks=a=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),m,y;const g=a==null?10:+a;let b=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(y=h<0?m/o(-h):m*o(h),!(y<c)){if(y>u)break;b.push(y)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(y=h>0?m/o(-h):m*o(h),!(y<c)){if(y>u)break;b.push(y)}b.length*2<g&&(b=EI(c,u,g))}else b=EI(h,p,Math.min(p-h,g)).map(o);return f?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=uy(l)).precision==null&&(l.trim=!0),l=Mj(l)),a===1/0)return l;const c=Math.max(1,n*a/e.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(nX(r(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function iX(){const t=Fj(lS()).domain([1,10]);return t.copy=()=>Hg(t,iX()).base(t.base()),Fi.apply(t,arguments),t}function Y4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Q4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Lj(t){var e=1,r=t(Y4(e),Q4(e));return r.constant=function(n){return arguments.length?t(Y4(e=+n),Q4(e)):e},ll(r)}function oX(){var t=Lj(lS());return t.copy=function(){return Hg(t,oX()).constant(t.constant())},Fi.apply(t,arguments)}function X4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tVe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rVe(t){return t<0?-t*t:t*t}function Bj(t){var e=t(An,An),r=1;function n(){return r===1?t(An,An):r===.5?t(tVe,rVe):t(X4(r),X4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ll(e)}function Uj(){var t=Bj(lS());return t.copy=function(){return Hg(t,Uj()).exponent(t.exponent())},Fi.apply(t,arguments),t}function nVe(){return Uj.apply(null,arguments).exponent(.5)}function J4(t){return Math.sign(t)*t*t}function iVe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function sX(){var t=$j(),e=[0,1],r=!1,n;function i(o){var s=iVe(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(J4(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,O_)).map(J4)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return sX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Fi.apply(i,arguments),ll(i)}function aX(){var t=[],e=[],r=[],n;function i(){var s=0,a=Math.max(1,e.length);for(r=new Array(a-1);++s<a;)r[s-1]=cUe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:e[Gg(r,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ma),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return aX().domain(t).range(e).unknown(n)},Fi.apply(o,arguments)}function lX(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Gg(n,l,0,r)]:o}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return lX().domain([t,e]).range(i).unknown(o)},Fi.apply(ll(s),arguments)}function cX(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[Gg(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cX().domain(t).range(e).unknown(r)},Fi.apply(i,arguments)}const YA=new Date,QA=new Date;function mr(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>mr(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(YA.setTime(+o),QA.setTime(+s),t(YA),t(QA),Math.floor(r(YA,QA))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const $_=mr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):$_);$_.range;const fs=1e3,Ti=fs*60,ds=Ti*60,Ts=ds*24,Vj=Ts*7,Z4=Ts*30,XA=Ts*365,Bl=mr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCSeconds());Bl.range;const Wj=mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs)},(t,e)=>{t.setTime(+t+e*Ti)},(t,e)=>(e-t)/Ti,t=>t.getMinutes());Wj.range;const zj=mr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ti)},(t,e)=>(e-t)/Ti,t=>t.getUTCMinutes());zj.range;const Gj=mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs-t.getMinutes()*Ti)},(t,e)=>{t.setTime(+t+e*ds)},(t,e)=>(e-t)/ds,t=>t.getHours());Gj.range;const qj=mr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ds)},(t,e)=>(e-t)/ds,t=>t.getUTCHours());qj.range;const Kg=mr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ti)/Ts,t=>t.getDate()-1);Kg.range;const cS=mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>t.getUTCDate()-1);cS.range;const uX=mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>Math.floor(t/Ts));uX.range;function zc(t){return mr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ti)/Vj)}const uS=zc(0),D_=zc(1),oVe=zc(2),sVe=zc(3),Sd=zc(4),aVe=zc(5),lVe=zc(6);uS.range;D_.range;oVe.range;sVe.range;Sd.range;aVe.range;lVe.range;function Gc(t){return mr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Vj)}const fS=Gc(0),M_=Gc(1),cVe=Gc(2),uVe=Gc(3),Ed=Gc(4),fVe=Gc(5),dVe=Gc(6);fS.range;M_.range;cVe.range;uVe.range;Ed.range;fVe.range;dVe.range;const Hj=mr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Hj.range;const Kj=mr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Kj.range;const Ps=mr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ps.range;const Is=mr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Is.range;function fX(t,e,r,n,i,o){const s=[[Bl,1,fs],[Bl,5,5*fs],[Bl,15,15*fs],[Bl,30,30*fs],[o,1,Ti],[o,5,5*Ti],[o,15,15*Ti],[o,30,30*Ti],[i,1,ds],[i,3,3*ds],[i,6,6*ds],[i,12,12*ds],[n,1,Ts],[n,2,2*Ts],[r,1,Vj],[e,1,Z4],[e,3,3*Z4],[t,1,XA]];function a(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=Nj(([,,g])=>g).right(s,h);if(p===s.length)return t.every(CI(c/XA,u/XA,f));if(p===0)return $_.every(Math.max(CI(c,u,f),1));const[m,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(y)}return[a,l]}const[hVe,pVe]=fX(Is,Kj,fS,uX,qj,zj),[mVe,yVe]=fX(Ps,Hj,uS,Kg,Gj,Wj);function JA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ZA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function gVe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Wh(i),u=zh(i),f=Wh(o),h=zh(o),p=Wh(s),m=zh(s),y=Wh(a),g=zh(a),b=Wh(l),v=zh(l),x={a:V,A:D,b:F,B:G,c:null,d:oU,e:oU,f:BVe,g:QVe,G:JVe,H:MVe,I:FVe,j:LVe,L:dX,m:UVe,M:VVe,p:ce,q:te,Q:lU,s:cU,S:WVe,u:zVe,U:GVe,V:qVe,w:HVe,W:KVe,x:null,X:null,y:YVe,Y:XVe,Z:ZVe,"%":aU},S={a:be,A:st,b:rt,B:Vt,c:null,d:sU,e:sU,f:n6e,g:h6e,G:m6e,H:e6e,I:t6e,j:r6e,L:pX,m:i6e,M:o6e,p:pt,q:Zt,Q:lU,s:cU,S:s6e,u:a6e,U:l6e,V:c6e,w:u6e,W:f6e,x:null,X:null,y:d6e,Y:p6e,Z:y6e,"%":aU},_={a:T,A:P,b:O,B:N,c:R,d:nU,e:nU,f:RVe,g:rU,G:tU,H:iU,I:iU,j:IVe,L:OVe,m:PVe,M:NVe,p:I,q:TVe,Q:$Ve,s:DVe,S:kVe,u:wVe,U:SVe,V:EVe,w:_Ve,W:AVe,x:L,X:U,y:rU,Y:tU,Z:CVe,"%":jVe};x.x=w(r,x),x.X=w(n,x),x.c=w(e,x),S.x=w(r,S),S.X=w(n,S),S.c=w(e,S);function w(ee,xe){return function(Ee){var q=[],Ze=-1,ke=0,vt=ee.length,$t,Zr,Un;for(Ee instanceof Date||(Ee=new Date(+Ee));++Ze<vt;)ee.charCodeAt(Ze)===37&&(q.push(ee.slice(ke,Ze)),(Zr=eU[$t=ee.charAt(++Ze)])!=null?$t=ee.charAt(++Ze):Zr=$t==="e"?" ":"0",(Un=xe[$t])&&($t=Un(Ee,Zr)),q.push($t),ke=Ze+1);return q.push(ee.slice(ke,Ze)),q.join("")}}function A(ee,xe){return function(Ee){var q=Vh(1900,void 0,1),Ze=C(q,ee,Ee+="",0),ke,vt;if(Ze!=Ee.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(xe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ke=ZA(Vh(q.y,0,1)),vt=ke.getUTCDay(),ke=vt>4||vt===0?M_.ceil(ke):M_(ke),ke=cS.offset(ke,(q.V-1)*7),q.y=ke.getUTCFullYear(),q.m=ke.getUTCMonth(),q.d=ke.getUTCDate()+(q.w+6)%7):(ke=JA(Vh(q.y,0,1)),vt=ke.getDay(),ke=vt>4||vt===0?D_.ceil(ke):D_(ke),ke=Kg.offset(ke,(q.V-1)*7),q.y=ke.getFullYear(),q.m=ke.getMonth(),q.d=ke.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),vt="Z"in q?ZA(Vh(q.y,0,1)).getUTCDay():JA(Vh(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(vt+5)%7:q.w+q.U*7-(vt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,ZA(q)):JA(q)}}function C(ee,xe,Ee,q){for(var Ze=0,ke=xe.length,vt=Ee.length,$t,Zr;Ze<ke;){if(q>=vt)return-1;if($t=xe.charCodeAt(Ze++),$t===37){if($t=xe.charAt(Ze++),Zr=_[$t in eU?xe.charAt(Ze++):$t],!Zr||(q=Zr(ee,Ee,q))<0)return-1}else if($t!=Ee.charCodeAt(q++))return-1}return q}function I(ee,xe,Ee){var q=c.exec(xe.slice(Ee));return q?(ee.p=u.get(q[0].toLowerCase()),Ee+q[0].length):-1}function T(ee,xe,Ee){var q=p.exec(xe.slice(Ee));return q?(ee.w=m.get(q[0].toLowerCase()),Ee+q[0].length):-1}function P(ee,xe,Ee){var q=f.exec(xe.slice(Ee));return q?(ee.w=h.get(q[0].toLowerCase()),Ee+q[0].length):-1}function O(ee,xe,Ee){var q=b.exec(xe.slice(Ee));return q?(ee.m=v.get(q[0].toLowerCase()),Ee+q[0].length):-1}function N(ee,xe,Ee){var q=y.exec(xe.slice(Ee));return q?(ee.m=g.get(q[0].toLowerCase()),Ee+q[0].length):-1}function R(ee,xe,Ee){return C(ee,e,xe,Ee)}function L(ee,xe,Ee){return C(ee,r,xe,Ee)}function U(ee,xe,Ee){return C(ee,n,xe,Ee)}function V(ee){return s[ee.getDay()]}function D(ee){return o[ee.getDay()]}function F(ee){return l[ee.getMonth()]}function G(ee){return a[ee.getMonth()]}function ce(ee){return i[+(ee.getHours()>=12)]}function te(ee){return 1+~~(ee.getMonth()/3)}function be(ee){return s[ee.getUTCDay()]}function st(ee){return o[ee.getUTCDay()]}function rt(ee){return l[ee.getUTCMonth()]}function Vt(ee){return a[ee.getUTCMonth()]}function pt(ee){return i[+(ee.getUTCHours()>=12)]}function Zt(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var xe=w(ee+="",x);return xe.toString=function(){return ee},xe},parse:function(ee){var xe=A(ee+="",!1);return xe.toString=function(){return ee},xe},utcFormat:function(ee){var xe=w(ee+="",S);return xe.toString=function(){return ee},xe},utcParse:function(ee){var xe=A(ee+="",!0);return xe.toString=function(){return ee},xe}}}var eU={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,vVe=/^%/,bVe=/[\\^$*+?|[\]().{}]/g;function tt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function xVe(t){return t.replace(bVe,"\\$&")}function Wh(t){return new RegExp("^(?:"+t.map(xVe).join("|")+")","i")}function zh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function _Ve(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function wVe(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function SVe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function EVe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function AVe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function tU(t,e,r){var n=jr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function rU(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function CVe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function TVe(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function PVe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function nU(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function IVe(t,e,r){var n=jr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function iU(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function NVe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function kVe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function OVe(t,e,r){var n=jr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function RVe(t,e,r){var n=jr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jVe(t,e,r){var n=vVe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function $Ve(t,e,r){var n=jr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function DVe(t,e,r){var n=jr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function oU(t,e){return tt(t.getDate(),e,2)}function MVe(t,e){return tt(t.getHours(),e,2)}function FVe(t,e){return tt(t.getHours()%12||12,e,2)}function LVe(t,e){return tt(1+Kg.count(Ps(t),t),e,3)}function dX(t,e){return tt(t.getMilliseconds(),e,3)}function BVe(t,e){return dX(t,e)+"000"}function UVe(t,e){return tt(t.getMonth()+1,e,2)}function VVe(t,e){return tt(t.getMinutes(),e,2)}function WVe(t,e){return tt(t.getSeconds(),e,2)}function zVe(t){var e=t.getDay();return e===0?7:e}function GVe(t,e){return tt(uS.count(Ps(t)-1,t),e,2)}function hX(t){var e=t.getDay();return e>=4||e===0?Sd(t):Sd.ceil(t)}function qVe(t,e){return t=hX(t),tt(Sd.count(Ps(t),t)+(Ps(t).getDay()===4),e,2)}function HVe(t){return t.getDay()}function KVe(t,e){return tt(D_.count(Ps(t)-1,t),e,2)}function YVe(t,e){return tt(t.getFullYear()%100,e,2)}function QVe(t,e){return t=hX(t),tt(t.getFullYear()%100,e,2)}function XVe(t,e){return tt(t.getFullYear()%1e4,e,4)}function JVe(t,e){var r=t.getDay();return t=r>=4||r===0?Sd(t):Sd.ceil(t),tt(t.getFullYear()%1e4,e,4)}function ZVe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function sU(t,e){return tt(t.getUTCDate(),e,2)}function e6e(t,e){return tt(t.getUTCHours(),e,2)}function t6e(t,e){return tt(t.getUTCHours()%12||12,e,2)}function r6e(t,e){return tt(1+cS.count(Is(t),t),e,3)}function pX(t,e){return tt(t.getUTCMilliseconds(),e,3)}function n6e(t,e){return pX(t,e)+"000"}function i6e(t,e){return tt(t.getUTCMonth()+1,e,2)}function o6e(t,e){return tt(t.getUTCMinutes(),e,2)}function s6e(t,e){return tt(t.getUTCSeconds(),e,2)}function a6e(t){var e=t.getUTCDay();return e===0?7:e}function l6e(t,e){return tt(fS.count(Is(t)-1,t),e,2)}function mX(t){var e=t.getUTCDay();return e>=4||e===0?Ed(t):Ed.ceil(t)}function c6e(t,e){return t=mX(t),tt(Ed.count(Is(t),t)+(Is(t).getUTCDay()===4),e,2)}function u6e(t){return t.getUTCDay()}function f6e(t,e){return tt(M_.count(Is(t)-1,t),e,2)}function d6e(t,e){return tt(t.getUTCFullYear()%100,e,2)}function h6e(t,e){return t=mX(t),tt(t.getUTCFullYear()%100,e,2)}function p6e(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function m6e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ed(t):Ed.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function y6e(){return"+0000"}function aU(){return"%"}function lU(t){return+t}function cU(t){return Math.floor(+t/1e3)}var su,yX,gX;g6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function g6e(t){return su=gVe(t),yX=su.format,su.parse,gX=su.utcFormat,su.utcParse,su}function v6e(t){return new Date(t)}function b6e(t){return t instanceof Date?+t:+new Date(+t)}function Yj(t,e,r,n,i,o,s,a,l,c){var u=$j(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),y=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),v=c("%b %d"),x=c("%B"),S=c("%Y");function _(w){return(l(w)<w?p:a(w)<w?m:s(w)<w?y:o(w)<w?g:n(w)<w?i(w)<w?b:v:r(w)<w?x:S)(w)}return u.invert=function(w){return new Date(f(w))},u.domain=function(w){return arguments.length?h(Array.from(w,b6e)):h().map(v6e)},u.ticks=function(w){var A=h();return t(A[0],A[A.length-1],w??10)},u.tickFormat=function(w,A){return A==null?_:c(A)},u.nice=function(w){var A=h();return(!w||typeof w.range!="function")&&(w=e(A[0],A[A.length-1],w??10)),w?h(nX(A,w)):u},u.copy=function(){return Hg(u,Yj(t,e,r,n,i,o,s,a,l,c))},u}function x6e(){return Fi.apply(Yj(mVe,yVe,Ps,Hj,uS,Kg,Gj,Wj,Bl,yX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _6e(){return Fi.apply(Yj(hVe,pVe,Is,Kj,fS,cS,qj,zj,Bl,gX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dS(){var t=0,e=1,r,n,i,o,s=An,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-r)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),c):[s(0),s(1)]}}return c.range=u(lh),c.rangeRound=u(jj),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vX(){var t=ll(dS()(An));return t.copy=function(){return cl(t,vX())},$s.apply(t,arguments)}function bX(){var t=Fj(dS()).domain([1,10]);return t.copy=function(){return cl(t,bX()).base(t.base())},$s.apply(t,arguments)}function xX(){var t=Lj(dS());return t.copy=function(){return cl(t,xX()).constant(t.constant())},$s.apply(t,arguments)}function Qj(){var t=Bj(dS());return t.copy=function(){return cl(t,Qj()).exponent(t.exponent())},$s.apply(t,arguments)}function w6e(){return Qj.apply(null,arguments).exponent(.5)}function _X(){var t=[],e=An;function r(n){if(n!=null&&!isNaN(n=+n))return e((Gg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ma),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>lUe(t,o/n))},r.copy=function(){return _X(e).domain(t)},$s.apply(r,arguments)}function hS(){var t=0,e=.5,r=1,n=1,i,o,s,a,l,c=An,u,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-o)*(n*y<n*o?a:l),c(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=u(t=+t),o=u(e=+e),s=u(r=+r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(c=y,p):c};function m(y){return function(g){var b,v,x;return arguments.length?([b,v,x]=g,c=jUe(y,[b,v,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(lh),p.rangeRound=m(jj),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return u=y,i=y(t),o=y(e),s=y(r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,p}}function wX(){var t=ll(hS()(An));return t.copy=function(){return cl(t,wX())},$s.apply(t,arguments)}function SX(){var t=Fj(hS()).domain([.1,1,10]);return t.copy=function(){return cl(t,SX()).base(t.base())},$s.apply(t,arguments)}function EX(){var t=Lj(hS());return t.copy=function(){return cl(t,EX()).constant(t.constant())},$s.apply(t,arguments)}function Xj(){var t=Bj(hS());return t.copy=function(){return cl(t,Xj()).exponent(t.exponent())},$s.apply(t,arguments)}function S6e(){return Xj.apply(null,arguments).exponent(.5)}const uU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sy,scaleDiverging:wX,scaleDivergingLog:SX,scaleDivergingPow:Xj,scaleDivergingSqrt:S6e,scaleDivergingSymlog:EX,scaleIdentity:rX,scaleImplicit:TI,scaleLinear:j_,scaleLog:iX,scaleOrdinal:kj,scalePoint:qp,scalePow:Uj,scaleQuantile:aX,scaleQuantize:lX,scaleRadial:sX,scaleSequential:vX,scaleSequentialLog:bX,scaleSequentialPow:Qj,scaleSequentialQuantile:_X,scaleSequentialSqrt:w6e,scaleSequentialSymlog:xX,scaleSqrt:nVe,scaleSymlog:oX,scaleThreshold:cX,scaleTime:x6e,scaleUtc:_6e,tickFormat:tX},Symbol.toStringTag,{value:"Module"}));var E6e=Zd;function A6e(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],s=e(o);if(s!=null&&(a===void 0?s===s&&!E6e(s):r(s,a)))var a=s,l=o}return l}var AX=A6e;function C6e(t,e){return t>e}var T6e=C6e,P6e=AX,I6e=T6e,N6e=sh;function k6e(t){return t&&t.length?P6e(t,N6e,I6e):void 0}var O6e=k6e;const pS=ot(O6e);function R6e(t,e){return t<e}var j6e=R6e,$6e=AX,D6e=j6e,M6e=sh;function F6e(t){return t&&t.length?$6e(t,M6e,D6e):void 0}var L6e=F6e;const mS=ot(L6e);var B6e=dj,U6e=sl,V6e=AQ,W6e=Bn;function z6e(t,e){var r=W6e(t)?B6e:V6e;return r(t,U6e(e))}var G6e=z6e,q6e=SQ,H6e=G6e;function K6e(t,e){return q6e(H6e(t,e),1)}var Y6e=K6e;const Q6e=ot(Y6e);var X6e=Aj;function J6e(t,e){return X6e(t,e)}var Z6e=J6e;const yS=ot(Z6e);var ch=1e9,e5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zj,jt=!0,Di="[DecimalError] ",pc=Di+"Invalid argument: ",Jj=Di+"Exponent out of range: ",uh=Math.floor,Pl=Math.pow,t5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,Cr=1e7,Pt=7,CX=9007199254740991,F_=uh(CX/Pt),le={};le.absoluteValue=le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};le.comparedTo=le.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};le.decimalPlaces=le.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(t){return gs(this,new this.constructor(t))};le.dividedToIntegerBy=le.idiv=function(t){var e=this,r=e.constructor;return gt(gs(e,new r(t),0,1),r.precision)};le.equals=le.eq=function(t){return!this.cmp(t)};le.exponent=function(){return nr(this)};le.greaterThan=le.gt=function(t){return this.cmp(t)>0};le.greaterThanOrEqualTo=le.gte=function(t){return this.cmp(t)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(t){return this.cmp(t)<0};le.lessThanOrEqualTo=le.lte=function(t){return this.cmp(t)<1};le.logarithm=le.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Yn))throw Error(Di+"NaN");if(r.s<1)throw Error(Di+(r.s?"NaN":"-Infinity"));return r.eq(Yn)?new n(0):(jt=!1,e=gs(fy(r,o),fy(t,o),o),jt=!0,gt(e,i))};le.minus=le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?IX(e,t):TX(e,(t.s=-t.s,t))};le.modulo=le.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Di+"NaN");return r.s?(jt=!1,e=gs(r,t,0,1).times(t),jt=!0,r.minus(e)):gt(new n(r),i)};le.naturalExponential=le.exp=function(){return PX(this)};le.naturalLogarithm=le.ln=function(){return fy(this)};le.negated=le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};le.plus=le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TX(e,t):IX(e,(t.s=-t.s,t))};le.precision=le.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(pc+t);if(e=nr(i)+1,n=i.d.length-1,r=n*Pt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};le.squareRoot=le.sqrt=function(){var t,e,r,n,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Di+"NaN")}for(t=nr(a),jt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=$o(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=uh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(o=n,n=o.plus(gs(a,o,s+2)).times(.5),$o(o.d).slice(0,s)===(e=$o(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(e!="9999")break;s+=4}return jt=!0,gt(n,r)};le.times=le.mul=function(t){var e,r,n,i,o,s,a,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,s=l,l=c,c=s),o=[],s=l+c,n=s;n--;)o.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)a=o[i]+p[n]*h[i-n-1]+e,o[i--]=a%Cr|0,e=a/Cr|0;o[i]=(o[i]+e)%Cr|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,jt?gt(t,f.precision):t};le.toDecimalPlaces=le.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ho(t,0,ch),e===void 0?e=n.rounding:Ho(e,0,8),gt(r,t+nr(r)+1,e))};le.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Oc(n,!0):(Ho(t,0,ch),e===void 0?e=i.rounding:Ho(e,0,8),n=gt(new i(n),t+1,e),r=Oc(n,!0,t+1)),r};le.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?Oc(i):(Ho(t,0,ch),e===void 0?e=o.rounding:Ho(e,0,8),n=gt(new o(i),t+nr(i)+1,e),r=Oc(n.abs(),!1,t+nr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var t=this,e=t.constructor;return gt(new e(t),nr(t)+1,e.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(t){var e,r,n,i,o,s,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Yn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Di+"Infinity");return a}if(a.eq(Yn))return a;if(n=l.precision,t.eq(Yn))return gt(a,n);if(e=t.e,r=t.d.length-1,s=e>=r,o=a.s,s){if((r=u<0?-u:u)<=CX){for(i=new l(Yn),e=Math.ceil(n/Pt+4),jt=!1;r%2&&(i=i.times(a),dU(i.d,e)),r=uh(r/2),r!==0;)a=a.times(a),dU(a.d,e);return jt=!0,t.s<0?new l(Yn).div(i):gt(i,n)}}else if(o<0)throw Error(Di+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,a.s=1,jt=!1,i=t.times(fy(a,n+c)),jt=!0,i=PX(i),i.s=o,i};le.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=nr(i),n=Oc(i,r<=o.toExpNeg||r>=o.toExpPos)):(Ho(t,1,ch),e===void 0?e=o.rounding:Ho(e,0,8),i=gt(new o(i),t,e),r=nr(i),n=Oc(i,t<=r||r<=o.toExpNeg,t)),n};le.toSignificantDigits=le.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ho(t,1,ch),e===void 0?e=n.rounding:Ho(e,0,8)),gt(new n(r),t,e)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nr(t),r=t.constructor;return Oc(t,e<=r.toExpNeg||e>=r.toExpPos)};function TX(t,e){var r,n,i,o,s,a,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),jt?gt(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(n=l,o=-o,a=c.length):(n=c,i=s,a=l.length),s=Math.ceil(f/Pt),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Cr|0,l[o]%=Cr;for(r&&(l.unshift(r),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,jt?gt(e,f):e}function Ho(t,e,r){if(t!==~~t||t<e||t>r)throw Error(pc+t)}function $o(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=Pt-n.length,r&&(o+=Xs(r)),o+=n;s=t[e],n=s+"",r=Pt-n.length,r&&(o+=Xs(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var gs=function(){function t(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%Cr|0,s=o/Cr|0;return s&&n.unshift(s),n}function e(n,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*Cr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,l,c,u,f,h,p,m,y,g,b,v,x,S,_,w,A,C,I=n.constructor,T=n.s==i.s?1:-1,P=n.d,O=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(Di+"Division by zero");for(l=n.e-i.e,A=O.length,_=P.length,p=new I(T),m=p.d=[],c=0;O[c]==(P[c]||0);)++c;if(O[c]>(P[c]||0)&&--l,o==null?v=o=I.precision:s?v=o+(nr(n)-nr(i))+1:v=o,v<0)return new I(0);if(v=v/Pt+2|0,c=0,A==1)for(u=0,O=O[0],v++;(c<_||u)&&v--;c++)x=u*Cr+(P[c]||0),m[c]=x/O|0,u=x%O|0;else{for(u=Cr/(O[0]+1)|0,u>1&&(O=t(O,u),P=t(P,u),A=O.length,_=P.length),S=A,y=P.slice(0,A),g=y.length;g<A;)y[g++]=0;C=O.slice(),C.unshift(0),w=O[0],O[1]>=Cr/2&&++w;do u=0,a=e(O,y,A,g),a<0?(b=y[0],A!=g&&(b=b*Cr+(y[1]||0)),u=b/w|0,u>1?(u>=Cr&&(u=Cr-1),f=t(O,u),h=f.length,g=y.length,a=e(f,y,h,g),a==1&&(u--,r(f,A<h?C:O,h))):(u==0&&(a=u=1),f=O.slice()),h=f.length,h<g&&f.unshift(0),r(y,f,g),a==-1&&(g=y.length,a=e(O,y,A,g),a<1&&(u++,r(y,A<g?C:O,g))),g=y.length):a===0&&(u++,y=[0]),m[c++]=u,a&&y[0]?y[g++]=P[S]||0:(y=[P[S]],g=1);while((S++<_||y[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=l,gt(p,s?o+nr(p)+1:o)}}();function PX(t,e){var r,n,i,o,s,a,l=0,c=0,u=t.constructor,f=u.precision;if(nr(t)>16)throw Error(Jj+nr(t));if(!t.s)return new u(Yn);for(e==null?(jt=!1,a=f):a=e,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(Pl(2,c))/Math.LN10*2+5|0,a+=n,r=i=o=new u(Yn),u.precision=a;;){if(i=gt(i.times(t),a),r=r.times(++l),s=o.plus(gs(i,r,a)),$o(s.d).slice(0,a)===$o(o.d).slice(0,a)){for(;c--;)o=gt(o.times(o),a);return u.precision=f,e==null?(jt=!0,gt(o,f)):o}o=s}}function nr(t){for(var e=t.e*Pt,r=t.d[0];r>=10;r/=10)e++;return e}function eC(t,e,r){if(e>t.LN10.sd())throw jt=!0,r&&(t.precision=r),Error(Di+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function Xs(t){for(var e="";t--;)e+="0";return e}function fy(t,e){var r,n,i,o,s,a,l,c,u,f=1,h=10,p=t,m=p.d,y=p.constructor,g=y.precision;if(p.s<1)throw Error(Di+(p.s?"NaN":"-Infinity"));if(p.eq(Yn))return new y(0);if(e==null?(jt=!1,c=g):c=e,p.eq(10))return e==null&&(jt=!0),eC(y,c);if(c+=h,y.precision=c,r=$o(m),n=r.charAt(0),o=nr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=$o(p.d),n=r.charAt(0),f++;o=nr(p),n>1?(p=new y("0."+r),o++):p=new y(n+"."+r.slice(1))}else return l=eC(y,c+2,g).times(o+""),p=fy(new y(n+"."+r.slice(1)),c-h).plus(l),y.precision=g,e==null?(jt=!0,gt(p,g)):p;for(a=s=p=gs(p.minus(Yn),p.plus(Yn),c),u=gt(p.times(p),c),i=3;;){if(s=gt(s.times(u),c),l=a.plus(gs(s,new y(i),c)),$o(l.d).slice(0,c)===$o(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(eC(y,c+2,g).times(o+""))),a=gs(a,new y(f),c),y.precision=g,e==null?(jt=!0,gt(a,g)):a;a=l,i+=2}}function fU(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=uh(r/Pt),t.d=[],n=(r+1)%Pt,r<0&&(n+=Pt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Pt;n<i;)t.d.push(+e.slice(n,n+=Pt));e=e.slice(n),n=Pt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),jt&&(t.e>F_||t.e<-F_))throw Error(Jj+r)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,r){var n,i,o,s,a,l,c,u,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(n=e-s,n<0)n+=Pt,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Pt),o=f.length,u>=o)return t;for(c=o=f[u],s=1;o>=10;o/=10)s++;n%=Pt,i=n-Pt+s}if(r!==void 0&&(o=Pl(10,s-i-1),a=c/o%10|0,l=e<0||f[u+1]!==void 0||c%o,l=r<4?(a||l)&&(r==0||r==(t.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?i>0?c/Pl(10,s-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(o=nr(t),f.length=1,e=e-o-1,f[0]=Pl(10,(Pt-e%Pt)%Pt),t.e=uh(-e/Pt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,o=1,u--):(f.length=u+1,o=Pl(10,Pt-n),f[u]=i>0?(c/Pl(10,s-i)%Pl(10,i)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==Cr&&(f[0]=1,++t.e);break}else{if(f[u]+=o,f[u]!=Cr)break;f[u--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(jt&&(t.e>F_||t.e<-F_))throw Error(Jj+nr(t));return t}function IX(t,e){var r,n,i,o,s,a,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),jt?gt(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,a=f.length):(r=f,n=c,a=l.length),i=Math.max(Math.ceil(p/Pt),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,a=f.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Cr-1;--l[o],l[i]+=Cr}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,jt?gt(e,p):e):new h(0)}function Oc(t,e,r){var n,i=nr(t),o=$o(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Xs(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Xs(-i-1)+o,r&&(n=r-s)>0&&(o+=Xs(n))):i>=s?(o+=Xs(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Xs(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Xs(n))),t.s<0?"-"+o:o}function dU(t,e){if(t.length>e)return t.length=e,!0}function NX(t){var e,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(pc+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return fU(s,o.toString())}else if(typeof o!="string")throw Error(pc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,t5e.test(o))fU(s,o);else throw Error(pc+o)}if(i.prototype=le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=NX,i.config=i.set=r5e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function r5e(t){if(!t||typeof t!="object")throw Error(Di+"Object expected");var e,r,n,i=["precision",1,ch,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(uh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(pc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(pc+r+": "+n);return this}var Zj=NX(e5e);Yn=new Zj(1);const mt=Zj;function n5e(t){return a5e(t)||s5e(t)||o5e(t)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5e(t,e){if(t){if(typeof t=="string")return kI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kI(t,e)}}function s5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function a5e(t){if(Array.isArray(t))return kI(t)}function kI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var l5e=function(e){return e},kX={"@@functional/placeholder":!0},OX=function(e){return e===kX},hU=function(e){return function r(){return arguments.length===0||arguments.length===1&&OX(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},c5e=function t(e,r){return e===1?r:hU(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==kX}).length;return s>=e?r.apply(void 0,i):t(e-s,hU(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(f){return OX(f)?l.shift():f});return r.apply(void 0,n5e(u).concat(l))}))})},gS=function(e){return c5e(e.length,e)},OI=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},u5e=gS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),f5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return l5e;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},RI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},RX=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(a,l){return a===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function d5e(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function h5e(t,e,r){for(var n=new mt(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var p5e=gS(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),m5e=gS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),y5e=gS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const vS={rangeStep:h5e,getDigitCount:d5e,interpolateNumber:p5e,uninterpolateNumber:m5e,uninterpolateTruncation:y5e};function jI(t){return b5e(t)||v5e(t)||jX(t)||g5e()}function g5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function b5e(t){if(Array.isArray(t))return $I(t)}function dy(t,e){return w5e(t)||_5e(t,e)||jX(t,e)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jX(t,e){if(t){if(typeof t=="string")return $I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $I(t,e)}}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function w5e(t){if(Array.isArray(t))return t}function $X(t){var e=dy(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function DX(t,e,r){if(t.lte(0))return new mt(0);var n=vS.getDigitCount(t.toNumber()),i=new mt(10).pow(n),o=t.div(i),s=n!==1?.05:.1,a=new mt(Math.ceil(o.div(s).toNumber())).add(r).mul(s),l=a.mul(i);return e?l:new mt(Math.ceil(l))}function S5e(t,e,r){var n=1,i=new mt(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new mt(10).pow(vS.getDigitCount(t)-1),i=new mt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new mt(Math.floor(t)))}else t===0?i=new mt(Math.floor((e-1)/2)):r||(i=new mt(Math.floor(t)));var s=Math.floor((e-1)/2),a=f5e(u5e(function(l){return i.add(new mt(l-s).mul(n)).toNumber()}),OI);return a(0,e)}function MX(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var o=DX(new mt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new mt(0):(s=new mt(t).add(e).div(2),s=s.sub(new mt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new mt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>r?MX(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,a=e>0?a:a+(r-c)),{step:o,tickMin:s.sub(new mt(a).mul(o)),tickMax:s.add(new mt(l).mul(o))})}function E5e(t){var e=dy(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=$X([r,n]),l=dy(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(jI(OI(0,i-1).map(function(){return 1/0}))):[].concat(jI(OI(0,i-1).map(function(){return-1/0})),[u]);return r>n?RI(f):f}if(c===u)return S5e(c,i,o);var h=MX(c,u,s,o),p=h.step,m=h.tickMin,y=h.tickMax,g=vS.rangeStep(m,y.add(new mt(.1).mul(p)),p);return r>n?RI(g):g}function A5e(t,e){var r=dy(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=$X([n,i]),a=dy(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=DX(new mt(c).sub(l).div(u-1),o,0),h=[].concat(jI(vS.rangeStep(new mt(l),new mt(c).sub(new mt(.99).mul(f)),f)),[c]);return n>i?RI(h):h}var C5e=RX(E5e),T5e=RX(A5e),P5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L_.apply(this,arguments)}function I5e(t,e){return R5e(t)||O5e(t,e)||k5e(t,e)||N5e()}function N5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5e(t,e){if(t){if(typeof t=="string")return pU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pU(t,e)}}function pU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function R5e(t){if(Array.isArray(t))return t}function j5e(t,e){if(t==null)return{};var r=$5e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $5e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Yg(t){var e=t.offset,r=t.layout,n=t.width,i=t.dataKey,o=t.data,s=t.dataPointFormatter,a=t.xAxis,l=t.yAxis,c=j5e(t,P5e),u=Ge(c),f=o.map(function(h){var p=s(h,i),m=p.x,y=p.y,g=p.value,b=p.errorVal;if(!b)return null;var v=[],x,S;if(Array.isArray(b)){var _=I5e(b,2);x=_[0],S=_[1]}else x=S=b;if(r==="vertical"){var w=a.scale,A=y+e,C=A+n,I=A-n,T=w(g-x),P=w(g+S);v.push({x1:P,y1:C,x2:P,y2:I}),v.push({x1:T,y1:A,x2:P,y2:A}),v.push({x1:T,y1:C,x2:T,y2:I})}else if(r==="horizontal"){var O=l.scale,N=m+e,R=N-n,L=N+n,U=O(g-x),V=O(g+S);v.push({x1:R,y1:V,x2:L,y2:V}),v.push({x1:N,y1:U,x2:N,y2:V}),v.push({x1:R,y1:U,x2:L,y2:U})}return k.createElement(Jt,L_({className:"recharts-errorBar",key:"bar-".concat(v.map(function(D){return"".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))},u),v.map(function(D){return k.createElement("line",L_({},D,{key:"line-".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))}))});return k.createElement(Jt,{className:"recharts-errorBars"},f)}Yg.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Yg.displayName="ErrorBar";function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(n){D5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D5e(t,e,r){return e=M5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M5e(t){var e=F5e(t,"string");return hy(e)==="symbol"?e:String(e)}function F5e(t,e){if(hy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FX=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Co(r,Jm);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(n||[]).reduce(function(l,c){var u=c.item,f=c.props,h=f.sectors||f.data||[];return l.concat(h.map(function(p){return{type:s.props.iconType||u.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):a=(n||[]).map(function(l){var c=l.item,u=c.props,f=u.dataKey,h=u.name,p=u.legendType,m=u.hide;return{inactive:m,dataKey:f,type:s.props.iconType||p||"square",color:e$(c),value:h||f,payload:c.props}}),tC(tC(tC({},s.props),Jm.getWithHeight(s,i)),{},{payload:a,item:s})};function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function yU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(r),!0).forEach(function(n){pf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pf(t,e,r){return e=L5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L5e(t){var e=B5e(t,"string");return py(e)==="symbol"?e:String(e)}function B5e(t,e){if(py(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(py(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gU(t){return z5e(t)||W5e(t)||V5e(t)||U5e()}function U5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V5e(t,e){if(t){if(typeof t=="string")return DI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DI(t,e)}}function W5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z5e(t){if(Array.isArray(t))return DI(t)}function DI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oi(t,e,r){return Xe(t)||Xe(e)?r:dr(e)?ki(t,e,r):Me(e)?e(t):r}function Hp(t,e,r,n){var i=Q6e(t,function(a){return oi(a,e)});if(r==="number"){var o=i.filter(function(a){return ne(a)||parseFloat(a)});return o.length?[mS(o),pS(o)]:[1/0,-1/0]}var s=n?i.filter(function(a){return!Xe(a)}):i;return s.map(function(a){return dr(a)||a instanceof Date?a:""})}var G5e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,f=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(ro(f-u)!==ro(h-f)){var m=[];if(ro(h-f)===ro(l[1]-l[0])){p=h;var y=f+l[1]-l[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{p=u;var g=h+l[1]-l[0];m[0]=Math.min(f,(g+f)/2),m[1]=Math.max(f,(g+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var v=Math.min(u,h),x=Math.max(u,h);if(e>(v+f)/2&&e<=(x+f)/2){s=i[c].index;break}}}else for(var S=0;S<a;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<a-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===a-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},e$=function(e){var r=e,n=r.type.displayName,i=e.props,o=i.stroke,s=i.fill,a;switch(n){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},q5e=function(e){var r=e.barSize,n=e.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var o={},s=Object.keys(i),a=0,l=s.length;a<l;a++)for(var c=i[s[a]].stackGroups,u=Object.keys(c),f=0,h=u.length;f<h;f++){var p=c[u[f]],m=p.items,y=p.cateAxisId,g=m.filter(function(x){return ms(x.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].props.barSize,v=g[0].props[y];o[v]||(o[v]=[]),o[v].push({item:g[0],stackList:g.slice(1),barSize:Xe(b)?r:b})}}return o},H5e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=pd(r,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(S,_){return S+_.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var y=(i-m)/2>>0,g={offset:y-c,size:0};u=s.reduce(function(S,_){var w={item:_.item,position:{offset:g.offset+g.size+c,size:h?p:_.barSize}},A=[].concat(gU(S),[w]);return g=A[A.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(C){A.push({item:C,position:g})}),A},f)}else{var b=pd(n,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var v=(i-2*b-(l-1)*c)/l;v>1&&(v>>=0);var x=a===+a?Math.min(v,a):v;u=s.reduce(function(S,_,w){var A=[].concat(gU(S),[{item:_.item,position:{offset:b+(v+c)*w+(v-x)/2,size:x}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},f)}return u},K5e=function(e,r,n,i){var o=n.children,s=n.width,a=n.margin,l=s-(a.left||0)-(a.right||0),c=FX({children:o,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,m=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&ne(e[p]))return _i(_i({},e),{},pf({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&ne(e[m]))return _i(_i({},e),{},pf({},m,e[m]+(h||0)))}return e},Y5e=function(e,r,n){return Xe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},LX=function(e,r,n,i,o){var s=r.props.children,a=Oi(s,Yg).filter(function(c){return Y5e(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=oi(u,n,0),h=Array.isArray(f)?[mS(f),pS(f)]:[f,f],p=l.reduce(function(m,y){var g=oi(u,y,0),b=h[0]-Math.abs(Array.isArray(g)?g[0]:g),v=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Q5e=function(e,r,n,i,o){var s=r.map(function(a){return LX(e,a,n,o,i)}).filter(function(a){return!Xe(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},BX=function(e,r,n,i,o){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&LX(e,l,c,i)||Hp(e,c,n,o)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},UX=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},vU=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(s=!0),l.coordinate});return o||a.push(r),s||a.push(n),a},zs=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ro(a[0]-a[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Vg(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},rC=new WeakMap,i0=function(e,r){if(typeof r!="function")return e;rC.has(e)||rC.set(e,new WeakMap);var n=rC.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},X5e=function(e,r,n){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:sy(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:j_(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:qp(),realScaleType:"point"}:o==="category"?{scale:sy(),realScaleType:"band"}:{scale:j_(),realScaleType:"linear"};if(Ug(i)){var l="scale".concat(tS(i));return{scale:(uU[l]||qp)(),realScaleType:uU[l]?l:"point"}}return Me(i)?{scale:i}:{scale:qp(),realScaleType:"point"}},bU=1e-4,J5e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-bU,s=Math.max(i[0],i[1])+bU,a=e(r[0]),l=e(r[n-1]);(a<o||a>s||l<o||l>s)&&e.domain([r[0],r[n-1]])}},Z5e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},eWe=function(e,r){if(!r||r.length!==2||!ne(r[0])||!ne(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!ne(e[0])||e[0]<n)&&(o[0]=n),(!ne(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},tWe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0,a=0;a<r;++a){var l=Vg(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=o,e[a][n][1]=o+l,o=e[a][n][1]):(e[a][n][0]=s,e[a][n][1]=s+l,s=e[a][n][1])}},rWe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var a=Vg(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=o,e[s][n][1]=o+a,o=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},nWe={sign:tWe,expand:ZOe,none:md,silhouette:eRe,wiggle:tRe,positive:rWe},iWe=function(e,r,n){var i=r.map(function(a){return a.props.dataKey}),o=nWe[n],s=JOe().keys(i).value(function(a,l){return+oi(a,l,0)}).order(tI).offset(o);return s(e)},oWe=function(e,r,n,i,o,s){if(!e)return null;var a=s?r.reverse():r,l={},c=a.reduce(function(f,h){var p=h.props,m=p.stackId,y=p.hide;if(y)return f;var g=h.props[n],b=f[g]||{hasStack:!1,stackGroups:{}};if(dr(m)){var v=b.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};v.items.push(h),b.hasStack=!0,b.stackGroups[m]=v}else b.stackGroups[Wg("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return _i(_i({},f),{},pf({},g,b))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,g){var b=p.stackGroups[g];return _i(_i({},y),{},pf({},g,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:iWe(e,b.items,o)}))},m)}return _i(_i({},f),{},pf({},h,p))},u)},sWe=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,a=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=C5e(c,o,a);return e.domain([mS(u),pS(u)]),{niceTicks:u}}if(o&&i==="number"){var f=e.domain(),h=T5e(f,o,a);return{niceTicks:h}}return null},xU=function(e){var r=e.axis,n=e.ticks,i=e.bandSize,o=e.entry,s=e.index,a=e.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Xe(o[r.dataKey])){var l=a_(n,"value",o[r.dataKey]);if(l)return l.coordinate+i/2}return n[s]?n[s].coordinate+i/2:null}var c=oi(o,Xe(a)?r.dataKey:a);return Xe(c)?null:r.scale(c)},_U=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var l=oi(s,r.dataKey,r.domain[a]);return Xe(l)?null:r.scale(l)-o/2+i},aWe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},lWe=function(e,r){var n=e.props.stackId;if(dr(n)){var i=r[n];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},cWe=function(e){return e.reduce(function(r,n){return[mS(n.concat([r[0]]).filter(ne)),pS(n.concat([r[1]]).filter(ne))]},[1/0,-1/0])},VX=function(e,r,n){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,u){var f=cWe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},wU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MI=function(e,r,n){if(Me(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ne(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(wU.test(e[0])){var o=+wU.exec(e[0])[1];i[0]=r[0]-o}else Me(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ne(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(SU.test(e[1])){var s=+SU.exec(e[1])[1];i[1]=r[1]+s}else Me(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},B_=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=Tj(r,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],u=o[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},EU=function(e,r,n){return!e||!e.length||yS(e,ki(n,"type.defaultProps.domain"))?r:e},WX=function(e,r){var n=e.props,i=n.dataKey,o=n.name,s=n.unit,a=n.formatter,l=n.tooltipType,c=n.chartType;return _i(_i({},Ge(e)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:e$(e),value:oi(r,i),type:l,payload:r,chartType:c})};function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function AU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AU(Object(r),!0).forEach(function(n){uWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uWe(t,e,r){return e=fWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fWe(t){var e=dWe(t,"string");return my(e)==="symbol"?e:String(e)}function dWe(t,e){if(my(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(my(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U_=Math.PI/180,hWe=function(e){return e*180/Math.PI},Gr=function(e,r,n,i){return{x:e+Math.cos(-U_*i)*n,y:r+Math.sin(-U_*i)*n}},pWe=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},mWe=function(e,r){var n=e.x,i=e.y,o=r.cx,s=r.cy,a=pWe({x:n,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(n-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:hWe(c),angleInRadian:c}},yWe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},gWe=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},TU=function(e,r){var n=e.x,i=e.y,o=mWe({x:n,y:i},r),s=o.radius,a=o.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=yWe(r),f=u.startAngle,h=u.endAngle,p=a,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?CU(CU({},r),{},{radius:s,angle:gWe(p,r)}):null};function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}var vWe=["offset"];function bWe(t){return SWe(t)||wWe(t)||_We(t)||xWe()}function xWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _We(t,e){if(t){if(typeof t=="string")return FI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FI(t,e)}}function wWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SWe(t){if(Array.isArray(t))return FI(t)}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EWe(t,e){if(t==null)return{};var r=AWe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AWe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function PU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(r),!0).forEach(function(n){CWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CWe(t,e,r){return e=TWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TWe(t){var e=PWe(t,"string");return yy(e)==="symbol"?e:String(e)}function PWe(t,e){if(yy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gy.apply(this,arguments)}var IWe=function(e){var r=e.value,n=e.formatter,i=Xe(e.children)?r:e.children;return Me(n)?n(i):i},NWe=function(e,r){var n=ro(r-e),i=Math.min(Math.abs(r-e),360);return n*i},kWe=function(e,r,n){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,y=l.clockWise,g=(f+h)/2,b=NWe(p,m),v=b>=0?1:-1,x,S;i==="insideStart"?(x=p+v*s,S=y):i==="insideEnd"?(x=m-v*s,S=!y):i==="end"&&(x=m+v*s,S=y),S=b<=0?S:!S;var _=Gr(c,u,g,x),w=Gr(c,u,g,x+(S?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(w.x,",").concat(w.y),C=Xe(e.id)?Wg("recharts-radial-line-"):e.id;return k.createElement("text",gy({},n,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",a)}),k.createElement("defs",null,k.createElement("path",{id:C,d:A})),k.createElement("textPath",{xlinkHref:"#".concat(C)},r))},OWe=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,h=(u+f)/2;if(i==="outside"){var p=Gr(s,a,c+n,h),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,b=Gr(s,a,g,h),v=b.x,x=b.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},RWe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,s=r,a=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",y=c>=0?1:-1,g=y*i,b=y>0?"end":"start",v=y>0?"start":"end";if(o==="top"){var x={x:a+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return or(or({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:a+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return or(or({},S),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var _={x:a-g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return or(or({},_),n?{width:Math.max(_.x-n.x,0),height:u}:{})}if(o==="right"){var w={x:a+c+g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return or(or({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:u}:{})}var A=n?{width:c,height:u}:{};return o==="insideLeft"?or({x:a+g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},A):o==="insideRight"?or({x:a+c-g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideTop"?or({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):o==="insideBottom"?or({x:a+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},A):o==="insideTopLeft"?or({x:a+g,y:l+h,textAnchor:v,verticalAnchor:m},A):o==="insideTopRight"?or({x:a+c-g,y:l+h,textAnchor:b,verticalAnchor:m},A):o==="insideBottomLeft"?or({x:a+g,y:l+u-h,textAnchor:v,verticalAnchor:p},A):o==="insideBottomRight"?or({x:a+c-g,y:l+u-h,textAnchor:b,verticalAnchor:p},A):eh(o)&&(ne(o.x)||Fl(o.x))&&(ne(o.y)||Fl(o.y))?or({x:a+pd(o.x,c),y:l+pd(o.y,u),textAnchor:"end",verticalAnchor:"end"},A):or({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},jWe=function(e){return"cx"in e&&ne(e.cx)};function un(t){var e=t.offset,r=e===void 0?5:e,n=EWe(t,vWe),i=or({offset:r},n),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!o||Xe(a)&&Xe(l)&&!E.isValidElement(c)&&!Me(c))return null;if(E.isValidElement(c))return E.cloneElement(c,i);var p;if(Me(c)){if(p=E.createElement(c,i),E.isValidElement(p))return p}else p=IWe(i);var m=jWe(o),y=Ge(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return kWe(i,p,y);var g=m?OWe(i):RWe(i);return k.createElement(T_,gy({className:ct("recharts-label",f)},y,g,{breakAll:h}),p)}un.displayName="Label";var zX=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,y=e.width,g=e.height,b=e.clockWise,v=e.labelViewBox;if(v)return v;if(ne(y)&&ne(g)){if(ne(f)&&ne(h))return{x:f,y:h,width:y,height:g};if(ne(p)&&ne(m))return{x:p,y:m,width:y,height:g}}return ne(f)&&ne(h)?{x:f,y:h,width:0,height:0}:ne(r)&&ne(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},$We=function(e,r){return e?e===!0?k.createElement(un,{key:"label-implicit",viewBox:r}):dr(e)?k.createElement(un,{key:"label-implicit",viewBox:r,value:e}):E.isValidElement(e)?e.type===un?E.cloneElement(e,{key:"label-implicit",viewBox:r}):k.createElement(un,{key:"label-implicit",content:e,viewBox:r}):Me(e)?k.createElement(un,{key:"label-implicit",content:e,viewBox:r}):eh(e)?k.createElement(un,gy({viewBox:r},e,{key:"label-implicit"})):null:null},DWe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=zX(e),s=Oi(i,un).map(function(l,c){return E.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return s;var a=$We(e.label,r||o);return[a].concat(bWe(s))};un.parseViewBox=zX;un.renderCallByParent=DWe;function MWe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var FWe=MWe;const LWe=ot(FWe);function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}var BWe=["valueAccessor"],UWe=["data","dataKey","clockWise","id","textBreakAll"];function VWe(t){return qWe(t)||GWe(t)||zWe(t)||WWe()}function WWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zWe(t,e){if(t){if(typeof t=="string")return LI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(t,e)}}function GWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qWe(t){if(Array.isArray(t))return LI(t)}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V_.apply(this,arguments)}function IU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(r),!0).forEach(function(n){HWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HWe(t,e,r){return e=KWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KWe(t){var e=YWe(t,"string");return vy(e)==="symbol"?e:String(e)}function YWe(t,e){if(vy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kU(t,e){if(t==null)return{};var r=QWe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QWe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var XWe=function(e){return Array.isArray(e.value)?LWe(e.value):e.value};function Fa(t){var e=t.valueAccessor,r=e===void 0?XWe:e,n=kU(t,BWe),i=n.data,o=n.dataKey,s=n.clockWise,a=n.id,l=n.textBreakAll,c=kU(n,UWe);return!i||!i.length?null:k.createElement(Jt,{className:"recharts-label-list"},i.map(function(u,f){var h=Xe(o)?r(u,f):oi(u&&u.payload,o),p=Xe(a)?{}:{id:"".concat(a,"-").concat(f)};return k.createElement(un,V_({},Ge(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:un.parseViewBox(Xe(s)?u:NU(NU({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Fa.displayName="LabelList";function JWe(t,e){return t?t===!0?k.createElement(Fa,{key:"labelList-implicit",data:e}):k.isValidElement(t)||Me(t)?k.createElement(Fa,{key:"labelList-implicit",data:e,content:t}):eh(t)?k.createElement(Fa,V_({data:e},t,{key:"labelList-implicit"})):null:null}function ZWe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Oi(n,Fa).map(function(s,a){return E.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!r)return i;var o=JWe(t.label,e);return[o].concat(VWe(i))}Fa.renderCallByParent=ZWe;function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function BI(){return BI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BI.apply(this,arguments)}function OU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(r),!0).forEach(function(n){e8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e8e(t,e,r){return e=t8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t8e(t){var e=r8e(t,"string");return by(e)==="symbol"?e:String(e)}function r8e(t,e){if(by(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(by(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n8e=function(e,r){var n=ro(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},o0=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,f=Math.asin(l/u)/U_,h=c?o:o+s*f,p=Gr(r,n,u,h),m=Gr(r,n,i,h),y=c?o-s*f:o,g=Gr(r,n,u*Math.cos(f*U_),y);return{center:p,circleTangency:m,lineTangency:g,theta:f}},GX=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=n8e(s,a),c=s+l,u=Gr(r,n,o,s),f=Gr(r,n,o,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Gr(r,n,i,s),m=Gr(r,n,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},i8e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=ro(u-c),h=o0({cx:r,cy:n,radius:o,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,y=h.theta,g=o0({cx:r,cy:n,radius:o,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),b=g.circleTangency,v=g.lineTangency,x=g.theta,S=l?Math.abs(c-u):Math.abs(c-u)-y-x;if(S<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):GX({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var w=o0({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=w.circleTangency,C=w.lineTangency,I=w.theta,T=o0({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=T.circleTangency,O=T.lineTangency,N=T.theta,R=l?Math.abs(c-u):Math.abs(c-u)-I-N;if(R<0&&s===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},o8e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qX=function(e){var r=RU(RU({},o8e),e),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,a=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<o||u===f)return null;var p=ct("recharts-sector",h),m=s-o,y=pd(a,m,0,!0),g;return y>0&&Math.abs(u-f)<360?g=i8e({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):g=GX({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:f}),k.createElement("path",BI({},Ge(r,!0),{className:p,d:g,role:"img"}))};function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function UI(){return UI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UI.apply(this,arguments)}function jU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $U(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jU(Object(r),!0).forEach(function(n){s8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s8e(t,e,r){return e=a8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a8e(t){var e=l8e(t,"string");return xy(e)==="symbol"?e:String(e)}function l8e(t,e){if(xy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DU={curveBasisClosed:UOe,curveBasisOpen:VOe,curveBasis:BOe,curveBumpX:COe,curveBumpY:TOe,curveLinearClosed:WOe,curveLinear:nS,curveMonotoneX:zOe,curveMonotoneY:GOe,curveNatural:qOe,curveStep:HOe,curveStepAfter:YOe,curveStepBefore:KOe},s0=function(e){return e.x===+e.x&&e.y===+e.y},Gh=function(e){return e.x},qh=function(e){return e.y},c8e=function(e,r){if(Me(e))return e;var n="curve".concat(tS(e));return(n==="curveMonotone"||n==="curveBump")&&r?DU["".concat(n).concat(r==="vertical"?"Y":"X")]:DU[n]||nS},u8e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=c8e(n,a),f=c?o.filter(function(y){return s0(y)}):o,h;if(Array.isArray(s)){var p=c?s.filter(function(y){return s0(y)}):s,m=f.map(function(y,g){return $U($U({},y),{},{base:p[g]})});return a==="vertical"?h=Yv().y(qh).x1(Gh).x0(function(y){return y.base.x}):h=Yv().x(Gh).y1(qh).y0(function(y){return y.base.y}),h.defined(s0).curve(u),h(m)}return a==="vertical"&&ne(s)?h=Yv().y(qh).x1(Gh).x0(s):ne(s)?h=Yv().x(Gh).y1(qh).y0(s):h=WY().x(Gh).y(qh),h.defined(s0).curve(u),h(f)},VI=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?u8e(e):i;return k.createElement("path",UI({},Ge(e),l_(e),{className:ct("recharts-curve",r),d:s,ref:o}))};function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W_.apply(this,arguments)}function f8e(t,e){return m8e(t)||p8e(t,e)||h8e(t,e)||d8e()}function d8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h8e(t,e){if(t){if(typeof t=="string")return MU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MU(t,e)}}function MU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function m8e(t){if(Array.isArray(t))return t}function FU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(r),!0).forEach(function(n){y8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y8e(t,e,r){return e=g8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g8e(t){var e=v8e(t,"string");return _y(e)==="symbol"?e:String(e)}function v8e(t,e){if(_y(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_y(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BU=function(e,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>s?s:o[h];u="M".concat(e,",").concat(r+a*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+a*f[1])),u+="L ".concat(e+n,",").concat(r+i-a*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-a*f[3])),u+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);u="M ".concat(e,",").concat(r+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(r+a*m,`
            L `).concat(e+n,",").concat(r+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(r+i-a*m," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},b8e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,s=r.y,a=r.width,l=r.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),u=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&i>=f&&i<=h}return!1},x8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t$=function(e){var r=LU(LU({},x8e),e),n=E.useRef(),i=E.useState(-1),o=f8e(i,2),s=o[0],a=o[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&a(S)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,y=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var x=ct("recharts-rectangle",p);return v?k.createElement(Cs,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:y,animationEasing:m,isActive:v},function(S){var _=S.width,w=S.height,A=S.x,C=S.y;return k.createElement(Cs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,isActive:b,easing:m},k.createElement("path",W_({},Ge(r,!0),{className:x,d:BU(A,C,_,w,h),ref:n})))}):k.createElement("path",W_({},Ge(r,!0),{className:x,d:BU(l,c,u,f,h)}))};function WI(){return WI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WI.apply(this,arguments)}var r$=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,s=ct("recharts-dot",o);return r===+r&&n===+n&&i===+i?k.createElement("circle",WI({},Ge(e),l_(e),{className:s,cx:r,cy:n,r:i})):null};function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}var _8e=["x","y","top","left","width","height","className"];function zI(){return zI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zI.apply(this,arguments)}function UU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(r),!0).forEach(function(n){S8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S8e(t,e,r){return e=E8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E8e(t){var e=A8e(t,"string");return wy(e)==="symbol"?e:String(e)}function A8e(t,e){if(wy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C8e(t,e){if(t==null)return{};var r=T8e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T8e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var P8e=function(e,r,n,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},I8e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,m=e.className,y=C8e(e,_8e),g=w8e({x:n,y:o,top:a,left:c,width:f,height:p},y);return!ne(n)||!ne(o)||!ne(f)||!ne(p)||!ne(a)||!ne(c)?null:k.createElement("path",zI({},Ge(g,!0),{className:ct("recharts-cross",m),d:P8e(n,o,f,p,a,c)}))},N8e=dQ,k8e=N8e(Object.getPrototypeOf,Object),O8e=k8e,R8e=Rs,j8e=O8e,$8e=js,D8e="[object Object]",M8e=Function.prototype,F8e=Object.prototype,HX=M8e.toString,L8e=F8e.hasOwnProperty,B8e=HX.call(Object);function U8e(t){if(!$8e(t)||R8e(t)!=D8e)return!1;var e=j8e(t);if(e===null)return!0;var r=L8e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&HX.call(r)==B8e}var V8e=U8e;const W8e=ot(V8e);var z8e=Rs,G8e=js,q8e="[object Boolean]";function H8e(t){return t===!0||t===!1||G8e(t)&&z8e(t)==q8e}var K8e=H8e;const Y8e=ot(K8e);function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z_.apply(this,arguments)}function Q8e(t,e){return eze(t)||Z8e(t,e)||J8e(t,e)||X8e()}function X8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J8e(t,e){if(t){if(typeof t=="string")return VU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VU(t,e)}}function VU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function eze(t){if(Array.isArray(t))return t}function WU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(r),!0).forEach(function(n){tze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tze(t,e,r){return e=rze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rze(t){var e=nze(t,"string");return Sy(e)==="symbol"?e:String(e)}function nze(t,e){if(Sy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GU=function(e,r,n,i,o){var s=n-i,a;return a="M ".concat(e,",").concat(r),a+="L ".concat(e+n,",").concat(r),a+="L ".concat(e+n-s/2,",").concat(r+o),a+="L ".concat(e+n-s/2-i,",").concat(r+o),a+="L ".concat(e,",").concat(r," Z"),a},ize={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oze=function(e){var r=zU(zU({},ize),e),n=E.useRef(),i=E.useState(-1),o=Q8e(i,2),s=o[0],a=o[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&a(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,y=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var v=ct("recharts-trapezoid",p);return b?k.createElement(Cs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:y,animationEasing:m,isActive:b},function(x){var S=x.upperWidth,_=x.lowerWidth,w=x.height,A=x.x,C=x.y;return k.createElement(Cs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,easing:m},k.createElement("path",z_({},Ge(r,!0),{className:v,d:GU(A,C,S,_,w),ref:n})))}):k.createElement("g",null,k.createElement("path",z_({},Ge(r,!0),{className:v,d:GU(l,c,u,f,h)})))},sze=["option","shapeType","propTransformer","activeClassName","isActive"];function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function aze(t,e){if(t==null)return{};var r=lze(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lze(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function qU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qU(Object(r),!0).forEach(function(n){cze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cze(t,e,r){return e=uze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uze(t){var e=fze(t,"string");return Ey(e)==="symbol"?e:String(e)}function fze(t,e){if(Ey(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ey(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dze(t,e){return G_(G_({},e),t)}function hze(t,e){return t==="symbols"}function HU(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return k.createElement(t$,r);case"trapezoid":return k.createElement(oze,r);case"sector":return k.createElement(qX,r);case"symbols":if(hze(e))return k.createElement(bj,r);break;default:return null}}function pze(t){return E.isValidElement(t)?t.props:t}function mze(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?dze:n,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=aze(t,sze),c;if(E.isValidElement(e))c=E.cloneElement(e,G_(G_({},l),pze(e)));else if(Me(e))c=e(l);else if(W8e(e)&&!Y8e(e)){var u=i(e,l);c=k.createElement(HU,{shapeType:r,elementProps:u})}else{var f=l;c=k.createElement(HU,{shapeType:r,elementProps:f})}return a?k.createElement(Jt,{className:s},c):c}function bS(t,e){return e!=null&&"trapezoids"in t.props}function xS(t,e){return e!=null&&"sectors"in t.props}function Ay(t,e){return e!=null&&"points"in t.props}function yze(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function gze(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function vze(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function bze(t,e){var r;return bS(t,e)?r=yze:xS(t,e)?r=gze:Ay(t,e)&&(r=vze),r}function xze(t,e){var r;return bS(t,e)?r="trapezoids":xS(t,e)?r="sectors":Ay(t,e)&&(r="points"),r}function _ze(t,e){if(bS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ay(t,e)?e.payload:{}}function wze(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=xze(r,e),o=_ze(r,e),s=n.filter(function(l,c){var u=yS(o,l),f=r.props[i].filter(function(m){var y=bze(r,e);return y(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),a=n.indexOf(s[s.length-1]);return a}var Sze=Math.ceil,Eze=Math.max;function Aze(t,e,r,n){for(var i=-1,o=Eze(Sze((e-t)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=t,t+=r;return s}var Cze=Aze,Tze=LQ,KU=1/0,Pze=17976931348623157e292;function Ize(t){if(!t)return t===0?t:0;if(t=Tze(t),t===KU||t===-KU){var e=t<0?-1:1;return e*Pze}return t===t?t:0}var KX=Ize,Nze=Cze,kze=aS,nC=KX;function Oze(t){return function(e,r,n){return n&&typeof n!="number"&&kze(e,r,n)&&(r=n=void 0),e=nC(e),r===void 0?(r=e,e=0):r=nC(r),n=n===void 0?e<r?1:-1:nC(n),Nze(e,r,n,t)}}var Rze=Oze,jze=Rze,$ze=jze(),Dze=$ze;const q_=ot(Dze);function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){YX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YX(t,e,r){return e=Mze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mze(t){var e=Fze(t,"string");return Cy(e)==="symbol"?e:String(e)}function Fze(t,e){if(Cy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lze=["Webkit","Moz","O","ms"],Bze=function(e,r){if(!e)return null;var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Lze.reduce(function(o,s){return QU(QU({},o),{},YX({},s+n,r))},{});return i[e]=r,i};function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H_.apply(this,arguments)}function XU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(r),!0).forEach(function(n){zn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QX(n.key),n)}}function Vze(t,e,r){return e&&JU(t.prototype,e),r&&JU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GI(t,e)}function GI(t,e){return GI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GI(t,e)}function zze(t){var e=qze();return function(){var n=K_(t),i;if(e){var o=K_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Gze(this,i)}}function Gze(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mo(t)}function mo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K_(t){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K_(t)}function zn(t,e,r){return e=QX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QX(t){var e=Hze(t,"string");return Ad(e)==="symbol"?e:String(e)}function Hze(t,e){if(Ad(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ad(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kze=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=qp().domain(q_(0,l)).range([o,o+s-a]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},ZU=function(e){return e.changedTouches&&!!e.changedTouches.length},Cd=function(t){Wze(r,t);var e=zze(r);function r(n){var i;return Uze(this,r),i=e.call(this,n),zn(mo(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),zn(mo(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),zn(mo(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=i.props,s=o.endIndex,a=o.onDragEnd,l=o.startIndex;a==null||a({endIndex:s,startIndex:l})}),i.detachDragEndListener()}),zn(mo(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),zn(mo(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),zn(mo(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),zn(mo(i),"handleSlideDragStart",function(o){var s=ZU(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(mo(i),"startX"),endX:i.handleTravellerDragStart.bind(mo(i),"endX")},i.state={},i}return Vze(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,h=Math.min(o,s),p=Math.max(o,s),m=r.getIndexInRange(a,h),y=r.getIndexInRange(a,p);return{startIndex:m-m%c,endIndex:y===f?f:y-y%c}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,l=o.dataKey,c=oi(s[i],l,i);return Me(a)?a(c,i):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,l=o.endX,c=this.props,u=c.x,f=c.width,h=c.travellerWidth,p=c.startIndex,m=c.endIndex,y=c.onChange,g=i.pageX-s;g>0?g=Math.min(g,u+f-h-l,u+f-h-a):g<0&&(g=Math.max(g,u-a,u-l));var b=this.getIndex({startX:a+g,endX:l+g});(b.startIndex!==p||b.endIndex!==m)&&y&&y(b),this.setState({startX:a+g,endX:l+g,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=ZU(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,l=s.movingTravellerId,c=s.endX,u=s.startX,f=this.state[l],h=this.props,p=h.x,m=h.width,y=h.travellerWidth,g=h.onChange,b=h.gap,v=h.data,x={startX:this.state.startX,endX:this.state.endX},S=i.pageX-a;S>0?S=Math.min(S,p+m-y-f):S<0&&(S=Math.max(S,p-f)),x[l]=f+S;var _=this.getIndex(x),w=_.startIndex,A=_.endIndex,C=function(){var T=v.length-1;return l==="startX"&&(c>u?w%b===0:A%b===0)||c<u&&A===T||l==="endX"&&(c>u?A%b===0:w%b===0)||c>u&&A===T};this.setState((o={},zn(o,l,f+S),zn(o,"brushMoveStartX",i.pageX),o),function(){g&&C()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(i,o){var s=this,a=this.state,l=a.scaleValues,c=a.startX,u=a.endX,f=this.state[o],h=l.indexOf(f);if(h!==-1){var p=h+i;if(!(p===-1||p>=l.length)){var m=l[p];o==="startX"&&m>=u||o==="endX"&&m<=c||this.setState(zn({},o,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.fill,u=i.stroke;return k.createElement("rect",{stroke:u,fill:c,x:o,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.data,u=i.children,f=i.padding,h=E.Children.only(u);return h?k.cloneElement(h,{x:o,y:s,width:a,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this,a=this.props,l=a.y,c=a.travellerWidth,u=a.height,f=a.traveller,h=a.ariaLabel,p=a.data,m=a.startIndex,y=a.endIndex,g=Math.max(i,this.props.x),b=iC(iC({},Ge(this.props)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(p[m].name,", Max value: ").concat(p[y].name);return k.createElement(Jt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,o))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(f,b))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(i,o)+u,h=Math.max(Math.abs(o-i)-u,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:a,width:h,height:l})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,l=i.height,c=i.travellerWidth,u=i.stroke,f=this.state,h=f.startX,p=f.endX,m=5,y={pointerEvents:"none",fill:u};return k.createElement(Jt,{className:"recharts-brush-texts"},k.createElement(T_,H_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-m,y:a+l/2},y),this.getTextOfTick(o)),k.createElement(T_,H_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+m,y:a+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,l=i.x,c=i.y,u=i.width,f=i.height,h=i.alwaysShowText,p=this.state,m=p.startX,y=p.endX,g=p.isTextActive,b=p.isSlideMoving,v=p.isTravellerMoving,x=p.isTravellerFocused;if(!o||!o.length||!ne(l)||!ne(c)||!ne(u)||!ne(f)||u<=0||f<=0)return null;var S=ct("recharts-brush",s),_=k.Children.count(a)===1,w=Bze("userSelect","none");return k.createElement(Jt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||b||v||x||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,l=i.height,c=i.stroke,u=Math.floor(s+l/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:o,y:s,width:a,height:l,fill:c,stroke:"none"}),k.createElement("line",{x1:o+1,y1:u,x2:o+a-1,y2:u,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:o+1,y1:u+2,x2:o+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return k.isValidElement(i)?s=k.cloneElement(i,o):Me(i)?s=i(o):s=r.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,l=i.x,c=i.travellerWidth,u=i.updateId,f=i.startIndex,h=i.endIndex;if(s!==o.prevData||u!==o.prevUpdateId)return iC({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a},s&&s.length?Kze({data:s,width:a,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||l!==o.prevX||c!==o.prevTravellerWidth)){o.scale.range([l,l+a-c]);var p=o.scale.domain().map(function(m){return o.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,l=s-1;l-a>1;){var c=Math.floor((a+l)/2);i[c]>o?l=c:a=c}return o>=i[l]?l:a}}]),r}(E.PureComponent);zn(Cd,"displayName","Brush");zn(Cd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Yze=Cj;function Qze(t,e){var r;return Yze(t,function(n,i,o){return r=e(n,i,o),!r}),!!r}var Xze=Qze,Jze=iQ,Zze=sl,e9e=Xze,t9e=Bn,r9e=aS;function n9e(t,e,r){var n=t9e(t)?Jze:e9e;return r&&r9e(t,e,r)&&(e=void 0),n(t,Zze(e))}var i9e=n9e;const o9e=ot(i9e);var zo=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},eV=CQ;function s9e(t,e,r){e=="__proto__"&&eV?eV(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var a9e=s9e,l9e=a9e,c9e=EQ,u9e=sl;function f9e(t,e){var r={};return e=u9e(e),c9e(t,function(n,i,o){l9e(r,i,e(n,i,o))}),r}var d9e=f9e;const h9e=ot(d9e);function p9e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var m9e=p9e,y9e=Cj;function g9e(t,e){var r=!0;return y9e(t,function(n,i,o){return r=!!e(n,i,o),r}),r}var v9e=g9e,b9e=m9e,x9e=v9e,_9e=sl,w9e=Bn,S9e=aS;function E9e(t,e,r){var n=w9e(t)?b9e:x9e;return r&&S9e(t,e,r)&&(e=void 0),n(t,_9e(e))}var A9e=E9e;const XX=ot(A9e);function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}var C9e=["x","y"];function qI(){return qI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qI.apply(this,arguments)}function tV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(r),!0).forEach(function(n){T9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T9e(t,e,r){return e=P9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P9e(t){var e=I9e(t,"string");return Ty(e)==="symbol"?e:String(e)}function I9e(t,e){if(Ty(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ty(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N9e(t,e){if(t==null)return{};var r=k9e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k9e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function O9e(t,e){var r=t.x,n=t.y,i=N9e(t,C9e),o="".concat(r),s=parseInt(o,10),a="".concat(n),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Hh(Hh(Hh(Hh(Hh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function rV(t){return k.createElement(mze,qI({shapeType:"rectangle",propTransformer:O9e,activeClassName:"recharts-active-bar"},t))}var R9e=["value","background"];function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function j9e(t,e){if(t==null)return{};var r=$9e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $9e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y_.apply(this,arguments)}function nV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(r),!0).forEach(function(n){ba(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JX(n.key),n)}}function M9e(t,e,r){return e&&iV(t.prototype,e),r&&iV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function F9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HI(t,e)}function HI(t,e){return HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HI(t,e)}function L9e(t){var e=U9e();return function(){var n=Q_(t),i;if(e){var o=Q_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return B9e(this,i)}}function B9e(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pp(t)}function pp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q_(t){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q_(t)}function ba(t,e,r){return e=JX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JX(t){var e=V9e(t,"string");return Td(e)==="symbol"?e:String(e)}function V9e(t,e){if(Td(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Td(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _S=function(t){F9e(r,t);var e=L9e(r);function r(){var n;D9e(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o)),ba(pp(n),"state",{isAnimationFinished:!1}),ba(pp(n),"id",Wg("recharts-bar-")),ba(pp(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ba(pp(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return M9e(r,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props,a=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Ge(this.props);return i&&i.map(function(h,p){var m=p===c,y=m?u:a,g=vr(vr(vr({},f),h),{},{isActive:m,option:y,index:p,dataKey:l,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return k.createElement(Jt,Y_({className:"recharts-bar-rectangle"},c_(o.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),k.createElement(rV,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,l=o.isAnimationActive,c=o.animationBegin,u=o.animationDuration,f=o.animationEasing,h=o.animationId,p=this.state.prevData;return k.createElement(Cs,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=s.map(function(b,v){var x=p&&p[v];if(x){var S=Yi(x.x,b.x),_=Yi(x.y,b.y),w=Yi(x.width,b.width),A=Yi(x.height,b.height);return vr(vr({},b),{},{x:S(y),y:_(y),width:w(y),height:A(y)})}if(a==="horizontal"){var C=Yi(0,b.height),I=C(y);return vr(vr({},b),{},{y:b.y+b.height-I,height:I})}var T=Yi(0,b.width),P=T(y);return vr(vr({},b),{},{width:P})});return k.createElement(Jt,null,i.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!yS(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props,s=o.data,a=o.dataKey,l=o.activeIndex,c=Ge(this.props.background);return s.map(function(u,f){u.value;var h=u.background,p=j9e(u,R9e);if(!h)return null;var m=vr(vr(vr(vr(vr({},p),{},{fill:"#eee"},h),c),c_(i.props,u,f)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:a,index:f,key:"background-bar-".concat(f),className:"recharts-bar-background-rectangle"});return k.createElement(rV,Y_({option:i.props.background,isActive:f===l},m))})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,h=Oi(f,Yg);if(!h)return null;var p=u==="vertical"?a[0].height/2:a[0].width/2,m=function(b,v){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:oi(b,v)}},y={clipPath:i?"url(#clipPath-".concat(o,")"):null};return k.createElement(Jt,y,h.map(function(g){return k.cloneElement(g,{key:"error-bar-".concat(o,"-").concat(g.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,l=i.xAxis,c=i.yAxis,u=i.left,f=i.top,h=i.width,p=i.height,m=i.isAnimationActive,y=i.background,g=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,v=ct("recharts-bar",a),x=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,_=x||S,w=Xe(g)?this.id:g;return k.createElement(Jt,{className:v},x||S?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(w)},k.createElement("rect",{x:x?u:u-h/2,y:S?f:f-p/2,width:x?h:h*2,height:S?p:p*2}))):null,k.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!m||b)&&Fa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}}]),r}(E.PureComponent);ba(_S,"displayName","Bar");ba(_S,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!ys.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ba(_S,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Z5e(n,r);if(!p)return null;var m=e.layout,y=r.props,g=y.dataKey,b=y.children,v=y.minPointSize,x=m==="horizontal"?s:o,S=c?x.scale.domain():null,_=aWe({numericAxis:x}),w=Oi(b,UQ),A=f.map(function(C,I){var T,P,O,N,R,L;if(c?T=eWe(c[u+I],S):(T=oi(C,g),Array.isArray(T)||(T=[_,T])),m==="horizontal"){var U,V=[s.scale(T[0]),s.scale(T[1])],D=V[0],F=V[1];P=_U({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:C,index:I}),O=(U=F??D)!==null&&U!==void 0?U:void 0,N=p.size;var G=D-F;if(R=Number.isNaN(G)?0:G,L={x:P,y:s.y,width:N,height:s.height},Math.abs(v)>0&&Math.abs(R)<Math.abs(v)){var ce=ro(R||v)*(Math.abs(v)-Math.abs(R));O-=ce,R+=ce}}else{var te=[o.scale(T[0]),o.scale(T[1])],be=te[0],st=te[1];if(P=be,O=_U({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:C,index:I}),N=st-be,R=p.size,L={x:o.x,y:O,width:o.width,height:R},Math.abs(v)>0&&Math.abs(N)<Math.abs(v)){var rt=ro(N||v)*(Math.abs(v)-Math.abs(N));N+=rt}}return vr(vr(vr({},C),{},{x:P,y:O,width:N,height:R,value:c?T:T[1],payload:C,background:L},w&&w[I]&&w[I].props),{},{tooltipPayload:[WX(r,C)],tooltipPosition:{x:P+N/2,y:O+R/2}})});return vr({data:A,layout:m},h)});function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function W9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZX(n.key),n)}}function z9e(t,e,r){return e&&oV(t.prototype,e),r&&oV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sV(Object(r),!0).forEach(function(n){wS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wS(t,e,r){return e=ZX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZX(t){var e=G9e(t,"string");return Py(e)==="symbol"?e:String(e)}function G9e(t,e){if(Py(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Py(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q9e=function(e,r,n,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},h=!!Co(c,_S);return u.reduce(function(p,m){var y=r[m],g=y.orientation,b=y.domain,v=y.padding,x=v===void 0?{}:v,S=y.mirror,_=y.reversed,w="".concat(g).concat(S?"Mirror":""),A,C,I,T,P;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var O=b[1]-b[0],N=1/0,R=y.categoricalDomain.sort();R.forEach(function(st,rt){rt>0&&(N=Math.min((st||0)-(R[rt-1]||0),N))});var L=N/O,U=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(A=L*U/2),y.padding==="no-gap"){var V=pd(e.barCategoryGap,L*U),D=L*U/2;A=D-V-(D-V)/U*V}}i==="xAxis"?C=[n.left+(x.left||0)+(A||0),n.left+n.width-(x.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(A||0),n.top+n.height-(x.bottom||0)-(A||0)]:C=y.range,_&&(C=[C[1],C[0]]);var F=X5e(y,o,h),G=F.scale,ce=F.realScaleType;G.domain(b).range(C),J5e(G);var te=sWe(G,qi(qi({},y),{},{realScaleType:ce}));i==="xAxis"?(P=g==="top"&&!S||g==="bottom"&&S,I=n.left,T=f[w]-P*y.height):i==="yAxis"&&(P=g==="left"&&!S||g==="right"&&S,I=f[w]-P*y.width,T=n.top);var be=qi(qi(qi({},y),te),{},{realScaleType:ce,x:I,y:T,scale:G,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return be.bandSize=B_(be,te),!y.hide&&i==="xAxis"?f[w]+=(P?-1:1)*be.height:y.hide||(f[w]+=(P?-1:1)*be.width),qi(qi({},p),{},wS({},m,be))},{})},eJ=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},H9e=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return eJ({x:r,y:n},{x:i,y:o})},tJ=function(){function t(e){W9e(this,t),this.scale=e}return z9e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}]),t}();wS(tJ,"EPS",1e-4);var n$=function(e){var r=Object.keys(e).reduce(function(n,i){return qi(qi({},n),{},wS({},i,tJ.create(e[i])))},{});return qi(qi({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return h9e(i,function(l,c){return r[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return XX(i,function(o,s){return r[s].isInRange(o)})}})};function K9e(t){return(t%180+180)%180}var Y9e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=K9e(i),s=o*Math.PI/180,a=Math.atan(n/r),l=s>a&&s<Math.PI-a?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)};function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function aV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(r),!0).forEach(function(n){Q9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q9e(t,e,r){return e=X9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X9e(t){var e=J9e(t,"string");return Iy(e)==="symbol"?e:String(e)}function J9e(t,e){if(Iy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Iy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z9e(t,e){return nGe(t)||rGe(t,e)||tGe(t,e)||eGe()}function eGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tGe(t,e){if(t){if(typeof t=="string")return cV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cV(t,e)}}function cV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function nGe(t){if(Array.isArray(t))return t}function KI(){return KI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KI.apply(this,arguments)}var iGe=function(e,r){var n;return k.isValidElement(e)?n=k.cloneElement(e,r):Me(e)?n=e(r):n=k.createElement("line",KI({},r,{className:"recharts-reference-line-line"})),n},oGe=function(e,r,n,i,o){var s=o.viewBox,a=s.x,l=s.y,c=s.width,u=s.height,f=o.position;if(n){var h=o.y,p=o.yAxis.orientation,m=e.y.apply(h,{position:f});if(zo(o,"discard")&&!e.y.isInRange(m))return null;var y=[{x:a+c,y:m},{x:a,y:m}];return p==="left"?y.reverse():y}if(r){var g=o.x,b=o.xAxis.orientation,v=e.x.apply(g,{position:f});if(zo(o,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:l+u},{x:v,y:l}];return b==="top"?x.reverse():x}if(i){var S=o.segment,_=S.map(function(w){return e.apply(w,{position:f})});return zo(o,"discard")&&o9e(_,function(w){return!e.isInRange(w)})?null:_}return null};function i$(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxis,o=t.yAxis,s=t.shape,a=t.className,l=t.alwaysShow,c=t.clipPathId;dc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=n$({x:i.scale,y:o.scale}),f=dr(e),h=dr(r),p=n&&n.length===2,m=oGe(u,f,h,p,t);if(!m)return null;var y=Z9e(m,2),g=y[0],b=g.x,v=g.y,x=y[1],S=x.x,_=x.y,w=zo(t,"hidden")?"url(#".concat(c,")"):void 0,A=lV(lV({clipPath:w},Ge(t,!0)),{},{x1:b,y1:v,x2:S,y2:_});return k.createElement(Jt,{className:ct("recharts-reference-line",a)},iGe(s,A),un.renderCallByParent(t,H9e({x1:b,y1:v,x2:S,y2:_})))}i$.displayName="ReferenceLine";i$.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YI.apply(this,arguments)}function uV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(r),!0).forEach(function(n){sGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sGe(t,e,r){return e=aGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aGe(t){var e=lGe(t,"string");return Ny(e)==="symbol"?e:String(e)}function lGe(t,e){if(Ny(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ny(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cGe=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,s=n$({x:i.scale,y:o.scale}),a=s.apply({x:r,y:n},{bandAware:!0});return zo(e,"discard")&&!s.isInRange(a)?null:a};function Qg(t){var e=t.x,r=t.y,n=t.r,i=t.alwaysShow,o=t.clipPathId,s=dr(e),a=dr(r);if(dc(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var l=cGe(t);if(!l)return null;var c=l.x,u=l.y,f=t.shape,h=t.className,p=zo(t,"hidden")?"url(#".concat(o,")"):void 0,m=fV(fV({clipPath:p},Ge(t,!0)),{},{cx:c,cy:u});return k.createElement(Jt,{className:ct("recharts-reference-dot",h)},Qg.renderDot(f,m),un.renderCallByParent(t,{x:c-n,y:u-n,width:2*n,height:2*n}))}Qg.displayName="ReferenceDot";Qg.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Qg.renderDot=function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):Me(t)?r=t(e):r=k.createElement(r$,YI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r};function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function QI(){return QI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QI.apply(this,arguments)}function dV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(r),!0).forEach(function(n){uGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uGe(t,e,r){return e=fGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fGe(t){var e=dGe(t,"string");return ky(e)==="symbol"?e:String(e)}function dGe(t,e){if(ky(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ky(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hGe=function(e,r,n,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var h=n$({x:u.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return zo(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:eJ(p,m)};function Xg(t){var e=t.x1,r=t.x2,n=t.y1,i=t.y2,o=t.className,s=t.alwaysShow,a=t.clipPathId;dc(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=dr(e),c=dr(r),u=dr(n),f=dr(i),h=t.shape;if(!l&&!c&&!u&&!f&&!h)return null;var p=hGe(l,c,u,f,t);if(!p&&!h)return null;var m=zo(t,"hidden")?"url(#".concat(a,")"):void 0;return k.createElement(Jt,{className:ct("recharts-reference-area",o)},Xg.renderRect(h,hV(hV({clipPath:m},Ge(t,!0)),p)),un.renderCallByParent(t,p))}Xg.displayName="ReferenceArea";Xg.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Xg.renderRect=function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):Me(t)?r=t(e):r=k.createElement(t$,QI({},e,{className:"recharts-reference-area-rect"})),r};function rJ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function pGe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Y9e(n,r)}function mGe(t,e,r){var n=r==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:n?i:o,end:n?i+s:o+a}:{start:n?i+s:o+a,end:n?i:o}}function X_(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function yGe(t,e){return rJ(t,e+1)}function gGe(t,e,r,n,i){for(var o=(n||[]).slice(),s=e.start,a=e.end,l=0,c=1,u=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:rJ(n,c)};var y=l,g,b=function(){return g===void 0&&(g=r(m,y)),g},v=m.coordinate,x=l===0||X_(t,v,b,u,a);x||(l=0,u=s,c+=1),x&&(u=v+t*(b()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function Oy(t){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function pV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(r),!0).forEach(function(n){vGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vGe(t,e,r){return e=bGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bGe(t){var e=xGe(t,"string");return Oy(e)==="symbol"?e:String(e)}function xGe(t,e){if(Oy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ge(t,e,r,n,i){for(var o=(n||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(h){var p=o[h],m,y=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var g=t*(p.coordinate+t*y()/2-l);o[h]=p=on(on({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate})}else o[h]=p=on(on({},p),{},{tickCoord:p.coordinate});var b=X_(t,p.tickCoord,y,a,l);b&&(l=p.tickCoord-t*(y()/2+i),o[h]=on(on({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return o}function wGe(t,e,r,n,i,o){var s=(n||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var u=n[a-1],f=r(u,a-1),h=t*(u.coordinate+t*f/2-c);s[a-1]=u=on(on({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=X_(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),s[a-1]=on(on({},u),{},{isShow:!0}))}for(var m=o?a-1:a,y=function(v){var x=s[v],S,_=function(){return S===void 0&&(S=r(x,v)),S};if(v===0){var w=t*(x.coordinate-t*_()/2-l);s[v]=x=on(on({},x),{},{tickCoord:w<0?x.coordinate-w*t:x.coordinate})}else s[v]=x=on(on({},x),{},{tickCoord:x.coordinate});var A=X_(t,x.tickCoord,_,l,c);A&&(l=x.tickCoord+t*(_()/2+i),s[v]=on(on({},x),{},{isShow:!0}))},g=0;g<m;g++)y(g);return s}function XI(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ne(l)||ys.isSsr)return yGe(i,typeof l=="number"&&ne(l)?l:0);var h=[],p=a==="top"||a==="bottom"?"width":"height",m=u&&p==="width"?Gp(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(x,S){var _=Me(c)?c(x.value,S):x.value;return p==="width"?pGe(Gp(_,{fontSize:e,letterSpacing:r}),m,f):Gp(_,{fontSize:e,letterSpacing:r})[p]},g=i.length>=2?ro(i[1].coordinate-i[0].coordinate):1,b=mGe(o,g,p);return l==="equidistantPreserveStart"?gGe(g,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=wGe(g,b,y,i,s,l==="preserveStartEnd"):h=_Ge(g,b,y,i,s),h.filter(function(v){return v.isShow}))}var SGe=["viewBox"],EGe=["viewBox"],AGe=["ticks"];function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(this,arguments)}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){o$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oC(t,e){if(t==null)return{};var r=CGe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CGe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function TGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nJ(n.key),n)}}function PGe(t,e,r){return e&&yV(t.prototype,e),r&&yV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JI(t,e)}function JI(t,e){return JI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JI(t,e)}function NGe(t){var e=RGe();return function(){var n=J_(t),i;if(e){var o=J_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return kGe(this,i)}}function kGe(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OGe(t)}function OGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J_(t){return J_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J_(t)}function o$(t,e,r){return e=nJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nJ(t){var e=jGe(t,"string");return Pd(e)==="symbol"?e:String(e)}function jGe(t,e){if(Pd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kp=function(t){IGe(r,t);var e=NGe(r);function r(n){var i;return TGe(this,r),i=e.call(this,n),i.state={fontSize:"",letterSpacing:""},i}return PGe(r,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=oC(i,SGe),l=this.props,c=l.viewBox,u=oC(l,EGe);return!df(s,c)||!df(a,u)||!df(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,l=o.width,c=o.height,u=o.orientation,f=o.tickSize,h=o.mirror,p=o.tickMargin,m,y,g,b,v,x,S=h?-1:1,_=i.tickSize||f,w=ne(i.tickCoord)?i.tickCoord:i.coordinate;switch(u){case"top":m=y=i.coordinate,b=a+ +!h*c,g=b-S*_,x=g-S*p,v=w;break;case"left":g=b=i.coordinate,y=s+ +!h*l,m=y-S*_,v=m-S*p,x=w;break;case"right":g=b=i.coordinate,y=s+ +h*l,m=y+S*_,v=m+S*p,x=w;break;default:m=y=i.coordinate,b=a+ +h*c,g=b+S*_,x=g+S*p,v=w;break}return{line:{x1:m,y1:g,x2:y,y2:b},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,u=i.mirror,f=i.axisLine,h=vn(vn(vn({},Ge(this.props)),Ge(f)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);h=vn(vn({},h),{},{x1:o,y1:s+p*l,x2:o+a,y2:s+p*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=vn(vn({},h),{},{x1:o+m*a,y1:s,x2:o+m*a,y2:s+l})}return k.createElement("line",Uu({},h,{className:ct("recharts-cartesian-axis-line",ki(f,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,h=l.tickFormatter,p=l.unit,m=XI(vn(vn({},this.props),{},{ticks:i}),o,s),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=Ge(this.props),v=Ge(f),x=vn(vn({},b),{},{fill:"none"},Ge(c)),S=m.map(function(_,w){var A=a.getTickLineCoord(_),C=A.line,I=A.tick,T=vn(vn(vn(vn({textAnchor:y,verticalAnchor:g},b),{},{stroke:"none",fill:u},v),I),{},{index:w,payload:_,visibleTicksCount:m.length,tickFormatter:h});return k.createElement(Jt,Uu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},c_(a.props,_,w)),c&&k.createElement("line",Uu({},x,C,{className:ct("recharts-cartesian-axis-tick-line",ki(c,"className"))})),f&&r.renderTickItem(f,T,"".concat(Me(h)?h(_.value,w):_.value).concat(p||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,l=o.height,c=o.ticksGenerator,u=o.className,f=o.hide;if(f)return null;var h=this.props,p=h.ticks,m=oC(h,AGe),y=p;return Me(c)&&(y=p&&p.length>0?c(this.props):c(m)),a<=0||l<=0||!y||!y.length?null:k.createElement(Jt,{className:ct("recharts-cartesian-axis",u),ref:function(b){i.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return k.isValidElement(i)?a=k.cloneElement(i,o):Me(i)?a=i(o):a=k.createElement(T_,Uu({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),r}(E.Component);o$(Kp,"displayName","CartesianAxis");o$(Kp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $Ge=["x1","y1","x2","y2","key"],DGe=["offset"];function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function ZI(){return ZI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZI.apply(this,arguments)}function gV(t,e){if(t==null)return{};var r=MGe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MGe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function vV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(r),!0).forEach(function(n){s$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iJ(n.key),n)}}function LGe(t,e,r){return e&&bV(t.prototype,e),r&&bV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eN(t,e)}function eN(t,e){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eN(t,e)}function UGe(t){var e=zGe();return function(){var n=Z_(t),i;if(e){var o=Z_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return VGe(this,i)}}function VGe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WGe(t)}function WGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z_(t){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z_(t)}function s$(t,e,r){return e=iJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iJ(t){var e=GGe(t,"string");return Id(e)==="symbol"?e:String(e)}function GGe(t,e){if(Id(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Id(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a$=function(t){BGe(r,t);var e=UGe(r);function r(){return FGe(this,r),e.apply(this,arguments)}return LGe(r,[{key:"renderHorizontal",value:function(i){var o=this,s=this.props,a=s.x,l=s.width,c=s.horizontal;if(!i||!i.length)return null;var u=i.map(function(f,h){var p=Bs(Bs({},o.props),{},{x1:a,y1:f,x2:a+l,y2:f,key:"line-".concat(h),index:h});return r.renderLineItem(c,p)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}},{key:"renderVertical",value:function(i){var o=this,s=this.props,a=s.y,l=s.height,c=s.vertical;if(!i||!i.length)return null;var u=i.map(function(f,h){var p=Bs(Bs({},o.props),{},{x1:f,y1:a,x2:f,y2:a+l,key:"line-".concat(h),index:h});return r.renderLineItem(c,p)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,l=s.x,c=s.y,u=s.width,f=s.height,h=i.map(function(m){return Math.round(m+l-l)}).sort(function(m,y){return m-y});l!==h[0]&&h.unshift(0);var p=h.map(function(m,y){var g=!h[y+1],b=g?l+u-m:h[y+1]-m;if(b<=0)return null;var v=y%o.length;return k.createElement("rect",{key:"react-".concat(y),x:m,y:c,width:b,height:f,stroke:"none",fill:o[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,l=s.x,c=s.y,u=s.width,f=s.height,h=i.map(function(m){return Math.round(m+c-c)}).sort(function(m,y){return m-y});c!==h[0]&&h.unshift(0);var p=h.map(function(m,y){var g=!h[y+1],b=g?c+f-m:h[y+1]-m;if(b<=0)return null;var v=y%o.length;return k.createElement("rect",{key:"react-".concat(y),y:m,x:l,height:b,width:u,stroke:"none",fill:o[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,s=o.fillOpacity,a=o.x,l=o.y,c=o.width,u=o.height;return k.createElement("rect",{x:a,y:l,width:c,height:u,stroke:"none",fill:i,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.horizontal,u=i.vertical,f=i.horizontalCoordinatesGenerator,h=i.verticalCoordinatesGenerator,p=i.xAxis,m=i.yAxis,y=i.offset,g=i.chartWidth,b=i.chartHeight,v=i.syncWithTicks,x=i.horizontalValues,S=i.verticalValues;if(!ne(a)||a<=0||!ne(l)||l<=0||!ne(o)||o!==+o||!ne(s)||s!==+s)return null;var _=this.props,w=_.horizontalPoints,A=_.verticalPoints;if((!w||!w.length)&&Me(f)){var C=x&&x.length;w=f({yAxis:m?Bs(Bs({},m),{},{ticks:C?x:m.ticks}):void 0,width:g,height:b,offset:y},C?!0:v)}if((!A||!A.length)&&Me(h)){var I=S&&S.length;A=h({xAxis:p?Bs(Bs({},p),{},{ticks:I?S:p.ticks}):void 0,width:g,height:b,offset:y},I?!0:v)}return k.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),c&&this.renderHorizontal(w),u&&this.renderVertical(A),c&&this.renderHorizontalStripes(w),u&&this.renderVerticalStripes(A))}}],[{key:"renderLineItem",value:function(i,o){var s;if(k.isValidElement(i))s=k.cloneElement(i,o);else if(Me(i))s=i(o);else{var a=o.x1,l=o.y1,c=o.x2,u=o.y2,f=o.key,h=gV(o,$Ge),p=Ge(h);p.offset;var m=gV(p,DGe);s=k.createElement("line",ZI({},m,{x1:a,y1:l,x2:c,y2:u,fill:"none",key:f}))}return s}}]),r}(E.PureComponent);s$(a$,"displayName","CartesianGrid");s$(a$,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var qGe=["type","layout","connectNulls","ref"];function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function HGe(t,e){if(t==null)return{};var r=KGe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KGe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yp.apply(this,arguments)}function xV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(r),!0).forEach(function(n){Hi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function au(t){return JGe(t)||XGe(t)||QGe(t)||YGe()}function YGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QGe(t,e){if(t){if(typeof t=="string")return tN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tN(t,e)}}function XGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JGe(t){if(Array.isArray(t))return tN(t)}function tN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oJ(n.key),n)}}function eqe(t,e,r){return e&&_V(t.prototype,e),r&&_V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rN(t,e)}function rN(t,e){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rN(t,e)}function rqe(t){var e=iqe();return function(){var n=ew(t),i;if(e){var o=ew(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return nqe(this,i)}}function nqe(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gs(t)}function Gs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ew(t){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(t)}function Hi(t,e,r){return e=oJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oJ(t){var e=oqe(t,"string");return Nd(e)==="symbol"?e:String(e)}function oqe(t,e){if(Nd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xa=function(t){tqe(r,t);var e=rqe(r);function r(){var n;ZGe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o)),Hi(Gs(n),"state",{isAnimationFinished:!0,totalLength:0}),Hi(Gs(n),"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),Hi(Gs(n),"getStrokeDasharray",function(a,l,c){var u=c.reduce(function(v,x){return v+x});if(!u)return n.generateSimpleStrokeDasharray(l,a);for(var f=Math.floor(a/u),h=a%u,p=l-a,m=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>h){m=[].concat(au(c.slice(0,y)),[h-g]);break}var b=m.length%2===0?[0,p]:[p];return[].concat(au(r.repeat(c,f)),au(m),b).map(function(v){return"".concat(v,"px")}).join(", ")}),Hi(Gs(n),"id",Wg("recharts-line-")),Hi(Gs(n),"pathRef",function(a){n.mainCurve=a}),Hi(Gs(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Hi(Gs(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return eqe(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,h=Oi(f,Yg);if(!h)return null;var p=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:oi(g.payload,b)}},m={clipPath:i?"url(#clipPath-".concat(o,")"):null};return k.createElement(Jt,m,h.map(function(y){return k.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Ge(this.props),p=Ge(c,!0),m=u.map(function(g,b){var v=Wn(Wn(Wn({key:"dot-".concat(b),r:3},h),p),{},{value:g.value,dataKey:f,cx:g.x,cy:g.y,index:b,payload:g.payload});return r.renderDotItem(c,v)}),y={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return k.createElement(Jt,Yp({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(i,o,s,a){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var h=HGe(l,qGe),p=Wn(Wn(Wn({},Ge(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:c,layout:u,connectNulls:f});return k.createElement(VI,Yp({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,l=a.points,c=a.strokeDasharray,u=a.isAnimationActive,f=a.animationBegin,h=a.animationDuration,p=a.animationEasing,m=a.animationId,y=a.animateNewValues,g=a.width,b=a.height,v=this.state,x=v.prevPoints,S=v.totalLength;return k.createElement(Cs,{begin:f,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(x){var A=x.length/l.length,C=l.map(function(N,R){var L=Math.floor(R*A);if(x[L]){var U=x[L],V=Yi(U.x,N.x),D=Yi(U.y,N.y);return Wn(Wn({},N),{},{x:V(w),y:D(w)})}if(y){var F=Yi(g*2,N.x),G=Yi(b/2,N.y);return Wn(Wn({},N),{},{x:F(w),y:G(w)})}return Wn(Wn({},N),{},{x:N.x,y:N.y})});return s.renderCurveStatically(C,i,o)}var I=Yi(0,S),T=I(w),P;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});P=s.getStrokeDasharray(T,S,O)}else P=s.generateSimpleStrokeDasharray(S,T);return s.renderCurveStatically(l,i,o,{strokeDasharray:P})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&a&&a.length&&(!u&&f>0||!yS(u,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,l=o.points,c=o.className,u=o.xAxis,f=o.yAxis,h=o.top,p=o.left,m=o.width,y=o.height,g=o.isAnimationActive,b=o.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,S=ct("recharts-line",c),_=u&&u.allowDataOverflow,w=f&&f.allowDataOverflow,A=_||w,C=Xe(b)?this.id:b,I=(i=Ge(a))!==null&&i!==void 0?i:{r:3,strokeWidth:2},T=I.r,P=T===void 0?3:T,O=I.strokeWidth,N=O===void 0?2:O,R=Ske(a)?a:{},L=R.clipDot,U=L===void 0?!0:L,V=P*2+N;return k.createElement(Jt,{className:S},_||w?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(C)},k.createElement("rect",{x:_?p:p-m/2,y:w?h:h-y/2,width:_?m:m*2,height:w?y:y*2})),!U&&k.createElement("clipPath",{id:"clipPath-dots-".concat(C)},k.createElement("rect",{x:p-V/2,y:h-V/2,width:m+V,height:y+V}))):null,!x&&this.renderCurve(A,C),this.renderErrorBar(A,C),(x||a)&&this.renderDots(A,U,C),(!g||v)&&Fa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat(au(i),[0]):i,a=[],l=0;l<o;++l)a=[].concat(au(a),au(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(k.isValidElement(i))s=k.cloneElement(i,o);else if(Me(i))s=i(o);else{var a=ct("recharts-line-dot",i?i.className:"");s=k.createElement(r$,Yp({},o,{className:a}))}return s}}]),r}(E.PureComponent);Hi(xa,"displayName","Line");Hi(xa,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ys.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Hi(xa,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(h,p){var m=oi(h,s);return u==="horizontal"?{x:xU({axis:r,ticks:i,bandSize:a,entry:h,index:p}),y:Xe(m)?null:n.scale(m),value:m,payload:h}:{x:Xe(m)?null:r.scale(m),y:xU({axis:n,ticks:o,bandSize:a,entry:h,index:p}),value:m,payload:h}});return Wn({points:f,layout:u},c)});var SS=function(){return null};SS.displayName="XAxis";SS.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var ES=function(){return null};ES.displayName="YAxis";ES.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var sqe=sl,aqe=zg,lqe=oS;function cqe(t){return function(e,r,n){var i=Object(e);if(!aqe(e)){var o=sqe(r);e=lqe(e),r=function(a){return o(i[a],a,i)}}var s=t(e,r,n);return s>-1?i[o?e[s]:s]:void 0}}var uqe=cqe,fqe=KX;function dqe(t){var e=fqe(t),r=e%1;return e===e?r?e-r:e:0}var hqe=dqe,pqe=vQ,mqe=sl,yqe=hqe,gqe=Math.max;function vqe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:yqe(r);return i<0&&(i=gqe(n+i,0)),pqe(t,mqe(e),i)}var bqe=vqe,xqe=uqe,_qe=bqe,wqe=xqe(_qe),Sqe=wqe;const Eqe=ot(Sqe);function wV(t){return Pqe(t)||Tqe(t)||Cqe(t)||Aqe()}function Aqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cqe(t,e){if(t){if(typeof t=="string")return nN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(t,e)}}function Tqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pqe(t){if(Array.isArray(t))return nN(t)}function nN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var iN=function(e,r,n,i,o){var s=Oi(e,i$),a=Oi(e,Qg),l=[].concat(wV(s),wV(a)),c=Oi(e,Xg),u="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(y,g){if(g.props[u]===n&&zo(g.props,"extendDomain")&&ne(g.props[f])){var b=g.props[f];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(y,g){if(g.props[u]===n&&zo(g.props,"extendDomain")&&ne(g.props[p])&&ne(g.props[m])){var b=g.props[p],v=g.props[m];return[Math.min(y[0],b,v),Math.max(y[1],b,v)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,g){return ne(g)?[Math.min(y[0],g),Math.max(y[1],g)]:y},h)),h},sJ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},a.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,h,p,m){var y=r?r+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,v,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,p),!0;case 6:return g.fn.call(g.context,u,f,h,p,m),!0}for(x=1,v=new Array(b-1);x<b;x++)v[x-1]=arguments[x];g.fn.apply(g.context,v)}else{var S=g.length,_;for(x=0;x<S;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),b){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,f);break;case 4:g[x].fn.call(g[x].context,u,f,h);break;default:if(!v)for(_=1,v=new Array(b-1);_<b;_++)v[_-1]=arguments[_];g[x].fn.apply(g[x].context,v)}}return!0},a.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var y=0,g=[],b=m.length;y<b;y++)(m[y].fn!==u||h&&!m[y].once||f&&m[y].context!==f)&&g.push(m[y]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(sJ);var Iqe=sJ.exports;const Nqe=ot(Iqe);var sC=new Nqe,aC="recharts.syncMouseEvents";function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function kqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aJ(n.key),n)}}function Oqe(t,e,r){return e&&SV(t.prototype,e),r&&SV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lC(t,e,r){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aJ(t){var e=Rqe(t,"string");return Ry(e)==="symbol"?e:String(e)}function Rqe(t,e){if(Ry(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ry(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jqe=function(){function t(){kqe(this,t),lC(this,"activeIndex",0),lC(this,"coordinateList",[]),lC(this,"layout","horizontal")}return Oqe(t,[{key:"setDetails",value:function(r){var n=r.coordinateList,i=n===void 0?[]:n,o=r.container,s=o===void 0?null:o,a=r.layout,l=a===void 0?null:a,c=r.offset,u=c===void 0?null:c,f=r.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=i??this.coordinateList,this.container=s??this.container,this.layout=l??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+c,h=s+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}]),t}();function $qe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ne(n)&&ne(i))return!0}return!1}function Dqe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function lJ(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,s=Gr(e,r,n,i),a=Gr(e,r,n,o);return{points:[s,a],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function Mqe(t,e,r){var n,i,o,s;if(t==="horizontal")n=e.x,o=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=Gr(a,l,c,f),p=Gr(a,l,u,f);n=h.x,i=h.y,o=p.x,s=p.y}else return lJ(e);return[{x:n,y:i},{x:o,y:s}]}function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function EV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(r),!0).forEach(function(n){Fqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fqe(t,e,r){return e=Lqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lqe(t){var e=Bqe(t,"string");return jy(e)==="symbol"?e:String(e)}function Bqe(t,e){if(jy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uqe(t){var e=t.element,r=t.tooltipEventType,n=t.isActive,i=t.activeCoordinate,o=t.activePayload,s=t.offset,a=t.activeTooltipIndex,l=t.tooltipAxisBandSize,c=t.layout,u=t.chartName;if(!e||!e.props.cursor||!n||!i||u!=="ScatterChart"&&r!=="axis")return null;var f,h=VI;if(u==="ScatterChart")f=i,h=I8e;else if(u==="BarChart")f=Dqe(c,i,s,l),h=t$;else if(c==="radial"){var p=lJ(i),m=p.cx,y=p.cy,g=p.radius,b=p.startAngle,v=p.endAngle;f={cx:m,cy:y,startAngle:b,endAngle:v,innerRadius:g,outerRadius:g},h=qX}else f={points:Mqe(c,i,s)},h=VI;var x=a0(a0(a0(a0({stroke:"#ccc",pointerEvents:"none"},s),f),Ge(e.props.cursor)),{},{payload:o,payloadIndex:a,className:"recharts-tooltip-cursor"});return E.isValidElement(e.props.cursor)?E.cloneElement(e.props.cursor,x):E.createElement(h,x)}var Vqe=["item"],Wqe=["children","className","width","height","style","compact","title","desc"];function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function AV(t,e){return qqe(t)||Gqe(t,e)||cJ(t,e)||zqe()}function zqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function qqe(t){if(Array.isArray(t))return t}function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vu.apply(this,arguments)}function CV(t,e){if(t==null)return{};var r=Hqe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hqe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Kqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uJ(n.key),n)}}function Yqe(t,e,r){return e&&TV(t.prototype,e),r&&TV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oN(t,e)}function oN(t,e){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oN(t,e)}function Xqe(t){var e=Zqe();return function(){var n=tw(t),i;if(e){var o=tw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Jqe(this,i)}}function Jqe(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ie(t)}function Ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tw(t){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(t)}function Od(t){return rHe(t)||tHe(t)||cJ(t)||eHe()}function eHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cJ(t,e){if(t){if(typeof t=="string")return sN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sN(t,e)}}function tHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rHe(t){if(Array.isArray(t))return sN(t)}function sN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(r),!0).forEach(function(n){me(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function me(t,e,r){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uJ(t){var e=nHe(t,"string");return kd(e)==="symbol"?e:String(e)}function nHe(t,e){if(kd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iHe={xAxis:["bottom","top"],yAxis:["left","right"]},oHe={width:"100%",height:"100%"},fJ={x:0,y:0},sHe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},aHe=function(e,r,n,i){var o=r.find(function(u){return u&&u.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return z(z(z({},i),Gr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return z(z(z({},i),Gr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return fJ},AS=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Od(a),Od(c)):a},[]);return s.length>0?s:e&&e.length&&ne(i)&&ne(o)?e.slice(i,o+1):[]};function dJ(t){return t==="number"?[0,"auto"]:void 0}var hJ=function(e,r,n,i){var o=e.graphicalItems,s=e.tooltipAxis,a=AS(r,e);return n<0||!o||!o.length||n>=a.length?null:o.reduce(function(l,c){var u,f=c.props.hide;if(f)return l;var h=(u=c.props.data)!==null&&u!==void 0?u:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var m=h===void 0?a:h;p=a_(m,s.dataKey,i)}else p=h&&h[n]||a[n];return p?[].concat(Od(l),[WX(c,p)]):l},[])},IV=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},s=sHe(o,n),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=G5e(s,a,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=hJ(e,r,u,f),p=aHe(n,a,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},lHe=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=UX(u,o);return n.reduce(function(m,y){var g,b=y.props,v=b.type,x=b.dataKey,S=b.allowDataOverflow,_=b.allowDuplicatedCategory,w=b.scale,A=b.ticks,C=b.includeHidden,I=y.props[s];if(m[I])return m;var T=AS(e.data,{graphicalItems:i.filter(function(te){return te.props[s]===I}),dataStartIndex:l,dataEndIndex:c}),P=T.length,O,N,R;$qe(y.props.domain,S,v)&&(O=MI(y.props.domain,null,S),p&&(v==="number"||w!=="auto")&&(R=Hp(T,x,"category")));var L=dJ(v);if(!O||O.length===0){var U,V=(U=y.props.domain)!==null&&U!==void 0?U:L;if(x){if(O=Hp(T,x,v),v==="category"&&p){var D=pke(O);_&&D?(N=O,O=q_(0,P)):_||(O=EU(V,O,y).reduce(function(te,be){return te.indexOf(be)>=0?te:[].concat(Od(te),[be])},[]))}else if(v==="category")_?O=O.filter(function(te){return te!==""&&!Xe(te)}):O=EU(V,O,y).reduce(function(te,be){return te.indexOf(be)>=0||be===""||Xe(be)?te:[].concat(Od(te),[be])},[]);else if(v==="number"){var F=Q5e(T,i.filter(function(te){return te.props[s]===I&&(C||!te.props.hide)}),x,o,u);F&&(O=F)}p&&(v==="number"||w!=="auto")&&(R=Hp(T,x,"category"))}else p?O=q_(0,P):a&&a[I]&&a[I].hasStack&&v==="number"?O=h==="expand"?[0,1]:VX(a[I].stackGroups,l,c):O=BX(T,i.filter(function(te){return te.props[s]===I&&(C||!te.props.hide)}),v,u,!0);if(v==="number")O=iN(f,O,I,o,A),V&&(O=MI(V,O,S));else if(v==="category"&&V){var G=V,ce=O.every(function(te){return G.indexOf(te)>=0});ce&&(O=G)}}return z(z({},m),{},me({},I,z(z({},y.props),{},{axisType:o,domain:O,categoricalDomain:R,duplicateDomain:N,originalDomain:(g=y.props.domain)!==null&&g!==void 0?g:L,isCategorical:p,layout:u})))},{})},cHe=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=AS(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=UX(u,o),y=-1;return n.reduce(function(g,b){var v=b.props[s],x=dJ("number");if(!g[v]){y++;var S;return m?S=q_(0,p):a&&a[v]&&a[v].hasStack?(S=VX(a[v].stackGroups,l,c),S=iN(f,S,v,o)):(S=MI(x,BX(h,n.filter(function(_){return _.props[s]===v&&!_.props.hide}),"number",u),i.defaultProps.allowDataOverflow),S=iN(f,S,v,o)),z(z({},g),{},me({},v,z(z({axisType:o},i.defaultProps),{},{hide:!0,orientation:ki(iHe,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:x,isCategorical:m,layout:u})))}return g},{})},uHe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=Oi(u,o),p={};return h&&h.length?p=lHe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=cHe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),p},fHe=function(e){var r=Ws(e),n=zs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Tj(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:B_(r,n)}},NV=function(e){var r=e.children,n=e.defaultShowTooltip,i=Co(r,Cd),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},dHe=function(e){return!e||!e.length?!1:e.some(function(r){var n=ms(r&&r.type);return n&&n.indexOf("Bar")>=0})},kV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hHe=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Co(f,Cd),m=Co(f,Jm),y=Object.keys(l).reduce(function(_,w){var A=l[w],C=A.orientation;return!A.mirror&&!A.hide?z(z({},_),{},me({},C,_[C]+A.width)):_},{left:h.left||0,right:h.right||0}),g=Object.keys(s).reduce(function(_,w){var A=s[w],C=A.orientation;return!A.mirror&&!A.hide?z(z({},_),{},me({},C,ki(_,"".concat(C))+A.height)):_},{top:h.top||0,bottom:h.bottom||0}),b=z(z({},g),y),v=b.bottom;p&&(b.bottom+=p.props.height||Cd.defaultProps.height),m&&r&&(b=K5e(b,i,n,r));var x=c-b.left-b.right,S=u-b.top-b.bottom;return z(z({brushBottom:v},b),{},{width:Math.max(x,0),height:Math.max(S,0)})},pHe=function(e){var r,n=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,s=o===void 0?"axis":o,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(g,b){var v=b.graphicalItems,x=b.stackGroups,S=b.offset,_=b.updateId,w=b.dataStartIndex,A=b.dataEndIndex,C=g.barSize,I=g.layout,T=g.barGap,P=g.barCategoryGap,O=g.maxBarSize,N=kV(I),R=N.numericAxisName,L=N.cateAxisName,U=dHe(v),V=U&&q5e({barSize:C,stackGroups:x}),D=[];return v.forEach(function(F,G){var ce=AS(g.data,{graphicalItems:[F],dataStartIndex:w,dataEndIndex:A}),te=F.props,be=te.dataKey,st=te.maxBarSize,rt=F.props["".concat(R,"Id")],Vt=F.props["".concat(L,"Id")],pt={},Zt=c.reduce(function(W,re){var Z,Q=b["".concat(re.axisType,"Map")],pe=F.props["".concat(re.axisType,"Id")];Q&&Q[pe]||re.axisType==="zAxis"||gq(!1);var nt=Q[pe];return z(z({},W),{},(Z={},me(Z,re.axisType,nt),me(Z,"".concat(re.axisType,"Ticks"),zs(nt)),Z))},pt),ee=Zt[L],xe=Zt["".concat(L,"Ticks")],Ee=x&&x[rt]&&x[rt].hasStack&&lWe(F,x[rt].stackGroups),q=ms(F.type).indexOf("Bar")>=0,Ze=B_(ee,xe),ke=[];if(q){var vt,$t,Zr=Xe(st)?O:st,Un=(vt=($t=B_(ee,xe,!0))!==null&&$t!==void 0?$t:Zr)!==null&&vt!==void 0?vt:0;ke=H5e({barGap:T,barCategoryGap:P,bandSize:Un!==Ze?Un:Ze,sizeList:V[Vt],maxBarSize:Zr}),Un!==Ze&&(ke=ke.map(function(W){return z(z({},W),{},{position:z(z({},W.position),{},{offset:W.position.offset-Un/2})})}))}var j=F&&F.type&&F.type.getComposedData;if(j){var B;D.push({props:z(z({},j(z(z({},Zt),{},{displayedData:ce,props:g,dataKey:be,item:F,bandSize:Ze,barPosition:ke,offset:S,stackedData:Ee,layout:I,dataStartIndex:w,dataEndIndex:A}))),{},(B={key:F.key||"item-".concat(G)},me(B,R,Zt[R]),me(B,L,Zt[L]),me(B,"animationId",_),B)),childIndex:Cke(F,g.children),item:F})}}),D},m=function(g,b){var v=g.props,x=g.dataStartIndex,S=g.dataEndIndex,_=g.updateId;if(!Q3({props:v}))return null;var w=v.children,A=v.layout,C=v.stackOffset,I=v.data,T=v.reverseStackOrder,P=kV(A),O=P.numericAxisName,N=P.cateAxisName,R=Oi(w,i),L=oWe(I,R,"".concat(O,"Id"),"".concat(N,"Id"),C,T),U=c.reduce(function(ce,te){var be="".concat(te.axisType,"Map");return z(z({},ce),{},me({},be,uHe(v,z(z({},te),{},{graphicalItems:R,stackGroups:te.axisType===O&&L,dataStartIndex:x,dataEndIndex:S}))))},{}),V=hHe(z(z({},U),{},{props:v,graphicalItems:R}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(ce){U[ce]=f(v,U[ce],V,ce.replace("Map",""),n)});var D=U["".concat(N,"Map")],F=fHe(D),G=p(v,z(z({},U),{},{dataStartIndex:x,dataEndIndex:S,updateId:_,graphicalItems:R,stackGroups:L,offset:V}));return z(z({formattedGraphicalItems:G,graphicalItems:R,offset:V,stackGroups:L},F),U)};return r=function(y){Qqe(b,y);var g=Xqe(b);function b(v){var x,S,_;return Kqe(this,b),_=g.call(this,v),me(Ie(_),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),me(Ie(_),"accessibilityManager",new jqe),me(Ie(_),"handleLegendBBoxUpdate",function(w){if(w){var A=_.state,C=A.dataStartIndex,I=A.dataEndIndex,T=A.updateId;_.setState(z({legendBBox:w},m({props:_.props,dataStartIndex:C,dataEndIndex:I,updateId:T},z(z({},_.state),{},{legendBBox:w}))))}}),me(Ie(_),"handleReceiveSyncEvent",function(w,A,C){if(_.props.syncId===w){if(C===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(A)}}),me(Ie(_),"handleBrushChange",function(w){var A=w.startIndex,C=w.endIndex;if(A!==_.state.dataStartIndex||C!==_.state.dataEndIndex){var I=_.state.updateId;_.setState(function(){return z({dataStartIndex:A,dataEndIndex:C},m({props:_.props,dataStartIndex:A,dataEndIndex:C,updateId:I},_.state))}),_.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),me(Ie(_),"handleMouseEnter",function(w){var A=_.getMouseInfo(w);if(A){var C=z(z({},A),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var I=_.props.onMouseEnter;Me(I)&&I(C,w)}}),me(Ie(_),"triggeredAfterMouseMove",function(w){var A=_.getMouseInfo(w),C=A?z(z({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var I=_.props.onMouseMove;Me(I)&&I(C,w)}),me(Ie(_),"handleItemMouseEnter",function(w){_.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),me(Ie(_),"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),me(Ie(_),"handleMouseMove",function(w){w.persist(),_.throttleTriggeredAfterMouseMove(w)}),me(Ie(_),"handleMouseLeave",function(w){var A={isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var C=_.props.onMouseLeave;Me(C)&&C(A,w)}),me(Ie(_),"handleOuterEvent",function(w){var A=Ake(w),C=ki(_.props,"".concat(A));if(A&&Me(C)){var I,T;/.*touch.*/i.test(A)?T=_.getMouseInfo(w.changedTouches[0]):T=_.getMouseInfo(w),C((I=T)!==null&&I!==void 0?I:{},w)}}),me(Ie(_),"handleClick",function(w){var A=_.getMouseInfo(w);if(A){var C=z(z({},A),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var I=_.props.onClick;Me(I)&&I(C,w)}}),me(Ie(_),"handleMouseDown",function(w){var A=_.props.onMouseDown;if(Me(A)){var C=_.getMouseInfo(w);A(C,w)}}),me(Ie(_),"handleMouseUp",function(w){var A=_.props.onMouseUp;if(Me(A)){var C=_.getMouseInfo(w);A(C,w)}}),me(Ie(_),"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),me(Ie(_),"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.handleMouseDown(w.changedTouches[0])}),me(Ie(_),"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&_.handleMouseUp(w.changedTouches[0])}),me(Ie(_),"triggerSyncEvent",function(w){_.props.syncId!==void 0&&sC.emit(aC,_.props.syncId,w,_.eventEmitterSymbol)}),me(Ie(_),"applySyncEvent",function(w){var A=_.props,C=A.layout,I=A.syncMethod,T=_.state.updateId,P=w.dataStartIndex,O=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)_.setState(z({dataStartIndex:P,dataEndIndex:O},m({props:_.props,dataStartIndex:P,dataEndIndex:O,updateId:T},_.state)));else if(w.activeTooltipIndex!==void 0){var N=w.chartX,R=w.chartY,L=w.activeTooltipIndex,U=_.state,V=U.offset,D=U.tooltipTicks;if(!V)return;if(typeof I=="function")L=I(D,w);else if(I==="value"){L=-1;for(var F=0;F<D.length;F++)if(D[F].value===w.activeLabel){L=F;break}}var G=z(z({},V),{},{x:V.left,y:V.top}),ce=Math.min(N,G.x+G.width),te=Math.min(R,G.y+G.height),be=D[L]&&D[L].value,st=hJ(_.state,_.props.data,L),rt=D[L]?{x:C==="horizontal"?D[L].coordinate:ce,y:C==="horizontal"?te:D[L].coordinate}:fJ;_.setState(z(z({},w),{},{activeLabel:be,activeCoordinate:rt,activePayload:st,activeTooltipIndex:L}))}else _.setState(w)}),me(Ie(_),"verticalCoordinatesGenerator",function(w,A){var C=w.xAxis,I=w.width,T=w.height,P=w.offset;return vU(XI(z(z(z({},Kp.defaultProps),C),{},{ticks:zs(C,!0),viewBox:{x:0,y:0,width:I,height:T}})),P.left,P.left+P.width,A)}),me(Ie(_),"horizontalCoordinatesGenerator",function(w,A){var C=w.yAxis,I=w.width,T=w.height,P=w.offset;return vU(XI(z(z(z({},Kp.defaultProps),C),{},{ticks:zs(C,!0),viewBox:{x:0,y:0,width:I,height:T}})),P.top,P.top+P.height,A)}),me(Ie(_),"axesTicksGenerator",function(w){return zs(w,!0)}),me(Ie(_),"renderCursor",function(w){var A,C=_.state,I=C.isTooltipActive,T=C.activeCoordinate,P=C.activePayload,O=C.offset,N=C.activeTooltipIndex,R=C.tooltipAxisBandSize,L=_.getTooltipEventType(),U=(A=w.props.active)!==null&&A!==void 0?A:I,V=_.props.layout,D=w.key||"_recharts-cursor";return k.createElement(Uqe,{key:D,activeCoordinate:T,activePayload:P,activeTooltipIndex:N,chartName:n,element:w,isActive:U,layout:V,offset:O,tooltipAxisBandSize:R,tooltipEventType:L})}),me(Ie(_),"renderPolarAxis",function(w,A,C){var I=ki(w,"type.axisType"),T=ki(_.state,"".concat(I,"Map")),P=T&&T[w.props["".concat(I,"Id")]];return E.cloneElement(w,z(z({},P),{},{className:I,key:w.key||"".concat(A,"-").concat(C),ticks:zs(P,!0)}))}),me(Ie(_),"renderXAxis",function(w,A,C){var I=_.state.xAxisMap,T=I[w.props.xAxisId];return _.renderAxis(T,w,A,C)}),me(Ie(_),"renderYAxis",function(w,A,C){var I=_.state.yAxisMap,T=I[w.props.yAxisId];return _.renderAxis(T,w,A,C)}),me(Ie(_),"renderGrid",function(w){var A=_.state,C=A.xAxisMap,I=A.yAxisMap,T=A.offset,P=_.props,O=P.width,N=P.height,R=Ws(C),L=Eqe(I,function(D){return XX(D.domain,Number.isFinite)}),U=L||Ws(I),V=w.props||{};return E.cloneElement(w,{key:w.key||"grid",x:ne(V.x)?V.x:T.left,y:ne(V.y)?V.y:T.top,width:ne(V.width)?V.width:T.width,height:ne(V.height)?V.height:T.height,xAxis:R,yAxis:U,offset:T,chartWidth:O,chartHeight:N,verticalCoordinatesGenerator:V.verticalCoordinatesGenerator||_.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:V.horizontalCoordinatesGenerator||_.horizontalCoordinatesGenerator})}),me(Ie(_),"renderPolarGrid",function(w){var A=w.props,C=A.radialLines,I=A.polarAngles,T=A.polarRadius,P=_.state,O=P.radiusAxisMap,N=P.angleAxisMap,R=Ws(O),L=Ws(N),U=L.cx,V=L.cy,D=L.innerRadius,F=L.outerRadius;return E.cloneElement(w,{polarAngles:Array.isArray(I)?I:zs(L,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(T)?T:zs(R,!0).map(function(G){return G.coordinate}),cx:U,cy:V,innerRadius:D,outerRadius:F,key:w.key||"polar-grid",radialLines:C})}),me(Ie(_),"renderLegend",function(){var w=_.state.formattedGraphicalItems,A=_.props,C=A.children,I=A.width,T=A.height,P=_.props.margin||{},O=I-(P.left||0)-(P.right||0),N=FX({children:C,formattedGraphicalItems:w,legendWidth:O,legendContent:u});if(!N)return null;var R=N.item,L=CV(N,Vqe);return E.cloneElement(R,z(z({},L),{},{chartWidth:I,chartHeight:T,margin:P,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),me(Ie(_),"renderTooltip",function(){var w,A=_.props.children,C=Co(A,Lu);if(!C)return null;var I=_.state,T=I.isTooltipActive,P=I.activeCoordinate,O=I.activePayload,N=I.activeLabel,R=I.offset,L=(w=C.props.active)!==null&&w!==void 0?w:T;return E.cloneElement(C,{viewBox:z(z({},R),{},{x:R.left,y:R.top}),active:L,label:N,payload:L?O:[],coordinate:P})}),me(Ie(_),"renderBrush",function(w){var A=_.props,C=A.margin,I=A.data,T=_.state,P=T.offset,O=T.dataStartIndex,N=T.dataEndIndex,R=T.updateId;return E.cloneElement(w,{key:w.key||"_recharts-brush",onChange:i0(_.handleBrushChange,w.props.onChange),data:I,x:ne(w.props.x)?w.props.x:P.left,y:ne(w.props.y)?w.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:ne(w.props.width)?w.props.width:P.width,startIndex:O,endIndex:N,updateId:"brush-".concat(R)})}),me(Ie(_),"renderReferenceElement",function(w,A,C){if(!w)return null;var I=Ie(_),T=I.clipPathId,P=_.state,O=P.xAxisMap,N=P.yAxisMap,R=P.offset,L=w.props,U=L.xAxisId,V=L.yAxisId;return E.cloneElement(w,{key:w.key||"".concat(A,"-").concat(C),xAxis:O[U],yAxis:N[V],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:T})}),me(Ie(_),"renderActivePoints",function(w){var A=w.item,C=w.activePoint,I=w.basePoint,T=w.childIndex,P=w.isRange,O=[],N=A.props.key,R=A.item.props,L=R.activeDot,U=R.dataKey,V=z(z({index:T,dataKey:U,cx:C.x,cy:C.y,r:4,fill:e$(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value,key:"".concat(N,"-activePoint-").concat(T)},Ge(L)),l_(L));return O.push(b.renderActiveDot(L,V)),I?O.push(b.renderActiveDot(L,z(z({},V),{},{cx:I.x,cy:I.y,key:"".concat(N,"-basePoint-").concat(T)}))):P&&O.push(null),O}),me(Ie(_),"renderGraphicChild",function(w,A,C){var I=_.filterFormatItem(w,A,C);if(!I)return null;var T=_.getTooltipEventType(),P=_.state,O=P.isTooltipActive,N=P.tooltipAxis,R=P.activeTooltipIndex,L=P.activeLabel,U=_.props.children,V=Co(U,Lu),D=I.props,F=D.points,G=D.isRange,ce=D.baseLine,te=I.item.props,be=te.activeDot,st=te.hide,rt=te.activeBar,Vt=te.activeShape,pt=!!(!st&&O&&V&&(be||rt||Vt)),Zt={};T!=="axis"&&V&&V.props.trigger==="click"?Zt={onClick:i0(_.handleItemMouseEnter,w.props.onClick)}:T!=="axis"&&(Zt={onMouseLeave:i0(_.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:i0(_.handleItemMouseEnter,w.props.onMouseEnter)});var ee=E.cloneElement(w,z(z({},I.props),Zt));function xe(re){return typeof N.dataKey=="function"?N.dataKey(re.payload):null}if(pt)if(R>=0){var Ee,q;if(N.dataKey&&!N.allowDuplicatedCategory){var Ze=typeof N.dataKey=="function"?xe:"payload.".concat(N.dataKey.toString());Ee=a_(F,Ze,L),q=G&&ce&&a_(ce,Ze,L)}else Ee=F==null?void 0:F[R],q=G&&ce&&ce[R];if(Vt||rt){var ke=w.props.activeIndex!==void 0?w.props.activeIndex:R;return[E.cloneElement(w,z(z(z({},I.props),Zt),{},{activeIndex:ke})),null,null]}if(!Xe(Ee))return[ee].concat(Od(_.renderActivePoints({item:I,activePoint:Ee,basePoint:q,childIndex:R,isRange:G})))}else{var vt,$t=(vt=_.getItemByXY(_.state.activeCoordinate))!==null&&vt!==void 0?vt:{graphicalItem:ee},Zr=$t.graphicalItem,Un=Zr.item,j=Un===void 0?w:Un,B=Zr.childIndex,W=z(z(z({},I.props),Zt),{},{activeIndex:B});return[E.cloneElement(j,W),null,null]}return G?[ee,null,null]:[ee,null]}),me(Ie(_),"renderCustomized",function(w,A,C){return E.cloneElement(w,z(z({key:"recharts-customized-".concat(C)},_.props),_.state))}),me(Ie(_),"renderMap",{CartesianGrid:{handler:_.renderGrid,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:_.renderReferenceElement},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:_.renderXAxis},YAxis:{handler:_.renderYAxis},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:Wg("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=BQ(_.triggeredAfterMouseMove,(S=v.throttleDelay)!==null&&S!==void 0?S:1e3/60),_.state={},_}return Yqe(b,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var _,w;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Co(this.props.children,Lu);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,_=S.getBoundingClientRect(),w=A4e(_),A={chartX:Math.round(x.pageX-w.left),chartY:Math.round(x.pageY-w.top)},C=_.width/S.offsetWidth||1,I=this.inRange(A.chartX,A.chartY,C);if(!I)return null;var T=this.state,P=T.xAxisMap,O=T.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&P&&O){var R=Ws(P).scale,L=Ws(O).scale,U=R&&R.invert?R.invert(A.chartX):null,V=L&&L.invert?L.invert(A.chartY):null;return z(z({},A),{},{xValue:U,yValue:V})}var D=IV(this.state,this.props.data,this.props.layout,I);return D?z(z({},A),D):null}},{key:"inRange",value:function(x,S){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,A=x/_,C=S/_;if(w==="horizontal"||w==="vertical"){var I=this.state.offset,T=A>=I.left&&A<=I.left+I.width&&C>=I.top&&C<=I.top+I.height;return T?{x:A,y:C}:null}var P=this.state,O=P.angleAxisMap,N=P.radiusAxisMap;if(O&&N){var R=Ws(O);return TU({x:A,y:C},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),_=Co(x,Lu),w={};_&&S==="axis"&&(_.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var A=l_(this.props,this.handleOuterEvent);return z(z({},A),w)}},{key:"addListener",value:function(){sC.on(aC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sC.removeListener(aC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,_){for(var w=this.state.formattedGraphicalItems,A=0,C=w.length;A<C;A++){var I=w[A];if(I.item===x||I.props.key===x.key||S===ms(I.item.type)&&_===I.childIndex)return I}return null}},{key:"renderAxis",value:function(x,S,_,w){var A=this.props,C=A.width,I=A.height;return k.createElement(Kp,Vu({},x,{className:ct("recharts-".concat(x.axisType," ").concat(x.axisType),x.className),key:S.key||"".concat(_,"-").concat(w),viewBox:{x:0,y:0,width:C,height:I},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,_=S.left,w=S.top,A=S.height,C=S.width;return k.createElement("defs",null,k.createElement("clipPath",{id:x},k.createElement("rect",{x:_,y:w,height:A,width:C})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,_){var w=AV(_,2),A=w[0],C=w[1];return z(z({},S),{},me({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,_){var w=AV(_,2),A=w[0],C=w[1];return z(z({},S),{},me({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,_=S.formattedGraphicalItems,w=S.activeItem;if(_&&_.length)for(var A=0,C=_.length;A<C;A++){var I=_[A],T=I.props,P=I.item,O=ms(P.type);if(O==="Bar"){var N=(T.data||[]).find(function(V){return b8e(x,V)});if(N)return{graphicalItem:I,payload:N}}else if(O==="RadialBar"){var R=(T.data||[]).find(function(V){return TU(x,V)});if(R)return{graphicalItem:I,payload:R}}else if(bS(I,w)||xS(I,w)||Ay(I,w)){var L=wze({graphicalItem:I,activeTooltipItem:w,itemData:P.props.data}),U=P.props.activeIndex===void 0?L:P.props.activeIndex;return{graphicalItem:z(z({},I),{},{childIndex:U}),payload:Ay(I,w)?P.props.data[L]:I.props.data[L]}}}return null}},{key:"render",value:function(){var x=this;if(!Q3(this))return null;var S=this.props,_=S.children,w=S.className,A=S.width,C=S.height,I=S.style,T=S.compact,P=S.title,O=S.desc,N=CV(S,Wqe),R=Ge(N);if(T)return k.createElement(KP,Vu({},R,{width:A,height:C,title:P,desc:O}),this.renderClipPath(),J3(_,this.renderMap));if(this.props.accessibilityLayer){var L,U;R.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,R.role=(U=this.props.role)!==null&&U!==void 0?U:"img",R.onKeyDown=function(D){x.accessibilityManager.keyboardEvent(D)},R.onFocus=function(){x.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return k.createElement("div",Vu({className:ct("recharts-wrapper",w),style:z({position:"relative",cursor:"default",width:A,height:C},I)},V,{ref:function(F){x.container=F},role:"region"}),k.createElement(KP,Vu({},R,{width:A,height:C,title:P,desc:O,style:oHe}),this.renderClipPath(),J3(_,this.renderMap)),this.renderLegend(),this.renderTooltip())}}]),b}(E.Component),me(r,"displayName",n),me(r,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),me(r,"getDerivedStateFromProps",function(y,g){var b=y.dataKey,v=y.data,x=y.children,S=y.width,_=y.height,w=y.layout,A=y.stackOffset,C=y.margin,I=g.dataStartIndex,T=g.dataEndIndex;if(g.updateId===void 0){var P=NV(y);return z(z(z({},P),{},{updateId:0},m(z(z({props:y},P),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:v,prevWidth:S,prevHeight:_,prevLayout:w,prevStackOffset:A,prevMargin:C,prevChildren:x})}if(b!==g.prevDataKey||v!==g.prevData||S!==g.prevWidth||_!==g.prevHeight||w!==g.prevLayout||A!==g.prevStackOffset||!df(C,g.prevMargin)){var O=NV(y),N={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},R=z(z({},IV(g,v,w)),{},{updateId:g.updateId+1}),L=z(z(z({},O),N),R);return z(z(z({},L),m(z({props:y},L),g)),{},{prevDataKey:b,prevData:v,prevWidth:S,prevHeight:_,prevLayout:w,prevStackOffset:A,prevMargin:C,prevChildren:x})}if(!NY(x,g.prevChildren)){var U,V,D,F,G=Co(x,Cd),ce=G&&(U=(V=G.props)===null||V===void 0?void 0:V.startIndex)!==null&&U!==void 0?U:I,te=G&&(D=(F=G.props)===null||F===void 0?void 0:F.endIndex)!==null&&D!==void 0?D:T,be=ce!==I||te!==T,st=!Xe(v),rt=st&&!be?g.updateId:g.updateId+1;return z(z({updateId:rt},m(z(z({props:y},g),{},{updateId:rt,dataStartIndex:ce,dataEndIndex:te}),g)),{},{prevChildren:x,dataStartIndex:ce,dataEndIndex:te})}return null}),me(r,"renderActiveDot",function(y,g){var b;return E.isValidElement(y)?b=E.cloneElement(y,g):Me(y)?b=y(g):b=k.createElement(r$,g),k.createElement(Jt,{className:"recharts-active-dot",key:g.key},b)}),r},mHe=pHe({chartName:"LineChart",GraphicalChild:xa,axisComponents:[{axisType:"xAxis",AxisComp:SS},{axisType:"yAxis",AxisComp:ES}],formatAxisMap:q9e});function yHe({players:t,rounds:e}){return d.jsx(v4e,{width:"100%",height:"100%",children:d.jsxs(mHe,{data:e,children:[d.jsx(a$,{strokeDasharray:"3 3"}),d.jsx(SS,{tick:{fill:"white"},dataKey:"name"}),d.jsx(ES,{tick:{fill:"white"},width:100}),d.jsx(xa,{type:"linear",stroke:t.playerEast.color,strokeWidth:8,isAnimationActive:!1,name:t.playerEast.name,dataKey:"playerEast"}),d.jsx(xa,{type:"linear",stroke:t.playerSouth.color,strokeWidth:8,isAnimationActive:!1,name:t.playerSouth.name,dataKey:"playerSouth"}),d.jsx(xa,{type:"linear",stroke:t.playerWest.color,strokeWidth:8,isAnimationActive:!1,name:t.playerWest.name,dataKey:"playerWest"}),d.jsx(xa,{type:"linear",stroke:t.playerNorth.color,strokeWidth:8,isAnimationActive:!1,name:t.playerNorth.name,dataKey:"playerNorth"})]})})}const gHe=({slide:t,status:e,subslide:r})=>t.type==="teams"?d.jsxs("div",{className:"absolute px-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:"flex-[2] grid grid-cols-4 items-center",children:["playerEast","playerSouth","playerWest","playerNorth"].map((n,i)=>d.jsxs("div",{className:_n("relative h-full overflow-hidden",{"mi-teams-in":e===0,"mi-teams-out":e>0}),style:{animationDelay:e===0?i*.25+"s":"0s",filter:t.teams[n].ranking!=="1"?"grayscale(1)":"grayscale(0)"},children:[d.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`linear-gradient(to bottom, transparent, ${t.teams[n].color})`,opacity:.5}}),d.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`url(${t.teams[n].teamLogoImageUrl})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:.05}}),d.jsxs("div",{className:_n("absolute inset-0",{"mi-teams-team-out":e>=0&&r>0}),children:[d.jsx("img",{src:t.teams[n].teamLogoImageUrl,className:"aspect-square w-full",alt:""}),d.jsx("h3",{className:"text-[1.5em] font-semibold text-center",children:t.teams[n].teamName}),d.jsxs("h3",{className:"text-[1.5em] font-semibold text-center flex justify-between px-[.5em]",children:[d.jsx("span",{children:Cm(t.teams[n].ranking)}),d.jsx("span",{children:td(t.teams[n].point)})]})]})]},n))})]}):t.type==="players"?d.jsxs("div",{className:"absolute px-24 pb-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[d.jsx("div",{className:"flex-1"}),d.jsxs("div",{className:"flex-[3] flex flex-col items-stretch",children:[d.jsxs("div",{className:_n("flex gap-x-[1em] pl-[1em] mb-[.5em]",{"mi-teams-in":e===0,"mi-teams-out":e>0}),children:[d.jsx("div",{className:"flex-[5]"}),d.jsx("div",{className:"flex-1 text-right text-[.9em] font-semibold",children:"分數"}),d.jsx("div",{className:"flex-1 text-right text-[.9em] font-semibold",children:"立直次數"}),d.jsx("div",{className:"flex-1 text-right text-[.9em] font-semibold",children:"和了次數"}),d.jsx("div",{className:"flex-1 text-right text-[.9em] font-semibold",children:"放銃次數"})]}),t.teamPlayers.map((n,i)=>d.jsxs("div",{className:_n("relative overflow-hidden flex-1",{"mi-teams-in":e===0,"mi-teams-out":e>0}),style:{animationDelay:e===0?i*.25+"s":"0s"},children:[d.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`linear-gradient(to left, transparent, ${n.color})`,opacity:.5}},n.teamName),d.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`url(${n.teamLogoImageUrl+"?w=800&h=800&auto=format"})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:.05}}),d.jsxs("div",{className:_n("absolute inset-0 flex gap-x-[1em] items-center pl-[1em]",{"mi-teams-team-out":e>=0&&r>0}),children:[d.jsxs("div",{className:"text-left flex-[5]",children:[d.jsxs("h3",{className:"text-[1.5em] font-semibold",children:[n.playerName," (",n.playerNickname,")"]}),d.jsx("h3",{className:"text-[.8em] font-semibold",children:n.teamName})]}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("p",{className:"text-[1.5em] leading-[1em]",children:Ev(n.result.score)}),d.jsx("p",{children:td(n.result.point)})]}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("span",{className:"text-[1.5em]",children:Ev(n.result.riichiCount)}),"回"]}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("span",{className:"text-[1.5em]",children:Ev(n.result.ronCount)}),"回"]}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("span",{className:"text-[1.5em]",children:Ev(n.result.chuckCount)}),"回"]})]})]},n.teamName))]})]}):t.type==="chart"?d.jsxs("div",{className:"absolute py-16 px-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[d.jsx("div",{className:"flex-1"}),d.jsxs("div",{className:"flex-[3] flex items-stretch gap-x-[1em]",children:[d.jsx("div",{className:_n("flex-[3]",{"mi-chart-chart-in":e===0,"mi-chart-chart-out":e>0}),children:d.jsx(yHe,{rounds:t.rounds,players:t.players})}),d.jsx("div",{className:"flex-1 flex flex-col pb-[1em]",children:[0,1,2,3].map(n=>d.jsxs("div",{className:_n("flex-1 pl-[1em] flex flex-col justify-center",{"mi-chart-player-in":e===0,"mi-chart-player-out":e>0}),style:{background:`linear-gradient(to left, transparent, ${t.teamPlayers[n].color}C0)`,animationDelay:e===0?n*.25+"s":"0s"},children:[d.jsx("p",{className:"text-[1.5em] leading-[1em]",children:t.teamPlayers[n].playerNickname}),d.jsx("p",{className:"text-[.75em]",children:t.teamPlayers[n].teamName})]}))})]})]}):d.jsx(d.Fragment,{}),pJ=({params:{matchId:t}})=>{var h;const{match:e,matchRounds:r}=Xo(t),{data:n}=oj(t),i=E.useMemo(()=>{var b,v,x,S,_,w,A,C,I,T,P,O;if(!e||!r||!n)return[{type:"empty",_id:"empty",subslide:0}];const p=OG(Object.values(r)),m=[{type:"empty",_id:"empty",subslide:0},{type:"teams",_id:"teams",teams:{playerEast:{...n.playerEast,point:p.result.playerEast.point,ranking:p.result.playerEast.ranking},playerSouth:{...n.playerSouth,point:p.result.playerSouth.point,ranking:p.result.playerSouth.ranking},playerWest:{...n.playerWest,point:p.result.playerWest.point,ranking:p.result.playerWest.ranking},playerNorth:{...n.playerNorth,point:p.result.playerNorth.point,ranking:p.result.playerNorth.ranking}},subslide:1}],y={playerEast:{score:((b=p.result.playerEast)==null?void 0:b.score)??25e3,point:((v=p.result.playerEast)==null?void 0:v.point)??0,ranking:((x=p.result.playerEast)==null?void 0:x.ranking)??"1",ronCount:0,riichiCount:0,chuckCount:0,scores:[25e3]},playerSouth:{score:((S=p.result.playerSouth)==null?void 0:S.score)??25e3,point:((_=p.result.playerSouth)==null?void 0:_.point)??0,ranking:((w=p.result.playerSouth)==null?void 0:w.ranking)??"1",ronCount:0,riichiCount:0,chuckCount:0,scores:[25e3]},playerWest:{score:((A=p.result.playerWest)==null?void 0:A.score)??25e3,point:((C=p.result.playerWest)==null?void 0:C.point)??0,ranking:((I=p.result.playerWest)==null?void 0:I.ranking)??"1",ronCount:0,riichiCount:0,chuckCount:0,scores:[25e3]},playerNorth:{score:((T=p.result.playerNorth)==null?void 0:T.score)??25e3,point:((P=p.result.playerNorth)==null?void 0:P.point)??0,ranking:((O=p.result.playerNorth)==null?void 0:O.ranking)??"1",ronCount:0,riichiCount:0,chuckCount:0,scores:[25e3]}};for(const N of p.rounds)y.playerEast.scores.push(N.playerEast.afterScore),y.playerSouth.scores.push(N.playerSouth.afterScore),y.playerWest.scores.push(N.playerWest.afterScore),y.playerNorth.scores.push(N.playerNorth.afterScore),N.playerEast.status==="isRiichied"&&(y.playerEast.riichiCount+=1),N.playerSouth.status==="isRiichied"&&(y.playerSouth.riichiCount+=1),N.playerWest.status==="isRiichied"&&(y.playerWest.riichiCount+=1),N.playerNorth.status==="isRiichied"&&(y.playerNorth.riichiCount+=1),(N.type==="ron"||N.type==="tsumo")&&(N.playerEast.type==="win"&&(y.playerEast.ronCount+=1),N.playerSouth.type==="win"&&(y.playerSouth.ronCount+=1),N.playerWest.type==="win"&&(y.playerWest.ronCount+=1),N.playerNorth.type==="win"&&(y.playerNorth.ronCount+=1)),N.type==="ron"&&(N.playerEast.type==="lose"&&(y.playerEast.chuckCount+=1),N.playerSouth.type==="lose"&&(y.playerSouth.chuckCount+=1),N.playerWest.type==="lose"&&(y.playerWest.chuckCount+=1),N.playerNorth.type==="lose"&&(y.playerNorth.chuckCount+=1));const g=[{...n.playerEast,result:y.playerEast},{...n.playerSouth,result:y.playerSouth},{...n.playerWest,result:y.playerWest},{...n.playerNorth,result:y.playerNorth}].sort((N,R)=>R.result.score-N.result.score);return m.push({type:"players",_id:"players",teamPlayers:g,subslide:1}),m.push({type:"chart",_id:"chart",rounds:[{name:"",playerEast:25e3,playerSouth:25e3,playerWest:25e3,playerNorth:25e3},...p.rounds.map(N=>({name:N.code==="1.0"?"東一局":N.code==="5.0"?"南一局":"",playerEast:N.playerEast.afterScore,playerSouth:N.playerSouth.afterScore,playerWest:N.playerWest.afterScore,playerNorth:N.playerNorth.afterScore}))],players:{playerEast:{name:n.playerEast.playerNickname,color:n.playerEast.color},playerSouth:{name:n.playerSouth.playerNickname,color:n.playerSouth.color},playerWest:{name:n.playerWest.playerNickname,color:n.playerWest.color},playerNorth:{name:n.playerNorth.playerNickname,color:n.playerNorth.color}},teamPlayers:g,subslide:1}),m},[e,n,r]),[o,s]=E.useState(0),[a,l]=E.useState(0),[c,u]=E.useState(!1),f=E.useCallback(()=>{if(c)return;const p=i[o];if(!p){s(1);return}p.type==="empty"?s(m=>m+1):a>=p.subslide-1?(s(m=>m+.5),u(!0),setTimeout(()=>{s(m=>Math.ceil(m)),l(0),u(!1)},1200)):(l(m=>m+.5),u(!0),setTimeout(()=>{l(m=>Math.ceil(m)),u(!1)},1200))},[c,o,i,a]);return!e||!r||!n?d.jsx(d.Fragment,{}):d.jsxs("div",{className:"match-introduction fixed inset-0 text-white text-[36px]",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},onClick:f,children:[d.jsx("div",{className:"absolute py-16 px-24 inset-0",children:d.jsxs("div",{className:"flex items-end gap-x-[0.25em] mi-title-in",children:[d.jsx("div",{children:d.jsx("img",{src:n.tournament.logoUrl+"?w=280&h=280&auto=format",alt:n.tournament.name,style:{width:"3.5em",height:"3.5em",marginTop:"0.15em"}})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-[1.25em] leading-[1em]",children:n.tournament.name}),d.jsxs("h1",{className:"text-[2em] leading-[1.2em] font-semibold",children:["常規賽 ",(h=n.startAt)==null?void 0:h.substring(0,10)]})]}),d.jsx("div",{children:d.jsx("h1",{className:"text-[2em] leading-[1.2em] font-semibold",children:"對局結果"})})]})}),i.map((p,m)=>d.jsx(gHe,{slide:p,status:o-m,subslide:a},p._id))]})};function vHe({params:{obsRoomId:t}}){const{data:e}=Jr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?d.jsx(d.Fragment,{children:"讀取中…"}):d.jsx(pJ,{params:r})}const bHe=new Lhe({defaultOptions:{queries:{retry:2,refetchOnReconnect:!1,refetchOnWindowFocus:!1,refetchIntervalInBackground:!1,staleTime:1/0}}});cC.createRoot(document.getElementById("root")).render(d.jsx(k.StrictMode,{children:d.jsx(zhe,{client:bHe,children:d.jsx(She,{children:d.jsx(Cye,{children:d.jsxs(Ate,{children:[d.jsx(at,{path:"/",component:aye}),d.jsx(at,{path:"/create-match",component:vTe}),d.jsx(at,{path:"/match/:matchId",component:xye}),d.jsx(at,{path:"/match/:matchId/obs",component:RG}),d.jsx(at,{path:"/match/:matchId/overlay",component:bY}),d.jsx(at,{path:"/match/:matchId/control",component:xH}),d.jsx(at,{path:"/match/:matchId/export",component:mY}),d.jsx(at,{path:"/match/:matchId/forecast",component:yY}),d.jsx(at,{path:"/match/:matchId/introduction",component:vY}),d.jsx(at,{path:"/match/:matchId/summary",component:pJ}),d.jsx(at,{path:"/match/:matchId/nameplates",component:TTe}),d.jsx(at,{path:"/match/:matchId/stat",component:pY}),d.jsx(at,{path:"/obs/:obsRoomId",component:_Te}),d.jsx(at,{path:"/obs/:obsRoomId/overlay",component:$Te}),d.jsx(at,{path:"/obs/:obsRoomId/control",component:CTe}),d.jsx(at,{path:"/obs/:obsRoomId/export",component:DTe}),d.jsx(at,{path:"/obs/:obsRoomId/forecast",component:kTe}),d.jsx(at,{path:"/obs/:obsRoomId/introduction",component:MTe}),d.jsx(at,{path:"/obs/:obsRoomId/summary",component:vHe}),d.jsx(at,{path:"/obs/:obsRoomId/weekly-summary",component:D3}),d.jsx(at,{path:"/obs/:obsRoomId/end",component:OTe}),d.jsx(at,{path:"/obs/:obsRoomId/score",component:wTe}),d.jsx(at,{path:"/obs/:obsRoomId/chart",component:ETe}),d.jsx(at,{path:"/obs/:obsRoomId/carousel",component:ATe}),d.jsx(at,{path:"/obs/:obsRoomId/stat",component:PTe}),d.jsx(at,{path:"/players",component:hTe}),d.jsx(at,{path:"/teams",component:xTe}),d.jsx(at,{path:"/matches",component:STe}),d.jsx(at,{path:"/weekly-summary/:week",component:D3})]})})})})}));Pte();export{Il as c,ot as g};
