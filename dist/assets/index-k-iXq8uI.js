var DS=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var M=(t,e,r)=>(DS(t,e,"read from private field"),r?r.call(t):e.get(t)),de=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ae=(t,e,r,n)=>(DS(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var uv=(t,e,r,n)=>({set _(i){ae(t,e,i,r)},get _(){return M(t,e,n)}}),Oe=(t,e,r)=>(DS(t,e,"access private method"),r);function FJ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LJ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var XV={exports:{}},uw={},JV={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=Symbol.for("react.element"),BJ=Symbol.for("react.portal"),UJ=Symbol.for("react.fragment"),VJ=Symbol.for("react.strict_mode"),WJ=Symbol.for("react.profiler"),zJ=Symbol.for("react.provider"),GJ=Symbol.for("react.context"),qJ=Symbol.for("react.forward_ref"),HJ=Symbol.for("react.suspense"),KJ=Symbol.for("react.memo"),QJ=Symbol.for("react.lazy"),g2=Symbol.iterator;function YJ(t){return t===null||typeof t!="object"?null:(t=g2&&t[g2]||t["@@iterator"],typeof t=="function"?t:null)}var ZV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e5=Object.assign,t5={};function Fd(t,e,r){this.props=t,this.context=e,this.refs=t5,this.updater=r||ZV}Fd.prototype.isReactComponent={};Fd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r5(){}r5.prototype=Fd.prototype;function pN(t,e,r){this.props=t,this.context=e,this.refs=t5,this.updater=r||ZV}var mN=pN.prototype=new r5;mN.constructor=pN;e5(mN,Fd.prototype);mN.isPureReactComponent=!0;var v2=Array.isArray,n5=Object.prototype.hasOwnProperty,yN={current:null},i5={key:!0,ref:!0,__self:!0,__source:!0};function o5(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)n5.call(e,n)&&!i5.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:eg,type:t,key:o,ref:s,props:i,_owner:yN.current}}function XJ(t,e){return{$$typeof:eg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gN(t){return typeof t=="object"&&t!==null&&t.$$typeof===eg}function JJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var b2=/\/+/g;function MS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JJ(""+t.key):e.toString(36)}function v0(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case eg:case BJ:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+MS(s,0):n,v2(i)?(r="",t!=null&&(r=t.replace(b2,"$&/")+"/"),v0(i,e,r,"",function(c){return c})):i!=null&&(gN(i)&&(i=XJ(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(b2,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",v2(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+MS(o,a);s+=v0(o,e,r,l,i)}else if(l=YJ(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+MS(o,a++),s+=v0(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function fv(t,e,r){if(t==null)return t;var n=[],i=0;return v0(t,n,"","",function(o){return e.call(r,o,i++)}),n}function ZJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},b0={transition:null},eZ={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:b0,ReactCurrentOwner:yN};ze.Children={map:fv,forEach:function(t,e,r){fv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fv(t,function(){e++}),e},toArray:function(t){return fv(t,function(e){return e})||[]},only:function(t){if(!gN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Fd;ze.Fragment=UJ;ze.Profiler=WJ;ze.PureComponent=pN;ze.StrictMode=VJ;ze.Suspense=HJ;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eZ;ze.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=e5({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=yN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)n5.call(e,l)&&!i5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:eg,type:t.type,key:i,ref:o,props:n,_owner:s}};ze.createContext=function(t){return t={$$typeof:GJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zJ,_context:t},t.Consumer=t};ze.createElement=o5;ze.createFactory=function(t){var e=o5.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:qJ,render:t}};ze.isValidElement=gN;ze.lazy=function(t){return{$$typeof:QJ,_payload:{_status:-1,_result:t},_init:ZJ}};ze.memo=function(t,e){return{$$typeof:KJ,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=b0.transition;b0.transition={};try{t()}finally{b0.transition=e}};ze.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ze.useCallback=function(t,e){return In.current.useCallback(t,e)};ze.useContext=function(t){return In.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return In.current.useDeferredValue(t)};ze.useEffect=function(t,e){return In.current.useEffect(t,e)};ze.useId=function(){return In.current.useId()};ze.useImperativeHandle=function(t,e,r){return In.current.useImperativeHandle(t,e,r)};ze.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return In.current.useMemo(t,e)};ze.useReducer=function(t,e,r){return In.current.useReducer(t,e,r)};ze.useRef=function(t){return In.current.useRef(t)};ze.useState=function(t){return In.current.useState(t)};ze.useSyncExternalStore=function(t,e,r){return In.current.useSyncExternalStore(t,e,r)};ze.useTransition=function(){return In.current.useTransition()};ze.version="18.2.0";JV.exports=ze;var E=JV.exports;const k=st(E),tZ=FJ({__proto__:null,default:k},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rZ=E,nZ=Symbol.for("react.element"),iZ=Symbol.for("react.fragment"),oZ=Object.prototype.hasOwnProperty,sZ=rZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aZ={key:!0,ref:!0,__self:!0,__source:!0};function s5(t,e,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)oZ.call(e,n)&&!aZ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:nZ,type:t,key:o,ref:s,props:i,_owner:sZ.current}}uw.Fragment=iZ;uw.jsx=s5;uw.jsxs=s5;XV.exports=uw;var u=XV.exports,mC={},a5={exports:{}},ui={},l5={exports:{}},c5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,F){var z=j.length;j.push(F);e:for(;0<z;){var le=z-1>>>1,re=j[le];if(0<i(re,F))j[le]=F,j[z]=re,z=le;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var F=j[0],z=j.pop();if(z!==F){j[0]=z;e:for(var le=0,re=j.length,be=re>>>1;le<be;){var at=2*(le+1)-1,nt=j[at],zt=at+1,pt=j[zt];if(0>i(nt,z))zt<re&&0>i(pt,nt)?(j[le]=pt,j[zt]=z,le=zt):(j[le]=nt,j[at]=z,le=at);else if(zt<re&&0>i(pt,z))j[le]=pt,j[zt]=z,le=zt;else break e}}return F}function i(j,F){var z=j.sortIndex-F.sortIndex;return z!==0?z:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var F=r(c);F!==null;){if(F.callback===null)n(c);else if(F.startTime<=j)n(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=r(c)}}function S(j){if(y=!1,x(j),!m)if(r(l)!==null)m=!0,U(w);else{var F=r(c);F!==null&&V(S,F.startTime-j)}}function w(j,F){m=!1,y&&(y=!1,b(C),C=-1),p=!0;var z=h;try{for(x(F),d=r(l);d!==null&&(!(d.expirationTime>F)||j&&!I());){var le=d.callback;if(typeof le=="function"){d.callback=null,h=d.priorityLevel;var re=le(d.expirationTime<=F);F=t.unstable_now(),typeof re=="function"?d.callback=re:d===r(l)&&n(l),x(F)}else n(l);d=r(l)}if(d!==null)var be=!0;else{var at=r(c);at!==null&&V(S,at.startTime-F),be=!1}return be}finally{d=null,h=z,p=!1}}var _=!1,A=null,C=-1,T=5,P=-1;function I(){return!(t.unstable_now()-P<T)}function O(){if(A!==null){var j=t.unstable_now();P=j;var F=!0;try{F=A(!0,j)}finally{F?N():(_=!1,A=null)}}else _=!1}var N;if(typeof g=="function")N=function(){g(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,L=R.port2;R.port1.onmessage=O,N=function(){L.postMessage(null)}}else N=function(){v(O,0)};function U(j){A=j,_||(_=!0,N())}function V(j,F){C=v(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(w))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var z=h;h=F;try{return j()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var z=h;h=j;try{return F()}finally{h=z}},t.unstable_scheduleCallback=function(j,F,z){var le=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?le+z:le):z=le,j){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=z+re,j={id:f++,callback:F,priorityLevel:j,startTime:z,expirationTime:re,sortIndex:-1},z>le?(j.sortIndex=z,e(c,j),r(l)===null&&j===r(c)&&(y?(b(C),C=-1):y=!0,V(S,z-le))):(j.sortIndex=re,e(l,j),m||p||(m=!0,U(w))),j},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(j){var F=h;return function(){var z=h;h=F;try{return j.apply(this,arguments)}finally{h=z}}}})(c5);l5.exports=c5;var lZ=l5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5=E,ai=lZ;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f5=new Set,nm={};function Mc(t,e){Df(t,e),Df(t+"Capture",e)}function Df(t,e){for(nm[t]=e,t=0;t<e.length;t++)f5.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yC=Object.prototype.hasOwnProperty,cZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x2={},_2={};function uZ(t){return yC.call(_2,t)?!0:yC.call(x2,t)?!1:cZ.test(t)?_2[t]=!0:(x2[t]=!0,!1)}function fZ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dZ(t,e,r,n){if(e===null||typeof e>"u"||fZ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nn(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yr[t]=new Nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yr[e]=new Nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yr[t]=new Nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yr[t]=new Nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yr[t]=new Nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yr[t]=new Nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yr[t]=new Nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yr[t]=new Nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yr[t]=new Nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var vN=/[\-:]([a-z])/g;function bN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vN,bN);Yr[e]=new Nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vN,bN);Yr[e]=new Nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vN,bN);Yr[e]=new Nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yr[t]=new Nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Yr.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yr[t]=new Nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function xN(t,e,r,n){var i=Yr.hasOwnProperty(e)?Yr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dZ(e,r,i,n)&&(r=null),n||i===null?uZ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $s=u5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dv=Symbol.for("react.element"),Cu=Symbol.for("react.portal"),Pu=Symbol.for("react.fragment"),_N=Symbol.for("react.strict_mode"),gC=Symbol.for("react.profiler"),d5=Symbol.for("react.provider"),h5=Symbol.for("react.context"),wN=Symbol.for("react.forward_ref"),vC=Symbol.for("react.suspense"),bC=Symbol.for("react.suspense_list"),SN=Symbol.for("react.memo"),Xs=Symbol.for("react.lazy"),p5=Symbol.for("react.offscreen"),w2=Symbol.iterator;function vh(t){return t===null||typeof t!="object"?null:(t=w2&&t[w2]||t["@@iterator"],typeof t=="function"?t:null)}var Vt=Object.assign,FS;function Zh(t){if(FS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);FS=e&&e[1]||""}return`
`+FS+t}var LS=!1;function BS(t,e){if(!t||LS)return"";LS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{LS=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Zh(t):""}function hZ(t){switch(t.tag){case 5:return Zh(t.type);case 16:return Zh("Lazy");case 13:return Zh("Suspense");case 19:return Zh("SuspenseList");case 0:case 2:case 15:return t=BS(t.type,!1),t;case 11:return t=BS(t.type.render,!1),t;case 1:return t=BS(t.type,!0),t;default:return""}}function xC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pu:return"Fragment";case Cu:return"Portal";case gC:return"Profiler";case _N:return"StrictMode";case vC:return"Suspense";case bC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h5:return(t.displayName||"Context")+".Consumer";case d5:return(t._context.displayName||"Context")+".Provider";case wN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case SN:return e=t.displayName||null,e!==null?e:xC(t.type)||"Memo";case Xs:e=t._payload,t=t._init;try{return xC(t(e))}catch{}}return null}function pZ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xC(e);case 8:return e===_N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Va(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mZ(t){var e=m5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hv(t){t._valueTracker||(t._valueTracker=mZ(t))}function y5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=m5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function cb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _C(t,e){var r=e.checked;return Vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function S2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Va(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g5(t,e){e=e.checked,e!=null&&xN(t,"checked",e,!1)}function wC(t,e){g5(t,e);var r=Va(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?SC(t,e.type,r):e.hasOwnProperty("defaultValue")&&SC(t,e.type,Va(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function SC(t,e,r){(e!=="number"||cb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ep=Array.isArray;function Qu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Va(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function EC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function A2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Q(92));if(ep(r)){if(1<r.length)throw Error(Q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Va(r)}}function v5(t,e){var r=Va(e.value),n=Va(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function C2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pv,x5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pv=pv||document.createElement("div"),pv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function im(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var xp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yZ=["Webkit","ms","Moz","O"];Object.keys(xp).forEach(function(t){yZ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xp[e]=xp[t]})});function _5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||xp.hasOwnProperty(t)&&xp[t]?(""+e).trim():e+"px"}function w5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=_5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var gZ=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CC(t,e){if(e){if(gZ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function PC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TC=null;function EN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var IC=null,Yu=null,Xu=null;function P2(t){if(t=ng(t)){if(typeof IC!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=mw(e),IC(t.stateNode,t.type,e))}}function S5(t){Yu?Xu?Xu.push(t):Xu=[t]:Yu=t}function E5(){if(Yu){var t=Yu,e=Xu;if(Xu=Yu=null,P2(t),e)for(t=0;t<e.length;t++)P2(e[t])}}function A5(t,e){return t(e)}function C5(){}var US=!1;function P5(t,e,r){if(US)return t(e,r);US=!0;try{return A5(t,e,r)}finally{US=!1,(Yu!==null||Xu!==null)&&(C5(),E5())}}function om(t,e){var r=t.stateNode;if(r===null)return null;var n=mw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Q(231,e,typeof r));return r}var NC=!1;if(Es)try{var bh={};Object.defineProperty(bh,"passive",{get:function(){NC=!0}}),window.addEventListener("test",bh,bh),window.removeEventListener("test",bh,bh)}catch{NC=!1}function vZ(t,e,r,n,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var _p=!1,ub=null,fb=!1,kC=null,bZ={onError:function(t){_p=!0,ub=t}};function xZ(t,e,r,n,i,o,s,a,l){_p=!1,ub=null,vZ.apply(bZ,arguments)}function _Z(t,e,r,n,i,o,s,a,l){if(xZ.apply(this,arguments),_p){if(_p){var c=ub;_p=!1,ub=null}else throw Error(Q(198));fb||(fb=!0,kC=c)}}function Fc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function T5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T2(t){if(Fc(t)!==t)throw Error(Q(188))}function wZ(t){var e=t.alternate;if(!e){if(e=Fc(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return T2(i),t;if(o===n)return T2(i),e;o=o.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?t:e}function I5(t){return t=wZ(t),t!==null?N5(t):null}function N5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=N5(t);if(e!==null)return e;t=t.sibling}return null}var k5=ai.unstable_scheduleCallback,I2=ai.unstable_cancelCallback,SZ=ai.unstable_shouldYield,EZ=ai.unstable_requestPaint,Xt=ai.unstable_now,AZ=ai.unstable_getCurrentPriorityLevel,AN=ai.unstable_ImmediatePriority,O5=ai.unstable_UserBlockingPriority,db=ai.unstable_NormalPriority,CZ=ai.unstable_LowPriority,j5=ai.unstable_IdlePriority,fw=null,Lo=null;function PZ(t){if(Lo&&typeof Lo.onCommitFiberRoot=="function")try{Lo.onCommitFiberRoot(fw,t,void 0,(t.current.flags&128)===128)}catch{}}var lo=Math.clz32?Math.clz32:NZ,TZ=Math.log,IZ=Math.LN2;function NZ(t){return t>>>=0,t===0?32:31-(TZ(t)/IZ|0)|0}var mv=64,yv=4194304;function tp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=tp(a):(o&=s,o!==0&&(n=tp(o)))}else s=r&~i,s!==0?n=tp(s):o!==0&&(n=tp(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-lo(e),i=1<<r,n|=t[r],e&=~i;return n}function kZ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OZ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-lo(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=kZ(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function OC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R5(){var t=mv;return mv<<=1,!(mv&4194240)&&(mv=64),t}function VS(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function tg(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lo(e),t[e]=r}function jZ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-lo(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function CN(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-lo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var lt=0;function $5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D5,PN,M5,F5,L5,jC=!1,gv=[],Aa=null,Ca=null,Pa=null,sm=new Map,am=new Map,na=[],RZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N2(t,e){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":sm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":am.delete(e.pointerId)}}function xh(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ng(e),e!==null&&PN(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $Z(t,e,r,n,i){switch(e){case"focusin":return Aa=xh(Aa,t,e,r,n,i),!0;case"dragenter":return Ca=xh(Ca,t,e,r,n,i),!0;case"mouseover":return Pa=xh(Pa,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return sm.set(o,xh(sm.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,am.set(o,xh(am.get(o)||null,t,e,r,n,i)),!0}return!1}function B5(t){var e=$l(t.target);if(e!==null){var r=Fc(e);if(r!==null){if(e=r.tag,e===13){if(e=T5(r),e!==null){t.blockedOn=e,L5(t.priority,function(){M5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function x0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=RC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);TC=n,r.target.dispatchEvent(n),TC=null}else return e=ng(r),e!==null&&PN(e),t.blockedOn=r,!1;e.shift()}return!0}function k2(t,e,r){x0(t)&&r.delete(e)}function DZ(){jC=!1,Aa!==null&&x0(Aa)&&(Aa=null),Ca!==null&&x0(Ca)&&(Ca=null),Pa!==null&&x0(Pa)&&(Pa=null),sm.forEach(k2),am.forEach(k2)}function _h(t,e){t.blockedOn===e&&(t.blockedOn=null,jC||(jC=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,DZ)))}function lm(t){function e(i){return _h(i,t)}if(0<gv.length){_h(gv[0],t);for(var r=1;r<gv.length;r++){var n=gv[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Aa!==null&&_h(Aa,t),Ca!==null&&_h(Ca,t),Pa!==null&&_h(Pa,t),sm.forEach(e),am.forEach(e),r=0;r<na.length;r++)n=na[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<na.length&&(r=na[0],r.blockedOn===null);)B5(r),r.blockedOn===null&&na.shift()}var Ju=$s.ReactCurrentBatchConfig,pb=!0;function MZ(t,e,r,n){var i=lt,o=Ju.transition;Ju.transition=null;try{lt=1,TN(t,e,r,n)}finally{lt=i,Ju.transition=o}}function FZ(t,e,r,n){var i=lt,o=Ju.transition;Ju.transition=null;try{lt=4,TN(t,e,r,n)}finally{lt=i,Ju.transition=o}}function TN(t,e,r,n){if(pb){var i=RC(t,e,r,n);if(i===null)JS(t,e,n,mb,r),N2(t,n);else if($Z(i,t,e,r,n))n.stopPropagation();else if(N2(t,n),e&4&&-1<RZ.indexOf(t)){for(;i!==null;){var o=ng(i);if(o!==null&&D5(o),o=RC(t,e,r,n),o===null&&JS(t,e,n,mb,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else JS(t,e,n,null,r)}}var mb=null;function RC(t,e,r,n){if(mb=null,t=EN(n),t=$l(t),t!==null)if(e=Fc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=T5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mb=t,null}function U5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AZ()){case AN:return 1;case O5:return 4;case db:case CZ:return 16;case j5:return 536870912;default:return 16}default:return 16}}var ha=null,IN=null,_0=null;function V5(){if(_0)return _0;var t,e=IN,r=e.length,n,i="value"in ha?ha.value:ha.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return _0=i.slice(t,1<n?1-n:void 0)}function w0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vv(){return!0}function O2(){return!1}function fi(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vv:O2,this.isPropagationStopped=O2,this}return Vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vv)},persist:function(){},isPersistent:vv}),e}var Ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},NN=fi(Ld),rg=Vt({},Ld,{view:0,detail:0}),LZ=fi(rg),WS,zS,wh,dw=Vt({},rg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wh&&(wh&&t.type==="mousemove"?(WS=t.screenX-wh.screenX,zS=t.screenY-wh.screenY):zS=WS=0,wh=t),WS)},movementY:function(t){return"movementY"in t?t.movementY:zS}}),j2=fi(dw),BZ=Vt({},dw,{dataTransfer:0}),UZ=fi(BZ),VZ=Vt({},rg,{relatedTarget:0}),GS=fi(VZ),WZ=Vt({},Ld,{animationName:0,elapsedTime:0,pseudoElement:0}),zZ=fi(WZ),GZ=Vt({},Ld,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qZ=fi(GZ),HZ=Vt({},Ld,{data:0}),R2=fi(HZ),KZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XZ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YZ[t])?!!e[t]:!1}function kN(){return XZ}var JZ=Vt({},rg,{key:function(t){if(t.key){var e=KZ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=w0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QZ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kN,charCode:function(t){return t.type==="keypress"?w0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?w0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZZ=fi(JZ),eee=Vt({},dw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$2=fi(eee),tee=Vt({},rg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kN}),ree=fi(tee),nee=Vt({},Ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),iee=fi(nee),oee=Vt({},dw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),see=fi(oee),aee=[9,13,27,32],ON=Es&&"CompositionEvent"in window,wp=null;Es&&"documentMode"in document&&(wp=document.documentMode);var lee=Es&&"TextEvent"in window&&!wp,W5=Es&&(!ON||wp&&8<wp&&11>=wp),D2=" ",M2=!1;function z5(t,e){switch(t){case"keyup":return aee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tu=!1;function cee(t,e){switch(t){case"compositionend":return G5(e);case"keypress":return e.which!==32?null:(M2=!0,D2);case"textInput":return t=e.data,t===D2&&M2?null:t;default:return null}}function uee(t,e){if(Tu)return t==="compositionend"||!ON&&z5(t,e)?(t=V5(),_0=IN=ha=null,Tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W5&&e.locale!=="ko"?null:e.data;default:return null}}var fee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fee[t.type]:e==="textarea"}function q5(t,e,r,n){S5(n),e=yb(e,"onChange"),0<e.length&&(r=new NN("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Sp=null,cm=null;function dee(t){n6(t,0)}function hw(t){var e=ku(t);if(y5(e))return t}function hee(t,e){if(t==="change")return e}var H5=!1;if(Es){var qS;if(Es){var HS="oninput"in document;if(!HS){var L2=document.createElement("div");L2.setAttribute("oninput","return;"),HS=typeof L2.oninput=="function"}qS=HS}else qS=!1;H5=qS&&(!document.documentMode||9<document.documentMode)}function B2(){Sp&&(Sp.detachEvent("onpropertychange",K5),cm=Sp=null)}function K5(t){if(t.propertyName==="value"&&hw(cm)){var e=[];q5(e,cm,t,EN(t)),P5(dee,e)}}function pee(t,e,r){t==="focusin"?(B2(),Sp=e,cm=r,Sp.attachEvent("onpropertychange",K5)):t==="focusout"&&B2()}function mee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hw(cm)}function yee(t,e){if(t==="click")return hw(e)}function gee(t,e){if(t==="input"||t==="change")return hw(e)}function vee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ho=typeof Object.is=="function"?Object.is:vee;function um(t,e){if(ho(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!yC.call(e,i)||!ho(t[i],e[i]))return!1}return!0}function U2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function V2(t,e){var r=U2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=U2(r)}}function Q5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y5(){for(var t=window,e=cb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=cb(t.document)}return e}function jN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bee(t){var e=Y5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Q5(r.ownerDocument.documentElement,r)){if(n!==null&&jN(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=V2(r,o);var s=V2(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xee=Es&&"documentMode"in document&&11>=document.documentMode,Iu=null,$C=null,Ep=null,DC=!1;function W2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;DC||Iu==null||Iu!==cb(n)||(n=Iu,"selectionStart"in n&&jN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ep&&um(Ep,n)||(Ep=n,n=yb($C,"onSelect"),0<n.length&&(e=new NN("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Iu)))}function bv(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Nu={animationend:bv("Animation","AnimationEnd"),animationiteration:bv("Animation","AnimationIteration"),animationstart:bv("Animation","AnimationStart"),transitionend:bv("Transition","TransitionEnd")},KS={},X5={};Es&&(X5=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function pw(t){if(KS[t])return KS[t];if(!Nu[t])return t;var e=Nu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in X5)return KS[t]=e[r];return t}var J5=pw("animationend"),Z5=pw("animationiteration"),e6=pw("animationstart"),t6=pw("transitionend"),r6=new Map,z2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(t,e){r6.set(t,e),Mc(e,[t])}for(var QS=0;QS<z2.length;QS++){var YS=z2[QS],_ee=YS.toLowerCase(),wee=YS[0].toUpperCase()+YS.slice(1);tl(_ee,"on"+wee)}tl(J5,"onAnimationEnd");tl(Z5,"onAnimationIteration");tl(e6,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(t6,"onTransitionEnd");Df("onMouseEnter",["mouseout","mouseover"]);Df("onMouseLeave",["mouseout","mouseover"]);Df("onPointerEnter",["pointerout","pointerover"]);Df("onPointerLeave",["pointerout","pointerover"]);Mc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),See=new Set("cancel close invalid load scroll toggle".split(" ").concat(rp));function G2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,_Z(n,e,void 0,t),t.currentTarget=null}function n6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;G2(i,a,c),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;G2(i,a,c),o=l}}}if(fb)throw t=kC,fb=!1,kC=null,t}function Ct(t,e){var r=e[UC];r===void 0&&(r=e[UC]=new Set);var n=t+"__bubble";r.has(n)||(i6(e,t,2,!1),r.add(n))}function XS(t,e,r){var n=0;e&&(n|=4),i6(r,t,n,e)}var xv="_reactListening"+Math.random().toString(36).slice(2);function fm(t){if(!t[xv]){t[xv]=!0,f5.forEach(function(r){r!=="selectionchange"&&(See.has(r)||XS(r,!1,t),XS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xv]||(e[xv]=!0,XS("selectionchange",!1,e))}}function i6(t,e,r,n){switch(U5(e)){case 1:var i=MZ;break;case 4:i=FZ;break;default:i=TN}r=i.bind(null,e,r,t),i=void 0,!NC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function JS(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=$l(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}P5(function(){var c=o,f=EN(r),d=[];e:{var h=r6.get(t);if(h!==void 0){var p=NN,m=t;switch(t){case"keypress":if(w0(r)===0)break e;case"keydown":case"keyup":p=ZZ;break;case"focusin":m="focus",p=GS;break;case"focusout":m="blur",p=GS;break;case"beforeblur":case"afterblur":p=GS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=j2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ree;break;case J5:case Z5:case e6:p=zZ;break;case t6:p=iee;break;case"scroll":p=LZ;break;case"wheel":p=see;break;case"copy":case"cut":case"paste":p=qZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$2}var y=(e&4)!==0,v=!y&&t==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var g=c,x;g!==null;){x=g;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,b!==null&&(S=om(g,b),S!=null&&y.push(dm(g,S,x)))),v)break;g=g.return}0<y.length&&(h=new p(h,m,null,r,f),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==TC&&(m=r.relatedTarget||r.fromElement)&&($l(m)||m[As]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?$l(m):null,m!==null&&(v=Fc(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=j2,S="onMouseLeave",b="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=$2,S="onPointerLeave",b="onPointerEnter",g="pointer"),v=p==null?h:ku(p),x=m==null?h:ku(m),h=new y(S,g+"leave",p,r,f),h.target=v,h.relatedTarget=x,S=null,$l(f)===c&&(y=new y(b,g+"enter",m,r,f),y.target=x,y.relatedTarget=v,S=y),v=S,p&&m)t:{for(y=p,b=m,g=0,x=y;x;x=Yc(x))g++;for(x=0,S=b;S;S=Yc(S))x++;for(;0<g-x;)y=Yc(y),g--;for(;0<x-g;)b=Yc(b),x--;for(;g--;){if(y===b||b!==null&&y===b.alternate)break t;y=Yc(y),b=Yc(b)}y=null}else y=null;p!==null&&q2(d,h,p,y,!1),m!==null&&v!==null&&q2(d,v,m,y,!0)}}e:{if(h=c?ku(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=hee;else if(F2(h))if(H5)w=gee;else{w=mee;var _=pee}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=yee);if(w&&(w=w(t,c))){q5(d,w,r,f);break e}_&&_(t,h,c),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&SC(h,"number",h.value)}switch(_=c?ku(c):window,t){case"focusin":(F2(_)||_.contentEditable==="true")&&(Iu=_,$C=c,Ep=null);break;case"focusout":Ep=$C=Iu=null;break;case"mousedown":DC=!0;break;case"contextmenu":case"mouseup":case"dragend":DC=!1,W2(d,r,f);break;case"selectionchange":if(xee)break;case"keydown":case"keyup":W2(d,r,f)}var A;if(ON)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Tu?z5(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(W5&&r.locale!=="ko"&&(Tu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Tu&&(A=V5()):(ha=f,IN="value"in ha?ha.value:ha.textContent,Tu=!0)),_=yb(c,C),0<_.length&&(C=new R2(C,t,null,r,f),d.push({event:C,listeners:_}),A?C.data=A:(A=G5(r),A!==null&&(C.data=A)))),(A=lee?cee(t,r):uee(t,r))&&(c=yb(c,"onBeforeInput"),0<c.length&&(f=new R2("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=A))}n6(d,e)})}function dm(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yb(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=om(t,r),o!=null&&n.unshift(dm(t,o,i)),o=om(t,e),o!=null&&n.push(dm(t,o,i))),t=t.return}return n}function Yc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function q2(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=om(r,o),l!=null&&s.unshift(dm(r,l,a))):i||(l=om(r,o),l!=null&&s.push(dm(r,l,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Eee=/\r\n?/g,Aee=/\u0000|\uFFFD/g;function H2(t){return(typeof t=="string"?t:""+t).replace(Eee,`
`).replace(Aee,"")}function _v(t,e,r){if(e=H2(e),H2(t)!==e&&r)throw Error(Q(425))}function gb(){}var MC=null,FC=null;function LC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var BC=typeof setTimeout=="function"?setTimeout:void 0,Cee=typeof clearTimeout=="function"?clearTimeout:void 0,K2=typeof Promise=="function"?Promise:void 0,Pee=typeof queueMicrotask=="function"?queueMicrotask:typeof K2<"u"?function(t){return K2.resolve(null).then(t).catch(Tee)}:BC;function Tee(t){setTimeout(function(){throw t})}function ZS(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),lm(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);lm(e)}function Ta(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Bd=Math.random().toString(36).slice(2),Po="__reactFiber$"+Bd,hm="__reactProps$"+Bd,As="__reactContainer$"+Bd,UC="__reactEvents$"+Bd,Iee="__reactListeners$"+Bd,Nee="__reactHandles$"+Bd;function $l(t){var e=t[Po];if(e)return e;for(var r=t.parentNode;r;){if(e=r[As]||r[Po]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Q2(t);t!==null;){if(r=t[Po])return r;t=Q2(t)}return e}t=r,r=t.parentNode}return null}function ng(t){return t=t[Po]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ku(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function mw(t){return t[hm]||null}var VC=[],Ou=-1;function rl(t){return{current:t}}function kt(t){0>Ou||(t.current=VC[Ou],VC[Ou]=null,Ou--)}function Et(t,e){Ou++,VC[Ou]=t.current,t.current=e}var Wa={},hn=rl(Wa),Un=rl(!1),xc=Wa;function Mf(t,e){var r=t.type.contextTypes;if(!r)return Wa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vn(t){return t=t.childContextTypes,t!=null}function vb(){kt(Un),kt(hn)}function Y2(t,e,r){if(hn.current!==Wa)throw Error(Q(168));Et(hn,e),Et(Un,r)}function o6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Q(108,pZ(t)||"Unknown",i));return Vt({},r,n)}function bb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wa,xc=hn.current,Et(hn,t),Et(Un,Un.current),!0}function X2(t,e,r){var n=t.stateNode;if(!n)throw Error(Q(169));r?(t=o6(t,e,xc),n.__reactInternalMemoizedMergedChildContext=t,kt(Un),kt(hn),Et(hn,t)):kt(Un),Et(Un,r)}var ls=null,yw=!1,eE=!1;function s6(t){ls===null?ls=[t]:ls.push(t)}function kee(t){yw=!0,s6(t)}function nl(){if(!eE&&ls!==null){eE=!0;var t=0,e=lt;try{var r=ls;for(lt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ls=null,yw=!1}catch(i){throw ls!==null&&(ls=ls.slice(t+1)),k5(AN,nl),i}finally{lt=e,eE=!1}}return null}var ju=[],Ru=0,xb=null,_b=0,Si=[],Ei=0,_c=null,us=1,fs="";function gl(t,e){ju[Ru++]=_b,ju[Ru++]=xb,xb=t,_b=e}function a6(t,e,r){Si[Ei++]=us,Si[Ei++]=fs,Si[Ei++]=_c,_c=t;var n=us;t=fs;var i=32-lo(n)-1;n&=~(1<<i),r+=1;var o=32-lo(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,us=1<<32-lo(e)+i|r<<i|n,fs=o+t}else us=1<<o|r<<i|n,fs=t}function RN(t){t.return!==null&&(gl(t,1),a6(t,1,0))}function $N(t){for(;t===xb;)xb=ju[--Ru],ju[Ru]=null,_b=ju[--Ru],ju[Ru]=null;for(;t===_c;)_c=Si[--Ei],Si[Ei]=null,fs=Si[--Ei],Si[Ei]=null,us=Si[--Ei],Si[Ei]=null}var ii=null,ei=null,jt=!1,Xi=null;function l6(t,e){var r=Ti(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function J2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ii=t,ei=Ta(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ii=t,ei=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=_c!==null?{id:us,overflow:fs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ti(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ii=t,ei=null,!0):!1;default:return!1}}function WC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zC(t){if(jt){var e=ei;if(e){var r=e;if(!J2(t,e)){if(WC(t))throw Error(Q(418));e=Ta(r.nextSibling);var n=ii;e&&J2(t,e)?l6(n,r):(t.flags=t.flags&-4097|2,jt=!1,ii=t)}}else{if(WC(t))throw Error(Q(418));t.flags=t.flags&-4097|2,jt=!1,ii=t}}}function Z2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ii=t}function wv(t){if(t!==ii)return!1;if(!jt)return Z2(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!LC(t.type,t.memoizedProps)),e&&(e=ei)){if(WC(t))throw c6(),Error(Q(418));for(;e;)l6(t,e),e=Ta(e.nextSibling)}if(Z2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ei=Ta(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ei=null}}else ei=ii?Ta(t.stateNode.nextSibling):null;return!0}function c6(){for(var t=ei;t;)t=Ta(t.nextSibling)}function Ff(){ei=ii=null,jt=!1}function DN(t){Xi===null?Xi=[t]:Xi.push(t)}var Oee=$s.ReactCurrentBatchConfig;function qi(t,e){if(t&&t.defaultProps){e=Vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var wb=rl(null),Sb=null,$u=null,MN=null;function FN(){MN=$u=Sb=null}function LN(t){var e=wb.current;kt(wb),t._currentValue=e}function GC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zu(t,e){Sb=t,MN=$u=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fn=!0),t.firstContext=null)}function Mi(t){var e=t._currentValue;if(MN!==t)if(t={context:t,memoizedValue:e,next:null},$u===null){if(Sb===null)throw Error(Q(308));$u=t,Sb.dependencies={lanes:0,firstContext:t}}else $u=$u.next=t;return e}var Dl=null;function BN(t){Dl===null?Dl=[t]:Dl.push(t)}function u6(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,BN(e)):(r.next=i.next,i.next=r),e.interleaved=r,Cs(t,n)}function Cs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Js=!1;function UN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Cs(t,r)}return i=n.interleaved,i===null?(e.next=e,BN(n)):(e.next=i.next,i.next=e),n.interleaved=e,Cs(t,r)}function S0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,CN(t,r)}}function e$(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Eb(t,e,r,n){var i=t.updateQueue;Js=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,f=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Vt({},d,h);break e;case 2:Js=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Sc|=s,t.lanes=s,t.memoizedState=d}}function t$(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var d6=new u5.Component().refs;function qC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gw={isMounted:function(t){return(t=t._reactInternals)?Fc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Pn(),i=ka(t),o=vs(n,i);o.payload=e,r!=null&&(o.callback=r),e=Ia(t,o,i),e!==null&&(co(e,t,i,n),S0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Pn(),i=ka(t),o=vs(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Ia(t,o,i),e!==null&&(co(e,t,i,n),S0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pn(),n=ka(t),i=vs(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ia(t,i,n),e!==null&&(co(e,t,n,r),S0(e,t,n))}};function r$(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!um(r,n)||!um(i,o):!0}function h6(t,e,r){var n=!1,i=Wa,o=e.contextType;return typeof o=="object"&&o!==null?o=Mi(o):(i=Vn(e)?xc:hn.current,n=e.contextTypes,o=(n=n!=null)?Mf(t,i):Wa),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function n$(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&gw.enqueueReplaceState(e,e.state,null)}function HC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=d6,UN(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Mi(o):(o=Vn(e)?xc:hn.current,i.context=Mf(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(qC(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gw.enqueueReplaceState(i,i.state,null),Eb(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===d6&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,t))}return t}function Sv(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i$(t){var e=t._init;return e(t._payload)}function p6(t){function e(b,g){if(t){var x=b.deletions;x===null?(b.deletions=[g],b.flags|=16):x.push(g)}}function r(b,g){if(!t)return null;for(;g!==null;)e(b,g),g=g.sibling;return null}function n(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function i(b,g){return b=Oa(b,g),b.index=0,b.sibling=null,b}function o(b,g,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<g?(b.flags|=2,g):x):(b.flags|=2,g)):(b.flags|=1048576,g)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,g,x,S){return g===null||g.tag!==6?(g=aE(x,b.mode,S),g.return=b,g):(g=i(g,x),g.return=b,g)}function l(b,g,x,S){var w=x.type;return w===Pu?f(b,g,x.props.children,S,x.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xs&&i$(w)===g.type)?(S=i(g,x.props),S.ref=Sh(b,g,x),S.return=b,S):(S=I0(x.type,x.key,x.props,null,b.mode,S),S.ref=Sh(b,g,x),S.return=b,S)}function c(b,g,x,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=lE(x,b.mode,S),g.return=b,g):(g=i(g,x.children||[]),g.return=b,g)}function f(b,g,x,S,w){return g===null||g.tag!==7?(g=rc(x,b.mode,S,w),g.return=b,g):(g=i(g,x),g.return=b,g)}function d(b,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=aE(""+g,b.mode,x),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case dv:return x=I0(g.type,g.key,g.props,null,b.mode,x),x.ref=Sh(b,null,g),x.return=b,x;case Cu:return g=lE(g,b.mode,x),g.return=b,g;case Xs:var S=g._init;return d(b,S(g._payload),x)}if(ep(g)||vh(g))return g=rc(g,b.mode,x,null),g.return=b,g;Sv(b,g)}return null}function h(b,g,x,S){var w=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(b,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dv:return x.key===w?l(b,g,x,S):null;case Cu:return x.key===w?c(b,g,x,S):null;case Xs:return w=x._init,h(b,g,w(x._payload),S)}if(ep(x)||vh(x))return w!==null?null:f(b,g,x,S,null);Sv(b,x)}return null}function p(b,g,x,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(x)||null,a(g,b,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dv:return b=b.get(S.key===null?x:S.key)||null,l(g,b,S,w);case Cu:return b=b.get(S.key===null?x:S.key)||null,c(g,b,S,w);case Xs:var _=S._init;return p(b,g,x,_(S._payload),w)}if(ep(S)||vh(S))return b=b.get(x)||null,f(g,b,S,w,null);Sv(g,S)}return null}function m(b,g,x,S){for(var w=null,_=null,A=g,C=g=0,T=null;A!==null&&C<x.length;C++){A.index>C?(T=A,A=null):T=A.sibling;var P=h(b,A,x[C],S);if(P===null){A===null&&(A=T);break}t&&A&&P.alternate===null&&e(b,A),g=o(P,g,C),_===null?w=P:_.sibling=P,_=P,A=T}if(C===x.length)return r(b,A),jt&&gl(b,C),w;if(A===null){for(;C<x.length;C++)A=d(b,x[C],S),A!==null&&(g=o(A,g,C),_===null?w=A:_.sibling=A,_=A);return jt&&gl(b,C),w}for(A=n(b,A);C<x.length;C++)T=p(A,b,C,x[C],S),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?C:T.key),g=o(T,g,C),_===null?w=T:_.sibling=T,_=T);return t&&A.forEach(function(I){return e(b,I)}),jt&&gl(b,C),w}function y(b,g,x,S){var w=vh(x);if(typeof w!="function")throw Error(Q(150));if(x=w.call(x),x==null)throw Error(Q(151));for(var _=w=null,A=g,C=g=0,T=null,P=x.next();A!==null&&!P.done;C++,P=x.next()){A.index>C?(T=A,A=null):T=A.sibling;var I=h(b,A,P.value,S);if(I===null){A===null&&(A=T);break}t&&A&&I.alternate===null&&e(b,A),g=o(I,g,C),_===null?w=I:_.sibling=I,_=I,A=T}if(P.done)return r(b,A),jt&&gl(b,C),w;if(A===null){for(;!P.done;C++,P=x.next())P=d(b,P.value,S),P!==null&&(g=o(P,g,C),_===null?w=P:_.sibling=P,_=P);return jt&&gl(b,C),w}for(A=n(b,A);!P.done;C++,P=x.next())P=p(A,b,C,P.value,S),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?C:P.key),g=o(P,g,C),_===null?w=P:_.sibling=P,_=P);return t&&A.forEach(function(O){return e(b,O)}),jt&&gl(b,C),w}function v(b,g,x,S){if(typeof x=="object"&&x!==null&&x.type===Pu&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case dv:e:{for(var w=x.key,_=g;_!==null;){if(_.key===w){if(w=x.type,w===Pu){if(_.tag===7){r(b,_.sibling),g=i(_,x.props.children),g.return=b,b=g;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Xs&&i$(w)===_.type){r(b,_.sibling),g=i(_,x.props),g.ref=Sh(b,_,x),g.return=b,b=g;break e}r(b,_);break}else e(b,_);_=_.sibling}x.type===Pu?(g=rc(x.props.children,b.mode,S,x.key),g.return=b,b=g):(S=I0(x.type,x.key,x.props,null,b.mode,S),S.ref=Sh(b,g,x),S.return=b,b=S)}return s(b);case Cu:e:{for(_=x.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(b,g.sibling),g=i(g,x.children||[]),g.return=b,b=g;break e}else{r(b,g);break}else e(b,g);g=g.sibling}g=lE(x,b.mode,S),g.return=b,b=g}return s(b);case Xs:return _=x._init,v(b,g,_(x._payload),S)}if(ep(x))return m(b,g,x,S);if(vh(x))return y(b,g,x,S);Sv(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(b,g.sibling),g=i(g,x),g.return=b,b=g):(r(b,g),g=aE(x,b.mode,S),g.return=b,b=g),s(b)):r(b,g)}return v}var Lf=p6(!0),m6=p6(!1),ig={},Bo=rl(ig),pm=rl(ig),mm=rl(ig);function Ml(t){if(t===ig)throw Error(Q(174));return t}function VN(t,e){switch(Et(mm,e),Et(pm,t),Et(Bo,ig),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:AC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=AC(e,t)}kt(Bo),Et(Bo,e)}function Bf(){kt(Bo),kt(pm),kt(mm)}function y6(t){Ml(mm.current);var e=Ml(Bo.current),r=AC(e,t.type);e!==r&&(Et(pm,t),Et(Bo,r))}function WN(t){pm.current===t&&(kt(Bo),kt(pm))}var Ft=rl(0);function Ab(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tE=[];function zN(){for(var t=0;t<tE.length;t++)tE[t]._workInProgressVersionPrimary=null;tE.length=0}var E0=$s.ReactCurrentDispatcher,rE=$s.ReactCurrentBatchConfig,wc=0,Ut=null,lr=null,Ir=null,Cb=!1,Ap=!1,ym=0,jee=0;function tn(){throw Error(Q(321))}function GN(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ho(t[r],e[r]))return!1;return!0}function qN(t,e,r,n,i,o){if(wc=o,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,E0.current=t===null||t.memoizedState===null?Mee:Fee,t=r(n,i),Ap){o=0;do{if(Ap=!1,ym=0,25<=o)throw Error(Q(301));o+=1,Ir=lr=null,e.updateQueue=null,E0.current=Lee,t=r(n,i)}while(Ap)}if(E0.current=Pb,e=lr!==null&&lr.next!==null,wc=0,Ir=lr=Ut=null,Cb=!1,e)throw Error(Q(300));return t}function HN(){var t=ym!==0;return ym=0,t}function _o(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?Ut.memoizedState=Ir=t:Ir=Ir.next=t,Ir}function Fi(){if(lr===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=lr.next;var e=Ir===null?Ut.memoizedState:Ir.next;if(e!==null)Ir=e,lr=t;else{if(t===null)throw Error(Q(310));lr=t,t={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},Ir===null?Ut.memoizedState=Ir=t:Ir=Ir.next=t}return Ir}function gm(t,e){return typeof e=="function"?e(t):e}function nE(t){var e=Fi(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=lr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,c=o;do{var f=c.lane;if((wc&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=n):l=l.next=d,Ut.lanes|=f,Sc|=f}c=c.next}while(c!==null&&c!==o);l===null?s=n:l.next=a,ho(n,e.memoizedState)||(Fn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Ut.lanes|=o,Sc|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function iE(t){var e=Fi(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ho(o,e.memoizedState)||(Fn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function g6(){}function v6(t,e){var r=Ut,n=Fi(),i=e(),o=!ho(n.memoizedState,i);if(o&&(n.memoizedState=i,Fn=!0),n=n.queue,KN(_6.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Ir!==null&&Ir.memoizedState.tag&1){if(r.flags|=2048,vm(9,x6.bind(null,r,n,i,e),void 0,null),Nr===null)throw Error(Q(349));wc&30||b6(r,e,i)}return i}function b6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function x6(t,e,r,n){e.value=r,e.getSnapshot=n,w6(e)&&S6(t)}function _6(t,e,r){return r(function(){w6(e)&&S6(t)})}function w6(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ho(t,r)}catch{return!0}}function S6(t){var e=Cs(t,1);e!==null&&co(e,t,1,-1)}function o$(t){var e=_o();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:t},e.queue=t,t=t.dispatch=Dee.bind(null,Ut,t),[e.memoizedState,t]}function vm(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function E6(){return Fi().memoizedState}function A0(t,e,r,n){var i=_o();Ut.flags|=t,i.memoizedState=vm(1|e,r,void 0,n===void 0?null:n)}function vw(t,e,r,n){var i=Fi();n=n===void 0?null:n;var o=void 0;if(lr!==null){var s=lr.memoizedState;if(o=s.destroy,n!==null&&GN(n,s.deps)){i.memoizedState=vm(e,r,o,n);return}}Ut.flags|=t,i.memoizedState=vm(1|e,r,o,n)}function s$(t,e){return A0(8390656,8,t,e)}function KN(t,e){return vw(2048,8,t,e)}function A6(t,e){return vw(4,2,t,e)}function C6(t,e){return vw(4,4,t,e)}function P6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T6(t,e,r){return r=r!=null?r.concat([t]):null,vw(4,4,P6.bind(null,e,t),r)}function QN(){}function I6(t,e){var r=Fi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&GN(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function N6(t,e){var r=Fi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&GN(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function k6(t,e,r){return wc&21?(ho(r,e)||(r=R5(),Ut.lanes|=r,Sc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fn=!0),t.memoizedState=r)}function Ree(t,e){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var n=rE.transition;rE.transition={};try{t(!1),e()}finally{lt=r,rE.transition=n}}function O6(){return Fi().memoizedState}function $ee(t,e,r){var n=ka(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j6(t))R6(e,r);else if(r=u6(t,e,r,n),r!==null){var i=Pn();co(r,t,n,i),$6(r,e,n)}}function Dee(t,e,r){var n=ka(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j6(t))R6(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,ho(a,s)){var l=e.interleaved;l===null?(i.next=i,BN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=u6(t,e,i,n),r!==null&&(i=Pn(),co(r,t,n,i),$6(r,e,n))}}function j6(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function R6(t,e){Ap=Cb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function $6(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,CN(t,r)}}var Pb={readContext:Mi,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},Mee={readContext:Mi,useCallback:function(t,e){return _o().memoizedState=[t,e===void 0?null:e],t},useContext:Mi,useEffect:s$,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,A0(4194308,4,P6.bind(null,e,t),r)},useLayoutEffect:function(t,e){return A0(4194308,4,t,e)},useInsertionEffect:function(t,e){return A0(4,2,t,e)},useMemo:function(t,e){var r=_o();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=_o();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$ee.bind(null,Ut,t),[n.memoizedState,t]},useRef:function(t){var e=_o();return t={current:t},e.memoizedState=t},useState:o$,useDebugValue:QN,useDeferredValue:function(t){return _o().memoizedState=t},useTransition:function(){var t=o$(!1),e=t[0];return t=Ree.bind(null,t[1]),_o().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ut,i=_o();if(jt){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=e(),Nr===null)throw Error(Q(349));wc&30||b6(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,s$(_6.bind(null,n,o,t),[t]),n.flags|=2048,vm(9,x6.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=_o(),e=Nr.identifierPrefix;if(jt){var r=fs,n=us;r=(n&~(1<<32-lo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ym++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=jee++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fee={readContext:Mi,useCallback:I6,useContext:Mi,useEffect:KN,useImperativeHandle:T6,useInsertionEffect:A6,useLayoutEffect:C6,useMemo:N6,useReducer:nE,useRef:E6,useState:function(){return nE(gm)},useDebugValue:QN,useDeferredValue:function(t){var e=Fi();return k6(e,lr.memoizedState,t)},useTransition:function(){var t=nE(gm)[0],e=Fi().memoizedState;return[t,e]},useMutableSource:g6,useSyncExternalStore:v6,useId:O6,unstable_isNewReconciler:!1},Lee={readContext:Mi,useCallback:I6,useContext:Mi,useEffect:KN,useImperativeHandle:T6,useInsertionEffect:A6,useLayoutEffect:C6,useMemo:N6,useReducer:iE,useRef:E6,useState:function(){return iE(gm)},useDebugValue:QN,useDeferredValue:function(t){var e=Fi();return lr===null?e.memoizedState=t:k6(e,lr.memoizedState,t)},useTransition:function(){var t=iE(gm)[0],e=Fi().memoizedState;return[t,e]},useMutableSource:g6,useSyncExternalStore:v6,useId:O6,unstable_isNewReconciler:!1};function Uf(t,e){try{var r="",n=e;do r+=hZ(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function oE(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function KC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Bee=typeof WeakMap=="function"?WeakMap:Map;function D6(t,e,r){r=vs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ib||(Ib=!0,iP=n),KC(t,e)},r}function M6(t,e,r){r=vs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){KC(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){KC(t,e),typeof n!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function a$(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Bee;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=ete.bind(null,t,e,r),e.then(t,t))}function l$(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c$(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vs(-1,1),e.tag=2,Ia(r,e,1))),r.lanes|=1),t)}var Uee=$s.ReactCurrentOwner,Fn=!1;function xn(t,e,r,n){e.child=t===null?m6(e,null,r,n):Lf(e,t.child,r,n)}function u$(t,e,r,n,i){r=r.render;var o=e.ref;return Zu(e,i),n=qN(t,e,r,n,o,i),r=HN(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):(jt&&r&&RN(e),e.flags|=1,xn(t,e,n,i),e.child)}function f$(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!nk(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,F6(t,e,o,n,i)):(t=I0(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:um,r(s,n)&&t.ref===e.ref)return Ps(t,e,i)}return e.flags|=1,t=Oa(o,n),t.ref=e.ref,t.return=e,e.child=t}function F6(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(um(o,n)&&t.ref===e.ref)if(Fn=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(Fn=!0);else return e.lanes=t.lanes,Ps(t,e,i)}return QC(t,e,r,n,i)}function L6(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Mu,Yn),Yn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Et(Mu,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Et(Mu,Yn),Yn|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Et(Mu,Yn),Yn|=n;return xn(t,e,i,r),e.child}function B6(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function QC(t,e,r,n,i){var o=Vn(r)?xc:hn.current;return o=Mf(e,o),Zu(e,i),r=qN(t,e,r,n,o,i),n=HN(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):(jt&&n&&RN(e),e.flags|=1,xn(t,e,r,i),e.child)}function d$(t,e,r,n,i){if(Vn(r)){var o=!0;bb(e)}else o=!1;if(Zu(e,i),e.stateNode===null)C0(t,e),h6(e,r,n),HC(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Mi(c):(c=Vn(r)?xc:hn.current,c=Mf(e,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==c)&&n$(e,s,n,c),Js=!1;var h=e.memoizedState;s.state=h,Eb(e,n,s,i),l=e.memoizedState,a!==n||h!==l||Un.current||Js?(typeof f=="function"&&(qC(e,r,f,n),l=e.memoizedState),(a=Js||r$(e,r,a,n,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,f6(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qi(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Mi(l):(l=Vn(r)?xc:hn.current,l=Mf(e,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&n$(e,s,n,l),Js=!1,h=e.memoizedState,s.state=h,Eb(e,n,s,i);var m=e.memoizedState;a!==d||h!==m||Un.current||Js?(typeof p=="function"&&(qC(e,r,p,n),m=e.memoizedState),(c=Js||r$(e,r,c,n,h,m,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return YC(t,e,r,n,o,i)}function YC(t,e,r,n,i,o){B6(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&X2(e,r,!1),Ps(t,e,o);n=e.stateNode,Uee.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Lf(e,t.child,null,o),e.child=Lf(e,null,a,o)):xn(t,e,a,o),e.memoizedState=n.state,i&&X2(e,r,!0),e.child}function U6(t){var e=t.stateNode;e.pendingContext?Y2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y2(t,e.context,!1),VN(t,e.containerInfo)}function h$(t,e,r,n,i){return Ff(),DN(i),e.flags|=256,xn(t,e,r,n),e.child}var XC={dehydrated:null,treeContext:null,retryLane:0};function JC(t){return{baseLanes:t,cachePool:null,transitions:null}}function V6(t,e,r){var n=e.pendingProps,i=Ft.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Et(Ft,i&1),t===null)return zC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_w(s,n,0,null),t=rc(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=JC(r),e.memoizedState=XC,t):YN(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Vee(t,e,s,n,a,i,r);if(o){o=n.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Oa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Oa(a,o):(o=rc(o,s,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=t.child.memoizedState,s=s===null?JC(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=XC,n}return o=t.child,t=o.sibling,n=Oa(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function YN(t,e){return e=_w({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ev(t,e,r,n){return n!==null&&DN(n),Lf(e,t.child,null,r),t=YN(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vee(t,e,r,n,i,o,s){if(r)return e.flags&256?(e.flags&=-257,n=oE(Error(Q(422))),Ev(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=_w({mode:"visible",children:n.children},i,0,null),o=rc(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Lf(e,t.child,null,s),e.child.memoizedState=JC(s),e.memoizedState=XC,o);if(!(e.mode&1))return Ev(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(Q(419)),n=oE(o,n,void 0),Ev(t,e,s,n)}if(a=(s&t.childLanes)!==0,Fn||a){if(n=Nr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Cs(t,i),co(n,t,i,-1))}return rk(),n=oE(Error(Q(421))),Ev(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tte.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ei=Ta(i.nextSibling),ii=e,jt=!0,Xi=null,t!==null&&(Si[Ei++]=us,Si[Ei++]=fs,Si[Ei++]=_c,us=t.id,fs=t.overflow,_c=e),e=YN(e,n.children),e.flags|=4096,e)}function p$(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),GC(t.return,e,r)}function sE(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function W6(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(xn(t,e,n.children,r),n=Ft.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p$(t,r,e);else if(t.tag===19)p$(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Et(Ft,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ab(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),sE(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ab(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}sE(e,!0,r,null,o);break;case"together":sE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function C0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ps(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Sc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,r=Oa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Oa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Wee(t,e,r){switch(e.tag){case 3:U6(e),Ff();break;case 5:y6(e);break;case 1:Vn(e.type)&&bb(e);break;case 4:VN(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Et(wb,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Et(Ft,Ft.current&1),e.flags|=128,null):r&e.child.childLanes?V6(t,e,r):(Et(Ft,Ft.current&1),t=Ps(t,e,r),t!==null?t.sibling:null);Et(Ft,Ft.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return W6(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Et(Ft,Ft.current),n)break;return null;case 22:case 23:return e.lanes=0,L6(t,e,r)}return Ps(t,e,r)}var z6,ZC,G6,q6;z6=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ZC=function(){};G6=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ml(Bo.current);var o=null;switch(r){case"input":i=_C(t,i),n=_C(t,n),o=[];break;case"select":i=Vt({},i,{value:void 0}),n=Vt({},n,{value:void 0}),o=[];break;case"textarea":i=EC(t,i),n=EC(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=gb)}CC(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nm.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ct("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};q6=function(t,e,r,n){r!==n&&(e.flags|=4)};function Eh(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function zee(t,e,r){var n=e.pendingProps;switch($N(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return Vn(e.type)&&vb(),rn(e),null;case 3:return n=e.stateNode,Bf(),kt(Un),kt(hn),zN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(wv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xi!==null&&(aP(Xi),Xi=null))),ZC(t,e),rn(e),null;case 5:WN(e);var i=Ml(mm.current);if(r=e.type,t!==null&&e.stateNode!=null)G6(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Q(166));return rn(e),null}if(t=Ml(Bo.current),wv(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Po]=e,n[hm]=o,t=(e.mode&1)!==0,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(i=0;i<rp.length;i++)Ct(rp[i],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":S2(n,o),Ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ct("invalid",n);break;case"textarea":A2(n,o),Ct("invalid",n)}CC(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&_v(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&_v(n.textContent,a,t),i=["children",""+a]):nm.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ct("scroll",n)}switch(r){case"input":hv(n),E2(n,o,!0);break;case"textarea":hv(n),C2(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=gb)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Po]=e,t[hm]=n,z6(t,e,!1,!1),e.stateNode=t;e:{switch(s=PC(r,n),r){case"dialog":Ct("cancel",t),Ct("close",t),i=n;break;case"iframe":case"object":case"embed":Ct("load",t),i=n;break;case"video":case"audio":for(i=0;i<rp.length;i++)Ct(rp[i],t);i=n;break;case"source":Ct("error",t),i=n;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),i=n;break;case"details":Ct("toggle",t),i=n;break;case"input":S2(t,n),i=_C(t,n),Ct("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Vt({},n,{value:void 0}),Ct("invalid",t);break;case"textarea":A2(t,n),i=EC(t,n),Ct("invalid",t);break;default:i=n}CC(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?w5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&x5(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&im(t,l):typeof l=="number"&&im(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(nm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ct("scroll",t):l!=null&&xN(t,o,l,s))}switch(r){case"input":hv(t),E2(t,n,!1);break;case"textarea":hv(t),C2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Va(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Qu(t,!!n.multiple,o,!1):n.defaultValue!=null&&Qu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rn(e),null;case 6:if(t&&e.stateNode!=null)q6(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Q(166));if(r=Ml(mm.current),Ml(Bo.current),wv(e)){if(n=e.stateNode,r=e.memoizedProps,n[Po]=e,(o=n.nodeValue!==r)&&(t=ii,t!==null))switch(t.tag){case 3:_v(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_v(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Po]=e,e.stateNode=n}return rn(e),null;case 13:if(kt(Ft),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&ei!==null&&e.mode&1&&!(e.flags&128))c6(),Ff(),e.flags|=98560,o=!1;else if(o=wv(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[Po]=e}else Ff(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),o=!1}else Xi!==null&&(aP(Xi),Xi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?dr===0&&(dr=3):rk())),e.updateQueue!==null&&(e.flags|=4),rn(e),null);case 4:return Bf(),ZC(t,e),t===null&&fm(e.stateNode.containerInfo),rn(e),null;case 10:return LN(e.type._context),rn(e),null;case 17:return Vn(e.type)&&vb(),rn(e),null;case 19:if(kt(Ft),o=e.memoizedState,o===null)return rn(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)Eh(o,!1);else{if(dr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ab(t),s!==null){for(e.flags|=128,Eh(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Et(Ft,Ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xt()>Vf&&(e.flags|=128,n=!0,Eh(o,!1),e.lanes=4194304)}else{if(!n)if(t=Ab(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Eh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!jt)return rn(e),null}else 2*Xt()-o.renderingStartTime>Vf&&r!==1073741824&&(e.flags|=128,n=!0,Eh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xt(),e.sibling=null,r=Ft.current,Et(Ft,n?r&1|2:r&1),e):(rn(e),null);case 22:case 23:return tk(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Yn&1073741824&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function Gee(t,e){switch($N(e),e.tag){case 1:return Vn(e.type)&&vb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bf(),kt(Un),kt(hn),zN(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return WN(e),null;case 13:if(kt(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Ff()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kt(Ft),null;case 4:return Bf(),null;case 10:return LN(e.type._context),null;case 22:case 23:return tk(),null;case 24:return null;default:return null}}var Av=!1,ln=!1,qee=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Du(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gt(t,e,n)}else r.current=null}function eP(t,e,r){try{r()}catch(n){Gt(t,e,n)}}var m$=!1;function Hee(t,e){if(MC=pb,t=Y5(),jN(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(a=s+i),d!==o||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++c===i&&(a=s),h===o&&++f===n&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(FC={focusedElem:t,selectionRange:r},pb=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,b=e.stateNode,g=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:qi(e.type,y),v);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(S){Gt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=m$,m$=!1,m}function Cp(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&eP(e,r,o)}i=i.next}while(i!==n)}}function bw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function tP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function H6(t){var e=t.alternate;e!==null&&(t.alternate=null,H6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Po],delete e[hm],delete e[UC],delete e[Iee],delete e[Nee])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function K6(t){return t.tag===5||t.tag===3||t.tag===4}function y$(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||K6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=gb));else if(n!==4&&(t=t.child,t!==null))for(rP(t,e,r),t=t.sibling;t!==null;)rP(t,e,r),t=t.sibling}function nP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(nP(t,e,r),t=t.sibling;t!==null;)nP(t,e,r),t=t.sibling}var Lr=null,Ki=!1;function Us(t,e,r){for(r=r.child;r!==null;)Q6(t,e,r),r=r.sibling}function Q6(t,e,r){if(Lo&&typeof Lo.onCommitFiberUnmount=="function")try{Lo.onCommitFiberUnmount(fw,r)}catch{}switch(r.tag){case 5:ln||Du(r,e);case 6:var n=Lr,i=Ki;Lr=null,Us(t,e,r),Lr=n,Ki=i,Lr!==null&&(Ki?(t=Lr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Lr.removeChild(r.stateNode));break;case 18:Lr!==null&&(Ki?(t=Lr,r=r.stateNode,t.nodeType===8?ZS(t.parentNode,r):t.nodeType===1&&ZS(t,r),lm(t)):ZS(Lr,r.stateNode));break;case 4:n=Lr,i=Ki,Lr=r.stateNode.containerInfo,Ki=!0,Us(t,e,r),Lr=n,Ki=i;break;case 0:case 11:case 14:case 15:if(!ln&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&eP(r,e,s),i=i.next}while(i!==n)}Us(t,e,r);break;case 1:if(!ln&&(Du(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Gt(r,e,a)}Us(t,e,r);break;case 21:Us(t,e,r);break;case 22:r.mode&1?(ln=(n=ln)||r.memoizedState!==null,Us(t,e,r),ln=n):Us(t,e,r);break;default:Us(t,e,r)}}function g$(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new qee),e.forEach(function(n){var i=rte.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Wi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Lr=a.stateNode,Ki=!1;break e;case 3:Lr=a.stateNode.containerInfo,Ki=!0;break e;case 4:Lr=a.stateNode.containerInfo,Ki=!0;break e}a=a.return}if(Lr===null)throw Error(Q(160));Q6(o,s,i),Lr=null,Ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Gt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Y6(e,t),e=e.sibling}function Y6(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wi(e,t),bo(t),n&4){try{Cp(3,t,t.return),bw(3,t)}catch(y){Gt(t,t.return,y)}try{Cp(5,t,t.return)}catch(y){Gt(t,t.return,y)}}break;case 1:Wi(e,t),bo(t),n&512&&r!==null&&Du(r,r.return);break;case 5:if(Wi(e,t),bo(t),n&512&&r!==null&&Du(r,r.return),t.flags&32){var i=t.stateNode;try{im(i,"")}catch(y){Gt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&g5(i,o),PC(a,s);var c=PC(a,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];f==="style"?w5(i,d):f==="dangerouslySetInnerHTML"?x5(i,d):f==="children"?im(i,d):xN(i,f,d,c)}switch(a){case"input":wC(i,o);break;case"textarea":v5(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Qu(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Qu(i,!!o.multiple,o.defaultValue,!0):Qu(i,!!o.multiple,o.multiple?[]:"",!1))}i[hm]=o}catch(y){Gt(t,t.return,y)}}break;case 6:if(Wi(e,t),bo(t),n&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Gt(t,t.return,y)}}break;case 3:if(Wi(e,t),bo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{lm(e.containerInfo)}catch(y){Gt(t,t.return,y)}break;case 4:Wi(e,t),bo(t);break;case 13:Wi(e,t),bo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ZN=Xt())),n&4&&g$(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(ln=(c=ln)||f,Wi(e,t),ln=c):Wi(e,t),bo(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(d=ce=f;ce!==null;){switch(h=ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:Cp(4,h,h.return);break;case 1:Du(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Gt(n,r,y)}}break;case 5:Du(h,h.return);break;case 22:if(h.memoizedState!==null){b$(d);continue}}p!==null?(p.return=h,ce=p):b$(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_5("display",s))}catch(y){Gt(t,t.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Gt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wi(e,t),bo(t),n&4&&g$(t);break;case 21:break;default:Wi(e,t),bo(t)}}function bo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(K6(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(im(i,""),n.flags&=-33);var o=y$(t);nP(t,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=y$(t);rP(t,a,s);break;default:throw Error(Q(161))}}catch(l){Gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kee(t,e,r){ce=t,X6(t)}function X6(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Av;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ln;a=Av;var c=ln;if(Av=s,(ln=l)&&!c)for(ce=i;ce!==null;)s=ce,l=s.child,s.tag===22&&s.memoizedState!==null?x$(i):l!==null?(l.return=s,ce=l):x$(i);for(;o!==null;)ce=o,X6(o),o=o.sibling;ce=i,Av=a,ln=c}v$(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ce=o):v$(t)}}function v$(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||bw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ln)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:qi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&t$(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}t$(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&lm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}ln||e.flags&512&&tP(e)}catch(h){Gt(e,e.return,h)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function b$(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function x$(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{bw(4,e)}catch(l){Gt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Gt(e,i,l)}}var o=e.return;try{tP(e)}catch(l){Gt(e,o,l)}break;case 5:var s=e.return;try{tP(e)}catch(l){Gt(e,s,l)}}}catch(l){Gt(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var Qee=Math.ceil,Tb=$s.ReactCurrentDispatcher,XN=$s.ReactCurrentOwner,Oi=$s.ReactCurrentBatchConfig,Je=0,Nr=null,nr=null,Hr=0,Yn=0,Mu=rl(0),dr=0,bm=null,Sc=0,xw=0,JN=0,Pp=null,Dn=null,ZN=0,Vf=1/0,as=null,Ib=!1,iP=null,Na=null,Cv=!1,pa=null,Nb=0,Tp=0,oP=null,P0=-1,T0=0;function Pn(){return Je&6?Xt():P0!==-1?P0:P0=Xt()}function ka(t){return t.mode&1?Je&2&&Hr!==0?Hr&-Hr:Oee.transition!==null?(T0===0&&(T0=R5()),T0):(t=lt,t!==0||(t=window.event,t=t===void 0?16:U5(t.type)),t):1}function co(t,e,r,n){if(50<Tp)throw Tp=0,oP=null,Error(Q(185));tg(t,r,n),(!(Je&2)||t!==Nr)&&(t===Nr&&(!(Je&2)&&(xw|=r),dr===4&&ia(t,Hr)),Wn(t,n),r===1&&Je===0&&!(e.mode&1)&&(Vf=Xt()+500,yw&&nl()))}function Wn(t,e){var r=t.callbackNode;OZ(t,e);var n=hb(t,t===Nr?Hr:0);if(n===0)r!==null&&I2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&I2(r),e===1)t.tag===0?kee(_$.bind(null,t)):s6(_$.bind(null,t)),Pee(function(){!(Je&6)&&nl()}),r=null;else{switch($5(n)){case 1:r=AN;break;case 4:r=O5;break;case 16:r=db;break;case 536870912:r=j5;break;default:r=db}r=oW(r,J6.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function J6(t,e){if(P0=-1,T0=0,Je&6)throw Error(Q(327));var r=t.callbackNode;if(ef()&&t.callbackNode!==r)return null;var n=hb(t,t===Nr?Hr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=kb(t,n);else{e=n;var i=Je;Je|=2;var o=eW();(Nr!==t||Hr!==e)&&(as=null,Vf=Xt()+500,tc(t,e));do try{Jee();break}catch(a){Z6(t,a)}while(!0);FN(),Tb.current=o,Je=i,nr!==null?e=0:(Nr=null,Hr=0,e=dr)}if(e!==0){if(e===2&&(i=OC(t),i!==0&&(n=i,e=sP(t,i))),e===1)throw r=bm,tc(t,0),ia(t,n),Wn(t,Xt()),r;if(e===6)ia(t,n);else{if(i=t.current.alternate,!(n&30)&&!Yee(i)&&(e=kb(t,n),e===2&&(o=OC(t),o!==0&&(n=o,e=sP(t,o))),e===1))throw r=bm,tc(t,0),ia(t,n),Wn(t,Xt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Q(345));case 2:vl(t,Dn,as);break;case 3:if(ia(t,n),(n&130023424)===n&&(e=ZN+500-Xt(),10<e)){if(hb(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=BC(vl.bind(null,t,Dn,as),e);break}vl(t,Dn,as);break;case 4:if(ia(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-lo(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qee(n/1960))-n,10<n){t.timeoutHandle=BC(vl.bind(null,t,Dn,as),n);break}vl(t,Dn,as);break;case 5:vl(t,Dn,as);break;default:throw Error(Q(329))}}}return Wn(t,Xt()),t.callbackNode===r?J6.bind(null,t):null}function sP(t,e){var r=Pp;return t.current.memoizedState.isDehydrated&&(tc(t,e).flags|=256),t=kb(t,e),t!==2&&(e=Dn,Dn=r,e!==null&&aP(e)),t}function aP(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function Yee(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!ho(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ia(t,e){for(e&=~JN,e&=~xw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-lo(e),n=1<<r;t[r]=-1,e&=~n}}function _$(t){if(Je&6)throw Error(Q(327));ef();var e=hb(t,0);if(!(e&1))return Wn(t,Xt()),null;var r=kb(t,e);if(t.tag!==0&&r===2){var n=OC(t);n!==0&&(e=n,r=sP(t,n))}if(r===1)throw r=bm,tc(t,0),ia(t,e),Wn(t,Xt()),r;if(r===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vl(t,Dn,as),Wn(t,Xt()),null}function ek(t,e){var r=Je;Je|=1;try{return t(e)}finally{Je=r,Je===0&&(Vf=Xt()+500,yw&&nl())}}function Ec(t){pa!==null&&pa.tag===0&&!(Je&6)&&ef();var e=Je;Je|=1;var r=Oi.transition,n=lt;try{if(Oi.transition=null,lt=1,t)return t()}finally{lt=n,Oi.transition=r,Je=e,!(Je&6)&&nl()}}function tk(){Yn=Mu.current,kt(Mu)}function tc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Cee(r)),nr!==null)for(r=nr.return;r!==null;){var n=r;switch($N(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vb();break;case 3:Bf(),kt(Un),kt(hn),zN();break;case 5:WN(n);break;case 4:Bf();break;case 13:kt(Ft);break;case 19:kt(Ft);break;case 10:LN(n.type._context);break;case 22:case 23:tk()}r=r.return}if(Nr=t,nr=t=Oa(t.current,null),Hr=Yn=e,dr=0,bm=null,JN=xw=Sc=0,Dn=Pp=null,Dl!==null){for(e=0;e<Dl.length;e++)if(r=Dl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}Dl=null}return t}function Z6(t,e){do{var r=nr;try{if(FN(),E0.current=Pb,Cb){for(var n=Ut.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Cb=!1}if(wc=0,Ir=lr=Ut=null,Ap=!1,ym=0,XN.current=null,r===null||r.return===null){dr=1,bm=e,nr=null;break}e:{var o=t,s=r.return,a=r,l=e;if(e=Hr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=l$(s);if(p!==null){p.flags&=-257,c$(p,s,a,o,e),p.mode&1&&a$(o,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){a$(o,c,e),rk();break e}l=Error(Q(426))}}else if(jt&&a.mode&1){var v=l$(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),c$(v,s,a,o,e),DN(Uf(l,a));break e}}o=l=Uf(l,a),dr!==4&&(dr=2),Pp===null?Pp=[o]:Pp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=D6(o,l,e);e$(o,b);break e;case 1:a=l;var g=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Na===null||!Na.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=M6(o,a,e);e$(o,S);break e}}o=o.return}while(o!==null)}rW(r)}catch(w){e=w,nr===r&&r!==null&&(nr=r=r.return);continue}break}while(!0)}function eW(){var t=Tb.current;return Tb.current=Pb,t===null?Pb:t}function rk(){(dr===0||dr===3||dr===2)&&(dr=4),Nr===null||!(Sc&268435455)&&!(xw&268435455)||ia(Nr,Hr)}function kb(t,e){var r=Je;Je|=2;var n=eW();(Nr!==t||Hr!==e)&&(as=null,tc(t,e));do try{Xee();break}catch(i){Z6(t,i)}while(!0);if(FN(),Je=r,Tb.current=n,nr!==null)throw Error(Q(261));return Nr=null,Hr=0,dr}function Xee(){for(;nr!==null;)tW(nr)}function Jee(){for(;nr!==null&&!SZ();)tW(nr)}function tW(t){var e=iW(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?rW(t):nr=e,XN.current=null}function rW(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Gee(r,e),r!==null){r.flags&=32767,nr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dr=6,nr=null;return}}else if(r=zee(r,e,Yn),r!==null){nr=r;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=t}while(e!==null);dr===0&&(dr=5)}function vl(t,e,r){var n=lt,i=Oi.transition;try{Oi.transition=null,lt=1,Zee(t,e,r,n)}finally{Oi.transition=i,lt=n}return null}function Zee(t,e,r,n){do ef();while(pa!==null);if(Je&6)throw Error(Q(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(jZ(t,o),t===Nr&&(nr=Nr=null,Hr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cv||(Cv=!0,oW(db,function(){return ef(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Oi.transition,Oi.transition=null;var s=lt;lt=1;var a=Je;Je|=4,XN.current=null,Hee(t,r),Y6(r,t),bee(FC),pb=!!MC,FC=MC=null,t.current=r,Kee(r),EZ(),Je=a,lt=s,Oi.transition=o}else t.current=r;if(Cv&&(Cv=!1,pa=t,Nb=i),o=t.pendingLanes,o===0&&(Na=null),PZ(r.stateNode),Wn(t,Xt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ib)throw Ib=!1,t=iP,iP=null,t;return Nb&1&&t.tag!==0&&ef(),o=t.pendingLanes,o&1?t===oP?Tp++:(Tp=0,oP=t):Tp=0,nl(),null}function ef(){if(pa!==null){var t=$5(Nb),e=Oi.transition,r=lt;try{if(Oi.transition=null,lt=16>t?16:t,pa===null)var n=!1;else{if(t=pa,pa=null,Nb=0,Je&6)throw Error(Q(331));var i=Je;for(Je|=4,ce=t.current;ce!==null;){var o=ce,s=o.child;if(ce.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ce=c;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Cp(8,f,o)}var d=f.child;if(d!==null)d.return=f,ce=d;else for(;ce!==null;){f=ce;var h=f.sibling,p=f.return;if(H6(f),f===c){ce=null;break}if(h!==null){h.return=p,ce=h;break}ce=p}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ce=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ce=s;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cp(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ce=b;break e}ce=o.return}}var g=t.current;for(ce=g;ce!==null;){s=ce;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,ce=x;else e:for(s=g;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bw(9,a)}}catch(w){Gt(a,a.return,w)}if(a===s){ce=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ce=S;break e}ce=a.return}}if(Je=i,nl(),Lo&&typeof Lo.onPostCommitFiberRoot=="function")try{Lo.onPostCommitFiberRoot(fw,t)}catch{}n=!0}return n}finally{lt=r,Oi.transition=e}}return!1}function w$(t,e,r){e=Uf(r,e),e=D6(t,e,1),t=Ia(t,e,1),e=Pn(),t!==null&&(tg(t,1,e),Wn(t,e))}function Gt(t,e,r){if(t.tag===3)w$(t,t,r);else for(;e!==null;){if(e.tag===3){w$(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Na===null||!Na.has(n))){t=Uf(r,t),t=M6(e,t,1),e=Ia(e,t,1),t=Pn(),e!==null&&(tg(e,1,t),Wn(e,t));break}}e=e.return}}function ete(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&r,Nr===t&&(Hr&r)===r&&(dr===4||dr===3&&(Hr&130023424)===Hr&&500>Xt()-ZN?tc(t,0):JN|=r),Wn(t,e)}function nW(t,e){e===0&&(t.mode&1?(e=yv,yv<<=1,!(yv&130023424)&&(yv=4194304)):e=1);var r=Pn();t=Cs(t,e),t!==null&&(tg(t,e,r),Wn(t,r))}function tte(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),nW(t,r)}function rte(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(e),nW(t,r)}var iW;iW=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Un.current)Fn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Fn=!1,Wee(t,e,r);Fn=!!(t.flags&131072)}else Fn=!1,jt&&e.flags&1048576&&a6(e,_b,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;C0(t,e),t=e.pendingProps;var i=Mf(e,hn.current);Zu(e,r),i=qN(null,e,n,t,i,r);var o=HN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(n)?(o=!0,bb(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UN(e),i.updater=gw,e.stateNode=i,i._reactInternals=e,HC(e,n,t,r),e=YC(null,e,n,!0,o,r)):(e.tag=0,jt&&o&&RN(e),xn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(C0(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=ite(n),t=qi(n,t),i){case 0:e=QC(null,e,n,t,r);break e;case 1:e=d$(null,e,n,t,r);break e;case 11:e=u$(null,e,n,t,r);break e;case 14:e=f$(null,e,n,qi(n.type,t),r);break e}throw Error(Q(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qi(n,i),QC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qi(n,i),d$(t,e,n,i,r);case 3:e:{if(U6(e),t===null)throw Error(Q(387));n=e.pendingProps,o=e.memoizedState,i=o.element,f6(t,e),Eb(e,n,null,r);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Uf(Error(Q(423)),e),e=h$(t,e,n,r,i);break e}else if(n!==i){i=Uf(Error(Q(424)),e),e=h$(t,e,n,r,i);break e}else for(ei=Ta(e.stateNode.containerInfo.firstChild),ii=e,jt=!0,Xi=null,r=m6(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ff(),n===i){e=Ps(t,e,r);break e}xn(t,e,n,r)}e=e.child}return e;case 5:return y6(e),t===null&&zC(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,LC(n,i)?s=null:o!==null&&LC(n,o)&&(e.flags|=32),B6(t,e),xn(t,e,s,r),e.child;case 6:return t===null&&zC(e),null;case 13:return V6(t,e,r);case 4:return VN(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Lf(e,null,n,r):xn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qi(n,i),u$(t,e,n,i,r);case 7:return xn(t,e,e.pendingProps,r),e.child;case 8:return xn(t,e,e.pendingProps.children,r),e.child;case 12:return xn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Et(wb,n._currentValue),n._currentValue=s,o!==null)if(ho(o.value,s)){if(o.children===i.children&&!Un.current){e=Ps(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=vs(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),GC(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),GC(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}xn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Zu(e,r),i=Mi(i),n=n(i),e.flags|=1,xn(t,e,n,r),e.child;case 14:return n=e.type,i=qi(n,e.pendingProps),i=qi(n.type,i),f$(t,e,n,i,r);case 15:return F6(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qi(n,i),C0(t,e),e.tag=1,Vn(n)?(t=!0,bb(e)):t=!1,Zu(e,r),h6(e,n,i),HC(e,n,i,r),YC(null,e,n,!0,t,r);case 19:return W6(t,e,r);case 22:return L6(t,e,r)}throw Error(Q(156,e.tag))};function oW(t,e){return k5(t,e)}function nte(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(t,e,r,n){return new nte(t,e,r,n)}function nk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ite(t){if(typeof t=="function")return nk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wN)return 11;if(t===SN)return 14}return 2}function Oa(t,e){var r=t.alternate;return r===null?(r=Ti(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function I0(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")nk(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Pu:return rc(r.children,i,o,e);case _N:s=8,i|=8;break;case gC:return t=Ti(12,r,e,i|2),t.elementType=gC,t.lanes=o,t;case vC:return t=Ti(13,r,e,i),t.elementType=vC,t.lanes=o,t;case bC:return t=Ti(19,r,e,i),t.elementType=bC,t.lanes=o,t;case p5:return _w(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d5:s=10;break e;case h5:s=9;break e;case wN:s=11;break e;case SN:s=14;break e;case Xs:s=16,n=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Ti(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function rc(t,e,r,n){return t=Ti(7,t,n,e),t.lanes=r,t}function _w(t,e,r,n){return t=Ti(22,t,n,e),t.elementType=p5,t.lanes=r,t.stateNode={isHidden:!1},t}function aE(t,e,r){return t=Ti(6,t,null,e),t.lanes=r,t}function lE(t,e,r){return e=Ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ote(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=VS(0),this.expirationTimes=VS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=VS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ik(t,e,r,n,i,o,s,a,l){return t=new ote(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ti(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},UN(o),t}function ste(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sW(t){if(!t)return Wa;t=t._reactInternals;e:{if(Fc(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var r=t.type;if(Vn(r))return o6(t,r,e)}return e}function aW(t,e,r,n,i,o,s,a,l){return t=ik(r,n,!0,t,i,o,s,a,l),t.context=sW(null),r=t.current,n=Pn(),i=ka(r),o=vs(n,i),o.callback=e??null,Ia(r,o,i),t.current.lanes=i,tg(t,i,n),Wn(t,n),t}function ww(t,e,r,n){var i=e.current,o=Pn(),s=ka(i);return r=sW(r),e.context===null?e.context=r:e.pendingContext=r,e=vs(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ia(i,e,s),t!==null&&(co(t,i,s,o),S0(t,i,s)),s}function Ob(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function S$(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ok(t,e){S$(t,e),(t=t.alternate)&&S$(t,e)}function ate(){return null}var lW=typeof reportError=="function"?reportError:function(t){console.error(t)};function sk(t){this._internalRoot=t}Sw.prototype.render=sk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));ww(t,e,null,null)};Sw.prototype.unmount=sk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ec(function(){ww(null,t,null,null)}),e[As]=null}};function Sw(t){this._internalRoot=t}Sw.prototype.unstable_scheduleHydration=function(t){if(t){var e=F5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<na.length&&e!==0&&e<na[r].priority;r++);na.splice(r,0,t),r===0&&B5(t)}};function ak(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ew(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function E$(){}function lte(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=Ob(s);o.call(c)}}var s=aW(e,n,t,0,null,!1,!1,"",E$);return t._reactRootContainer=s,t[As]=s.current,fm(t.nodeType===8?t.parentNode:t),Ec(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Ob(l);a.call(c)}}var l=ik(t,0,!1,null,null,!1,!1,"",E$);return t._reactRootContainer=l,t[As]=l.current,fm(t.nodeType===8?t.parentNode:t),Ec(function(){ww(e,l,r,n)}),l}function Aw(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ob(s);a.call(l)}}ww(e,s,t,i)}else s=lte(r,e,t,i,n);return Ob(s)}D5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=tp(e.pendingLanes);r!==0&&(CN(e,r|1),Wn(e,Xt()),!(Je&6)&&(Vf=Xt()+500,nl()))}break;case 13:Ec(function(){var n=Cs(t,1);if(n!==null){var i=Pn();co(n,t,1,i)}}),ok(t,1)}};PN=function(t){if(t.tag===13){var e=Cs(t,134217728);if(e!==null){var r=Pn();co(e,t,134217728,r)}ok(t,134217728)}};M5=function(t){if(t.tag===13){var e=ka(t),r=Cs(t,e);if(r!==null){var n=Pn();co(r,t,e,n)}ok(t,e)}};F5=function(){return lt};L5=function(t,e){var r=lt;try{return lt=t,e()}finally{lt=r}};IC=function(t,e,r){switch(e){case"input":if(wC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=mw(n);if(!i)throw Error(Q(90));y5(n),wC(n,i)}}}break;case"textarea":v5(t,r);break;case"select":e=r.value,e!=null&&Qu(t,!!r.multiple,e,!1)}};A5=ek;C5=Ec;var cte={usingClientEntryPoint:!1,Events:[ng,ku,mw,S5,E5,ek]},Ah={findFiberByHostInstance:$l,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ute={bundleType:Ah.bundleType,version:Ah.version,rendererPackageName:Ah.rendererPackageName,rendererConfig:Ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I5(t),t===null?null:t.stateNode},findFiberByHostInstance:Ah.findFiberByHostInstance||ate,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pv.isDisabled&&Pv.supportsFiber)try{fw=Pv.inject(ute),Lo=Pv}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cte;ui.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ak(e))throw Error(Q(200));return ste(t,e,null,r)};ui.createRoot=function(t,e){if(!ak(t))throw Error(Q(299));var r=!1,n="",i=lW;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ik(t,1,!1,null,null,r,!1,n,i),t[As]=e.current,fm(t.nodeType===8?t.parentNode:t),new sk(e)};ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=I5(e),t=t===null?null:t.stateNode,t};ui.flushSync=function(t){return Ec(t)};ui.hydrate=function(t,e,r){if(!Ew(e))throw Error(Q(200));return Aw(null,t,e,!0,r)};ui.hydrateRoot=function(t,e,r){if(!ak(t))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=lW;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=aW(e,null,t,1,r??null,i,!1,o,s),t[As]=e.current,fm(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Sw(e)};ui.render=function(t,e,r){if(!Ew(e))throw Error(Q(200));return Aw(null,t,e,!1,r)};ui.unmountComponentAtNode=function(t){if(!Ew(t))throw Error(Q(40));return t._reactRootContainer?(Ec(function(){Aw(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};ui.unstable_batchedUpdates=ek;ui.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ew(r))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Aw(t,e,r,!1,n)};ui.version="18.2.0-next-9e3b772b8-20220608";function cW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cW)}catch(t){console.error(t)}}cW(),a5.exports=ui;var og=a5.exports;const fte=st(og);var A$=og;mC.createRoot=A$.createRoot,mC.hydrateRoot=A$.hydrateRoot;var uW={exports:{}},fW={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=E;function dte(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hte=typeof Object.is=="function"?Object.is:dte,pte=Wf.useState,mte=Wf.useEffect,yte=Wf.useLayoutEffect,gte=Wf.useDebugValue;function vte(t,e){var r=e(),n=pte({inst:{value:r,getSnapshot:e}}),i=n[0].inst,o=n[1];return yte(function(){i.value=r,i.getSnapshot=e,cE(i)&&o({inst:i})},[t,r,e]),mte(function(){return cE(i)&&o({inst:i}),t(function(){cE(i)&&o({inst:i})})},[t]),gte(r),r}function cE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hte(t,r)}catch{return!0}}function bte(t,e){return e()}var xte=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bte:vte;fW.useSyncExternalStore=Wf.useSyncExternalStore!==void 0?Wf.useSyncExternalStore:xte;uW.exports=fW;var lk=uW.exports;const{useEffect:_te,useLayoutEffect:wte,useRef:Ste,useInsertionEffect:Ete}=tZ,Ate=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cte=Ate?wte:_te,Pte=Ete||Cte,dW=t=>{const e=Ste([t,(...r)=>e[0](...r)]).current;return Pte(()=>{e[0]=t}),e[1]},Tte=(t="",e=location.pathname)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Ite=(t,e="")=>t[0]==="~"?t.slice(1):e+t,Nte="popstate",ck="pushState",uk="replaceState",kte="hashchange",C$=[Nte,ck,uk,kte],Ote=t=>{for(const e of C$)addEventListener(e,t);return()=>{for(const e of C$)removeEventListener(e,t)}},jte=(t,e)=>lk.useSyncExternalStore(Ote,t,e),P$=()=>location.pathname,Rte=({ssrPath:t}={})=>jte(P$,t?()=>t:P$),$te=(t,{replace:e=!1}={})=>history[e?uk:ck](null,"",t),Dte=(t={})=>[Tte(t.base,Rte(t)),dW((e,r)=>$te(Ite(e,t.base),r))];if(typeof history<"u")for(const t of[ck,uk]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}function Mte(t=Lte){let e={};const r=n=>e[n]||(e[n]=t(n));return(n,i)=>{const{regexp:o,keys:s}=r(n||""),a=o.exec(i);return a?[!0,s.reduce((c,f,d)=>(c[f.name]=a[d+1],c),{})]:[!1,null]}}const T$=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Fte=(t,e,r)=>{let n=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&r&&(n="(?:\\/"+n+")"),n+(e?"?":"")},Lte=t=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let r=null,n=0,i=[],o="";for(;(r=e.exec(t))!==null;){const[s,a,l]=r,c=l==="+"||l==="*",f=l==="?"||l==="*",d=f&&t[r.index-1]==="/"?1:0,h=t.substring(n,r.index-d);i.push({name:a}),n=e.lastIndex,o+=T$(h)+Fte(c,f,d)}return o+=T$(t.substring(n)),{keys:i,regexp:new RegExp("^"+o+"(?:\\/)?$","i")}},Bte={hook:Dte,matcher:Mte(),base:""},Ute=E.createContext(Bte),Cw=()=>E.useContext(Ute),Pw=t=>t.hook(t),Vte=()=>Pw(Cw()),Wte=t=>{const e=Cw(),[r]=Pw(e);return e.matcher(t,r)},hW=E.createContext({params:{}}),zte=()=>E.useContext(hW).params,I$=(t,e)=>E.createElement(hW.Provider,{value:{params:t},children:e}),et=({path:t,match:e,component:r,children:n})=>{const i=Wte(t),[o,s]=e||i;return o?r?I$(s,E.createElement(r,{params:s})):I$(s,typeof n=="function"?n(s):n):null};E.forwardRef((t,e)=>{const r=Cw(),[,n]=Pw(r),{to:i,href:o=i,children:s,onClick:a}=t,l=dW(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(a&&a(d),d.defaultPrevented||(d.preventDefault(),n(i||o,t)))}),c={href:o[0]==="~"?o.slice(1):r.base+o,onClick:l,to:null,ref:e},f=E.isValidElement(s)?s:E.createElement("a",t);return E.cloneElement(f,c)});const lP=t=>Array.isArray(t)?[].concat(...t.map(e=>e&&e.type===E.Fragment?lP(e.props.children):lP(e))):[t],Gte=({children:t,location:e})=>{const r=Cw(),n=r.matcher,[i]=Pw(r);for(const o of lP(t)){let s=0;if(E.isValidElement(o)&&(s=o.props.path?n(o.props.path,e||i):[!0,{}])[0])return E.cloneElement(o,{match:s})}return null},qte="modulepreload",Hte=function(t){return"/"+t},N$={},pW=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link");i=Promise.all(r.map(s=>{if(s=Hte(s),s in N$)return;N$[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!n)for(let d=o.length-1;d>=0;d--){const h=o[d];if(h.href===s&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":qte,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})}))}return i.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},Kte=t=>{t&&t instanceof Function&&pW(()=>import("./web-vitals-BptxjviT.js"),__vite__mapDeps([])).then(({getCLS:e,getFID:r,getFCP:n,getLCP:i,getTTFB:o})=>{e(t),r(t),n(t),i(t),o(t)})};var k$={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X=function(t,e){if(!t)throw Ud(e)},Ud=function(t){return new Error("Firebase Database ("+mW.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Qte=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],a=t[r++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[f],r[d],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yW(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new Yte;const h=o<<2|a>>4;if(n.push(h),c!==64){const p=a<<4&240|c>>2;if(n.push(p),d!==64){const m=c<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gW=function(t){const e=yW(t);return fk.encodeByteArray(e,!0)},jb=function(t){return gW(t).replace(/\./g,"")},cP=function(t){try{return fk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(t){return vW(void 0,t)}function vW(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Jte(r)||(t[r]=vW(t[r],e[r]));return t}function Jte(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ere=()=>Zte().__FIREBASE_DEFAULTS__,tre=()=>{if(typeof process>"u"||typeof k$>"u")return;const t=k$.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cP(t[1]);return e&&JSON.parse(e)},dk=()=>{try{return ere()||tre()||rre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nre=t=>{var e,r;return(r=(e=dk())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},hk=t=>{const e=nre(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},bW=()=>{var t;return(t=dk())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jb(JSON.stringify(r)),jb(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xm())}function ire(){var t;const e=(t=dk())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ore(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _W(){return mW.NODE_ADMIN===!0}function sre(){return!ire()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wW(){try{return typeof indexedDB=="object"}catch{return!1}}function are(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre="FirebaseError";class Lc extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=lre,Object.setPrototypeOf(this,Lc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,SW.prototype.create)}}class SW{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?cre(o,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Lc(i,a,n)}}function cre(t,e){return t.replace(ure,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const ure=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){return JSON.parse(t)}function ur(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=function(t){let e={},r={},n={},i="";try{const o=t.split(".");e=_m(cP(o[0])||""),r=_m(cP(o[1])||""),i=o[2],n=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:n,signature:i}},fre=function(t){const e=EW(t),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},dre=function(t){const e=EW(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zf(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function O$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rb(t,e,r){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e.call(r,t[i],i,t));return n}function uP(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(j$(o)&&j$(s)){if(!uP(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function j$(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hre(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const n=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)n[d]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let d=0;d<16;d++)n[d]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let d=16;d<80;d++){const h=n[d-3]^n[d-8]^n[d-14]^n[d-16];n[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,f;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),f=1518500249):(c=o^s^a,f=1859775393):d<60?(c=o&s|a&(o|s),f=2400959708):(c=o^s^a,f=3395469782);const h=(i<<5|i>>>27)+c+l+f+n[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const n=r-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<r;){if(s===0)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<r;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<r;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[n]=this.chain_[i]>>o&255,++n;return e}}function ag(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i>=55296&&i<=56319){const o=i-55296;n++,X(n<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(n)-56320;i=65536+(o<<10)+s}i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):i<65536?(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Tw=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class Ac{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yre=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new sg;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vre(e))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bl){return this.instances.has(e)}getOptions(e=bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:gre(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=bl){return this.component?this.component.multipleInstances?e:bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gre(t){return t===bl?void 0:t}function vre(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new yre(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const xre={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},_re=Ye.INFO,wre={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Sre=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=wre[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mk{constructor(e){this.name=e,this._logLevel=_re,this._logHandler=Sre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xre[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const Ere=(t,e)=>e.some(r=>t instanceof r);let R$,$$;function Are(){return R$||(R$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cre(){return $$||($$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AW=new WeakMap,fP=new WeakMap,CW=new WeakMap,uE=new WeakMap,yk=new WeakMap;function Pre(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(ja(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&AW.set(r,t)}).catch(()=>{}),yk.set(e,t),e}function Tre(t){if(fP.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});fP.set(t,e)}let dP={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return fP.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CW.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ja(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ire(t){dP=t(dP)}function Nre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(fE(this),e,...r);return CW.set(n,e.sort?e.sort():[e]),ja(n)}:Cre().includes(t)?function(...e){return t.apply(fE(this),e),ja(AW.get(this))}:function(...e){return ja(t.apply(fE(this),e))}}function kre(t){return typeof t=="function"?Nre(t):(t instanceof IDBTransaction&&Tre(t),Ere(t,Are())?new Proxy(t,dP):t)}function ja(t){if(t instanceof IDBRequest)return Pre(t);if(uE.has(t))return uE.get(t);const e=kre(t);return e!==t&&(uE.set(t,e),yk.set(e,t)),e}const fE=t=>yk.get(t);function Ore(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ja(s);return n&&s.addEventListener("upgradeneeded",l=>{n(ja(s.result),l.oldVersion,l.newVersion,ja(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jre=["get","getKey","getAll","getAllKeys","count"],Rre=["put","add","delete","clear"],dE=new Map;function D$(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dE.get(e))return dE.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Rre.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||jre.includes(r)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[r](...a),i&&l.done]))[0]};return dE.set(e,o),o}Ire(t=>({...t,get:(e,r,n)=>D$(e,r)||t.get(e,r,n),has:(e,r)=>!!D$(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Dre(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Dre(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hP="@firebase/app",M$="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new mk("@firebase/app"),Mre="@firebase/app-compat",Fre="@firebase/analytics-compat",Lre="@firebase/analytics",Bre="@firebase/app-check-compat",Ure="@firebase/app-check",Vre="@firebase/auth",Wre="@firebase/auth-compat",zre="@firebase/database",Gre="@firebase/database-compat",qre="@firebase/functions",Hre="@firebase/functions-compat",Kre="@firebase/installations",Qre="@firebase/installations-compat",Yre="@firebase/messaging",Xre="@firebase/messaging-compat",Jre="@firebase/performance",Zre="@firebase/performance-compat",ene="@firebase/remote-config",tne="@firebase/remote-config-compat",rne="@firebase/storage",nne="@firebase/storage-compat",ine="@firebase/firestore",one="@firebase/firestore-compat",sne="firebase",ane="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="[DEFAULT]",lne={[hP]:"fire-core",[Mre]:"fire-core-compat",[Lre]:"fire-analytics",[Fre]:"fire-analytics-compat",[Ure]:"fire-app-check",[Bre]:"fire-app-check-compat",[Vre]:"fire-auth",[Wre]:"fire-auth-compat",[zre]:"fire-rtdb",[Gre]:"fire-rtdb-compat",[qre]:"fire-fn",[Hre]:"fire-fn-compat",[Kre]:"fire-iid",[Qre]:"fire-iid-compat",[Yre]:"fire-fcm",[Xre]:"fire-fcm-compat",[Jre]:"fire-perf",[Zre]:"fire-perf-compat",[ene]:"fire-rc",[tne]:"fire-rc-compat",[rne]:"fire-gcs",[nne]:"fire-gcs-compat",[ine]:"fire-fst",[one]:"fire-fst-compat","fire-js":"fire-js",[sne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Map,mP=new Map;function cne(t,e){try{t.container.addComponent(e)}catch(r){Cc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Gf(t){const e=t.name;if(mP.has(e))return Cc.debug(`There were multiple attempts to register component ${e}.`),!1;mP.set(e,t);for(const r of $b.values())cne(r,t);return!0}function gk(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const une={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ra=new SW("app","Firebase",une);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=ane;function PW(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:pP,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ra.create("bad-app-name",{appName:String(i)});if(r||(r=bW()),!r)throw Ra.create("no-options");const o=$b.get(i);if(o){if(uP(r,o.options)&&uP(n,o.config))return o;throw Ra.create("duplicate-app",{appName:i})}const s=new bre(i);for(const l of mP.values())s.addComponent(l);const a=new fne(r,n,s);return $b.set(i,a),a}function bk(t=pP){const e=$b.get(t);if(!e&&t===pP&&bW())return PW();if(!e)throw Ra.create("no-app",{appName:t});return e}function Uo(t,e,r){var n;let i=(n=lne[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cc.warn(a.join(" "));return}Gf(new Ac(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dne="firebase-heartbeat-database",hne=1,wm="firebase-heartbeat-store";let hE=null;function TW(){return hE||(hE=Ore(dne,hne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wm)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ra.create("idb-open",{originalErrorMessage:t.message})})),hE}async function pne(t){try{return await(await TW()).transaction(wm).objectStore(wm).get(IW(t))}catch(e){if(e instanceof Lc)Cc.warn(e.message);else{const r=Ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cc.warn(r.message)}}}async function F$(t,e){try{const n=(await TW()).transaction(wm,"readwrite");await n.objectStore(wm).put(e,IW(t)),await n.done}catch(r){if(r instanceof Lc)Cc.warn(r.message);else{const n=Ra.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Cc.warn(n.message)}}}function IW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mne=1024,yne=30*24*60*60*1e3;class gne{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new bne(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=L$();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=yne}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=L$(),{heartbeatsToSend:n,unsentEntries:i}=vne(this._heartbeatsCache.heartbeats),o=jb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function L$(){return new Date().toISOString().substring(0,10)}function vne(t,e=mne){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),B$(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),B$(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class bne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wW()?are().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await pne(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return F$(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return F$(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B$(t){return jb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xne(t){Gf(new Ac("platform-logger",e=>new $re(e),"PRIVATE")),Gf(new Ac("heartbeat",e=>new gne(e),"PRIVATE")),Uo(hP,M$,t),Uo(hP,M$,"esm2017"),Uo("fire-js","")}xne("");var U$={};const V$="@firebase/database",W$="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NW="";function _ne(t){NW=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ur(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:_m(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return Zo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wne(e)}}catch{}return new Sne},Fl=kW("localStorage"),yP=kW("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new mk("@firebase/database"),Ene=function(){let t=1;return function(){return t++}}(),OW=function(t){const e=mre(t),r=new pre;r.update(e);const n=r.digest();return fk.encodeByteArray(n)},lg=function(...t){let e="";for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=lg.apply(null,n):typeof n=="object"?e+=ur(n):e+=n,e+=" "}return e};let nc=null,z$=!0;const Ane=function(t,e){X(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(tf.logLevel=Ye.VERBOSE,nc=tf.log.bind(tf),e&&yP.set("logging_enabled",!0)):typeof t=="function"?nc=t:(nc=null,yP.remove("logging_enabled"))},Ur=function(...t){if(z$===!0&&(z$=!1,nc===null&&yP.get("logging_enabled")===!0&&Ane(!0)),nc){const e=lg.apply(null,t);nc(e)}},cg=function(t){return function(...e){Ur(t,...e)}},gP=function(...t){const e="FIREBASE INTERNAL ERROR: "+lg(...t);tf.error(e)},Ts=function(...t){const e=`FIREBASE FATAL ERROR: ${lg(...t)}`;throw tf.error(e),new Error(e)},Tn=function(...t){const e="FIREBASE WARNING: "+lg(...t);tf.warn(e)},Cne=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Pne=function(t){if(document.readyState==="complete")t();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Pc="[MIN_NAME]",za="[MAX_NAME]",Bc=function(t,e){if(t===e)return 0;if(t===Pc||e===za)return-1;if(e===Pc||t===za)return 1;{const r=G$(t),n=G$(e);return r!==null?n!==null?r-n===0?t.length-e.length:r-n:-1:n!==null?1:t<e?-1:1}},Tne=function(t,e){return t===e?0:t<e?-1:1},Ch=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ur(e))},_k=function(t){if(typeof t!="object"||t===null)return ur(t);const e=[];for(const n in t)e.push(n);e.sort();let r="{";for(let n=0;n<e.length;n++)n!==0&&(r+=","),r+=ur(e[n]),r+=":",r+=_k(t[e[n]]);return r+="}",r},jW=function(t,e){const r=t.length;if(r<=e)return[t];const n=[];for(let i=0;i<r;i+=e)i+e>r?n.push(t.substring(i,r)):n.push(t.substring(i,i+e));return n};function Jr(t,e){for(const r in t)t.hasOwnProperty(r)&&e(r,t[r])}const RW=function(t){X(!xk(t),"Invalid JSON number");const e=11,r=52,n=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),n),o=a+n,s=Math.round(t*Math.pow(2,r-a)-Math.pow(2,r))):(o=0,s=Math.round(t/Math.pow(2,1-n-r))));const c=[];for(l=r;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const f=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(f.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Ine=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Nne=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kne(t,e){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const n=new Error(t+" at "+e._path.toString()+": "+r);return n.code=t.toUpperCase(),n}const One=new RegExp("^-?(0*)\\d{1,10}$"),jne=-2147483648,Rne=2147483647,G$=function(t){if(One.test(t)){const e=Number(t);if(e>=jne&&e<=Rne)return e}return null},Vd=function(t){try{t()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Tn("Exception was thrown by user callback.",r),e},Math.floor(0))}},$ne=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ip=function(t,e){const r=setTimeout(t,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Tn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e,r,n){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ur("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tn(e)}}class rf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}rf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="5",$W="v",DW="s",MW="r",FW="f",LW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BW="ls",UW="p",vP="ac",VW="websocket",WW="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,r,n,i,o=!1,s="",a=!1,l=!1){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function Fne(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function GW(t,e,r){X(typeof e=="string","typeof type must == string"),X(typeof r=="object","typeof params must == object");let n;if(e===VW)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===WW)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Fne(t)&&(r.ns=t.namespace);const i=[];return Jr(r,(o,s)=>{i.push(o+"="+s)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(){this.counters_={}}incrementCounter(e,r=1){Zo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return Xte(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={},mE={};function Sk(t){const e=t.toString();return pE[e]||(pE[e]=new Lne),pE[e]}function Bne(t,e){const r=t.toString();return mE[r]||(mE[r]=e()),mE[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&Vd(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="start",Vne="close",Wne="pLPCommand",zne="pRTLPCB",qW="id",HW="pw",KW="ser",Gne="cb",qne="seg",Hne="ts",Kne="d",Qne="dframe",QW=1870,YW=30,Yne=QW-YW,Xne=25e3,Jne=3e4;class Fu{constructor(e,r,n,i,o,s,a){this.connId=e,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cg(e),this.stats_=Sk(r),this.urlFn=l=>(this.appCheckToken&&(l[vP]=this.appCheckToken),GW(r,WW,l))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Une(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Jne)),Pne(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ek((...o)=>{const[s,a,l,c,f]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===q$)this.id=a,this.password=l;else if(s===Vne)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const n={};n[q$]="t",n[KW]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[Gne]=this.scriptTagHolder.uniqueCallbackIdentifier),n[$W]=wk,this.transportSessionId&&(n[DW]=this.transportSessionId),this.lastSessionId&&(n[BW]=this.lastSessionId),this.applicationId&&(n[UW]=this.applicationId),this.appCheckToken&&(n[vP]=this.appCheckToken),typeof location<"u"&&location.hostname&&LW.test(location.hostname)&&(n[MW]=FW);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fu.forceAllow_=!0}static forceDisallow(){Fu.forceDisallow_=!0}static isAvailable(){return Fu.forceAllow_?!0:!Fu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ine()&&!Nne()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=ur(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=gW(r),i=jW(n,Yne);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[Qne]="t",n[qW]=e,n[HW]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=ur(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Ek{constructor(e,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ene(),window[Wne+this.uniqueCallbackIdentifier]=e,window[zne+this.uniqueCallbackIdentifier]=r,this.myIFrame=Ek.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ur("frame writing exception"),a.stack&&Ur(a.stack),Ur(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ur("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[qW]=this.myID,e[HW]=this.myPW,e[KW]=this.currentSerial;let r=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+YW+n.length<=QW;){const s=this.pendingSegs.shift();n=n+"&"+qne+i+"="+s.seg+"&"+Hne+i+"="+s.ts+"&"+Kne+i+"="+s.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,n){this.pendingSegs.push({seg:e,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(Xne)),o=()=>{clearTimeout(i),n()};this.addTag(e,o)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{Ur("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne=16384,eie=45e3;let Db=null;typeof MozWebSocket<"u"?Db=MozWebSocket:typeof WebSocket<"u"&&(Db=WebSocket);class eo{constructor(e,r,n,i,o,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cg(this.connId),this.stats_=Sk(r),this.connURL=eo.connectionURL_(r,s,a,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,n,i,o){const s={};return s[$W]=wk,typeof location<"u"&&location.hostname&&LW.test(location.hostname)&&(s[MW]=FW),r&&(s[DW]=r),n&&(s[BW]=n),i&&(s[vP]=i),o&&(s[UW]=o),GW(e,VW,s)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fl.set("previous_websocket_failure",!0);try{let n;_W(),this.mySock=new Db(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){eo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&Db!==null&&!eo.forceDisallow_}static previouslyFailed(){return Fl.isInMemoryStorage||Fl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=_m(r);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(X(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const r=ur(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=jW(r,Zne);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eie))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}eo.responsesRequiredToBeHealthy=2;eo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fu,eo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=eo&&eo.isAvailable();let n=r&&!eo.previouslyFailed();if(e.webSocketOnly&&(r||Tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[eo];else{const i=this.transports_=[];for(const o of Sm.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Sm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sm.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie=6e4,rie=5e3,nie=10*1024,iie=100*1024,yE="t",H$="d",oie="s",K$="r",sie="e",Q$="o",Y$="a",X$="n",J$="p",aie="h";class lie{constructor(e,r,n,i,o,s,a,l,c,f){this.id=e,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cg("c:"+this.id+":"),this.transportManager_=new Sm(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ip(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iie?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nie?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(yE in e){const r=e[yE];r===Y$?this.upgradeIfSecondaryHealthy_():r===K$?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Q$&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=Ch("t",e),n=Ch("d",e);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:J$,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Y$,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:X$,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=Ch("t",e),n=Ch("d",e);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=Ch(yE,e);if(H$ in e){const n=e[H$];if(r===aie){const i=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===X$){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===oie?this.onConnectionShutdown_(n):r===K$?this.onReset_(n):r===sie?gP("Server Error: "+n):r===Q$?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gP("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),wk!==n&&Tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),Ip(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tie))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ip(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rie))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:J$,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{put(e,r,n,i){}merge(e,r,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,n){}onDisconnectMerge(e,r,n){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JW=class{constructor(e){this.allowedEvents_=e,this.listeners_={},X(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(e,r,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:n});const i=this.getInitialEvent(e);i&&r.apply(n,i)}off(e,r,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===r&&(!n||n===i[o].context)){i.splice(o,1);return}}validateEventType_(e){X(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb extends JW{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xW()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mb}getInitialEvent(e){return X(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=32,eD=768;let ut=class{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}};function tt(){return new ut("")}function Re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ga(t){return t.pieces_.length-t.pieceNum_}function St(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ut(t.pieces_,e)}function Ak(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function cie(t){let e="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[r])));return e||"/"}function Em(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ZW(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)e.push(t.pieces_[r]);return new ut(e,0)}function Ht(t,e){const r=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);if(e instanceof ut)for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);else{const n=e.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new ut(r,0)}function $e(t){return t.pieceNum_>=t.pieces_.length}function Sn(t,e){const r=Re(t),n=Re(e);if(r===null)return e;if(r===n)return Sn(St(t),St(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uie(t,e){const r=Em(t,0),n=Em(e,0);for(let i=0;i<r.length&&i<n.length;i++){const o=Bc(r[i],n[i]);if(o!==0)return o}return r.length===n.length?0:r.length<n.length?-1:1}function Ck(t,e){if(Ga(t)!==Ga(e))return!1;for(let r=t.pieceNum_,n=e.pieceNum_;r<=t.pieces_.length;r++,n++)if(t.pieces_[r]!==e.pieces_[n])return!1;return!0}function Ii(t,e){let r=t.pieceNum_,n=e.pieceNum_;if(Ga(t)>Ga(e))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==e.pieces_[n])return!1;++r,++n}return!0}class fie{constructor(e,r){this.errorPrefix_=r,this.parts_=Em(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Tw(this.parts_[n]);e8(this)}}function die(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Tw(e),e8(t)}function hie(t){const e=t.parts_.pop();t.byteLength_-=Tw(e),t.parts_.length>0&&(t.byteLength_-=1)}function e8(t){if(t.byteLength_>eD)throw new Error(t.errorPrefix_+"has a key path longer than "+eD+" bytes ("+t.byteLength_+").");if(t.parts_.length>Z$)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Z$+") or object contains a cycle "+xl(t))}function xl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk extends JW{constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new Pk}getInitialEvent(e){return X(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=1e3,pie=60*5*1e3,tD=30*1e3,mie=1.3,yie=3e4,gie="server_kill",rD=3;class bs extends XW{constructor(e,r,n,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=bs.nextPersistentConnectionId_++,this.log_=cg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ph,this.maxReconnectDelay_=pie,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!_W())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pk.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Mb.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,n){const i=++this.requestNumber_,o={r:i,a:e,b:r};this.log_(ur(o)),X(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const r=new sg,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?r.resolve(a):r.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(e,r,n,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),X(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:r,query:e,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(e){const r=e.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const o={p:n},s="q";e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;bs.warnOnListenWarnings_(l,r),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(n,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&Zo(e,"w")){const n=zf(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||dre(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tD)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=fre(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,n=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(e,r){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,r)}sendUnlisten_(e,r,n,i){this.log_("Unlisten on "+e+" for "+r);const o={p:e},s="n";i&&(o.q=n,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:n})}onDisconnectMerge(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:n})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,n,i){const o={p:r,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,r,n,i){this.putInternal("p",e,r,n,i)}merge(e,r,n,i){this.putInternal("m",e,r,n,i)}putInternal(e,r,n,i,o){this.initConnection_();const s={p:r,d:n};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const o=n.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ur(e));const r=e.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):gP("Unrecognized action received from server: "+ur(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){X(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ph,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ph,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yie&&(this.reconnectDelay_=Ph),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mie)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+bs.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},c=function(d){X(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);s?Ur("getToken() completed but was canceled"):(Ur("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new lie(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,n,p=>{Tn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(gie)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&Tn(d),l())}}}interrupt(e){Ur("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ur("Resuming connection for reason: "+e),delete this.interruptReasons_[e],O$(this.interruptReasons_)&&(this.reconnectDelay_=Ph,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let n;r?n=r.map(o=>_k(o)).join("$"):n="default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,r){const n=new ut(e).toString();let i;if(this.listens.has(n)){const o=this.listens.get(n);i=o.get(r),o.delete(r),o.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,r){Ur("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rD&&(this.reconnectDelay_=tD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Ur("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+NW.replace(/\./g,"-")]=1,xW()?e["framework.cordova"]=1:ore()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mb.getInstance().currentlyOnline();return O$(this.interruptReasons_)&&e}}bs.nextPersistentConnectionId_=0;bs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new De(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const n=new De(Pc,e),i=new De(Pc,r);return this.compare(n,i)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tv;class t8 extends Iw{static get __EMPTY_NODE(){return Tv}static set __EMPTY_NODE(e){Tv=e}compare(e,r){return Bc(e.name,r.name)}isDefinedOn(e){throw Ud("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return De.MIN}maxPost(){return new De(za,Tv)}makePost(e,r){return X(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,Tv)}toString(){return".key"}}const ic=new t8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv=class{constructor(e,r,n,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=r?n(e.key,r):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Xn=class np{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??np.RED,this.left=i??ko.EMPTY_NODE,this.right=o??ko.EMPTY_NODE}copy(e,r,n,i,o){return new np(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ko.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let n,i;if(n=this,r(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(e,n.key)===0){if(n.right.isEmpty())return ko.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,np.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,np.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Xn.RED=!0;Xn.BLACK=!1;class vie{copy(e,r,n,i,o){return this}insert(e,r,n){return new Xn(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ko=class N0{constructor(e,r=N0.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new N0(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,Xn.BLACK,null,null))}remove(e){return new N0(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xn.BLACK,null,null))}get(e){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(e,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(e){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(e,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Iv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new Iv(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new Iv(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new Iv(this.root_,null,this.comparator_,!0,e)}};ko.EMPTY_NODE=new vie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(t,e){return Bc(t.name,e.name)}function Tk(t,e){return Bc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bP;function xie(t){bP=t}const r8=function(t){return typeof t=="number"?"number:"+RW(t):"string:"+t},n8=function(t){if(t.isLeafNode()){const e=t.val();X(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zo(e,".sv"),"Priority must be a string or number.")}else X(t===bP||t.isEmpty(),"priority of unexpected type.");X(t===bP||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nD;class Er{constructor(e,r=Er.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,X(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),n8(this.priorityNode_)}static set __childrenNodeConstructor(e){nD=e}static get __childrenNodeConstructor(){return nD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Er(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Er.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:Re(e)===".priority"?this.priorityNode_:Er.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Er.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const n=Re(e);return n===null?r:r.isEmpty()&&n!==".priority"?this:(X(n!==".priority"||Ga(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,Er.__childrenNodeConstructor.EMPTY_NODE.updateChild(St(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+r8(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=RW(this.value_):e+=this.value_,this.lazyHash_=OW(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Er.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Er.__childrenNodeConstructor?-1:(X(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,n=typeof this.value_,i=Er.VALUE_TYPE_ORDER.indexOf(r),o=Er.VALUE_TYPE_ORDER.indexOf(n);return X(i>=0,"Unknown leaf type: "+r),X(o>=0,"Unknown leaf type: "+n),i===o?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Er.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i8,o8;function _ie(t){i8=t}function wie(t){o8=t}class Sie extends Iw{compare(e,r){const n=e.node.getPriority(),i=r.node.getPriority(),o=n.compareTo(i);return o===0?Bc(e.name,r.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return De.MIN}maxPost(){return new De(za,new Er("[PRIORITY-POST]",o8))}makePost(e,r){const n=i8(e);return new De(r,new Er("[PRIORITY-POST]",n))}toString(){return".priority"}}const Bt=new Sie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eie=Math.log(2);class Aie{constructor(e){const r=o=>parseInt(Math.log(o)/Eie,10),n=o=>parseInt(Array(o+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const i=n(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Fb=function(t,e,r,n){t.sort(e);const i=function(l,c){const f=c-l;let d,h;if(f===0)return null;if(f===1)return d=t[l],h=r?r(d):d,new Xn(h,d.node,Xn.BLACK,null,null);{const p=parseInt(f/2,10)+l,m=i(l,p),y=i(p+1,c);return d=t[p],h=r?r(d):d,new Xn(h,d.node,Xn.BLACK,m,y)}},o=function(l){let c=null,f=null,d=t.length;const h=function(m,y){const v=d-m,b=d;d-=m;const g=i(v+1,b),x=t[v],S=r?r(x):x;p(new Xn(S,x.node,y,null,g))},p=function(m){c?(c.left=m,c=m):(f=m,c=m)};for(let m=0;m<l.count;++m){const y=l.nextBitIsOne(),v=Math.pow(2,l.count-(m+1));y?h(v,Xn.BLACK):(h(v,Xn.BLACK),h(v,Xn.RED))}return f},s=new Aie(t.length),a=o(s);return new ko(n||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gE;const Xc={};class ds{constructor(e,r){this.indexes_=e,this.indexSet_=r}static get Default(){return X(Xc&&Bt,"ChildrenNode.ts has not been loaded"),gE=gE||new ds({".priority":Xc},{".priority":Bt}),gE}get(e){const r=zf(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof ko?r:null}hasIndex(e){return Zo(this.indexSet_,e.toString())}addIndex(e,r){X(e!==ic,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const o=r.getIterator(De.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),n.push(s),s=o.getNext();let a;i?a=Fb(n,e.getCompare()):a=Xc;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const f=Object.assign({},this.indexes_);return f[l]=a,new ds(f,c)}addToIndexes(e,r){const n=Rb(this.indexes_,(i,o)=>{const s=zf(this.indexSet_,o);if(X(s,"Missing index implementation for "+o),i===Xc)if(s.isDefinedOn(e.node)){const a=[],l=r.getIterator(De.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Fb(a,s.getCompare())}else return Xc;else{const a=r.get(e.name);let l=i;return a&&(l=l.remove(new De(e.name,a))),l.insert(e,e.node)}});return new ds(n,this.indexSet_)}removeFromIndexes(e,r){const n=Rb(this.indexes_,i=>{if(i===Xc)return i;{const o=r.get(e.name);return o?i.remove(new De(e.name,o)):i}});return new ds(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th;class _e{constructor(e,r,n){this.children_=e,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&n8(this.priorityNode_),this.children_.isEmpty()&&X(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Th||(Th=new _e(new ko(Tk),null,ds.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Th}updatePriority(e){return this.children_.isEmpty()?this:new _e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Th:r}}getChild(e){const r=Re(e);return r===null?this:this.getImmediateChild(r).getChild(St(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(X(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const n=new De(e,r);let i,o;r.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,r),o=this.indexMap_.addToIndexes(n,this.children_));const s=i.isEmpty()?Th:this.priorityNode_;return new _e(i,s,o)}}updateChild(e,r){const n=Re(e);if(n===null)return r;{X(Re(e)!==".priority"||Ga(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(St(e),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let n=0,i=0,o=!0;if(this.forEachChild(Bt,(s,a)=>{r[s]=a.val(e),n++,o&&_e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*n){const s=[];for(const a in r)s[a]=r[a];return s}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+r8(this.getPriority().val())+":"),this.forEachChild(Bt,(r,n)=>{const i=n.hash();i!==""&&(e+=":"+r+":"+i)}),this.lazyHash_=e===""?"":OW(e)}return this.lazyHash_}getPredecessorChildName(e,r,n){const i=this.resolveIndex_(n);if(i){const o=i.getPredecessorKey(new De(e,r));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new De(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new De(r,this.children_.get(r)):null}forEachChild(e,r){const n=this.resolveIndex_(e);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,De.Wrap);let o=i.peek();for(;o!=null&&r.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,De.Wrap);let o=i.peek();for(;o!=null&&r.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ug?-1:0}withIndex(e){if(e===ic||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new _e(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===ic||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(Bt),i=r.getIterator(Bt);let o=n.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=n.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===ic?null:this.indexMap_.get(e.toString())}}_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Cie extends _e{constructor(){super(new ko(Tk),_e.EMPTY_NODE,ds.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}}const ug=new Cie;Object.defineProperties(De,{MIN:{value:new De(Pc,_e.EMPTY_NODE)},MAX:{value:new De(za,ug)}});t8.__EMPTY_NODE=_e.EMPTY_NODE;Er.__childrenNodeConstructor=_e;xie(ug);wie(ug);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pie=!0;function cr(t,e=null){if(t===null)return _e.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),X(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new Er(r,cr(e))}if(!(t instanceof Array)&&Pie){const r=[];let n=!1;if(Jr(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=cr(a);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),r.push(new De(s,l)))}}),r.length===0)return _e.EMPTY_NODE;const o=Fb(r,bie,s=>s.name,Tk);if(n){const s=Fb(r,Bt.getCompare());return new _e(o,cr(e),new ds({".priority":s},{".priority":Bt}))}else return new _e(o,cr(e),ds.Default)}else{let r=_e.EMPTY_NODE;return Jr(t,(n,i)=>{if(Zo(t,n)&&n.substring(0,1)!=="."){const o=cr(i);(o.isLeafNode()||!o.isEmpty())&&(r=r.updateImmediateChild(n,o))}}),r.updatePriority(cr(e))}}_ie(cr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik extends Iw{constructor(e){super(),this.indexPath_=e,X(!$e(e)&&Re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const n=this.extractChild(e.node),i=this.extractChild(r.node),o=n.compareTo(i);return o===0?Bc(e.name,r.name):o}makePost(e,r){const n=cr(e),i=_e.EMPTY_NODE.updateChild(this.indexPath_,n);return new De(r,i)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,ug);return new De(za,e)}toString(){return Em(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie extends Iw{compare(e,r){const n=e.node.compareTo(r.node);return n===0?Bc(e.name,r.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,r){const n=cr(e);return new De(r,n)}toString(){return".value"}}const s8=new Tie;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){return{type:"value",snapshotNode:t}}function qf(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Am(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Cm(t,e,r){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:r}}function Iie(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.index_=e}updateChild(e,r,n,i,o,s){X(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(r);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()||(s!=null&&(n.isEmpty()?e.hasChild(r)?s.trackChildChange(Am(r,a)):X(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(qf(r,n)):s.trackChildChange(Cm(r,n,a))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(e,r,n){return n!=null&&(e.isLeafNode()||e.forEachChild(Bt,(i,o)=>{r.hasChild(i)||n.trackChildChange(Am(i,o))}),r.isLeafNode()||r.forEachChild(Bt,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||n.trackChildChange(Cm(i,o,s))}else n.trackChildChange(qf(i,o))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?_e.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.indexedFilter_=new Nk(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Pm.getStartPost_(e),this.endPost_=Pm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&n}updateChild(e,r,n,i,o,s){return this.matches(new De(r,n))||(n=_e.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,n,i,o,s)}updateFullNode(e,r,n){r.isLeafNode()&&(r=_e.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority(_e.EMPTY_NODE);const o=this;return r.forEachChild(Bt,(s,a)=>{o.matches(new De(s,a))||(i=i.updateImmediateChild(s,_e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new Pm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,n,i,o,s){return this.rangedFilter_.matches(new De(r,n))||(n=_e.EMPTY_NODE),e.getImmediateChild(r).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,n,i,o,s):this.fullLimitUpdateChild_(e,r,n,o,s)}updateFullNode(e,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=_e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=_e.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority(_e.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,_e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,n,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,p)=>d(p,h)}else s=this.index_.getCompare();const a=e;X(a.numChildren()===this.limit_,"");const l=new De(r,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(r)){const d=a.getImmediateChild(r);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===r||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:s(h,l);if(f&&!n.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Cm(r,n,d)),a.updateImmediateChild(r,n);{o!=null&&o.trackChildChange(Am(r,d));const y=a.updateImmediateChild(r,_e.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(qf(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return n.isEmpty()?e:f&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Am(c.name,c.node)),o.trackChildChange(qf(r,n))),a.updateImmediateChild(r,n).updateImmediateChild(c.name,_e.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return X(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return X(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pc}hasEnd(){return this.endSet_}getIndexEndValue(){return X(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return X(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:za}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return X(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bt}copy(){const e=new kk;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kie(t){return t.loadsAllData()?new Nk(t.getIndex()):t.hasLimit()?new Nie(t):new Pm(t)}function Oie(t,e){const r=t.copy();return r.limitSet_=!0,r.limit_=e,r.viewFrom_="r",r}function jie(t,e,r){const n=t.copy();return n.startSet_=!0,e===void 0&&(e=null),n.indexStartValue_=e,r!=null?(n.startNameSet_=!0,n.indexStartName_=r):(n.startNameSet_=!1,n.indexStartName_=""),n}function Rie(t,e,r){const n=t.copy();return n.endSet_=!0,e===void 0&&(e=null),n.indexEndValue_=e,r!==void 0?(n.endNameSet_=!0,n.indexEndName_=r):(n.endNameSet_=!1,n.indexEndName_=""),n}function $ie(t,e){const r=t.copy();return r.index_=e,r}function iD(t){const e={};if(t.isDefault())return e;let r;if(t.index_===Bt?r="$priority":t.index_===s8?r="$value":t.index_===ic?r="$key":(X(t.index_ instanceof Ik,"Unrecognized index type!"),r=t.index_.toString()),e.orderBy=ur(r),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=ur(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+ur(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=ur(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+ur(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function oD(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),e.vf=r}return t.index_!==Bt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends XW{constructor(e,r,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=cg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(X(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,r,n,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Lb.getListenId_(e,n),a={};this.listens_[s]=a;const l=iD(e._queryParams);this.restRequest_(o+".json",l,(c,f)=>{let d=f;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,n),zf(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,r){const n=Lb.getListenId_(e,r);delete this.listens_[n]}get(e){const r=iD(e._queryParams),n=e._path.toString(),i=new sg;return this.restRequest_(n+".json",r,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(n,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(r.auth=i.accessToken),o&&o.token&&(r.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hre(r);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=_m(a.responseText)}catch{Tn("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,l)}else a.status!==401&&a.status!==404&&Tn("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return{value:null,children:new Map}}function l8(t,e,r){if($e(e))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,r);else{const n=Re(e);t.children.has(n)||t.children.set(n,Bb());const i=t.children.get(n);e=St(e),l8(i,e,r)}}function xP(t,e,r){t.value!==null?r(e,t.value):Mie(t,(n,i)=>{const o=new ut(e.toString()+"/"+n);xP(i,o,r)})}function Mie(t,e){t.children.forEach((r,n)=>{e(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&Jr(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=10*1e3,Lie=30*1e3,Bie=5*60*1e3;class Uie{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Fie(e);const n=sD+(Lie-sD)*Math.random();Ip(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),r={};let n=!1;Jr(e,(i,o)=>{o>0&&Zo(this.statsToReport_,i)&&(r[i]=o,n=!0)}),n&&this.server_.reportStats(r),Ip(this.reportStats_.bind(this),Math.floor(Math.random()*2*Bie))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(no||(no={}));function Ok(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,r,n){this.path=e,this.affectedTree=r,this.revert=n,this.type=no.ACK_USER_WRITE,this.source=Ok()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return X(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ut(e));return new Ub(tt(),r,this.revert)}}else return X(Re(this.path)===e,"operationForChild called for unrelated child."),new Ub(St(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,r){this.source=e,this.path=r,this.type=no.LISTEN_COMPLETE}operationForChild(e){return $e(this.path)?new Tm(this.source,tt()):new Tm(this.source,St(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,r,n){this.source=e,this.path=r,this.snap=n,this.type=no.OVERWRITE}operationForChild(e){return $e(this.path)?new Tc(this.source,tt(),this.snap.getImmediateChild(e)):new Tc(this.source,St(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,r,n){this.source=e,this.path=r,this.children=n,this.type=no.MERGE}operationForChild(e){if($e(this.path)){const r=this.children.subtree(new ut(e));return r.isEmpty()?null:r.value?new Tc(this.source,tt(),r.value):new Hf(this.source,tt(),r)}else return X(Re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hf(this.source,St(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,r,n){this.node_=e,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const r=Re(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Wie(t,e,r,n){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Iie(s.childName,s.snapshotNode))}),Ih(t,i,"child_removed",e,n,r),Ih(t,i,"child_added",e,n,r),Ih(t,i,"child_moved",o,n,r),Ih(t,i,"child_changed",e,n,r),Ih(t,i,"value",e,n,r),i}function Ih(t,e,r,n,i,o){const s=n.filter(a=>a.type===r);s.sort((a,l)=>Gie(t,a,l)),s.forEach(a=>{const l=zie(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function zie(t,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Gie(t,e,r){if(e.childName==null||r.childName==null)throw Ud("Should only compare child_ events.");const n=new De(e.childName,e.snapshotNode),i=new De(r.childName,r.snapshotNode);return t.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t,e){return{eventCache:t,serverCache:e}}function Np(t,e,r,n){return Nw(new qa(e,r,n),t.serverCache)}function c8(t,e,r,n){return Nw(t.eventCache,new qa(e,r,n))}function Vb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ic(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vE;const qie=()=>(vE||(vE=new ko(Tne)),vE);class _t{constructor(e,r=qie()){this.value=e,this.children=r}static fromObject(e){let r=new _t(null);return Jr(e,(n,i)=>{r=r.set(new ut(n),i)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:tt(),value:this.value};if($e(e))return null;{const n=Re(e),i=this.children.get(n);if(i!==null){const o=i.findRootMostMatchingPathAndValue(St(e),r);return o!=null?{path:Ht(new ut(n),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const r=Re(e),n=this.children.get(r);return n!==null?n.subtree(St(e)):new _t(null)}}set(e,r){if($e(e))return new _t(r,this.children);{const n=Re(e),o=(this.children.get(n)||new _t(null)).set(St(e),r),s=this.children.insert(n,o);return new _t(this.value,s)}}remove(e){if($e(e))return this.children.isEmpty()?new _t(null):new _t(null,this.children);{const r=Re(e),n=this.children.get(r);if(n){const i=n.remove(St(e));let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),this.value===null&&o.isEmpty()?new _t(null):new _t(this.value,o)}else return this}}get(e){if($e(e))return this.value;{const r=Re(e),n=this.children.get(r);return n?n.get(St(e)):null}}setTree(e,r){if($e(e))return r;{const n=Re(e),o=(this.children.get(n)||new _t(null)).setTree(St(e),r);let s;return o.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,o),new _t(this.value,s)}}fold(e){return this.fold_(tt(),e)}fold_(e,r){const n={};return this.children.inorderTraversal((i,o)=>{n[i]=o.fold_(Ht(e,i),r)}),r(e,this.value,n)}findOnPath(e,r){return this.findOnPath_(e,tt(),r)}findOnPath_(e,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if($e(e))return null;{const o=Re(e),s=this.children.get(o);return s?s.findOnPath_(St(e),Ht(r,o),n):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,tt(),r)}foreachOnPath_(e,r,n){if($e(e))return this;{this.value&&n(r,this.value);const i=Re(e),o=this.children.get(i);return o?o.foreachOnPath_(St(e),Ht(r,i),n):new _t(null)}}foreach(e){this.foreach_(tt(),e)}foreach_(e,r){this.children.inorderTraversal((n,i)=>{i.foreach_(Ht(e,n),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,n)=>{n.value&&e(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.writeTree_=e}static empty(){return new uo(new _t(null))}}function kp(t,e,r){if($e(e))return new uo(new _t(r));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const i=n.path;let o=n.value;const s=Sn(i,e);return o=o.updateChild(s,r),new uo(t.writeTree_.set(i,o))}else{const i=new _t(r),o=t.writeTree_.setTree(e,i);return new uo(o)}}}function _P(t,e,r){let n=t;return Jr(r,(i,o)=>{n=kp(n,Ht(e,i),o)}),n}function aD(t,e){if($e(e))return uo.empty();{const r=t.writeTree_.setTree(e,new _t(null));return new uo(r)}}function wP(t,e){return Uc(t,e)!=null}function Uc(t,e){const r=t.writeTree_.findRootMostValueAndPath(e);return r!=null?t.writeTree_.get(r.path).getChild(Sn(r.path,e)):null}function lD(t){const e=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Bt,(n,i)=>{e.push(new De(n,i))}):t.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&e.push(new De(n,i.value))}),e}function $a(t,e){if($e(e))return t;{const r=Uc(t,e);return r!=null?new uo(new _t(r)):new uo(t.writeTree_.subtree(e))}}function SP(t){return t.writeTree_.isEmpty()}function Kf(t,e){return u8(tt(),t.writeTree_,e)}function u8(t,e,r){if(e.value!=null)return r.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(X(o.value!==null,"Priority writes must always be leaf nodes"),n=o.value):r=u8(Ht(t,i),o,r)}),!r.getChild(t).isEmpty()&&n!==null&&(r=r.updateChild(Ht(t,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t,e){return p8(e,t)}function Hie(t,e,r,n,i){X(n>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:r,writeId:n,visible:i}),i&&(t.visibleWrites=kp(t.visibleWrites,e,r)),t.lastWriteId=n}function Kie(t,e,r,n){X(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:r,writeId:n,visible:!0}),t.visibleWrites=_P(t.visibleWrites,e,r),t.lastWriteId=n}function Qie(t,e){for(let r=0;r<t.allWrites.length;r++){const n=t.allWrites[r];if(n.writeId===e)return n}return null}function Yie(t,e){const r=t.allWrites.findIndex(a=>a.writeId===e);X(r>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[r];t.allWrites.splice(r,1);let i=n.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=r&&Xie(a,n.path)?i=!1:Ii(n.path,a.path)&&(o=!0)),s--}if(i){if(o)return Jie(t),!0;if(n.snap)t.visibleWrites=aD(t.visibleWrites,n.path);else{const a=n.children;Jr(a,l=>{t.visibleWrites=aD(t.visibleWrites,Ht(n.path,l))})}return!0}else return!1}function Xie(t,e){if(t.snap)return Ii(t.path,e);for(const r in t.children)if(t.children.hasOwnProperty(r)&&Ii(Ht(t.path,r),e))return!0;return!1}function Jie(t){t.visibleWrites=f8(t.allWrites,Zie,tt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Zie(t){return t.visible}function f8(t,e,r){let n=uo.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Ii(r,s)?(a=Sn(r,s),n=kp(n,a,o.snap)):Ii(s,r)&&(a=Sn(s,r),n=kp(n,tt(),o.snap.getChild(a)));else if(o.children){if(Ii(r,s))a=Sn(r,s),n=_P(n,a,o.children);else if(Ii(s,r))if(a=Sn(s,r),$e(a))n=_P(n,tt(),o.children);else{const l=zf(o.children,Re(a));if(l){const c=l.getChild(St(a));n=kp(n,tt(),c)}}}else throw Ud("WriteRecord should have .snap or .children")}}return n}function d8(t,e,r,n,i){if(!n&&!i){const o=Uc(t.visibleWrites,e);if(o!=null)return o;{const s=$a(t.visibleWrites,e);if(SP(s))return r;if(r==null&&!wP(s,tt()))return null;{const a=r||_e.EMPTY_NODE;return Kf(s,a)}}}else{const o=$a(t.visibleWrites,e);if(!i&&SP(o))return r;if(!i&&r==null&&!wP(o,tt()))return null;{const s=function(c){return(c.visible||i)&&(!n||!~n.indexOf(c.writeId))&&(Ii(c.path,e)||Ii(e,c.path))},a=f8(t.allWrites,s,e),l=r||_e.EMPTY_NODE;return Kf(a,l)}}}function eoe(t,e,r){let n=_e.EMPTY_NODE;const i=Uc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Bt,(o,s)=>{n=n.updateImmediateChild(o,s)}),n;if(r){const o=$a(t.visibleWrites,e);return r.forEachChild(Bt,(s,a)=>{const l=Kf($a(o,new ut(s)),a);n=n.updateImmediateChild(s,l)}),lD(o).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}else{const o=$a(t.visibleWrites,e);return lD(o).forEach(s=>{n=n.updateImmediateChild(s.name,s.node)}),n}}function toe(t,e,r,n,i){X(n||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ht(e,r);if(wP(t.visibleWrites,o))return null;{const s=$a(t.visibleWrites,o);return SP(s)?i.getChild(r):Kf(s,i.getChild(r))}}function roe(t,e,r,n){const i=Ht(e,r),o=Uc(t.visibleWrites,i);if(o!=null)return o;if(n.isCompleteForChild(r)){const s=$a(t.visibleWrites,i);return Kf(s,n.getNode().getImmediateChild(r))}else return null}function noe(t,e){return Uc(t.visibleWrites,e)}function ioe(t,e,r,n,i,o,s){let a;const l=$a(t.visibleWrites,e),c=Uc(l,tt());if(c!=null)a=c;else if(r!=null)a=Kf(l,r);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const f=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(n,s):a.getIteratorFrom(n,s);let p=h.getNext();for(;p&&f.length<i;)d(p,n)!==0&&f.push(p),p=h.getNext();return f}else return[]}function ooe(){return{visibleWrites:uo.empty(),allWrites:[],lastWriteId:-1}}function Wb(t,e,r,n){return d8(t.writeTree,t.treePath,e,r,n)}function $k(t,e){return eoe(t.writeTree,t.treePath,e)}function cD(t,e,r,n){return toe(t.writeTree,t.treePath,e,r,n)}function zb(t,e){return noe(t.writeTree,Ht(t.treePath,e))}function soe(t,e,r,n,i,o){return ioe(t.writeTree,t.treePath,e,r,n,i,o)}function Dk(t,e,r){return roe(t.writeTree,t.treePath,e,r)}function h8(t,e){return p8(Ht(t.treePath,e),t.writeTree)}function p8(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,n=e.childName;X(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),X(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const o=i.type;if(r==="child_added"&&o==="child_removed")this.changeMap.set(n,Cm(n,e.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&o==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&o==="child_changed")this.changeMap.set(n,Am(n,i.oldSnap));else if(r==="child_changed"&&o==="child_added")this.changeMap.set(n,qf(n,e.snapshotNode));else if(r==="child_changed"&&o==="child_changed")this.changeMap.set(n,Cm(n,e.snapshotNode,i.oldSnap));else throw Ud("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class loe{getCompleteChild(e){return null}getChildAfterChild(e,r,n){return null}}const m8=new loe;class Mk{constructor(e,r,n=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new qa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dk(this.writes_,e,n)}}getChildAfterChild(e,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ic(this.viewCache_),o=soe(this.writes_,i,r,1,n,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function coe(t){return{filter:t}}function uoe(t,e){X(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),X(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function foe(t,e,r,n,i){const o=new aoe;let s,a;if(r.type===no.OVERWRITE){const c=r;c.source.fromUser?s=EP(t,e,c.path,c.snap,n,i,o):(X(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!$e(c.path),s=Gb(t,e,c.path,c.snap,n,i,a,o))}else if(r.type===no.MERGE){const c=r;c.source.fromUser?s=hoe(t,e,c.path,c.children,n,i,o):(X(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=AP(t,e,c.path,c.children,n,i,a,o))}else if(r.type===no.ACK_USER_WRITE){const c=r;c.revert?s=yoe(t,e,c.path,n,i,o):s=poe(t,e,c.path,c.affectedTree,n,i,o)}else if(r.type===no.LISTEN_COMPLETE)s=moe(t,e,r.path,n,o);else throw Ud("Unknown operation type: "+r.type);const l=o.getChanges();return doe(e,s,l),{viewCache:s,changes:l}}function doe(t,e,r){const n=e.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),o=Vb(t);(r.length>0||!t.eventCache.isFullyInitialized()||i&&!n.getNode().equals(o)||!n.getNode().getPriority().equals(o.getPriority()))&&r.push(a8(Vb(e)))}}function y8(t,e,r,n,i,o){const s=e.eventCache;if(zb(n,r)!=null)return e;{let a,l;if($e(r))if(X(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ic(e),f=c instanceof _e?c:_e.EMPTY_NODE,d=$k(n,f);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=Wb(n,Ic(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=Re(r);if(c===".priority"){X(Ga(r)===1,"Can't have a priority with additional path components");const f=s.getNode();l=e.serverCache.getNode();const d=cD(n,r,f,l);d!=null?a=t.filter.updatePriority(f,d):a=s.getNode()}else{const f=St(r);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=cD(n,r,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(f,h):d=s.getNode().getImmediateChild(c)}else d=Dk(n,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,f,i,o):a=s.getNode()}}return Np(e,a,s.isFullyInitialized()||$e(r),t.filter.filtersNodes())}}function Gb(t,e,r,n,i,o,s,a){const l=e.serverCache;let c;const f=s?t.filter:t.filter.getIndexedFilter();if($e(r))c=f.updateFullNode(l.getNode(),n,null);else if(f.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(r,n);c=f.updateFullNode(l.getNode(),p,null)}else{const p=Re(r);if(!l.isCompleteForPath(r)&&Ga(r)>1)return e;const m=St(r),v=l.getNode().getImmediateChild(p).updateChild(m,n);p===".priority"?c=f.updatePriority(l.getNode(),v):c=f.updateChild(l.getNode(),p,v,m,m8,null)}const d=c8(e,c,l.isFullyInitialized()||$e(r),f.filtersNodes()),h=new Mk(i,d,o);return y8(t,d,r,i,h,a)}function EP(t,e,r,n,i,o,s){const a=e.eventCache;let l,c;const f=new Mk(i,e,o);if($e(r))c=t.filter.updateFullNode(e.eventCache.getNode(),n,s),l=Np(e,c,!0,t.filter.filtersNodes());else{const d=Re(r);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),n),l=Np(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=St(r),p=a.getNode().getImmediateChild(d);let m;if($e(h))m=n;else{const y=f.getCompleteChild(d);y!=null?Ak(h)===".priority"&&y.getChild(ZW(h)).isEmpty()?m=y:m=y.updateChild(h,n):m=_e.EMPTY_NODE}if(p.equals(m))l=e;else{const y=t.filter.updateChild(a.getNode(),d,m,h,f,s);l=Np(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function uD(t,e){return t.eventCache.isCompleteForChild(e)}function hoe(t,e,r,n,i,o,s){let a=e;return n.foreach((l,c)=>{const f=Ht(r,l);uD(e,Re(f))&&(a=EP(t,a,f,c,i,o,s))}),n.foreach((l,c)=>{const f=Ht(r,l);uD(e,Re(f))||(a=EP(t,a,f,c,i,o,s))}),a}function fD(t,e,r){return r.foreach((n,i)=>{e=e.updateChild(n,i)}),e}function AP(t,e,r,n,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;$e(r)?c=n:c=new _t(null).setTree(r,n);const f=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(f.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=fD(t,p,h);l=Gb(t,l,new ut(d),m,i,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!f.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),y=fD(t,m,h);l=Gb(t,l,new ut(d),y,i,o,s,a)}}),l}function poe(t,e,r,n,i,o,s){if(zb(i,r)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(n.value!=null){if($e(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return Gb(t,e,r,l.getNode().getChild(r),i,o,a,s);if($e(r)){let c=new _t(null);return l.getNode().forEachChild(ic,(f,d)=>{c=c.set(new ut(f),d)}),AP(t,e,r,c,i,o,a,s)}else return e}else{let c=new _t(null);return n.foreach((f,d)=>{const h=Ht(r,f);l.isCompleteForPath(h)&&(c=c.set(f,l.getNode().getChild(h)))}),AP(t,e,r,c,i,o,a,s)}}function moe(t,e,r,n,i){const o=e.serverCache,s=c8(e,o.getNode(),o.isFullyInitialized()||$e(r),o.isFiltered());return y8(t,s,r,n,m8,i)}function yoe(t,e,r,n,i,o){let s;if(zb(n,r)!=null)return e;{const a=new Mk(n,e,i),l=e.eventCache.getNode();let c;if($e(r)||Re(r)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Wb(n,Ic(e));else{const d=e.serverCache.getNode();X(d instanceof _e,"serverChildren would be complete if leaf node"),f=$k(n,d)}f=f,c=t.filter.updateFullNode(l,f,o)}else{const f=Re(r);let d=Dk(n,f,e.serverCache);d==null&&e.serverCache.isCompleteForChild(f)&&(d=l.getImmediateChild(f)),d!=null?c=t.filter.updateChild(l,f,d,St(r),a,o):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(l,f,_e.EMPTY_NODE,St(r),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Wb(n,Ic(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||zb(n,tt())!=null,Np(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Nk(n.getIndex()),o=kie(n);this.processor_=coe(o);const s=r.serverCache,a=r.eventCache,l=i.updateFullNode(_e.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(_e.EMPTY_NODE,a.getNode(),null),f=new qa(l,s.isFullyInitialized(),i.filtersNodes()),d=new qa(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Nw(d,f),this.eventGenerator_=new Vie(this.query_)}get query(){return this.query_}}function voe(t){return t.viewCache_.serverCache.getNode()}function boe(t){return Vb(t.viewCache_)}function xoe(t,e){const r=Ic(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!$e(e)&&!r.getImmediateChild(Re(e)).isEmpty())?r.getChild(e):null}function dD(t){return t.eventRegistrations_.length===0}function _oe(t,e){t.eventRegistrations_.push(e)}function hD(t,e,r){const n=[];if(r){X(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(r,i);s&&n.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return n}function pD(t,e,r,n){e.type===no.MERGE&&e.source.queryId!==null&&(X(Ic(t.viewCache_),"We should always have a full cache before handling merges"),X(Vb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=foe(t.processor_,i,e,r,n);return uoe(t.processor_,o.viewCache),X(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,g8(t,o.changes,o.viewCache.eventCache.getNode(),null)}function woe(t,e){const r=t.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Bt,(o,s)=>{n.push(qf(o,s))}),r.isFullyInitialized()&&n.push(a8(r.getNode())),g8(t,n,r.getNode(),e)}function g8(t,e,r,n){const i=n?[n]:t.eventRegistrations_;return Wie(t.eventGenerator_,e,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qb;class v8{constructor(){this.views=new Map}}function Soe(t){X(!qb,"__referenceConstructor has already been defined"),qb=t}function Eoe(){return X(qb,"Reference.ts has not been loaded"),qb}function Aoe(t){return t.views.size===0}function Fk(t,e,r,n){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return X(o!=null,"SyncTree gave us an op for an invalid query."),pD(o,e,r,n)}else{let o=[];for(const s of t.views.values())o=o.concat(pD(s,e,r,n));return o}}function b8(t,e,r,n,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Wb(r,i?n:null),l=!1;a?l=!0:n instanceof _e?(a=$k(r,n),l=!1):(a=_e.EMPTY_NODE,l=!1);const c=Nw(new qa(a,l,!1),new qa(n,i,!1));return new goe(e,c)}return s}function Coe(t,e,r,n,i,o){const s=b8(t,e,n,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),_oe(s,r),woe(s,r)}function Poe(t,e,r,n){const i=e._queryIdentifier,o=[];let s=[];const a=Ha(t);if(i==="default")for(const[l,c]of t.views.entries())s=s.concat(hD(c,r,n)),dD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(s=s.concat(hD(l,r,n)),dD(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Ha(t)&&o.push(new(Eoe())(e._repo,e._path)),{removed:o,events:s}}function x8(t){const e=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function Da(t,e){let r=null;for(const n of t.views.values())r=r||xoe(n,e);return r}function _8(t,e){if(e._queryParams.loadsAllData())return Ow(t);{const n=e._queryIdentifier;return t.views.get(n)}}function w8(t,e){return _8(t,e)!=null}function Ha(t){return Ow(t)!=null}function Ow(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hb;function Toe(t){X(!Hb,"__referenceConstructor has already been defined"),Hb=t}function Ioe(){return X(Hb,"Reference.ts has not been loaded"),Hb}let Noe=1;class mD{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _t(null),this.pendingWriteTree_=ooe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function S8(t,e,r,n,i){return Hie(t.pendingWriteTree_,e,r,n,i),i?Wd(t,new Tc(Ok(),e,r)):[]}function koe(t,e,r,n){Kie(t.pendingWriteTree_,e,r,n);const i=_t.fromObject(r);return Wd(t,new Hf(Ok(),e,i))}function ma(t,e,r=!1){const n=Qie(t.pendingWriteTree_,e);if(Yie(t.pendingWriteTree_,e)){let o=new _t(null);return n.snap!=null?o=o.set(tt(),!0):Jr(n.children,s=>{o=o.set(new ut(s),!0)}),Wd(t,new Ub(n.path,o,r))}else return[]}function fg(t,e,r){return Wd(t,new Tc(jk(),e,r))}function Ooe(t,e,r){const n=_t.fromObject(r);return Wd(t,new Hf(jk(),e,n))}function joe(t,e){return Wd(t,new Tm(jk(),e))}function Roe(t,e,r){const n=Bk(t,r);if(n){const i=Uk(n),o=i.path,s=i.queryId,a=Sn(o,e),l=new Tm(Rk(s),a);return Vk(t,o,l)}else return[]}function Kb(t,e,r,n,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||w8(s,e))){const l=Poe(s,e,r,n);Aoe(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const f=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(h,p)=>Ha(p));if(f&&!d){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=Moe(h);for(let m=0;m<p.length;++m){const y=p[m],v=y.query,b=P8(t,y);t.listenProvider_.startListening(Op(v),Im(t,v),b.hashFn,b.onComplete)}}}!d&&c.length>0&&!n&&(f?t.listenProvider_.stopListening(Op(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(jw(h));t.listenProvider_.stopListening(Op(h),p)}))}Foe(t,c)}return a}function E8(t,e,r,n){const i=Bk(t,n);if(i!=null){const o=Uk(i),s=o.path,a=o.queryId,l=Sn(s,e),c=new Tc(Rk(a),l,r);return Vk(t,s,c)}else return[]}function $oe(t,e,r,n){const i=Bk(t,n);if(i){const o=Uk(i),s=o.path,a=o.queryId,l=Sn(s,e),c=_t.fromObject(r),f=new Hf(Rk(a),l,c);return Vk(t,s,f)}else return[]}function CP(t,e,r,n=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const m=Sn(h,i);o=o||Da(p,m),s=s||Ha(p)});let a=t.syncPointTree_.get(i);a?(s=s||Ha(a),o=o||Da(a,tt())):(a=new v8,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=_e.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const y=Da(m,tt());y&&(o=o.updateImmediateChild(p,y))}));const c=w8(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=jw(e);X(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Loe();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const f=kw(t.pendingWriteTree_,i);let d=Coe(a,e,r,f,o,l);if(!c&&!s&&!n){const h=_8(a,e);d=d.concat(Boe(t,e,h))}return d}function Lk(t,e,r){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Sn(s,e),c=Da(a,l);if(c)return c});return d8(i,e,o,r,!0)}function Doe(t,e){const r=e._path;let n=null;t.syncPointTree_.foreachOnPath(r,(c,f)=>{const d=Sn(c,r);n=n||Da(f,d)});let i=t.syncPointTree_.get(r);i?n=n||Da(i,tt()):(i=new v8,t.syncPointTree_=t.syncPointTree_.set(r,i));const o=n!=null,s=o?new qa(n,!0,!1):null,a=kw(t.pendingWriteTree_,e._path),l=b8(i,e,a,o?s.getNode():_e.EMPTY_NODE,o);return boe(l)}function Wd(t,e){return A8(e,t.syncPointTree_,null,kw(t.pendingWriteTree_,tt()))}function A8(t,e,r,n){if($e(t.path))return C8(t,e,r,n);{const i=e.get(tt());r==null&&i!=null&&(r=Da(i,tt()));let o=[];const s=Re(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=r?r.getImmediateChild(s):null,f=h8(n,s);o=o.concat(A8(a,l,c,f))}return i&&(o=o.concat(Fk(i,t,n,r))),o}}function C8(t,e,r,n){const i=e.get(tt());r==null&&i!=null&&(r=Da(i,tt()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=r?r.getImmediateChild(s):null,c=h8(n,s),f=t.operationForChild(s);f&&(o=o.concat(C8(f,a,l,c)))}),i&&(o=o.concat(Fk(i,t,n,r))),o}function P8(t,e){const r=e.query,n=Im(t,r);return{hashFn:()=>(voe(e)||_e.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?Roe(t,r._path,n):joe(t,r._path);{const o=kne(i,r);return Kb(t,r,null,o)}}}}function Im(t,e){const r=jw(e);return t.queryToTagMap.get(r)}function jw(t){return t._path.toString()+"$"+t._queryIdentifier}function Bk(t,e){return t.tagToQueryMap.get(e)}function Uk(t){const e=t.indexOf("$");return X(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ut(t.substr(0,e))}}function Vk(t,e,r){const n=t.syncPointTree_.get(e);X(n,"Missing sync point for query tag that we're tracking");const i=kw(t.pendingWriteTree_,e);return Fk(n,r,i,null)}function Moe(t){return t.fold((e,r,n)=>{if(r&&Ha(r))return[Ow(r)];{let i=[];return r&&(i=x8(r)),Jr(n,(o,s)=>{i=i.concat(s)}),i}})}function Op(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ioe())(t._repo,t._path):t}function Foe(t,e){for(let r=0;r<e.length;++r){const n=e[r];if(!n._queryParams.loadsAllData()){const i=jw(n),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Loe(){return Noe++}function Boe(t,e,r){const n=e._path,i=Im(t,e),o=P8(t,r),s=t.listenProvider_.startListening(Op(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(n);if(i)X(!Ha(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,f,d)=>{if(!$e(c)&&f&&Ha(f))return[Ow(f).query];{let h=[];return f&&(h=h.concat(x8(f).map(p=>p.query))),Jr(d,(p,m)=>{h=h.concat(m)}),h}});for(let c=0;c<l.length;++c){const f=l[c];t.listenProvider_.stopListening(Op(f),Im(t,f))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new Wk(r)}node(){return this.node_}}class zk{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=Ht(this.path_,e);return new zk(this.syncTree_,r)}node(){return Lk(this.syncTree_,this.path_)}}const Uoe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yD=function(t,e,r){if(!t||typeof t!="object")return t;if(X(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Voe(t[".sv"],e,r);if(typeof t[".sv"]=="object")return Woe(t[".sv"],e);X(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Voe=function(t,e,r){switch(t){case"timestamp":return r.timestamp;default:X(!1,"Unexpected server value: "+t)}},Woe=function(t,e,r){t.hasOwnProperty("increment")||X(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&X(!1,"Unexpected increment value: "+n);const i=e.node();if(X(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const s=i.getValue();return typeof s!="number"?n:s+n},T8=function(t,e,r,n){return Gk(e,new zk(r,t),n)},I8=function(t,e,r){return Gk(t,new Wk(e),r)};function Gk(t,e,r){const n=t.getPriority().val(),i=yD(n,e.getImmediateChild(".priority"),r);let o;if(t.isLeafNode()){const s=t,a=yD(s.getValue(),e,r);return a!==s.getValue()||i!==s.getPriority().val()?new Er(a,cr(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Er(i))),s.forEachChild(Bt,(a,l)=>{const c=Gk(l,e.getImmediateChild(a),r);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e="",r=null,n={children:{},childCount:0}){this.name=e,this.parent=r,this.node=n}}function Hk(t,e){let r=e instanceof ut?e:new ut(e),n=t,i=Re(r);for(;i!==null;){const o=zf(n.node.children,i)||{children:{},childCount:0};n=new qk(i,n,o),r=St(r),i=Re(r)}return n}function zd(t){return t.node.value}function N8(t,e){t.node.value=e,PP(t)}function k8(t){return t.node.childCount>0}function zoe(t){return zd(t)===void 0&&!k8(t)}function Rw(t,e){Jr(t.node.children,(r,n)=>{e(new qk(r,t,n))})}function O8(t,e,r,n){r&&!n&&e(t),Rw(t,i=>{O8(i,e,!0,n)}),r&&n&&e(t)}function Goe(t,e,r){let n=r?t:t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function dg(t){return new ut(t.parent===null?t.name:dg(t.parent)+"/"+t.name)}function PP(t){t.parent!==null&&qoe(t.parent,t.name,t)}function qoe(t,e,r){const n=zoe(r),i=Zo(t.node.children,e);n&&i?(delete t.node.children[e],t.node.childCount--,PP(t)):!n&&!i&&(t.node.children[e]=r.node,t.node.childCount++,PP(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hoe=/[\[\].#$\/\u0000-\u001F\u007F]/,Koe=/[\[\].#$\u0000-\u001F\u007F]/,bE=10*1024*1024,$w=function(t){return typeof t=="string"&&t.length!==0&&!Hoe.test(t)},j8=function(t){return typeof t=="string"&&t.length!==0&&!Koe.test(t)},Qoe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),j8(t)},TP=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!xk(t)||t&&typeof t=="object"&&Zo(t,".sv")},hg=function(t,e,r,n){n&&e===void 0||Dw(ag(t,"value"),e,r)},Dw=function(t,e,r){const n=r instanceof ut?new fie(r,t):r;if(e===void 0)throw new Error(t+"contains undefined "+xl(n));if(typeof e=="function")throw new Error(t+"contains a function "+xl(n)+" with contents = "+e.toString());if(xk(e))throw new Error(t+"contains "+e.toString()+" "+xl(n));if(typeof e=="string"&&e.length>bE/3&&Tw(e)>bE)throw new Error(t+"contains a string greater than "+bE+" utf8 bytes "+xl(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Jr(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!$w(s)))throw new Error(t+" contains an invalid key ("+s+") "+xl(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);die(n,s),Dw(t,a,n),hie(n)}),i&&o)throw new Error(t+' contains ".value" child '+xl(n)+" in addition to actual children.")}},Yoe=function(t,e){let r,n;for(r=0;r<e.length;r++){n=e[r];const o=Em(n);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!$w(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(uie);let i=null;for(r=0;r<e.length;r++){if(n=e[r],i!==null&&Ii(i,n))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+n.toString());i=n}},Xoe=function(t,e,r,n){if(n&&e===void 0)return;const i=ag(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Jr(e,(s,a)=>{const l=new ut(s);if(Dw(i,a,Ht(r,l)),Ak(l)===".priority"&&!TP(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),Yoe(i,o)},Joe=function(t,e,r,n){if(!(n&&r===void 0)&&!$w(r))throw new Error(ag(t,e)+'was an invalid key = "'+r+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Kk=function(t,e,r,n){if(!(n&&r===void 0)&&!j8(r))throw new Error(ag(t,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Zoe=function(t,e,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Kk(t,e,r,n)},R8=function(t,e){if(Re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ese=function(t,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$w(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!Qoe(r))throw new Error(ag(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mw(t,e){let r=null;for(let n=0;n<e.length;n++){const i=e[n],o=i.getPath();r!==null&&!Ck(o,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:o}),r.events.push(i)}r&&t.eventLists_.push(r)}function $8(t,e,r){Mw(t,r),D8(t,n=>Ck(n,e))}function Li(t,e,r){Mw(t,r),D8(t,n=>Ii(n,e)||Ii(e,n))}function D8(t,e){t.recursionDepth_++;let r=!0;for(let n=0;n<t.eventLists_.length;n++){const i=t.eventLists_[n];if(i){const o=i.path;e(o)?(rse(t.eventLists_[n]),t.eventLists_[n]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function rse(t){for(let e=0;e<t.events.length;e++){const r=t.events[e];if(r!==null){t.events[e]=null;const n=r.getEventRunner();nc&&Ur("event: "+r.toString()),Vd(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse="repo_interrupt",ise=25;class ose{constructor(e,r,n,i){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bb(),this.transactionQueueTree_=new qk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sse(t,e,r){if(t.stats_=Sk(t.repoInfo_),t.forceRestClient_||$ne())t.server_=new Lb(t.repoInfo_,(n,i,o,s)=>{gD(t,n,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>vD(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ur(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new bs(t.repoInfo_,e,(n,i,o,s)=>{gD(t,n,i,o,s)},n=>{vD(t,n)},n=>{ase(t,n)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=Bne(t.repoInfo_,()=>new Uie(t.stats_,t.server_)),t.infoData_=new Die,t.infoSyncTree_=new mD({startListening:(n,i,o,s)=>{let a=[];const l=t.infoData_.getNode(n._path);return l.isEmpty()||(a=fg(t.infoSyncTree_,n._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Qk(t,"connected",!1),t.serverSyncTree_=new mD({startListening:(n,i,o,s)=>(t.server_.listen(n,o,i,(a,l)=>{const c=s(a,l);Li(t.eventQueue_,n._path,c)}),[]),stopListening:(n,i)=>{t.server_.unlisten(n,i)}})}function M8(t){const r=t.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Fw(t){return Uoe({timestamp:M8(t)})}function gD(t,e,r,n,i){t.dataUpdateCount++;const o=new ut(e);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,r):r;let s=[];if(i)if(n){const l=Rb(r,c=>cr(c));s=$oe(t.serverSyncTree_,o,l,i)}else{const l=cr(r);s=E8(t.serverSyncTree_,o,l,i)}else if(n){const l=Rb(r,c=>cr(c));s=Ooe(t.serverSyncTree_,o,l)}else{const l=cr(r);s=fg(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Qf(t,o)),Li(t.eventQueue_,a,s)}function vD(t,e){Qk(t,"connected",e),e===!1&&fse(t)}function ase(t,e){Jr(e,(r,n)=>{Qk(t,r,n)})}function Qk(t,e,r){const n=new ut("/.info/"+e),i=cr(r);t.infoData_.updateSnapshot(n,i);const o=fg(t.infoSyncTree_,n,i);Li(t.eventQueue_,n,o)}function Yk(t){return t.nextWriteId_++}function lse(t,e,r){const n=Doe(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(i=>{const o=cr(i).withIndex(e._queryParams.getIndex());CP(t.serverSyncTree_,e,r,!0);let s;if(e._queryParams.loadsAllData())s=fg(t.serverSyncTree_,e._path,o);else{const a=Im(t.serverSyncTree_,e);s=E8(t.serverSyncTree_,e._path,o,a)}return Li(t.eventQueue_,e._path,s),Kb(t.serverSyncTree_,e,r,null,!0),o},i=>(pg(t,"get for query "+ur(e)+" failed: "+i),Promise.reject(new Error(i))))}function cse(t,e,r,n,i){pg(t,"set",{path:e.toString(),value:r,priority:n});const o=Fw(t),s=cr(r,n),a=Lk(t.serverSyncTree_,e),l=I8(s,a,o),c=Yk(t),f=S8(t.serverSyncTree_,e,l,c,!0);Mw(t.eventQueue_,f),t.server_.put(e.toString(),s.val(!0),(h,p)=>{const m=h==="ok";m||Tn("set at "+e+" failed: "+h);const y=ma(t.serverSyncTree_,c,!m);Li(t.eventQueue_,e,y),IP(t,i,h,p)});const d=Jk(t,e);Qf(t,d),Li(t.eventQueue_,d,[])}function use(t,e,r,n){pg(t,"update",{path:e.toString(),value:r});let i=!0;const o=Fw(t),s={};if(Jr(r,(a,l)=>{i=!1,s[a]=T8(Ht(e,a),cr(l),t.serverSyncTree_,o)}),i)Ur("update() called with empty data.  Don't do anything."),IP(t,n,"ok",void 0);else{const a=Yk(t),l=koe(t.serverSyncTree_,e,s,a);Mw(t.eventQueue_,l),t.server_.merge(e.toString(),r,(c,f)=>{const d=c==="ok";d||Tn("update at "+e+" failed: "+c);const h=ma(t.serverSyncTree_,a,!d),p=h.length>0?Qf(t,e):e;Li(t.eventQueue_,p,h),IP(t,n,c,f)}),Jr(r,c=>{const f=Jk(t,Ht(e,c));Qf(t,f)}),Li(t.eventQueue_,e,[])}}function fse(t){pg(t,"onDisconnectEvents");const e=Fw(t),r=Bb();xP(t.onDisconnect_,tt(),(i,o)=>{const s=T8(i,o,t.serverSyncTree_,e);l8(r,i,s)});let n=[];xP(r,tt(),(i,o)=>{n=n.concat(fg(t.serverSyncTree_,i,o));const s=Jk(t,i);Qf(t,s)}),t.onDisconnect_=Bb(),Li(t.eventQueue_,tt(),n)}function dse(t,e,r){let n;Re(e._path)===".info"?n=CP(t.infoSyncTree_,e,r):n=CP(t.serverSyncTree_,e,r),$8(t.eventQueue_,e._path,n)}function bD(t,e,r){let n;Re(e._path)===".info"?n=Kb(t.infoSyncTree_,e,r):n=Kb(t.serverSyncTree_,e,r),$8(t.eventQueue_,e._path,n)}function hse(t){t.persistentConnection_&&t.persistentConnection_.interrupt(nse)}function pg(t,...e){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Ur(r,...e)}function IP(t,e,r,n){e&&Vd(()=>{if(r==="ok")e(null);else{const i=(r||"error").toUpperCase();let o=i;n&&(o+=": "+n);const s=new Error(o);s.code=i,e(s)}})}function F8(t,e,r){return Lk(t.serverSyncTree_,e,r)||_e.EMPTY_NODE}function Xk(t,e=t.transactionQueueTree_){if(e||Lw(t,e),zd(e)){const r=B8(t,e);X(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&pse(t,dg(e),r)}else k8(e)&&Rw(e,r=>{Xk(t,r)})}function pse(t,e,r){const n=r.map(c=>c.currentWriteId),i=F8(t,e,n);let o=i;const s=i.hash();for(let c=0;c<r.length;c++){const f=r[c];X(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const d=Sn(e,f.path);o=o.updateChild(d,f.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{pg(t,"transaction put response",{path:l.toString(),status:c});let f=[];if(c==="ok"){const d=[];for(let h=0;h<r.length;h++)r[h].status=2,f=f.concat(ma(t.serverSyncTree_,r[h].currentWriteId)),r[h].onComplete&&d.push(()=>r[h].onComplete(null,!0,r[h].currentOutputSnapshotResolved)),r[h].unwatcher();Lw(t,Hk(t.transactionQueueTree_,e)),Xk(t,t.transactionQueueTree_),Li(t.eventQueue_,e,f);for(let h=0;h<d.length;h++)Vd(d[h])}else{if(c==="datastale")for(let d=0;d<r.length;d++)r[d].status===3?r[d].status=4:r[d].status=0;else{Tn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<r.length;d++)r[d].status=4,r[d].abortReason=c}Qf(t,e)}},s)}function Qf(t,e){const r=L8(t,e),n=dg(r),i=B8(t,r);return mse(t,i,n),n}function mse(t,e,r){if(e.length===0)return;const n=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Sn(r,l.path);let f=!1,d;if(X(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,d=l.abortReason,i=i.concat(ma(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ise)f=!0,d="maxretry",i=i.concat(ma(t.serverSyncTree_,l.currentWriteId,!0));else{const h=F8(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){Dw("transaction failed: Data returned ",p,l.path);let m=cr(p);typeof p=="object"&&p!=null&&Zo(p,".priority")||(m=m.updatePriority(h.getPriority()));const v=l.currentWriteId,b=Fw(t),g=I8(m,h,b);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=g,l.currentWriteId=Yk(t),s.splice(s.indexOf(v),1),i=i.concat(S8(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(ma(t.serverSyncTree_,v,!0))}else f=!0,d="nodata",i=i.concat(ma(t.serverSyncTree_,l.currentWriteId,!0))}Li(t.eventQueue_,r,i),i=[],f&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?n.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):n.push(()=>e[a].onComplete(new Error(d),!1,null))))}Lw(t,t.transactionQueueTree_);for(let a=0;a<n.length;a++)Vd(n[a]);Xk(t,t.transactionQueueTree_)}function L8(t,e){let r,n=t.transactionQueueTree_;for(r=Re(e);r!==null&&zd(n)===void 0;)n=Hk(n,r),e=St(e),r=Re(e);return n}function B8(t,e){const r=[];return U8(t,e,r),r.sort((n,i)=>n.order-i.order),r}function U8(t,e,r){const n=zd(e);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);Rw(e,i=>{U8(t,i,r)})}function Lw(t,e){const r=zd(e);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,N8(e,r.length>0?r:void 0)}Rw(e,n=>{Lw(t,n)})}function Jk(t,e){const r=dg(L8(t,e)),n=Hk(t.transactionQueueTree_,e);return Goe(n,i=>{xE(t,i)}),xE(t,n),O8(n,i=>{xE(t,i)}),r}function xE(t,e){const r=zd(e);if(r){const n=[];let i=[],o=-1;for(let s=0;s<r.length;s++)r[s].status===3||(r[s].status===1?(X(o===s-1,"All SENT items should be at beginning of queue."),o=s,r[s].status=3,r[s].abortReason="set"):(X(r[s].status===0,"Unexpected transaction status in abort"),r[s].unwatcher(),i=i.concat(ma(t.serverSyncTree_,r[s].currentWriteId,!0)),r[s].onComplete&&n.push(r[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?N8(e,void 0):r.length=o+1,Li(t.eventQueue_,dg(e),i);for(let s=0;s<n.length;s++)Vd(n[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yse(t){let e="";const r=t.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function gse(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Tn(`Invalid query segment '${r}' in query '${t}'`)}return e}const xD=function(t,e){const r=vse(t),n=r.namespace;r.domain==="firebase.com"&&Ts(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Ts("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Cne();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new zW(r.host,r.secure,n,i,e,"",n!==r.subdomain),path:new ut(r.pathString)}},vse=function(t){let e="",r="",n="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(i=yse(t.substring(f,d)));const h=gse(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")r="localhost";else if(p.split(".").length<=2)r=p;else{const m=e.indexOf(".");n=e.substring(0,m).toLowerCase(),r=e.substring(m+1),o=n}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:r,subdomain:n,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bse=function(){let t=0;const e=[];return function(r){const n=r===t;t=r;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=_D.charAt(r%64),r=Math.floor(r/64);X(r===0,"Cannot push at time == 0");let s=o.join("");if(n){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=_D.charAt(e[i]);return X(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,r,n,i){this.eventType=e,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ur(this.snapshot.exportVal())}}class W8{constructor(e,r,n){this.eventRegistration=e,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return X(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r,n,i){this._repo=e,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return $e(this._path)?null:Ak(this._path)}get ref(){return new es(this._repo,this._path)}get _queryIdentifier(){const e=oD(this._queryParams),r=_k(e);return r==="{}"?"default":r}get _queryObject(){return oD(this._queryParams)}isEqual(e){if(e=Xr(e),!(e instanceof Vc))return!1;const r=this._repo===e._repo,n=Ck(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+cie(this._path)}}function xse(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Zk(t){let e=null,r=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(r=t.getIndexEndValue()),t.getIndex()===ic){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Pc)throw new Error(n);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==za)throw new Error(n);if(typeof r!="string")throw new Error(i)}}else if(t.getIndex()===Bt){if(e!=null&&!TP(e)||r!=null&&!TP(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(X(t.getIndex()instanceof Ik||t.getIndex()===s8,"unknown index type."),e!=null&&typeof e=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function G8(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class es extends Vc{constructor(e,r){super(e,r,new kk,!1)}get parent(){const e=ZW(this._path);return e===null?null:new es(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Yf{constructor(e,r,n){this._node=e,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new ut(e),n=Xf(this.ref,e);return new Yf(this._node.getChild(r),n,Bt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>e(new Yf(i,Xf(this.ref,n),Bt)))}hasChild(e){const r=new ut(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ip(t,e){return t=Xr(t),t._checkNotDeleted("ref"),e!==void 0?Xf(t._root,e):t._root}function Xf(t,e){return t=Xr(t),Re(t._path)===null?Zoe("child","path",e,!1):Kk("child","path",e,!1),new es(t._repo,Ht(t._path,e))}function q8(t,e){t=Xr(t),R8("push",t._path),hg("push",e,t._path,!0);const r=M8(t._repo),n=bse(r),i=Xf(t,n),o=Xf(t,n);let s;return e!=null?s=eO(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function eO(t,e){t=Xr(t),R8("set",t._path),hg("set",e,t._path,!1);const r=new sg;return cse(t._repo,t._path,e,null,r.wrapCallback(()=>{})),r.promise}function H8(t,e){Xoe("update",e,t._path,!1);const r=new sg;return use(t._repo,t._path,e,r.wrapCallback(()=>{})),r.promise}function K8(t){t=Xr(t);const e=new z8(()=>{}),r=new Bw(e);return lse(t._repo,t,r).then(n=>new Yf(n,new es(t._repo,t._path),t._queryParams.getIndex()))}class Bw{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const n=r._queryParams.getIndex();return new V8("value",this,new Yf(e.snapshotNode,new es(r._repo,r._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new W8(this,e,r):null}matches(e){return e instanceof Bw?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class tO{constructor(e,r){this.eventType=e,this.callbackContext=r}respondsTo(e){let r=e==="children_added"?"child_added":e;return r=r==="children_removed"?"child_removed":r,this.eventType===r}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new W8(this,e,r):null}createEvent(e,r){X(e.childName!=null,"Child events should have a childName.");const n=Xf(new es(r._repo,r._path),e.childName),i=r._queryParams.getIndex();return new V8(e.type,this,new Yf(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof tO?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function _se(t,e,r,n,i){let o;if(typeof n=="object"&&(o=void 0,i=n),typeof n=="function"&&(o=n),i&&i.onlyOnce){const l=r,c=(f,d)=>{bD(t._repo,t,a),l(f,d)};c.userCallback=r.userCallback,c.context=r.context,r=c}const s=new z8(r,o||void 0),a=e==="value"?new Bw(s):new tO(e,s);return dse(t._repo,t,a),()=>bD(t._repo,t,a)}function wse(t,e,r,n){return _se(t,"value",e,r,n)}class mg{}class Sse extends mg{constructor(e,r){super(),this._value=e,this._key=r}_apply(e){hg("endAt",this._value,e._path,!0);const r=Rie(e._queryParams,this._value,this._key);if(G8(r),Zk(r),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vc(e._repo,e._path,r,e._orderByCalled)}}class Ese extends mg{constructor(e,r){super(),this._value=e,this._key=r}_apply(e){hg("startAt",this._value,e._path,!0);const r=jie(e._queryParams,this._value,this._key);if(G8(r),Zk(r),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Vc(e._repo,e._path,r,e._orderByCalled)}}class Ase extends mg{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vc(e._repo,e._path,Oie(e._queryParams,this._limit),e._orderByCalled)}}function Cse(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ase(t)}class Pse extends mg{constructor(e){super(),this._path=e}_apply(e){xse(e,"orderByChild");const r=new ut(this._path);if($e(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Ik(r),i=$ie(e._queryParams,n);return Zk(i),new Vc(e._repo,e._path,i,!0)}}function Tse(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Kk("orderByChild","path",t,!1),new Pse(t)}class Ise extends mg{constructor(e,r){super(),this._value=e,this._key=r}_apply(e){if(hg("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Sse(this._value,this._key)._apply(new Ese(this._value,this._key)._apply(e))}}function Nse(t,e){return Joe("equalTo","key",e,!0),new Ise(t,e)}function kse(t,...e){let r=Xr(t);for(const n of e)r=n._apply(r);return r}Soe(es);Toe(es);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ose="FIREBASE_DATABASE_EMULATOR_HOST",NP={};let jse=!1;function Rse(t,e,r,n){t.repoInfo_=new zW(`${e}:${r}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),n&&(t.authTokenProvider_=n)}function $se(t,e,r,n,i){let o=n||t.options.databaseURL;o===void 0&&(t.options.projectId||Ts("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ur("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=xD(o,i),a=s.repoInfo,l,c;typeof process<"u"&&U$&&(c=U$[Ose]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=xD(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const f=i&&l?new rf(rf.OWNER):new Mne(t.name,t.options,e);ese("Invalid Firebase Database URL",s),$e(s.path)||Ts("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Mse(a,t,f,new Dne(t.name,r));return new Fse(d,t)}function Dse(t,e){const r=NP[e];(!r||r[t.key]!==t)&&Ts(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hse(t),delete r[t.key]}function Mse(t,e,r,n){let i=NP[e.name];i||(i={},NP[e.name]=i);let o=i[t.toURLString()];return o&&Ts("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ose(t,jse,r,n),i[t.toURLString()]=o,o}class Fse{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sse(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new es(this._repo,tt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Dse(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ts("Cannot call "+e+" on a deleted database.")}}function Lse(t=bk(),e){const r=gk(t,"database").getImmediate({identifier:e});if(!r._instanceStarted){const n=hk("database");n&&Q8(r,...n)}return r}function Q8(t,e,r,n={}){t=Xr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ts("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)n.mockUserToken&&Ts('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new rf(rf.OWNER);else if(n.mockUserToken){const s=typeof n.mockUserToken=="string"?n.mockUserToken:pk(n.mockUserToken,t.app.options.projectId);o=new rf(s)}Rse(i,e,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bse(t){_ne(vk),Gf(new Ac("database",(e,{instanceIdentifier:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return $se(n,i,o,r)},"PUBLIC").setMultipleInstances(!0)),Uo(V$,W$,t),Uo(V$,W$,"esm2017")}bs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};bs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Bse();var wD=Object.prototype.toString,Y8=function(e){var r=wD.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&wD.call(e.callee)==="[object Function]"),n},_E,SD;function Use(){if(SD)return _E;SD=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Y8,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(h){var p=h.constructor;return p&&p.prototype===h},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!c["$"+h]&&e.call(window,h)&&window[h]!==null&&typeof window[h]=="object")try{l(window[h])}catch{return!0}}catch{return!0}return!1}(),d=function(h){if(typeof window>"u"||!f)return l(h);try{return l(h)}catch{return!1}};t=function(p){var m=p!==null&&typeof p=="object",y=r.call(p)==="[object Function]",v=n(p),b=m&&r.call(p)==="[object String]",g=[];if(!m&&!y&&!v)throw new TypeError("Object.keys called on a non-object");var x=s&&y;if(b&&p.length>0&&!e.call(p,0))for(var S=0;S<p.length;++S)g.push(String(S));if(v&&p.length>0)for(var w=0;w<p.length;++w)g.push(String(w));else for(var _ in p)!(x&&_==="prototype")&&e.call(p,_)&&g.push(String(_));if(o)for(var A=d(p),C=0;C<a.length;++C)!(A&&a[C]==="constructor")&&e.call(p,a[C])&&g.push(a[C]);return g}}return _E=t,_E}var Vse=Array.prototype.slice,Wse=Y8,ED=Object.keys,k0=ED?function(e){return ED(e)}:Use(),AD=Object.keys;k0.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return Wse(n)?AD(Vse.call(n)):AD(n)})}else Object.keys=k0;return Object.keys||k0};var Uw=k0,Vw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},CD=typeof Symbol<"u"&&Symbol,zse=Vw,il=function(){return typeof CD!="function"||typeof Symbol!="function"||typeof CD("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:zse()},Gse="Function.prototype.bind called on incompatible ",wE=Array.prototype.slice,qse=Object.prototype.toString,Hse="[object Function]",Kse=function(e){var r=this;if(typeof r!="function"||qse.call(r)!==Hse)throw new TypeError(Gse+r);for(var n=wE.call(arguments,1),i,o=function(){if(this instanceof i){var f=r.apply(this,n.concat(wE.call(arguments)));return Object(f)===f?f:this}else return r.apply(e,n.concat(wE.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Qse=Kse,rO=Function.prototype.bind||Qse,Yse=rO,nO=Yse.call(Function.call,Object.prototype.hasOwnProperty),Ke,Jf=SyntaxError,X8=Function,nf=TypeError,SE=function(t){try{return X8('"use strict"; return ('+t+").constructor;")()}catch{}},oc=Object.getOwnPropertyDescriptor;if(oc)try{oc({},"")}catch{oc=null}var EE=function(){throw new nf},Xse=oc?function(){try{return arguments.callee,EE}catch{try{return oc(arguments,"callee").get}catch{return EE}}}():EE,Jc=il(),Zs=Object.getPrototypeOf||function(t){return t.__proto__},hu={},Jse=typeof Uint8Array>"u"?Ke:Zs(Uint8Array),of={"%AggregateError%":typeof AggregateError>"u"?Ke:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ke:ArrayBuffer,"%ArrayIteratorPrototype%":Jc?Zs([][Symbol.iterator]()):Ke,"%AsyncFromSyncIteratorPrototype%":Ke,"%AsyncFunction%":hu,"%AsyncGenerator%":hu,"%AsyncGeneratorFunction%":hu,"%AsyncIteratorPrototype%":hu,"%Atomics%":typeof Atomics>"u"?Ke:Atomics,"%BigInt%":typeof BigInt>"u"?Ke:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ke:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ke:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ke:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ke:FinalizationRegistry,"%Function%":X8,"%GeneratorFunction%":hu,"%Int8Array%":typeof Int8Array>"u"?Ke:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ke:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ke:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Jc?Zs(Zs([][Symbol.iterator]())):Ke,"%JSON%":typeof JSON=="object"?JSON:Ke,"%Map%":typeof Map>"u"?Ke:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Jc?Ke:Zs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ke:Promise,"%Proxy%":typeof Proxy>"u"?Ke:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ke:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ke:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Jc?Ke:Zs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ke:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Jc?Zs(""[Symbol.iterator]()):Ke,"%Symbol%":Jc?Symbol:Ke,"%SyntaxError%":Jf,"%ThrowTypeError%":Xse,"%TypedArray%":Jse,"%TypeError%":nf,"%Uint8Array%":typeof Uint8Array>"u"?Ke:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ke:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ke:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ke:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ke:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ke:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ke:WeakSet},Zse=function t(e){var r;if(e==="%AsyncFunction%")r=SE("async function () {}");else if(e==="%GeneratorFunction%")r=SE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=SE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Zs(i.prototype))}return of[e]=r,r},PD={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},yg=rO,Qb=nO,eae=yg.call(Function.call,Array.prototype.concat),tae=yg.call(Function.apply,Array.prototype.splice),TD=yg.call(Function.call,String.prototype.replace),Yb=yg.call(Function.call,String.prototype.slice),rae=yg.call(Function.call,RegExp.prototype.exec),nae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,iae=/\\(\\)?/g,oae=function(e){var r=Yb(e,0,1),n=Yb(e,-1);if(r==="%"&&n!=="%")throw new Jf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Jf("invalid intrinsic syntax, expected opening `%`");var i=[];return TD(e,nae,function(o,s,a,l){i[i.length]=a?TD(l,iae,"$1"):s||o}),i},sae=function(e,r){var n=e,i;if(Qb(PD,n)&&(i=PD[n],n="%"+i[0]+"%"),Qb(of,n)){var o=of[n];if(o===hu&&(o=Zse(n)),typeof o>"u"&&!r)throw new nf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Jf("intrinsic "+e+" does not exist!")},Ds=function(e,r){if(typeof e!="string"||e.length===0)throw new nf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new nf('"allowMissing" argument must be a boolean');if(rae(/^%?[^%]*%?$/,e)===null)throw new Jf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=oae(e),i=n.length>0?n[0]:"",o=sae("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],tae(n,eae([0,1],c)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],p=Yb(h,0,1),m=Yb(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Jf("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),i+="."+h,s="%"+i+"%",Qb(of,s))a=of[s];else if(a!=null){if(!(h in a)){if(!r)throw new nf("base intrinsic for "+e+" exists, but the property is not available.");return}if(oc&&f+1>=n.length){var y=oc(a,h);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else d=Qb(a,h),a=a[h];d&&!l&&(of[s]=a)}}return a},aae=Ds,kP=aae("%Object.defineProperty%",!0),OP=function(){if(kP)try{return kP({},"a",{value:1}),!0}catch{return!1}return!1};OP.hasArrayLengthDefineBug=function(){if(!OP())return null;try{return kP([],"length",{value:1}).length!==1}catch{return!0}};var gg=OP,lae=Uw,cae=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",uae=Object.prototype.toString,fae=Array.prototype.concat,J8=Object.defineProperty,dae=function(t){return typeof t=="function"&&uae.call(t)==="[object Function]"},hae=gg(),Z8=J8&&hae,pae=function(t,e,r,n){e in t&&(!dae(n)||!n())||(Z8?J8(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},e9=function(t,e){var r=arguments.length>2?arguments[2]:{},n=lae(e);cae&&(n=fae.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)pae(t,n[i],e[n[i]],r[n[i]])};e9.supportsDescriptors=!!Z8;var Ww=e9,t9={exports:{}};(function(t){var e=rO,r=Ds,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var h=o(e,i,arguments);if(s&&a){var p=s(h,"length");p.configurable&&a(h,"length",{value:1+l(0,d.length-(arguments.length-1))})}return h};var c=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(t9);var vg=t9.exports,r9=Ds,n9=vg,mae=n9(r9("String.prototype.indexOf")),yo=function(e,r){var n=r9(e,!!r);return typeof n=="function"&&mae(e,".prototype.")>-1?n9(n):n},yae=Uw,i9=Vw(),o9=yo,ID=Object,gae=o9("Array.prototype.push"),ND=o9("Object.prototype.propertyIsEnumerable"),vae=i9?Object.getOwnPropertySymbols:null,s9=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=ID(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var o=ID(arguments[i]),s=yae(o),a=i9&&(Object.getOwnPropertySymbols||vae);if(a)for(var l=a(o),c=0;c<l.length;++c){var f=l[c];ND(o,f)&&gae(s,f)}for(var d=0;d<s.length;++d){var h=s[d];if(ND(o,h)){var p=o[h];n[h]=p}}}return n},AE=s9,bae=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),o="";for(var s in i)o+=s;return t!==o},xae=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},a9=function(){return!Object.assign||bae()||xae()?AE:Object.assign},_ae=Ww,wae=a9,Sae=function(){var e=wae();return _ae(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},Eae=Ww,Aae=vg,Cae=s9,l9=a9,Pae=Sae,Tae=Aae.apply(l9()),c9=function(e,r){return Tae(Object,arguments)};Eae(c9,{getPolyfill:l9,implementation:Cae,shim:Pae});var Iae=c9,kD={foo:{}},Nae=Object,zw=function(){return{__proto__:kD}.foo===kD.foo&&!({__proto__:null}instanceof Nae)},kae="Function.prototype.bind called on incompatible ",Oae=Object.prototype.toString,jae=Math.max,Rae="[object Function]",OD=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},$ae=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},Dae=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Mae=function(e){var r=this;if(typeof r!="function"||Oae.apply(r)!==Rae)throw new TypeError(kae+r);for(var n=$ae(arguments,1),i,o=function(){if(this instanceof i){var f=r.apply(this,OD(n,arguments));return Object(f)===f?f:this}return r.apply(e,OD(n,arguments))},s=jae(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+Dae(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Fae=Mae,u9=Function.prototype.bind||Fae,Lae="Function.prototype.bind called on incompatible ",Bae=Object.prototype.toString,Uae=Math.max,Vae="[object Function]",jD=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Wae=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},zae=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Gae=function(e){var r=this;if(typeof r!="function"||Bae.apply(r)!==Vae)throw new TypeError(Lae+r);for(var n=Wae(arguments,1),i,o=function(){if(this instanceof i){var f=r.apply(this,jD(n,arguments));return Object(f)===f?f:this}return r.apply(e,jD(n,arguments))},s=Uae(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+zae(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},qae=Gae,Hae=Function.prototype.bind||qae,Kae=Function.prototype.call,Qae=Object.prototype.hasOwnProperty,Yae=Hae,Gw=Yae.call(Kae,Qae),Fe,Zf=SyntaxError,f9=Function,sf=TypeError,CE=function(t){try{return f9('"use strict"; return ('+t+").constructor;")()}catch{}},sc=Object.getOwnPropertyDescriptor;if(sc)try{sc({},"")}catch{sc=null}var PE=function(){throw new sf},Xae=sc?function(){try{return arguments.callee,PE}catch{try{return sc(arguments,"callee").get}catch{return PE}}}():PE,Zc=il(),Jae=zw(),xr=Object.getPrototypeOf||(Jae?function(t){return t.__proto__}:null),pu={},Zae=typeof Uint8Array>"u"||!xr?Fe:xr(Uint8Array),ac={"%AggregateError%":typeof AggregateError>"u"?Fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Fe:ArrayBuffer,"%ArrayIteratorPrototype%":Zc&&xr?xr([][Symbol.iterator]()):Fe,"%AsyncFromSyncIteratorPrototype%":Fe,"%AsyncFunction%":pu,"%AsyncGenerator%":pu,"%AsyncGeneratorFunction%":pu,"%AsyncIteratorPrototype%":pu,"%Atomics%":typeof Atomics>"u"?Fe:Atomics,"%BigInt%":typeof BigInt>"u"?Fe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Fe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Fe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Fe:FinalizationRegistry,"%Function%":f9,"%GeneratorFunction%":pu,"%Int8Array%":typeof Int8Array>"u"?Fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zc&&xr?xr(xr([][Symbol.iterator]())):Fe,"%JSON%":typeof JSON=="object"?JSON:Fe,"%Map%":typeof Map>"u"?Fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zc||!xr?Fe:xr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Fe:Promise,"%Proxy%":typeof Proxy>"u"?Fe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zc||!xr?Fe:xr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zc&&xr?xr(""[Symbol.iterator]()):Fe,"%Symbol%":Zc?Symbol:Fe,"%SyntaxError%":Zf,"%ThrowTypeError%":Xae,"%TypedArray%":Zae,"%TypeError%":sf,"%Uint8Array%":typeof Uint8Array>"u"?Fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Fe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Fe:WeakSet};if(xr)try{null.error}catch(t){var ele=xr(xr(t));ac["%Error.prototype%"]=ele}var tle=function t(e){var r;if(e==="%AsyncFunction%")r=CE("async function () {}");else if(e==="%GeneratorFunction%")r=CE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=CE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&xr&&(r=xr(i.prototype))}return ac[e]=r,r},RD={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bg=u9,Xb=Gw,rle=bg.call(Function.call,Array.prototype.concat),nle=bg.call(Function.apply,Array.prototype.splice),$D=bg.call(Function.call,String.prototype.replace),Jb=bg.call(Function.call,String.prototype.slice),ile=bg.call(Function.call,RegExp.prototype.exec),ole=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sle=/\\(\\)?/g,ale=function(e){var r=Jb(e,0,1),n=Jb(e,-1);if(r==="%"&&n!=="%")throw new Zf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Zf("invalid intrinsic syntax, expected opening `%`");var i=[];return $D(e,ole,function(o,s,a,l){i[i.length]=a?$D(l,sle,"$1"):s||o}),i},lle=function(e,r){var n=e,i;if(Xb(RD,n)&&(i=RD[n],n="%"+i[0]+"%"),Xb(ac,n)){var o=ac[n];if(o===pu&&(o=tle(n)),typeof o>"u"&&!r)throw new sf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Zf("intrinsic "+e+" does not exist!")},qw=function(e,r){if(typeof e!="string"||e.length===0)throw new sf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new sf('"allowMissing" argument must be a boolean');if(ile(/^%?[^%]*%?$/,e)===null)throw new Zf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ale(e),i=n.length>0?n[0]:"",o=lle("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],nle(n,rle([0,1],c)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],p=Jb(h,0,1),m=Jb(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Zf("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),i+="."+h,s="%"+i+"%",Xb(ac,s))a=ac[s];else if(a!=null){if(!(h in a)){if(!r)throw new sf("base intrinsic for "+e+" exists, but the property is not available.");return}if(sc&&f+1>=n.length){var y=sc(a,h);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else d=Xb(a,h),a=a[h];d&&!l&&(ac[s]=a)}}return a},d9={exports:{}},cle="Function.prototype.bind called on incompatible ",ule=Object.prototype.toString,fle=Math.max,dle="[object Function]",DD=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},hle=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},ple=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},mle=function(e){var r=this;if(typeof r!="function"||ule.apply(r)!==dle)throw new TypeError(cle+r);for(var n=hle(arguments,1),i,o=function(){if(this instanceof i){var f=r.apply(this,DD(n,arguments));return Object(f)===f?f:this}return r.apply(e,DD(n,arguments))},s=fle(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+ple(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},yle=mle,gle=Function.prototype.bind||yle,Le,ed=SyntaxError,h9=Function,af=TypeError,TE=function(t){try{return h9('"use strict"; return ('+t+").constructor;")()}catch{}},lc=Object.getOwnPropertyDescriptor;if(lc)try{lc({},"")}catch{lc=null}var IE=function(){throw new af},vle=lc?function(){try{return arguments.callee,IE}catch{try{return lc(arguments,"callee").get}catch{return IE}}}():IE,eu=il(),ble=zw(),_r=Object.getPrototypeOf||(ble?function(t){return t.__proto__}:null),mu={},xle=typeof Uint8Array>"u"||!_r?Le:_r(Uint8Array),cc={"%AggregateError%":typeof AggregateError>"u"?Le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Le:ArrayBuffer,"%ArrayIteratorPrototype%":eu&&_r?_r([][Symbol.iterator]()):Le,"%AsyncFromSyncIteratorPrototype%":Le,"%AsyncFunction%":mu,"%AsyncGenerator%":mu,"%AsyncGeneratorFunction%":mu,"%AsyncIteratorPrototype%":mu,"%Atomics%":typeof Atomics>"u"?Le:Atomics,"%BigInt%":typeof BigInt>"u"?Le:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Le:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Le:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Le:FinalizationRegistry,"%Function%":h9,"%GeneratorFunction%":mu,"%Int8Array%":typeof Int8Array>"u"?Le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":eu&&_r?_r(_r([][Symbol.iterator]())):Le,"%JSON%":typeof JSON=="object"?JSON:Le,"%Map%":typeof Map>"u"?Le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!eu||!_r?Le:_r(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Le:Promise,"%Proxy%":typeof Proxy>"u"?Le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!eu||!_r?Le:_r(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":eu&&_r?_r(""[Symbol.iterator]()):Le,"%Symbol%":eu?Symbol:Le,"%SyntaxError%":ed,"%ThrowTypeError%":vle,"%TypedArray%":xle,"%TypeError%":af,"%Uint8Array%":typeof Uint8Array>"u"?Le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Le:WeakSet};if(_r)try{null.error}catch(t){var _le=_r(_r(t));cc["%Error.prototype%"]=_le}var wle=function t(e){var r;if(e==="%AsyncFunction%")r=TE("async function () {}");else if(e==="%GeneratorFunction%")r=TE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=TE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&_r&&(r=_r(i.prototype))}return cc[e]=r,r},MD={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xg=gle,Zb=Gw,Sle=xg.call(Function.call,Array.prototype.concat),Ele=xg.call(Function.apply,Array.prototype.splice),FD=xg.call(Function.call,String.prototype.replace),ex=xg.call(Function.call,String.prototype.slice),Ale=xg.call(Function.call,RegExp.prototype.exec),Cle=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ple=/\\(\\)?/g,Tle=function(e){var r=ex(e,0,1),n=ex(e,-1);if(r==="%"&&n!=="%")throw new ed("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ed("invalid intrinsic syntax, expected opening `%`");var i=[];return FD(e,Cle,function(o,s,a,l){i[i.length]=a?FD(l,Ple,"$1"):s||o}),i},Ile=function(e,r){var n=e,i;if(Zb(MD,n)&&(i=MD[n],n="%"+i[0]+"%"),Zb(cc,n)){var o=cc[n];if(o===mu&&(o=wle(n)),typeof o>"u"&&!r)throw new af("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new ed("intrinsic "+e+" does not exist!")},Nle=function(e,r){if(typeof e!="string"||e.length===0)throw new af("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new af('"allowMissing" argument must be a boolean');if(Ale(/^%?[^%]*%?$/,e)===null)throw new ed("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Tle(e),i=n.length>0?n[0]:"",o=Ile("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],Ele(n,Sle([0,1],c)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],p=ex(h,0,1),m=ex(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new ed("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),i+="."+h,s="%"+i+"%",Zb(cc,s))a=cc[s];else if(a!=null){if(!(h in a)){if(!r)throw new af("base intrinsic for "+e+" exists, but the property is not available.");return}if(lc&&f+1>=n.length){var y=lc(a,h);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else d=Zb(a,h),a=a[h];d&&!l&&(cc[s]=a)}}return a},kle="Function.prototype.bind called on incompatible ",Ole=Object.prototype.toString,jle=Math.max,Rle="[object Function]",LD=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},$le=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},Dle=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Mle=function(e){var r=this;if(typeof r!="function"||Ole.apply(r)!==Rle)throw new TypeError(kle+r);for(var n=$le(arguments,1),i,o=function(){if(this instanceof i){var f=r.apply(this,LD(n,arguments));return Object(f)===f?f:this}return r.apply(e,LD(n,arguments))},s=jle(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+Dle(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},Fle=Mle,Lle=Function.prototype.bind||Fle,Be,td=SyntaxError,p9=Function,lf=TypeError,NE=function(t){try{return p9('"use strict"; return ('+t+").constructor;")()}catch{}},uc=Object.getOwnPropertyDescriptor;if(uc)try{uc({},"")}catch{uc=null}var kE=function(){throw new lf},Ble=uc?function(){try{return arguments.callee,kE}catch{try{return uc(arguments,"callee").get}catch{return kE}}}():kE,tu=il(),Ule=zw(),wr=Object.getPrototypeOf||(Ule?function(t){return t.__proto__}:null),yu={},Vle=typeof Uint8Array>"u"||!wr?Be:wr(Uint8Array),fc={"%AggregateError%":typeof AggregateError>"u"?Be:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Be:ArrayBuffer,"%ArrayIteratorPrototype%":tu&&wr?wr([][Symbol.iterator]()):Be,"%AsyncFromSyncIteratorPrototype%":Be,"%AsyncFunction%":yu,"%AsyncGenerator%":yu,"%AsyncGeneratorFunction%":yu,"%AsyncIteratorPrototype%":yu,"%Atomics%":typeof Atomics>"u"?Be:Atomics,"%BigInt%":typeof BigInt>"u"?Be:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Be:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Be:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Be:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Be:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Be:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Be:FinalizationRegistry,"%Function%":p9,"%GeneratorFunction%":yu,"%Int8Array%":typeof Int8Array>"u"?Be:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Be:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Be:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tu&&wr?wr(wr([][Symbol.iterator]())):Be,"%JSON%":typeof JSON=="object"?JSON:Be,"%Map%":typeof Map>"u"?Be:Map,"%MapIteratorPrototype%":typeof Map>"u"||!tu||!wr?Be:wr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Be:Promise,"%Proxy%":typeof Proxy>"u"?Be:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Be:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Be:Set,"%SetIteratorPrototype%":typeof Set>"u"||!tu||!wr?Be:wr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Be:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tu&&wr?wr(""[Symbol.iterator]()):Be,"%Symbol%":tu?Symbol:Be,"%SyntaxError%":td,"%ThrowTypeError%":Ble,"%TypedArray%":Vle,"%TypeError%":lf,"%Uint8Array%":typeof Uint8Array>"u"?Be:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Be:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Be:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Be:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Be:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Be:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Be:WeakSet};if(wr)try{null.error}catch(t){var Wle=wr(wr(t));fc["%Error.prototype%"]=Wle}var zle=function t(e){var r;if(e==="%AsyncFunction%")r=NE("async function () {}");else if(e==="%GeneratorFunction%")r=NE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=NE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&wr&&(r=wr(i.prototype))}return fc[e]=r,r},BD={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_g=Lle,tx=Gw,Gle=_g.call(Function.call,Array.prototype.concat),qle=_g.call(Function.apply,Array.prototype.splice),UD=_g.call(Function.call,String.prototype.replace),rx=_g.call(Function.call,String.prototype.slice),Hle=_g.call(Function.call,RegExp.prototype.exec),Kle=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Qle=/\\(\\)?/g,Yle=function(e){var r=rx(e,0,1),n=rx(e,-1);if(r==="%"&&n!=="%")throw new td("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new td("invalid intrinsic syntax, expected opening `%`");var i=[];return UD(e,Kle,function(o,s,a,l){i[i.length]=a?UD(l,Qle,"$1"):s||o}),i},Xle=function(e,r){var n=e,i;if(tx(BD,n)&&(i=BD[n],n="%"+i[0]+"%"),tx(fc,n)){var o=fc[n];if(o===yu&&(o=zle(n)),typeof o>"u"&&!r)throw new lf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new td("intrinsic "+e+" does not exist!")},Jle=function(e,r){if(typeof e!="string"||e.length===0)throw new lf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new lf('"allowMissing" argument must be a boolean');if(Hle(/^%?[^%]*%?$/,e)===null)throw new td("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Yle(e),i=n.length>0?n[0]:"",o=Xle("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],qle(n,Gle([0,1],c)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],p=rx(h,0,1),m=rx(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new td("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),i+="."+h,s="%"+i+"%",tx(fc,s))a=fc[s];else if(a!=null){if(!(h in a)){if(!r)throw new lf("base intrinsic for "+e+" exists, but the property is not available.");return}if(uc&&f+1>=n.length){var y=uc(a,h);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else d=tx(a,h),a=a[h];d&&!l&&(fc[s]=a)}}return a},Zle=Ds,O0=Zle("%Object.getOwnPropertyDescriptor%",!0);if(O0)try{O0([],"length")}catch{O0=null}var Hw=O0,ece=gg(),iO=Jle,jp=ece&&iO("%Object.defineProperty%",!0);if(jp)try{jp({},"a",{value:1})}catch{jp=!1}var tce=iO("%SyntaxError%"),ru=iO("%TypeError%"),VD=Hw,oO=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ru("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ru("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ru("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ru("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ru("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ru("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!VD&&VD(e,r);if(jp)jp(e,r,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:o===null&&l?l.writable:!o});else if(a||!i&&!o&&!s)e[r]=n;else throw new tce("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},m9=Nle,WD=oO,rce=gg(),zD=Hw,GD=m9("%TypeError%"),nce=m9("%Math.floor%"),y9=function(e,r){if(typeof e!="function")throw new GD("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||nce(r)!==r)throw new GD("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&zD){var s=zD(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(rce?WD(e,"length",r,!0,!0):WD(e,"length",r)),e};(function(t){var e=u9,r=qw,n=y9,i=r("%TypeError%"),o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(s,o),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=a(e,s,arguments);return n(p,1+c(0,h.length-(arguments.length-1)),!0)};var f=function(){return a(e,o,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f})(d9);var ice=d9.exports,g9=qw,v9=ice,oce=v9(g9("String.prototype.indexOf")),sce=function(e,r){var n=g9(e,!!r);return typeof n=="function"&&oce(e,".prototype.")>-1?v9(n):n},ace=Uw,lce=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",cce=Object.prototype.toString,uce=Array.prototype.concat,qD=oO,fce=function(t){return typeof t=="function"&&cce.call(t)==="[object Function]"},b9=gg(),dce=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!fce(n)||!n())return}b9?qD(t,e,r,!0):qD(t,e,r)},x9=function(t,e){var r=arguments.length>2?arguments[2]:{},n=ace(e);lce&&(n=uce.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)dce(t,n[i],e[n[i]],r[n[i]])};x9.supportsDescriptors=!!b9;var sO=x9,Nm=function(){return typeof(function(){}).name=="string"},Rp=Object.getOwnPropertyDescriptor;if(Rp)try{Rp([],"length")}catch{Rp=null}Nm.functionsHaveConfigurableNames=function(){if(!Nm()||!Rp)return!1;var e=Rp(function(){},"name");return!!e&&!!e.configurable};var hce=Function.prototype.bind;Nm.boundFunctionsHaveNames=function(){return Nm()&&typeof hce=="function"&&(function(){}).bind().name!==""};var pce=Nm,HD=oO,mce=gg(),yce=pce.functionsHaveConfigurableNames(),gce=TypeError,vce=function(e,r){if(typeof e!="function")throw new gce("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||yce)&&(mce?HD(e,"name",r,!0,!0):HD(e,"name",r)),e},bce=vce,xce=Object,_ce=TypeError,_9=bce(function(){if(this!=null&&this!==xce(this))throw new _ce("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),wce=_9,Sce=sO.supportsDescriptors,Ece=Object.getOwnPropertyDescriptor,w9=function(){if(Sce&&/a/mig.flags==="gim"){var e=Ece(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),r==="dy")return e.get}}return wce},Ace=sO.supportsDescriptors,Cce=w9,Pce=Object.getOwnPropertyDescriptor,Tce=Object.defineProperty,Ice=TypeError,KD=Object.getPrototypeOf,Nce=/a/,kce=function(){if(!Ace||!KD)throw new Ice("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=Cce(),r=KD(Nce),n=Pce(r,"flags");return(!n||n.get!==e)&&Tce(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},Oce=sO,jce=vg,Rce=_9,S9=w9,$ce=kce,E9=jce(S9());Oce(E9,{getPolyfill:S9,implementation:Rce,shim:$ce});var Dce=E9,j0={exports:{}},Mce=Vw,ol=function(){return Mce()&&!!Symbol.toStringTag},Fce=ol(),Lce=yo,jP=Lce("Object.prototype.toString"),Kw=function(e){return Fce&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:jP(e)==="[object Arguments]"},A9=function(e){return Kw(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&jP(e)!=="[object Array]"&&jP(e.callee)==="[object Function]"},Bce=function(){return Kw(arguments)}();Kw.isLegacyArguments=A9;var C9=Bce?Kw:A9;const Uce={},Vce=Object.freeze(Object.defineProperty({__proto__:null,default:Uce},Symbol.toStringTag,{value:"Module"})),Wce=LJ(Vce);var aO=typeof Map=="function"&&Map.prototype,OE=Object.getOwnPropertyDescriptor&&aO?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,nx=aO&&OE&&typeof OE.get=="function"?OE.get:null,zce=aO&&Map.prototype.forEach,lO=typeof Set=="function"&&Set.prototype,jE=Object.getOwnPropertyDescriptor&&lO?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ix=lO&&jE&&typeof jE.get=="function"?jE.get:null,Gce=lO&&Set.prototype.forEach,qce=typeof WeakMap=="function"&&WeakMap.prototype,$p=qce?WeakMap.prototype.has:null,Hce=typeof WeakSet=="function"&&WeakSet.prototype,Dp=Hce?WeakSet.prototype.has:null,Kce=typeof WeakRef=="function"&&WeakRef.prototype,QD=Kce?WeakRef.prototype.deref:null,Qce=Boolean.prototype.valueOf,Yce=Object.prototype.toString,Xce=Function.prototype.toString,Jce=String.prototype.match,cO=String.prototype.slice,ya=String.prototype.replace,Zce=String.prototype.toUpperCase,YD=String.prototype.toLowerCase,P9=RegExp.prototype.test,XD=Array.prototype.concat,Co=Array.prototype.join,eue=Array.prototype.slice,JD=Math.floor,RP=typeof BigInt=="function"?BigInt.prototype.valueOf:null,RE=Object.getOwnPropertySymbols,$P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,rd=typeof Symbol=="function"&&typeof Symbol.iterator=="object",pn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===rd||!0)?Symbol.toStringTag:null,T9=Object.prototype.propertyIsEnumerable,ZD=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function eM(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||P9.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-JD(-t):JD(t);if(n!==t){var i=String(n),o=cO.call(e,i.length+1);return ya.call(i,r,"$&_")+"."+ya.call(ya.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ya.call(e,r,"$&_")}var DP=Wce,tM=DP.custom,rM=N9(tM)?tM:null,tue=function t(e,r,n,i){var o=r||{};if(ea(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ea(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=ea(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ea(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ea(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return O9(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?eM(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?eM(e,c):c}var f=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return MP(e)?"[Array]":"[Object]";var d=bue(o,n);if(typeof i>"u")i=[];else if(k9(i,e)>=0)return"[Circular]";function h(N,R,L){if(R&&(i=eue.call(i),i.push(R)),L){var U={depth:o.depth};return ea(o,"quoteStyle")&&(U.quoteStyle=o.quoteStyle),t(N,U,n+1,i)}return t(N,o,n+1,i)}if(typeof e=="function"&&!nM(e)){var p=uue(e),m=Nv(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(m.length>0?" { "+Co.call(m,", ")+" }":"")}if(N9(e)){var y=rd?ya.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$P.call(e);return typeof e=="object"&&!rd?Nh(y):y}if(yue(e)){for(var v="<"+YD.call(String(e.nodeName)),b=e.attributes||[],g=0;g<b.length;g++)v+=" "+b[g].name+"="+I9(rue(b[g].value),"double",o);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+YD.call(String(e.nodeName))+">",v}if(MP(e)){if(e.length===0)return"[]";var x=Nv(e,h);return d&&!vue(x)?"["+FP(x,d)+"]":"[ "+Co.call(x,", ")+" ]"}if(iue(e)){var S=Nv(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!T9.call(e,"cause")?"{ ["+String(e)+"] "+Co.call(XD.call("[cause]: "+h(e.cause),S),", ")+" }":S.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Co.call(S,", ")+" }"}if(typeof e=="object"&&s){if(rM&&typeof e[rM]=="function"&&DP)return DP(e,{depth:f-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(fue(e)){var w=[];return zce.call(e,function(N,R){w.push(h(R,e,!0)+" => "+h(N,e))}),iM("Map",nx.call(e),w,d)}if(pue(e)){var _=[];return Gce.call(e,function(N){_.push(h(N,e))}),iM("Set",ix.call(e),_,d)}if(due(e))return $E("WeakMap");if(mue(e))return $E("WeakSet");if(hue(e))return $E("WeakRef");if(sue(e))return Nh(h(Number(e)));if(lue(e))return Nh(h(RP.call(e)));if(aue(e))return Nh(Qce.call(e));if(oue(e))return Nh(h(String(e)));if(!nue(e)&&!nM(e)){var A=Nv(e,h),C=ZD?ZD(e)===Object.prototype:e instanceof Object||e.constructor===Object,T=e instanceof Object?"":"null prototype",P=!C&&pn&&Object(e)===e&&pn in e?cO.call(sl(e),8,-1):T?"Object":"",I=C||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",O=I+(P||T?"["+Co.call(XD.call([],P||[],T||[]),": ")+"] ":"");return A.length===0?O+"{}":d?O+"{"+FP(A,d)+"}":O+"{ "+Co.call(A,", ")+" }"}return String(e)};function I9(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function rue(t){return ya.call(String(t),/"/g,"&quot;")}function MP(t){return sl(t)==="[object Array]"&&(!pn||!(typeof t=="object"&&pn in t))}function nue(t){return sl(t)==="[object Date]"&&(!pn||!(typeof t=="object"&&pn in t))}function nM(t){return sl(t)==="[object RegExp]"&&(!pn||!(typeof t=="object"&&pn in t))}function iue(t){return sl(t)==="[object Error]"&&(!pn||!(typeof t=="object"&&pn in t))}function oue(t){return sl(t)==="[object String]"&&(!pn||!(typeof t=="object"&&pn in t))}function sue(t){return sl(t)==="[object Number]"&&(!pn||!(typeof t=="object"&&pn in t))}function aue(t){return sl(t)==="[object Boolean]"&&(!pn||!(typeof t=="object"&&pn in t))}function N9(t){if(rd)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!$P)return!1;try{return $P.call(t),!0}catch{}return!1}function lue(t){if(!t||typeof t!="object"||!RP)return!1;try{return RP.call(t),!0}catch{}return!1}var cue=Object.prototype.hasOwnProperty||function(t){return t in this};function ea(t,e){return cue.call(t,e)}function sl(t){return Yce.call(t)}function uue(t){if(t.name)return t.name;var e=Jce.call(Xce.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function k9(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function fue(t){if(!nx||!t||typeof t!="object")return!1;try{nx.call(t);try{ix.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function due(t){if(!$p||!t||typeof t!="object")return!1;try{$p.call(t,$p);try{Dp.call(t,Dp)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function hue(t){if(!QD||!t||typeof t!="object")return!1;try{return QD.call(t),!0}catch{}return!1}function pue(t){if(!ix||!t||typeof t!="object")return!1;try{ix.call(t);try{nx.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function mue(t){if(!Dp||!t||typeof t!="object")return!1;try{Dp.call(t,Dp);try{$p.call(t,$p)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function yue(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function O9(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return O9(cO.call(t,0,e.maxStringLength),e)+n}var i=ya.call(ya.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,gue);return I9(i,"single",e)}function gue(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Zce.call(e.toString(16))}function Nh(t){return"Object("+t+")"}function $E(t){return t+" { ? }"}function iM(t,e,r,n){var i=n?FP(r,n):Co.call(r,", ");return t+" ("+e+") {"+i+"}"}function vue(t){for(var e=0;e<t.length;e++)if(k9(t[e],`
`)>=0)return!1;return!0}function bue(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Co.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Co.call(Array(e+1),r)}}function FP(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Co.call(t,","+r)+`
`+e.prev}function Nv(t,e){var r=MP(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ea(t,i)?e(t[i],t):""}var o=typeof RE=="function"?RE(t):[],s;if(rd){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in t)ea(t,l)&&(r&&String(Number(l))===l&&l<t.length||rd&&s["$"+l]instanceof Symbol||(P9.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof RE=="function")for(var c=0;c<o.length;c++)T9.call(t,o[c])&&n.push("["+e(o[c])+"]: "+e(t[o[c]],t));return n}var uO=Ds,Gd=yo,xue=tue,_ue=uO("%TypeError%"),kv=uO("%WeakMap%",!0),Ov=uO("%Map%",!0),wue=Gd("WeakMap.prototype.get",!0),Sue=Gd("WeakMap.prototype.set",!0),Eue=Gd("WeakMap.prototype.has",!0),Aue=Gd("Map.prototype.get",!0),Cue=Gd("Map.prototype.set",!0),Pue=Gd("Map.prototype.has",!0),fO=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Tue=function(t,e){var r=fO(t,e);return r&&r.value},Iue=function(t,e,r){var n=fO(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Nue=function(t,e){return!!fO(t,e)},j9=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new _ue("Side channel does not contain "+xue(o))},get:function(o){if(kv&&o&&(typeof o=="object"||typeof o=="function")){if(e)return wue(e,o)}else if(Ov){if(r)return Aue(r,o)}else if(n)return Tue(n,o)},has:function(o){if(kv&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Eue(e,o)}else if(Ov){if(r)return Pue(r,o)}else if(n)return Nue(n,o);return!1},set:function(o,s){kv&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new kv),Sue(e,o,s)):Ov?(r||(r=new Ov),Cue(r,o,s)):(n||(n={key:{},next:null}),Iue(n,o,s))}};return i},kue=Ds,Oue=nO,kh=j9(),is=kue("%TypeError%"),dO={assert:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new is("`O` is not an object");if(typeof e!="string")throw new is("`slot` must be a string");if(kh.assert(t),!dO.has(t,e))throw new is("`slot` is not present on `O`")},get:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new is("`O` is not an object");if(typeof e!="string")throw new is("`slot` must be a string");var r=kh.get(t);return r&&r["$"+e]},has:function(t,e){if(!t||typeof t!="object"&&typeof t!="function")throw new is("`O` is not an object");if(typeof e!="string")throw new is("`slot` must be a string");var r=kh.get(t);return!!r&&Oue(r,"$"+e)},set:function(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new is("`O` is not an object");if(typeof e!="string")throw new is("`slot` must be a string");var n=kh.get(t);n||(n={},kh.set(t,n)),n["$"+e]=r}};Object.freeze&&Object.freeze(dO);var jue=dO,Oh=jue,Rue=SyntaxError,oM=typeof StopIteration=="object"?StopIteration:null,$ue=function(e){if(!oM)throw new Rue("this environment lacks StopIteration");Oh.set(e,"[[Done]]",!1);var r={next:function(){var i=Oh.get(this,"[[Iterator]]"),o=Oh.get(i,"[[Done]]");try{return{done:o,value:o?void 0:i.next()}}catch(s){if(Oh.set(i,"[[Done]]",!0),s!==oM)throw s;return{done:!0,value:void 0}}}};return Oh.set(r,"[[Iterator]]",e),r},Due={}.toString,R9=Array.isArray||function(t){return Due.call(t)=="[object Array]"},Mue=String.prototype.valueOf,Fue=function(e){try{return Mue.call(e),!0}catch{return!1}},Lue=Object.prototype.toString,Bue="[object String]",Uue=ol(),$9=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:Uue?Fue(e):Lue.call(e)===Bue},hO=typeof Map=="function"&&Map.prototype?Map:null,Vue=typeof Set=="function"&&Set.prototype?Set:null,ox;hO||(ox=function(e){return!1});var D9=hO?Map.prototype.has:null,sM=Vue?Set.prototype.has:null;!ox&&!D9&&(ox=function(e){return!1});var M9=ox||function(e){if(!e||typeof e!="object")return!1;try{if(D9.call(e),sM)try{sM.call(e)}catch{return!0}return e instanceof hO}catch{}return!1},Wue=typeof Map=="function"&&Map.prototype?Map:null,pO=typeof Set=="function"&&Set.prototype?Set:null,sx;pO||(sx=function(e){return!1});var aM=Wue?Map.prototype.has:null,F9=pO?Set.prototype.has:null;!sx&&!F9&&(sx=function(e){return!1});var L9=sx||function(e){if(!e||typeof e!="object")return!1;try{if(F9.call(e),aM)try{aM.call(e)}catch{return!0}return e instanceof pO}catch{}return!1},lM=C9,cM=$ue;if(il()||Vw()){var DE=Symbol.iterator;j0.exports=function(e){if(e!=null&&typeof e[DE]<"u")return e[DE]();if(lM(e))return Array.prototype[DE].call(e)}}else{var zue=R9,Gue=$9,uM=Ds,que=uM("%Map%",!0),Hue=uM("%Set%",!0),zi=yo,fM=zi("Array.prototype.push"),dM=zi("String.prototype.charCodeAt"),Kue=zi("String.prototype.slice"),Que=function(e,r){var n=e.length;if(r+1>=n)return r+1;var i=dM(e,r);if(i<55296||i>56319)return r+1;var o=dM(e,r+1);return o<56320||o>57343?r+1:r+2},ME=function(e){var r=0;return{next:function(){var i=r>=e.length,o;return i||(o=e[r],r+=1),{done:i,value:o}}}},hM=function(e,r){if(zue(e)||lM(e))return ME(e);if(Gue(e)){var n=0;return{next:function(){var o=Que(e,n),s=Kue(e,n,o);return n=o,{done:o>e.length,value:s}}}}if(r&&typeof e["_es6-shim iterator_"]<"u")return e["_es6-shim iterator_"]()};if(!que&&!Hue)j0.exports=function(e){if(e!=null)return hM(e,!0)};else{var Yue=M9,Xue=L9,pM=zi("Map.prototype.forEach",!0),mM=zi("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var yM=zi("Map.prototype.iterator",!0),gM=zi("Set.prototype.iterator",!0);var vM=zi("Map.prototype.@@iterator",!0)||zi("Map.prototype._es6-shim iterator_",!0),bM=zi("Set.prototype.@@iterator",!0)||zi("Set.prototype._es6-shim iterator_",!0),Jue=function(e){if(Yue(e)){if(yM)return cM(yM(e));if(vM)return vM(e);if(pM){var r=[];return pM(e,function(i,o){fM(r,[o,i])}),ME(r)}}if(Xue(e)){if(gM)return cM(gM(e));if(bM)return bM(e);if(mM){var n=[];return mM(e,function(i){fM(n,i)}),ME(n)}}};j0.exports=function(e){return Jue(e)||hM(e)}}}var Zue=j0.exports,xM=function(t){return t!==t},B9=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||xM(e)&&xM(r))},efe=B9,U9=function(){return typeof Object.is=="function"?Object.is:efe},tfe=U9,rfe=Ww,nfe=function(){var e=tfe();return rfe(Object,{is:e},{is:function(){return Object.is!==e}}),e},ife=Ww,ofe=vg,sfe=B9,V9=U9,afe=nfe,W9=ofe(V9(),Object);ife(W9,{getPolyfill:V9,implementation:sfe,shim:afe});var lfe=W9,z9={exports:{}},cfe="Function.prototype.bind called on incompatible ",FE=Array.prototype.slice,ufe=Object.prototype.toString,ffe="[object Function]",dfe=function(e){var r=this;if(typeof r!="function"||ufe.call(r)!==ffe)throw new TypeError(cfe+r);for(var n=FE.call(arguments,1),i,o=function(){if(this instanceof i){var f=r.apply(this,n.concat(FE.call(arguments)));return Object(f)===f?f:this}else return r.apply(e,n.concat(FE.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},hfe=dfe,G9=Function.prototype.bind||hfe,Qe,nd=SyntaxError,q9=Function,cf=TypeError,LE=function(t){try{return q9('"use strict"; return ('+t+").constructor;")()}catch{}},dc=Object.getOwnPropertyDescriptor;if(dc)try{dc({},"")}catch{dc=null}var BE=function(){throw new cf},pfe=dc?function(){try{return arguments.callee,BE}catch{try{return dc(arguments,"callee").get}catch{return BE}}}():BE,nu=il(),ta=Object.getPrototypeOf||function(t){return t.__proto__},gu={},mfe=typeof Uint8Array>"u"?Qe:ta(Uint8Array),uf={"%AggregateError%":typeof AggregateError>"u"?Qe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Qe:ArrayBuffer,"%ArrayIteratorPrototype%":nu?ta([][Symbol.iterator]()):Qe,"%AsyncFromSyncIteratorPrototype%":Qe,"%AsyncFunction%":gu,"%AsyncGenerator%":gu,"%AsyncGeneratorFunction%":gu,"%AsyncIteratorPrototype%":gu,"%Atomics%":typeof Atomics>"u"?Qe:Atomics,"%BigInt%":typeof BigInt>"u"?Qe:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Qe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Qe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Qe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Qe:FinalizationRegistry,"%Function%":q9,"%GeneratorFunction%":gu,"%Int8Array%":typeof Int8Array>"u"?Qe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Qe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Qe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":nu?ta(ta([][Symbol.iterator]())):Qe,"%JSON%":typeof JSON=="object"?JSON:Qe,"%Map%":typeof Map>"u"?Qe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!nu?Qe:ta(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Qe:Promise,"%Proxy%":typeof Proxy>"u"?Qe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Qe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Qe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!nu?Qe:ta(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Qe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":nu?ta(""[Symbol.iterator]()):Qe,"%Symbol%":nu?Symbol:Qe,"%SyntaxError%":nd,"%ThrowTypeError%":pfe,"%TypedArray%":mfe,"%TypeError%":cf,"%Uint8Array%":typeof Uint8Array>"u"?Qe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Qe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Qe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Qe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Qe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Qe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Qe:WeakSet},yfe=function t(e){var r;if(e==="%AsyncFunction%")r=LE("async function () {}");else if(e==="%GeneratorFunction%")r=LE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=LE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=ta(i.prototype))}return uf[e]=r,r},_M={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wg=G9,ax=nO,gfe=wg.call(Function.call,Array.prototype.concat),vfe=wg.call(Function.apply,Array.prototype.splice),wM=wg.call(Function.call,String.prototype.replace),lx=wg.call(Function.call,String.prototype.slice),bfe=wg.call(Function.call,RegExp.prototype.exec),xfe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_fe=/\\(\\)?/g,wfe=function(e){var r=lx(e,0,1),n=lx(e,-1);if(r==="%"&&n!=="%")throw new nd("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new nd("invalid intrinsic syntax, expected opening `%`");var i=[];return wM(e,xfe,function(o,s,a,l){i[i.length]=a?wM(l,_fe,"$1"):s||o}),i},Sfe=function(e,r){var n=e,i;if(ax(_M,n)&&(i=_M[n],n="%"+i[0]+"%"),ax(uf,n)){var o=uf[n];if(o===gu&&(o=yfe(n)),typeof o>"u"&&!r)throw new cf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new nd("intrinsic "+e+" does not exist!")},H9=function(e,r){if(typeof e!="string"||e.length===0)throw new cf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new cf('"allowMissing" argument must be a boolean');if(bfe(/^%?[^%]*%?$/,e)===null)throw new nd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=wfe(e),i=n.length>0?n[0]:"",o=Sfe("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],vfe(n,gfe([0,1],c)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],p=lx(h,0,1),m=lx(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new nd("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),i+="."+h,s="%"+i+"%",ax(uf,s))a=uf[s];else if(a!=null){if(!(h in a)){if(!r)throw new cf("base intrinsic for "+e+" exists, but the property is not available.");return}if(dc&&f+1>=n.length){var y=dc(a,h);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else d=ax(a,h),a=a[h];d&&!l&&(uf[s]=a)}}return a};(function(t){var e=G9,r=H9,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var h=o(e,i,arguments);if(s&&a){var p=s(h,"length");p.configurable&&a(h,"length",{value:1+l(0,d.length-(arguments.length-1))})}return h};var c=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(z9);var K9=z9.exports,Q9=H9,Y9=K9,Efe=Y9(Q9("String.prototype.indexOf")),Afe=function(e,r){var n=Q9(e,!!r);return typeof n=="function"&&Efe(e,".prototype.")>-1?Y9(n):n},X9=Function.prototype.toString,Lu=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,LP,R0;if(typeof Lu=="function"&&typeof Object.defineProperty=="function")try{LP=Object.defineProperty({},"length",{get:function(){throw R0}}),R0={},Lu(function(){throw 42},null,LP)}catch(t){t!==R0&&(Lu=null)}else Lu=null;var Cfe=/^\s*class\b/,BP=function(e){try{var r=X9.call(e);return Cfe.test(r)}catch{return!1}},UE=function(e){try{return BP(e)?!1:(X9.call(e),!0)}catch{return!1}},$0=Object.prototype.toString,Pfe="[object Object]",Tfe="[object Function]",Ife="[object GeneratorFunction]",Nfe="[object HTMLAllCollection]",kfe="[object HTML document.all class]",Ofe="[object HTMLCollection]",jfe=typeof Symbol=="function"&&!!Symbol.toStringTag,Rfe=!(0 in[,]),UP=function(){return!1};if(typeof document=="object"){var $fe=document.all;$0.call($fe)===$0.call(document.all)&&(UP=function(e){if((Rfe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=$0.call(e);return(r===Nfe||r===kfe||r===Ofe||r===Pfe)&&e("")==null}catch{}return!1})}var Dfe=Lu?function(e){if(UP(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Lu(e,null,LP)}catch(r){if(r!==R0)return!1}return!BP(e)&&UE(e)}:function(e){if(UP(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(jfe)return UE(e);if(BP(e))return!1;var r=$0.call(e);return r!==Tfe&&r!==Ife&&!/^\[object HTML/.test(r)?!1:UE(e)},Mfe=Dfe,Ffe=Object.prototype.toString,J9=Object.prototype.hasOwnProperty,Lfe=function(e,r,n){for(var i=0,o=e.length;i<o;i++)J9.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Bfe=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},Ufe=function(e,r,n){for(var i in e)J9.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Vfe=function(e,r,n){if(!Mfe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),Ffe.call(e)==="[object Array]"?Lfe(e,r,i):typeof e=="string"?Bfe(e,r,i):Ufe(e,r,i)},Z9=Vfe,VE=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Wfe=typeof globalThis>"u"?Rl:globalThis,ez=function(){for(var e=[],r=0;r<VE.length;r++)typeof Wfe[VE[r]]=="function"&&(e[e.length]=VE[r]);return e},tz=Z9,zfe=ez,mO=yo,Gfe=mO("Object.prototype.toString"),rz=ol(),D0=Hw,qfe=typeof globalThis>"u"?Rl:globalThis,nz=zfe(),Hfe=mO("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Kfe=mO("String.prototype.slice"),iz={},WE=Object.getPrototypeOf;rz&&D0&&WE&&tz(nz,function(t){var e=new qfe[t];if(Symbol.toStringTag in e){var r=WE(e),n=D0(r,Symbol.toStringTag);if(!n){var i=WE(r);n=D0(i,Symbol.toStringTag)}iz[t]=n.get}});var Qfe=function(e){var r=!1;return tz(iz,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},oz=function(e){if(!e||typeof e!="object")return!1;if(!rz||!(Symbol.toStringTag in e)){var r=Kfe(Gfe(e),8,-1);return Hfe(nz,r)>-1}return D0?Qfe(e):!1},Yfe=K9,Xfe=Afe,sz=qw,Jfe=oz,SM=sz("ArrayBuffer",!0),EM=sz("Float32Array",!0),M0=Xfe("ArrayBuffer.prototype.byteLength",!0),AM=SM&&!M0&&new SM().slice,CM=AM&&Yfe(AM),Zfe=M0||CM?function(e){if(!e||typeof e!="object")return!1;try{return M0?M0(e):CM(e,0),!0}catch{return!1}}:EM?function(e){try{return new EM(e).buffer===e&&!Jfe(e)}catch(r){return typeof e=="object"&&r.name==="RangeError"}}:function(e){return!1},ede=Date.prototype.getDay,tde=function(e){try{return ede.call(e),!0}catch{return!1}},rde=Object.prototype.toString,nde="[object Date]",ide=ol(),ode=function(e){return typeof e!="object"||e===null?!1:ide?tde(e):rde.call(e)===nde},VP=yo,az=ol(),lz,cz,WP,zP;if(az){lz=VP("Object.prototype.hasOwnProperty"),cz=VP("RegExp.prototype.exec"),WP={};var zE=function(){throw WP};zP={toString:zE,valueOf:zE},typeof Symbol.toPrimitive=="symbol"&&(zP[Symbol.toPrimitive]=zE)}var sde=VP("Object.prototype.toString"),ade=Object.getOwnPropertyDescriptor,lde="[object RegExp]",cde=az?function(e){if(!e||typeof e!="object")return!1;var r=ade(e,"lastIndex"),n=r&&lz(r,"value");if(!n)return!1;try{cz(e,zP)}catch(i){return i===WP}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:sde(e)===lde},ude=yo,PM=ude("SharedArrayBuffer.prototype.byteLength",!0),fde=PM?function(e){if(!e||typeof e!="object")return!1;try{return PM(e),!0}catch{return!1}}:function(e){return!1},dde=Number.prototype.toString,hde=function(e){try{return dde.call(e),!0}catch{return!1}},pde=Object.prototype.toString,mde="[object Number]",yde=ol(),gde=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:yde?hde(e):pde.call(e)===mde},uz=yo,vde=uz("Boolean.prototype.toString"),bde=uz("Object.prototype.toString"),xde=function(e){try{return vde(e),!0}catch{return!1}},_de="[object Boolean]",wde=ol(),Sde=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:wde&&Symbol.toStringTag in e?xde(e):bde(e)===_de},GP={exports:{}},Ede=Object.prototype.toString,Ade=il();if(Ade){var Cde=Symbol.prototype.toString,Pde=/^Symbol\(.*\)$/,Tde=function(e){return typeof e.valueOf()!="symbol"?!1:Pde.test(Cde.call(e))};GP.exports=function(e){if(typeof e=="symbol")return!0;if(Ede.call(e)!=="[object Symbol]")return!1;try{return Tde(e)}catch{return!1}}}else GP.exports=function(e){return!1};var Ide=GP.exports,qP={exports:{}},TM=typeof BigInt<"u"&&BigInt,Nde=function(){return typeof TM=="function"&&typeof BigInt=="function"&&typeof TM(42)=="bigint"&&typeof BigInt(42)=="bigint"},kde=Nde();if(kde){var Ode=BigInt.prototype.valueOf,jde=function(e){try{return Ode.call(e),!0}catch{}return!1};qP.exports=function(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="function"?!1:typeof e=="bigint"?!0:jde(e)}}else qP.exports=function(e){return!1};var Rde=qP.exports,$de=$9,Dde=gde,Mde=Sde,Fde=Ide,Lde=Rde,Bde=function(e){if(e==null||typeof e!="object"&&typeof e!="function")return null;if($de(e))return"String";if(Dde(e))return"Number";if(Mde(e))return"Boolean";if(Fde(e))return"Symbol";if(Lde(e))return"BigInt"},cx=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,IM=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,ux;cx||(ux=function(e){return!1});var HP=cx?cx.prototype.has:null,GE=IM?IM.prototype.has:null;!ux&&!HP&&(ux=function(e){return!1});var Ude=ux||function(e){if(!e||typeof e!="object")return!1;try{if(HP.call(e,HP),GE)try{GE.call(e,GE)}catch{return!0}return e instanceof cx}catch{}return!1},KP={exports:{}},Vde=Ds,fz=yo,Wde=Vde("%WeakSet%",!0),qE=fz("WeakSet.prototype.has",!0);if(qE){var HE=fz("WeakMap.prototype.has",!0);KP.exports=function(e){if(!e||typeof e!="object")return!1;try{if(qE(e,qE),HE)try{HE(e,HE)}catch{return!0}return e instanceof Wde}catch{}return!1}}else KP.exports=function(e){return!1};var zde=KP.exports,Gde=M9,qde=L9,Hde=Ude,Kde=zde,Qde=function(e){if(e&&typeof e=="object"){if(Gde(e))return"Map";if(qde(e))return"Set";if(Hde(e))return"WeakMap";if(Kde(e))return"WeakSet"}return!1},dz={exports:{}},Yde="Function.prototype.bind called on incompatible ",Xde=Object.prototype.toString,Jde=Math.max,Zde="[object Function]",NM=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},ehe=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},the=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},rhe=function(e){var r=this;if(typeof r!="function"||Xde.apply(r)!==Zde)throw new TypeError(Yde+r);for(var n=ehe(arguments,1),i,o=function(){if(this instanceof i){var f=r.apply(this,NM(n,arguments));return Object(f)===f?f:this}return r.apply(e,NM(n,arguments))},s=Jde(0,r.length-n.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+the(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},nhe=rhe,hz=Function.prototype.bind||nhe,Ue,id=SyntaxError,pz=Function,ff=TypeError,KE=function(t){try{return pz('"use strict"; return ('+t+").constructor;")()}catch{}},hc=Object.getOwnPropertyDescriptor;if(hc)try{hc({},"")}catch{hc=null}var QE=function(){throw new ff},ihe=hc?function(){try{return arguments.callee,QE}catch{try{return hc(arguments,"callee").get}catch{return QE}}}():QE,iu=il(),ohe=zw(),Sr=Object.getPrototypeOf||(ohe?function(t){return t.__proto__}:null),vu={},she=typeof Uint8Array>"u"||!Sr?Ue:Sr(Uint8Array),pc={"%AggregateError%":typeof AggregateError>"u"?Ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ue:ArrayBuffer,"%ArrayIteratorPrototype%":iu&&Sr?Sr([][Symbol.iterator]()):Ue,"%AsyncFromSyncIteratorPrototype%":Ue,"%AsyncFunction%":vu,"%AsyncGenerator%":vu,"%AsyncGeneratorFunction%":vu,"%AsyncIteratorPrototype%":vu,"%Atomics%":typeof Atomics>"u"?Ue:Atomics,"%BigInt%":typeof BigInt>"u"?Ue:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ue:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ue:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ue:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ue:FinalizationRegistry,"%Function%":pz,"%GeneratorFunction%":vu,"%Int8Array%":typeof Int8Array>"u"?Ue:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ue:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":iu&&Sr?Sr(Sr([][Symbol.iterator]())):Ue,"%JSON%":typeof JSON=="object"?JSON:Ue,"%Map%":typeof Map>"u"?Ue:Map,"%MapIteratorPrototype%":typeof Map>"u"||!iu||!Sr?Ue:Sr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ue:Promise,"%Proxy%":typeof Proxy>"u"?Ue:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ue:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ue:Set,"%SetIteratorPrototype%":typeof Set>"u"||!iu||!Sr?Ue:Sr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":iu&&Sr?Sr(""[Symbol.iterator]()):Ue,"%Symbol%":iu?Symbol:Ue,"%SyntaxError%":id,"%ThrowTypeError%":ihe,"%TypedArray%":she,"%TypeError%":ff,"%Uint8Array%":typeof Uint8Array>"u"?Ue:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ue:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ue:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ue:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ue:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ue:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ue:WeakSet};if(Sr)try{null.error}catch(t){var ahe=Sr(Sr(t));pc["%Error.prototype%"]=ahe}var lhe=function t(e){var r;if(e==="%AsyncFunction%")r=KE("async function () {}");else if(e==="%GeneratorFunction%")r=KE("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=KE("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Sr&&(r=Sr(i.prototype))}return pc[e]=r,r},kM={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Sg=hz,fx=Gw,che=Sg.call(Function.call,Array.prototype.concat),uhe=Sg.call(Function.apply,Array.prototype.splice),OM=Sg.call(Function.call,String.prototype.replace),dx=Sg.call(Function.call,String.prototype.slice),fhe=Sg.call(Function.call,RegExp.prototype.exec),dhe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,hhe=/\\(\\)?/g,phe=function(e){var r=dx(e,0,1),n=dx(e,-1);if(r==="%"&&n!=="%")throw new id("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new id("invalid intrinsic syntax, expected opening `%`");var i=[];return OM(e,dhe,function(o,s,a,l){i[i.length]=a?OM(l,hhe,"$1"):s||o}),i},mhe=function(e,r){var n=e,i;if(fx(kM,n)&&(i=kM[n],n="%"+i[0]+"%"),fx(pc,n)){var o=pc[n];if(o===vu&&(o=lhe(n)),typeof o>"u"&&!r)throw new ff("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new id("intrinsic "+e+" does not exist!")},mz=function(e,r){if(typeof e!="string"||e.length===0)throw new ff("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ff('"allowMissing" argument must be a boolean');if(fhe(/^%?[^%]*%?$/,e)===null)throw new id("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=phe(e),i=n.length>0?n[0]:"",o=mhe("%"+i+"%",r),s=o.name,a=o.value,l=!1,c=o.alias;c&&(i=c[0],uhe(n,che([0,1],c)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],p=dx(h,0,1),m=dx(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new id("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),i+="."+h,s="%"+i+"%",fx(pc,s))a=pc[s];else if(a!=null){if(!(h in a)){if(!r)throw new ff("base intrinsic for "+e+" exists, but the property is not available.");return}if(hc&&f+1>=n.length){var y=hc(a,h);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[h]}else d=fx(a,h),a=a[h];d&&!l&&(pc[s]=a)}}return a};(function(t){var e=hz,r=mz,n=y9,i=r("%TypeError%"),o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(s,o),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var p=a(e,s,arguments);return n(p,1+c(0,h.length-(arguments.length-1)),!0)};var f=function(){return a(e,o,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f})(dz);var yz=dz.exports,gz=mz,vz=yz,yhe=vz(gz("String.prototype.indexOf")),ghe=function(e,r){var n=gz(e,!!r);return typeof n=="function"&&yhe(e,".prototype.")>-1?vz(n):n},hx=Z9,vhe=ez,jM=yz,yO=ghe,F0=Hw,bhe=yO("Object.prototype.toString"),bz=ol(),RM=typeof globalThis>"u"?Rl:globalThis,QP=vhe(),gO=yO("String.prototype.slice"),YE=Object.getPrototypeOf,xhe=yO("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},px={__proto__:null};bz&&F0&&YE?hx(QP,function(t){var e=new RM[t];if(Symbol.toStringTag in e){var r=YE(e),n=F0(r,Symbol.toStringTag);if(!n){var i=YE(r);n=F0(i,Symbol.toStringTag)}px["$"+t]=jM(n.get)}}):hx(QP,function(t){var e=new RM[t],r=e.slice||e.set;r&&(px["$"+t]=jM(r))});var _he=function(e){var r=!1;return hx(px,function(n,i){if(!r)try{"$"+n(e)===i&&(r=gO(i,1))}catch{}}),r},whe=function(e){var r=!1;return hx(px,function(n,i){if(!r)try{n(e),r=gO(i,1)}catch{}}),r},She=function(e){if(!e||typeof e!="object")return!1;if(!bz){var r=gO(bhe(e),8,-1);return xhe(QP,r)>-1?r:r!=="Object"?!1:whe(e)}return F0?_he(e):null},XE,$M;function Ehe(){if($M)return XE;$M=1;var t=vg,e=yo,r=Ds,n=oz,i=r("ArrayBuffer",!0),o=r("Float32Array",!0),s=e("ArrayBuffer.prototype.byteLength",!0),a=i&&!s&&new i().slice,l=a&&t(a);return XE=s||l?function(f){if(!f||typeof f!="object")return!1;try{return s?s(f):l(f,0),!0}catch{return!1}}:o?function(f){try{return new o(f).buffer===f&&!n(f)}catch{return!1}}:function(f){return!1},XE}var Ahe=yo,DM=Ahe("ArrayBuffer.prototype.byteLength",!0),Che=Ehe(),Phe=function(e){return Che(e)?DM?DM(e):e.byteLength:NaN},xz=Iae,ts=sce,MM=Dce,The=qw,od=Zue,Ihe=j9,FM=lfe,LM=C9,BM=R9,UM=Zfe,VM=ode,WM=cde,zM=fde,GM=Uw,qM=Bde,HM=Qde,KM=She,QM=Phe,YM=ts("SharedArrayBuffer.prototype.byteLength",!0),XM=ts("Date.prototype.getTime"),JE=Object.getPrototypeOf,JM=ts("Object.prototype.toString"),mx=The("%Set%",!0),YP=ts("Map.prototype.has",!0),yx=ts("Map.prototype.get",!0),ZM=ts("Map.prototype.size",!0),gx=ts("Set.prototype.add",!0),_z=ts("Set.prototype.delete",!0),vx=ts("Set.prototype.has",!0),L0=ts("Set.prototype.size",!0);function eF(t,e,r,n){for(var i=od(t),o;(o=i.next())&&!o.done;)if(fo(e,o.value,r,n))return _z(t,o.value),!0;return!1}function wz(t){if(typeof t>"u")return null;if(typeof t!="object")return typeof t=="symbol"?!1:typeof t=="string"||typeof t=="number"?+t==+t:!0}function Nhe(t,e,r,n,i,o){var s=wz(r);if(s!=null)return s;var a=yx(e,s),l=xz({},i,{strict:!1});return typeof a>"u"&&!YP(e,s)||!fo(n,a,l,o)?!1:!YP(t,s)&&fo(n,a,l,o)}function khe(t,e,r){var n=wz(r);return n??(vx(e,n)&&!vx(t,n))}function tF(t,e,r,n,i,o){for(var s=od(t),a,l;(a=s.next())&&!a.done;)if(l=a.value,fo(r,l,i,o)&&fo(n,yx(e,l),i,o))return _z(t,l),!0;return!1}function fo(t,e,r,n){var i=r||{};if(i.strict?FM(t,e):t===e)return!0;var o=qM(t),s=qM(e);if(o!==s)return!1;if(!t||!e||typeof t!="object"&&typeof e!="object")return i.strict?FM(t,e):t==e;var a=n.has(t),l=n.has(e),c;if(a&&l){if(n.get(t)===n.get(e))return!0}else c={};return a||n.set(t,c),l||n.set(e,c),Rhe(t,e,i,n)}function rF(t){return!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Ohe(t,e,r,n){if(L0(t)!==L0(e))return!1;for(var i=od(t),o=od(e),s,a,l;(s=i.next())&&!s.done;)if(s.value&&typeof s.value=="object")l||(l=new mx),gx(l,s.value);else if(!vx(e,s.value)){if(r.strict||!khe(t,e,s.value))return!1;l||(l=new mx),gx(l,s.value)}if(l){for(;(a=o.next())&&!a.done;)if(a.value&&typeof a.value=="object"){if(!eF(l,a.value,r.strict,n))return!1}else if(!r.strict&&!vx(t,a.value)&&!eF(l,a.value,r.strict,n))return!1;return L0(l)===0}return!0}function jhe(t,e,r,n){if(ZM(t)!==ZM(e))return!1;for(var i=od(t),o=od(e),s,a,l,c,f,d;(s=i.next())&&!s.done;)if(c=s.value[0],f=s.value[1],c&&typeof c=="object")l||(l=new mx),gx(l,c);else if(d=yx(e,c),typeof d>"u"&&!YP(e,c)||!fo(f,d,r,n)){if(r.strict||!Nhe(t,e,c,f,r,n))return!1;l||(l=new mx),gx(l,c)}if(l){for(;(a=o.next())&&!a.done;)if(c=a.value[0],d=a.value[1],c&&typeof c=="object"){if(!tF(l,t,c,d,r,n))return!1}else if(!r.strict&&(!t.has(c)||!fo(yx(t,c),d,r,n))&&!tF(l,t,c,d,xz({},r,{strict:!1}),n))return!1;return L0(l)===0}return!0}function Rhe(t,e,r,n){var i,o;if(typeof t!=typeof e||t==null||e==null||JM(t)!==JM(e)||LM(t)!==LM(e))return!1;var s=BM(t),a=BM(e);if(s!==a)return!1;var l=t instanceof Error,c=e instanceof Error;if(l!==c||(l||c)&&(t.name!==e.name||t.message!==e.message))return!1;var f=WM(t),d=WM(e);if(f!==d||(f||d)&&(t.source!==e.source||MM(t)!==MM(e)))return!1;var h=VM(t),p=VM(e);if(h!==p||(h||p)&&XM(t)!==XM(e)||r.strict&&JE&&JE(t)!==JE(e))return!1;var m=KM(t),y=KM(e);if(m!==y)return!1;if(m||y){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}var v=rF(t),b=rF(e);if(v!==b)return!1;if(v||b){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}var g=UM(t),x=UM(e);if(g!==x)return!1;if(g||x)return QM(t)!==QM(e)?!1:typeof Uint8Array=="function"&&fo(new Uint8Array(t),new Uint8Array(e),r,n);var S=zM(t),w=zM(e);if(S!==w)return!1;if(S||w)return YM(t)!==YM(e)?!1:typeof Uint8Array=="function"&&fo(new Uint8Array(t),new Uint8Array(e),r,n);if(typeof t!=typeof e)return!1;var _=GM(t),A=GM(e);if(_.length!==A.length)return!1;for(_.sort(),A.sort(),i=_.length-1;i>=0;i--)if(_[i]!=A[i])return!1;for(i=_.length-1;i>=0;i--)if(o=_[i],!fo(t[o],e[o],r,n))return!1;var C=HM(t),T=HM(e);return C!==T?!1:C==="Set"||T==="Set"?Ohe(t,e,r,n):C==="Map"?jhe(t,e,r,n):!0}var $he=function(e,r,n){return fo(e,r,n,Ihe())};const Dhe=st($he),Mhe=(t,e)=>Dhe(t,e);var Fhe="firebase",Lhe="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uo(Fhe,Lhe,"app");const Bhe={apiKey:"AIzaSyCa4jaiAOgH5H8B6hSo4DU49WnkpGPeavA",authDomain:"hkmjbs-streaming.firebaseapp.com",databaseURL:"https://hkmjbs-streaming-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"hkmjbs-streaming",storageBucket:"hkmjbs-streaming.appspot.com",messagingSenderId:"537815456325",appId:"1:537815456325:web:c387796326f9db2726a12c"},vO=PW(Bhe),bu=Lse(vO);window.location.hostname==="localhost"&&Q8(bu,"localhost",9e3);const Sz={database:bu,get:t=>{const e=ip(bu,t);return K8(e).then(r=>{if(r.exists())return r.val()}).catch(r=>{throw console.error(r),r})},set:(t,e)=>{const r=ip(bu,t);return eO(r,e).catch(n=>{throw console.error(n),n})},update:(t,e)=>{const r=ip(bu,t);return H8(r,e).catch(n=>{throw console.error(n),n})},push:(t,e)=>{const r=ip(bu,t);return q8(r,e).catch(n=>{throw console.error(n),n})}},bO=E.createContext(Sz);function Uhe({children:t}){return u.jsx(bO.Provider,{value:Sz,children:t})}const Ez=()=>E.useContext(bO),Zr=(t,e)=>{const{database:r}=E.useContext(bO),n=E.useMemo(()=>ip(r,t),[r,t]),[i,o]=E.useState(),[s,a]=E.useState(e),l=E.useCallback(h=>eO(n,h),[n]),c=E.useCallback(h=>H8(n,h),[n]),f=E.useCallback(h=>q8(n,h),[n]);return E.useEffect(()=>{Mhe(e,s)||a(e)},[s,e]),E.useEffect(()=>{const h=[];s!=null&&s.order&&s.order.byChild&&h.push(Tse(s.order.byChild)),s!=null&&s.filter&&(typeof s.filter.equalTo<"u"&&h.push(Nse(s.filter.equalTo)),typeof s.filter.limitToLast<"u"&&h.push(Cse(s.filter.limitToLast)));const p=h.length>0?kse(n,...h):n;s!=null&&s.onlyOnce?K8(p).then(m=>{m.exists()&&o(m.val())}):wse(p,m=>{o(m.val())},s??{})},[s,n]),{data:E.useMemo(()=>i,[i]),set:l,update:c,push:f}};var Eg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sd=typeof window>"u"||"Deno"in window;function _i(){}function Vhe(t,e){return typeof t=="function"?t(e):t}function XP(t){return typeof t=="number"&&t>=0&&t!==1/0}function Az(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nF(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(n){if(e.queryHash!==xO(s,e.options))return!1}else if(!Om(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||o&&!o(e))}function iF(t,e){const{exact:r,status:n,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(km(e.options.mutationKey)!==km(o))return!1}else if(!Om(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function xO(t,e){return((e==null?void 0:e.queryKeyHashFn)||km)(t)}function km(t){return JSON.stringify(t,(e,r)=>ZP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Om(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Om(t[r],e[r])):!1}function Cz(t,e){if(t===e)return t;const r=oF(t)&&oF(e);if(r||ZP(t)&&ZP(e)){const n=r?t:Object.keys(t),i=n.length,o=r?e:Object.keys(e),s=o.length,a=r?[]:{};let l=0;for(let c=0;c<s;c++){const f=r?c:o[c];!r&&t[f]===void 0&&e[f]===void 0&&n.includes(f)?(a[f]=void 0,l++):(a[f]=Cz(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function JP(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function oF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ZP(t){if(!sF(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!sF(r)||!r.hasOwnProperty("isPrototypeOf"))}function sF(t){return Object.prototype.toString.call(t)==="[object Object]"}function Whe(t){return new Promise(e=>{setTimeout(e,t)})}function eT(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Cz(t,e):e}function zhe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ghe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Hl,sa,_f,VV,qhe=(VV=class extends Eg{constructor(){super();de(this,Hl,void 0);de(this,sa,void 0);de(this,_f,void 0);ae(this,_f,e=>{if(!sd&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){M(this,sa)||this.setEventListener(M(this,_f))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,sa))==null||e.call(this),ae(this,sa,void 0))}setEventListener(e){var r;ae(this,_f,e),(r=M(this,sa))==null||r.call(this),ae(this,sa,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){M(this,Hl)!==e&&(ae(this,Hl,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof M(this,Hl)=="boolean"?M(this,Hl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Hl=new WeakMap,sa=new WeakMap,_f=new WeakMap,VV),bx=new qhe,wf,aa,Sf,WV,Hhe=(WV=class extends Eg{constructor(){super();de(this,wf,!0);de(this,aa,void 0);de(this,Sf,void 0);ae(this,Sf,e=>{if(!sd&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){M(this,aa)||this.setEventListener(M(this,Sf))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,aa))==null||e.call(this),ae(this,aa,void 0))}setEventListener(e){var r;ae(this,Sf,e),(r=M(this,aa))==null||r.call(this),ae(this,aa,e(this.setOnline.bind(this)))}setOnline(e){M(this,wf)!==e&&(ae(this,wf,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return M(this,wf)}},wf=new WeakMap,aa=new WeakMap,Sf=new WeakMap,WV),xx=new Hhe;function Khe(t){return Math.min(1e3*2**t,3e4)}function Qw(t){return(t??"online")==="online"?xx.isOnline():!0}var Pz=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ZE(t){return t instanceof Pz}function Tz(t){let e=!1,r=0,n=!1,i,o,s;const a=new Promise((v,b)=>{o=v,s=b}),l=v=>{var b;n||(p(new Pz(v)),(b=t.abort)==null||b.call(t))},c=()=>{e=!0},f=()=>{e=!1},d=()=>!bx.isFocused()||t.networkMode!=="always"&&!xx.isOnline(),h=v=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,v),i==null||i(),o(v))},p=v=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,v),i==null||i(),s(v))},m=()=>new Promise(v=>{var b;i=g=>{const x=n||!d();return x&&v(g),x},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;i=void 0,n||(v=t.onContinue)==null||v.call(t)}),y=()=>{if(n)return;let v;try{v=t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(h).catch(b=>{var _;if(n)return;const g=t.retry??(sd?0:3),x=t.retryDelay??Khe,S=typeof x=="function"?x(r,b):x,w=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,b);if(e||!w){p(b);return}r++,(_=t.onFail)==null||_.call(t,r,b),Whe(S).then(()=>{if(d())return m()}).then(()=>{e?p(b):y()})})};return Qw(t.networkMode)?y():m().then(y),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:c,continueRetry:f}}function Qhe(){let t=[],e=0,r=h=>{h()},n=h=>{h()},i=h=>setTimeout(h,0);const o=h=>{i=h},s=h=>{let p;e++;try{p=h()}finally{e--,e||c()}return p},a=h=>{e?t.push(h):i(()=>{r(h)})},l=h=>(...p)=>{a(()=>{h(...p)})},c=()=>{const h=t;t=[],h.length&&i(()=>{n(()=>{h.forEach(p=>{r(p)})})})};return{batch:s,batchCalls:l,schedule:a,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{n=h},setScheduler:o}}var Vr=Qhe(),Kl,zV,Iz=(zV=class{constructor(){de(this,Kl,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XP(this.gcTime)&&ae(this,Kl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(sd?1/0:5*60*1e3))}clearGcTimeout(){M(this,Kl)&&(clearTimeout(M(this,Kl)),ae(this,Kl,void 0))}},Kl=new WeakMap,zV),Ef,Af,vi,la,bi,vr,Vy,Ql,Cf,B0,Hi,ss,GV,Yhe=(GV=class extends Iz{constructor(r){super();de(this,Cf);de(this,Hi);de(this,Ef,void 0);de(this,Af,void 0);de(this,vi,void 0);de(this,la,void 0);de(this,bi,void 0);de(this,vr,void 0);de(this,Vy,void 0);de(this,Ql,void 0);ae(this,Ql,!1),ae(this,Vy,r.defaultOptions),Oe(this,Cf,B0).call(this,r.options),ae(this,vr,[]),ae(this,vi,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,ae(this,Ef,r.state||Xhe(this.options)),this.state=M(this,Ef),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!M(this,vr).length&&this.state.fetchStatus==="idle"&&M(this,vi).remove(this)}setData(r,n){const i=eT(this.state.data,r,this.options);return Oe(this,Hi,ss).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){Oe(this,Hi,ss).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i;const n=M(this,la);return(i=M(this,bi))==null||i.cancel(r),n?n.then(_i).catch(_i):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Ef))}isActive(){return M(this,vr).some(r=>r.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||M(this,vr).some(r=>r.getCurrentResult().isStale)}isStaleByTime(r=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Az(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=M(this,vr).find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=M(this,bi))==null||n.continue()}onOnline(){var n;const r=M(this,vr).find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=M(this,bi))==null||n.continue()}addObserver(r){M(this,vr).includes(r)||(M(this,vr).push(r),this.clearGcTimeout(),M(this,vi).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){M(this,vr).includes(r)&&(ae(this,vr,M(this,vr).filter(n=>n!==r)),M(this,vr).length||(M(this,bi)&&(M(this,Ql)?M(this,bi).cancel({revert:!0}):M(this,bi).cancelRetry()),this.scheduleGc()),M(this,vi).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return M(this,vr).length}invalidate(){this.state.isInvalidated||Oe(this,Hi,ss).call(this,{type:"invalidate"})}fetch(r,n){var f,d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,la))return(f=M(this,bi))==null||f.continueRetry(),M(this,la)}if(r&&Oe(this,Cf,B0).call(this,r),!this.options.queryFn){const m=M(this,vr).find(y=>y.options.queryFn);m&&Oe(this,Cf,B0).call(this,m.options)}const i=new AbortController,o={queryKey:this.queryKey,meta:this.meta},s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ae(this,Ql,!0),i.signal)})};s(o);const a=()=>this.options.queryFn?(ae(this,Ql,!1),this.options.persister?this.options.persister(this.options.queryFn,o,this):this.options.queryFn(o)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(l),(d=this.options.behavior)==null||d.onFetch(l,this),ae(this,Af,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Oe(this,Hi,ss).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=m=>{var y,v,b,g;ZE(m)&&m.silent||Oe(this,Hi,ss).call(this,{type:"error",error:m}),ZE(m)||((v=(y=M(this,vi).config).onError)==null||v.call(y,m,this),(g=(b=M(this,vi).config).onSettled)==null||g.call(b,this.state.data,m,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ae(this,bi,Tz({fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var y,v,b,g;if(typeof m>"u"){c(new Error(`${this.queryHash} data is undefined`));return}this.setData(m),(v=(y=M(this,vi).config).onSuccess)==null||v.call(y,m,this),(g=(b=M(this,vi).config).onSettled)==null||g.call(b,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:c,onFail:(m,y)=>{Oe(this,Hi,ss).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Oe(this,Hi,ss).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Hi,ss).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode})),ae(this,la,M(this,bi).promise),M(this,la)}},Ef=new WeakMap,Af=new WeakMap,vi=new WeakMap,la=new WeakMap,bi=new WeakMap,vr=new WeakMap,Vy=new WeakMap,Ql=new WeakMap,Cf=new WeakSet,B0=function(r){this.options={...M(this,Vy),...r},this.updateGcTime(this.options.gcTime)},Hi=new WeakSet,ss=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:r.meta??null,fetchStatus:Qw(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=r.error;return ZE(o)&&o.revert&&M(this,Af)?{...M(this,Af),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),Vr.batch(()=>{M(this,vr).forEach(i=>{i.onQueryUpdate()}),M(this,vi).notify({query:this,type:"updated",action:r})})},GV);function Xhe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wo,qV,Jhe=(qV=class extends Eg{constructor(e={}){super();de(this,wo,void 0);this.config=e,ae(this,wo,new Map)}build(e,r,n){const i=r.queryKey,o=r.queryHash??xO(i,r);let s=this.get(o);return s||(s=new Yhe({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){M(this,wo).has(e.queryHash)||(M(this,wo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=M(this,wo).get(e.queryHash);r&&(e.destroy(),r===e&&M(this,wo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,wo).get(e)}getAll(){return[...M(this,wo).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>nF(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>nF(e,n)):r}notify(e){Vr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Vr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wo=new WeakMap,qV),So,Wy,Qn,Pf,Eo,qs,HV,Zhe=(HV=class extends Iz{constructor(r){super();de(this,Eo);de(this,So,void 0);de(this,Wy,void 0);de(this,Qn,void 0);de(this,Pf,void 0);this.mutationId=r.mutationId,ae(this,Wy,r.defaultOptions),ae(this,Qn,r.mutationCache),ae(this,So,[]),this.state=r.state||epe(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options={...M(this,Wy),...r},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){M(this,So).includes(r)||(M(this,So).push(r),this.clearGcTimeout(),M(this,Qn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){ae(this,So,M(this,So).filter(n=>n!==r)),this.scheduleGc(),M(this,Qn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){M(this,So).length||(this.state.status==="pending"?this.scheduleGc():M(this,Qn).remove(this))}continue(){var r;return((r=M(this,Pf))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var o,s,a,l,c,f,d,h,p,m,y,v,b,g,x,S,w,_,A,C;const n=()=>(ae(this,Pf,Tz({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{Oe(this,Eo,qs).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{Oe(this,Eo,qs).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Eo,qs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),M(this,Pf).promise),i=this.state.status==="pending";try{if(!i){Oe(this,Eo,qs).call(this,{type:"pending",variables:r}),await((s=(o=M(this,Qn).config).onMutate)==null?void 0:s.call(o,r,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,r));P!==this.state.context&&Oe(this,Eo,qs).call(this,{type:"pending",context:P,variables:r})}const T=await n();return await((f=(c=M(this,Qn).config).onSuccess)==null?void 0:f.call(c,T,r,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,T,r,this.state.context)),await((m=(p=M(this,Qn).config).onSettled)==null?void 0:m.call(p,T,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,T,null,r,this.state.context)),Oe(this,Eo,qs).call(this,{type:"success",data:T}),T}catch(T){try{throw await((g=(b=M(this,Qn).config).onError)==null?void 0:g.call(b,T,r,this.state.context,this)),await((S=(x=this.options).onError)==null?void 0:S.call(x,T,r,this.state.context)),await((_=(w=M(this,Qn).config).onSettled)==null?void 0:_.call(w,void 0,T,this.state.variables,this.state.context,this)),await((C=(A=this.options).onSettled)==null?void 0:C.call(A,void 0,T,r,this.state.context)),T}finally{Oe(this,Eo,qs).call(this,{type:"error",error:T})}}}},So=new WeakMap,Wy=new WeakMap,Qn=new WeakMap,Pf=new WeakMap,Eo=new WeakSet,qs=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Qw(this.options.networkMode),status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vr.batch(()=>{M(this,So).forEach(i=>{i.onMutationUpdate(r)}),M(this,Qn).notify({mutation:this,type:"updated",action:r})})},HV);function epe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xi,zy,Yl,KV,tpe=(KV=class extends Eg{constructor(e={}){super();de(this,xi,void 0);de(this,zy,void 0);de(this,Yl,void 0);this.config=e,ae(this,xi,[]),ae(this,zy,0)}build(e,r,n){const i=new Zhe({mutationCache:this,mutationId:++uv(this,zy)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){M(this,xi).push(e),this.notify({type:"added",mutation:e})}remove(e){ae(this,xi,M(this,xi).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){Vr.batch(()=>{M(this,xi).forEach(e=>{this.remove(e)})})}getAll(){return M(this,xi)}find(e){const r={exact:!0,...e};return M(this,xi).find(n=>iF(r,n))}findAll(e={}){return M(this,xi).filter(r=>iF(e,r))}notify(e){Vr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return ae(this,Yl,(M(this,Yl)??Promise.resolve()).then(()=>{const e=M(this,xi).filter(r=>r.state.isPaused);return Vr.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(_i)),Promise.resolve()))}).then(()=>{ae(this,Yl,void 0)})),M(this,Yl)}},xi=new WeakMap,zy=new WeakMap,Yl=new WeakMap,KV);function rpe(t){return{onFetch:(e,r)=>{const n=async()=>{var m,y,v,b,g;const i=e.options,o=(v=(y=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:y.fetchMore)==null?void 0:v.direction,s=((b=e.state.data)==null?void 0:b.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const f=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),h=async(x,S,w)=>{if(c)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const _={queryKey:e.queryKey,pageParam:S,direction:w?"backward":"forward",meta:e.options.meta};f(_);const A=await d(_),{maxPages:C}=e.options,T=w?Ghe:zhe;return{pages:T(x.pages,A,C),pageParams:T(x.pageParams,S,C)}};let p;if(o&&s.length){const x=o==="backward",S=x?npe:aF,w={pages:s,pageParams:a},_=S(i,w);p=await h(w,_,x)}else{p=await h(l,a[0]??i.initialPageParam);const x=t??s.length;for(let S=1;S<x;S++){const w=aF(i,p);p=await h(p,w)}}return p};e.options.persister?e.fetchFn=()=>{var i,o;return(o=(i=e.options).persister)==null?void 0:o.call(i,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function aF(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function npe(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}var ar,ca,ua,Tf,If,fa,Nf,kf,QV,ipe=(QV=class{constructor(t={}){de(this,ar,void 0);de(this,ca,void 0);de(this,ua,void 0);de(this,Tf,void 0);de(this,If,void 0);de(this,fa,void 0);de(this,Nf,void 0);de(this,kf,void 0);ae(this,ar,t.queryCache||new Jhe),ae(this,ca,t.mutationCache||new tpe),ae(this,ua,t.defaultOptions||{}),ae(this,Tf,new Map),ae(this,If,new Map),ae(this,fa,0)}mount(){uv(this,fa)._++,M(this,fa)===1&&(ae(this,Nf,bx.subscribe(()=>{bx.isFocused()&&(this.resumePausedMutations(),M(this,ar).onFocus())})),ae(this,kf,xx.subscribe(()=>{xx.isOnline()&&(this.resumePausedMutations(),M(this,ar).onOnline())})))}unmount(){var t,e;uv(this,fa)._--,M(this,fa)===0&&((t=M(this,Nf))==null||t.call(this),ae(this,Nf,void 0),(e=M(this,kf))==null||e.call(this),ae(this,kf,void 0))}isFetching(t){return M(this,ar).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,ca).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=M(this,ar).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=M(this,ar).find({queryKey:t}),i=n==null?void 0:n.state.data,o=Vhe(e,i);if(typeof o>"u")return;const s=this.defaultQueryOptions({queryKey:t});return M(this,ar).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Vr.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var e;return(e=M(this,ar).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=M(this,ar);Vr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=M(this,ar),n={type:"active",...t};return Vr.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Vr.batch(()=>M(this,ar).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(_i).catch(_i)}invalidateQueries(t={},e={}){return Vr.batch(()=>{if(M(this,ar).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Vr.batch(()=>M(this,ar).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(_i)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(_i)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const r=M(this,ar).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_i).catch(_i)}fetchInfiniteQuery(t){return t.behavior=rpe(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_i).catch(_i)}resumePausedMutations(){return M(this,ca).resumePausedMutations()}getQueryCache(){return M(this,ar)}getMutationCache(){return M(this,ca)}getDefaultOptions(){return M(this,ua)}setDefaultOptions(t){ae(this,ua,t)}setQueryDefaults(t,e){M(this,Tf).set(km(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,Tf).values()];let r={};return e.forEach(n=>{Om(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){M(this,If).set(km(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,If).values()];let r={};return e.forEach(n=>{Om(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...M(this,ua).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xO(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,ua).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,ar).clear(),M(this,ca).clear()}},ar=new WeakMap,ca=new WeakMap,ua=new WeakMap,Tf=new WeakMap,If=new WeakMap,fa=new WeakMap,Nf=new WeakMap,kf=new WeakMap,QV),Rn,Pt,Gy,bn,Xl,Of,Ao,qy,jf,Rf,Jl,Zl,da,$f,ec,op,Hy,tT,Ky,rT,Qy,nT,Yy,iT,Xy,oT,Jy,sT,Zy,aT,cw,Nz,YV,ope=(YV=class extends Eg{constructor(e,r){super();de(this,ec);de(this,Hy);de(this,Ky);de(this,Qy);de(this,Yy);de(this,Xy);de(this,Jy);de(this,Zy);de(this,cw);de(this,Rn,void 0);de(this,Pt,void 0);de(this,Gy,void 0);de(this,bn,void 0);de(this,Xl,void 0);de(this,Of,void 0);de(this,Ao,void 0);de(this,qy,void 0);de(this,jf,void 0);de(this,Rf,void 0);de(this,Jl,void 0);de(this,Zl,void 0);de(this,da,void 0);de(this,$f,new Set);this.options=r,ae(this,Rn,e),ae(this,Ao,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Pt).addObserver(this),lF(M(this,Pt),this.options)?Oe(this,ec,op).call(this):this.updateResult(),Oe(this,Yy,iT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lT(M(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lT(M(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,Xy,oT).call(this),Oe(this,Jy,sT).call(this),M(this,Pt).removeObserver(this)}setOptions(e,r){const n=this.options,i=M(this,Pt);if(this.options=M(this,Rn).defaultQueryOptions(e),JP(n,this.options)||M(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Pt),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),Oe(this,Zy,aT).call(this);const o=this.hasListeners();o&&cF(M(this,Pt),i,this.options,n)&&Oe(this,ec,op).call(this),this.updateResult(r),o&&(M(this,Pt)!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&Oe(this,Hy,tT).call(this);const s=Oe(this,Ky,rT).call(this);o&&(M(this,Pt)!==i||this.options.enabled!==n.enabled||s!==M(this,da))&&Oe(this,Qy,nT).call(this,s)}getOptimisticResult(e){const r=M(this,Rn).getQueryCache().build(M(this,Rn),e),n=this.createResult(r,e);return ape(this,n)&&(ae(this,bn,n),ae(this,Of,this.options),ae(this,Xl,M(this,Pt).state)),n}getCurrentResult(){return M(this,bn)}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(M(this,$f).add(n),e[n])})}),r}getCurrentQuery(){return M(this,Pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=M(this,Rn).defaultQueryOptions(e),n=M(this,Rn).getQueryCache().build(M(this,Rn),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Oe(this,ec,op).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,bn)))}createResult(e,r){var _;const n=M(this,Pt),i=this.options,o=M(this,bn),s=M(this,Xl),a=M(this,Of),c=e!==n?e.state:M(this,Gy),{state:f}=e;let{error:d,errorUpdatedAt:h,fetchStatus:p,status:m}=f,y=!1,v;if(r._optimisticResults){const A=this.hasListeners(),C=!A&&lF(e,r),T=A&&cF(e,n,r,i);(C||T)&&(p=Qw(e.options.networkMode)?"fetching":"paused",f.dataUpdatedAt||(m="pending")),r._optimisticResults==="isRestoring"&&(p="idle")}if(r.select&&typeof f.data<"u")if(o&&f.data===(s==null?void 0:s.data)&&r.select===M(this,qy))v=M(this,jf);else try{ae(this,qy,r.select),v=r.select(f.data),v=eT(o==null?void 0:o.data,v,r),ae(this,jf,v),ae(this,Ao,null)}catch(A){ae(this,Ao,A)}else v=f.data;if(typeof r.placeholderData<"u"&&typeof v>"u"&&m==="pending"){let A;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))A=o.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((_=M(this,Rf))==null?void 0:_.state.data,M(this,Rf)):r.placeholderData,r.select&&typeof A<"u")try{A=r.select(A),ae(this,Ao,null)}catch(C){ae(this,Ao,C)}typeof A<"u"&&(m="success",v=eT(o==null?void 0:o.data,A,r),y=!0)}M(this,Ao)&&(d=M(this,Ao),v=M(this,jf),h=Date.now(),m="error");const b=p==="fetching",g=m==="pending",x=m==="error",S=g&&b;return{status:m,fetchStatus:p,isPending:g,isSuccess:m==="success",isError:x,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:f.dataUpdatedAt,error:d,errorUpdatedAt:h,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!g,isLoadingError:x&&f.dataUpdatedAt===0,isPaused:p==="paused",isPlaceholderData:y,isRefetchError:x&&f.dataUpdatedAt!==0,isStale:_O(e,r),refetch:this.refetch}}updateResult(e){const r=M(this,bn),n=this.createResult(M(this,Pt),this.options);if(ae(this,Xl,M(this,Pt).state),ae(this,Of,this.options),M(this,Xl).data!==void 0&&ae(this,Rf,M(this,Pt)),JP(n,r))return;ae(this,bn,n);const i={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!M(this,$f).size)return!0;const l=new Set(a??M(this,$f));return this.options.throwOnError&&l.add("error"),Object.keys(M(this,bn)).some(c=>{const f=c;return M(this,bn)[f]!==r[f]&&l.has(f)})};(e==null?void 0:e.listeners)!==!1&&o()&&(i.listeners=!0),Oe(this,cw,Nz).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,Yy,iT).call(this)}},Rn=new WeakMap,Pt=new WeakMap,Gy=new WeakMap,bn=new WeakMap,Xl=new WeakMap,Of=new WeakMap,Ao=new WeakMap,qy=new WeakMap,jf=new WeakMap,Rf=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,da=new WeakMap,$f=new WeakMap,ec=new WeakSet,op=function(e){Oe(this,Zy,aT).call(this);let r=M(this,Pt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(_i)),r},Hy=new WeakSet,tT=function(){if(Oe(this,Xy,oT).call(this),sd||M(this,bn).isStale||!XP(this.options.staleTime))return;const r=Az(M(this,bn).dataUpdatedAt,this.options.staleTime)+1;ae(this,Jl,setTimeout(()=>{M(this,bn).isStale||this.updateResult()},r))},Ky=new WeakSet,rT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Pt)):this.options.refetchInterval)??!1},Qy=new WeakSet,nT=function(e){Oe(this,Jy,sT).call(this),ae(this,da,e),!(sd||this.options.enabled===!1||!XP(M(this,da))||M(this,da)===0)&&ae(this,Zl,setInterval(()=>{(this.options.refetchIntervalInBackground||bx.isFocused())&&Oe(this,ec,op).call(this)},M(this,da)))},Yy=new WeakSet,iT=function(){Oe(this,Hy,tT).call(this),Oe(this,Qy,nT).call(this,Oe(this,Ky,rT).call(this))},Xy=new WeakSet,oT=function(){M(this,Jl)&&(clearTimeout(M(this,Jl)),ae(this,Jl,void 0))},Jy=new WeakSet,sT=function(){M(this,Zl)&&(clearInterval(M(this,Zl)),ae(this,Zl,void 0))},Zy=new WeakSet,aT=function(){const e=M(this,Rn).getQueryCache().build(M(this,Rn),this.options);if(e===M(this,Pt))return;const r=M(this,Pt);ae(this,Pt,e),ae(this,Gy,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},cw=new WeakSet,Nz=function(e){Vr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(M(this,bn))}),M(this,Rn).getQueryCache().notify({query:M(this,Pt),type:"observerResultsUpdated"})})},YV);function spe(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function lF(t,e){return spe(t,e)||t.state.dataUpdatedAt>0&&lT(t,e,e.refetchOnMount)}function lT(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&_O(t,e)}return!1}function cF(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&_O(t,r)}function _O(t,e){return t.isStaleByTime(e.staleTime)}function ape(t,e){return!JP(t.getCurrentResult(),e)}var kz=E.createContext(void 0),lpe=t=>{const e=E.useContext(kz);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},cpe=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.createElement(kz.Provider,{value:t},e)),Oz=E.createContext(!1),upe=()=>E.useContext(Oz);Oz.Provider;function fpe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var dpe=E.createContext(fpe()),hpe=()=>E.useContext(dpe);function ppe(t,e){return typeof t=="function"?t(...e):!!t}var mpe=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},ype=t=>{E.useEffect(()=>{t.clearReset()},[t])},gpe=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&ppe(r,[t.error,n]),vpe=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},bpe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,xpe=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function _pe(t,e,r){const n=lpe(r),i=upe(),o=hpe(),s=n.defaultQueryOptions(t);s._optimisticResults=i?"isRestoring":"optimistic",vpe(s),mpe(s,o),ype(o);const[a]=E.useState(()=>new e(n,s)),l=a.getOptimisticResult(s);if(E.useSyncExternalStore(E.useCallback(c=>{const f=i?()=>{}:a.subscribe(Vr.batchCalls(c));return a.updateResult(),f},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),E.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),bpe(s,l))throw xpe(s,a,o);if(gpe({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw l.error;return s.notifyOnChangeProps?l:a.trackResult(l)}function Ko(t,e){return _pe(t,ope,e)}function jz(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=jz(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function wpe(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=jz(t))&&(n&&(n+=" "),n+=e);return n}const uF=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,fF=wpe,Rz=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return fF(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const f=r==null?void 0:r[c],d=o==null?void 0:o[c];if(f===null)return null;const h=uF(f)||uF(d);return i[c][h]}),a=r&&Object.entries(r).reduce((c,f)=>{let[d,h]=f;return h===void 0||(c[d]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(m=>{let[y,v]=m;return Array.isArray(v)?v.includes({...o,...a}[y]):{...o,...a}[y]===v})?[...c,d,h]:c},[]);return fF(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},Spe=Rz(["font-semibold"],{variants:{variant:{contained:["border","rounded"],text:[],icon:["hover:enabled:bg-opacity-50 leading-4"]},color:{primary:[],secondary:[],success:[],danger:[],inverted:[]},size:{small:["text-sm"],medium:["text-base"],large:["text-md"],xlarge:["text-2xl"]},disabled:{true:["cursor-not-allowed opacity-30"]},loading:{true:["cursor-wait opacity-30"]}},compoundVariants:[{variant:"contained",size:"small",className:"py-1 px-2"},{variant:"contained",size:"medium",className:"py-2 px-4"},{variant:"contained",size:"large",className:"py-2 px-4"},{variant:"contained",size:"xlarge",className:"py-4 px-4"},{color:"primary",variant:"contained",className:"bg-teal-800 text-white border-transparent hover:enabled:bg-teal-700"},{color:"secondary",variant:"contained",className:"bg-white text-gray-800 border-gray-400 hover:enabled:bg-gray-100"},{color:"success",variant:"contained",className:"bg-green-100 text-green-500 border-green-400 hover:enabled:bg-green-200"},{color:"danger",variant:"contained",className:"bg-red-100 text-red-500 border-red-400 hover:enabled:bg-red-200"},{color:"primary",variant:"text",className:"text-teal-800 hover:enabled:text-teal-700"},{color:"secondary",variant:"text",className:"text-gray-800 hover:enabled:text-gray-700"},{color:"success",variant:"text",className:"text-green-800 hover:enabled:text-green-700"},{color:"danger",variant:"text",className:"text-red-800 hover:enabled:text-red-700"},{color:"inverted",variant:"text",className:"text-gray-100 hover:enabled:text-gray-0"},{color:"primary",variant:"icon",className:"text-teal-800 hover:enabled:text-teal-700 hover:enabled:bg-teal-100"},{color:"secondary",variant:"icon",className:"text-gray-800 hover:enabled:text-gray-700 hover:enabled:bg-gray-100"},{color:"success",variant:"icon",className:"text-green-800 hover:enabled:text-green-700 hover:enabled:bg-green-100"},{color:"danger",variant:"icon",className:"text-red-800 hover:enabled:text-red-700 hover:enabled:bg-red-100"},{color:"primary",size:"medium",className:"uppercase"}],defaultVariants:{color:"primary",size:"medium",variant:"contained"}});function je({color:t,size:e,variant:r,className:n,type:i="button",loading:o,...s}){const a=E.useMemo(()=>Spe({color:t,size:e,variant:r,disabled:s.disabled,loading:o,className:n}),[t,e,r,s.disabled,o,n]);return u.jsx("button",{type:i,className:a,disabled:s.disabled||o,...s})}const Epe=typeof navigator>"u"?!1:navigator.product==="ReactNative",$z={timeout:Epe?6e4:12e4},Ape=function(e){const r={...$z,...typeof e=="string"?{url:e}:e},{searchParams:n}=new URL(r.url,"http://localhost");if(r.timeout=Dz(r.timeout),r.query){for(const[s,a]of Object.entries(r.query))if(a!==void 0)if(Array.isArray(a))for(const l of a)n.append(s,l);else n.append(s,a)}const[i]=r.url.split("?"),o=n.toString();return o&&(r.url="".concat(i,"?").concat(o)),r.method=r.body&&!r.method?"POST":(r.method||"GET").toUpperCase(),r};function Dz(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?Dz($z.timeout):{connect:e,socket:e}}const Cpe=/^https?:\/\//i,Ppe=function(e){if(!Cpe.test(e.url))throw new Error('"'.concat(e.url,'" is not a valid URL'))};var eA=function(t){return t.replace(/^\s+|\s+$/g,"")},Tpe=function(t){return Object.prototype.toString.call(t)==="[object Array]"},Ipe=function(t){if(!t)return{};for(var e={},r=eA(t).split(`
`),n=0;n<r.length;n++){var i=r[n],o=i.indexOf(":"),s=eA(i.slice(0,o)).toLowerCase(),a=eA(i.slice(o+1));typeof e[s]>"u"?e[s]=a:Tpe(e[s])?e[s].push(a):e[s]=[e[s],a]}return e};const Npe=st(Ipe),kpe=t=>function(r,n){const i=r==="onError";let o=n;for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];for(let c=0;c<t[r].length;c++){const f=t[r][c];if(o=f(o,...a),i&&!o)break}return o};function Ope(){const t=Object.create(null);let e=0;function r(i){const o=e++;return t[o]=i,function(){delete t[o]}}function n(i){for(const o in t)t[o](i)}return{publish:n,subscribe:r}}const jpe=["request","response","progress","error","abort"],dF=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function Mz(t,e){const r=[],n=dF.reduce((o,s)=>(o[s]=o[s]||[],o),{processOptions:[Ape],validateOptions:[Ppe]});function i(o){const s=(m,y,v)=>{let b=m,g=y;if(!b)try{g=l("onResponse",y,v)}catch(x){g=null,b=x}b=b&&l("onError",b,v),b?a.error.publish(b):g&&a.response.publish(g)},a=jpe.reduce((m,y)=>(m[y]=Ope(),m),{}),l=kpe(n),c=l("processOptions",o);l("validateOptions",c);const f={options:c,channels:a,applyMiddleware:l};let d;const h=a.request.subscribe(m=>{d=e(m,(y,v)=>s(y,v,m))});a.abort.subscribe(()=>{h(),d&&d.abort()});const p=l("onReturn",a,f);return p===a&&a.request.publish(f),p}return i.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return dF.forEach(a=>{s[a]&&n[a].push(s[a])}),r.push(s),i},i.clone=()=>Mz(r,e),t.forEach(i.use),i}var Fz=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},hi=(t,e,r)=>(Fz(t,e,"read from private field"),r?r.call(t):e.get(t)),pl=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Vs=(t,e,r,n)=>(Fz(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),U0,V0,xu,W0,Hs,z0,G0;class Lz{constructor(){this.readyState=0,this.responseType="",pl(this,U0,void 0),pl(this,V0,void 0),pl(this,xu,void 0),pl(this,W0,{}),pl(this,Hs,void 0),pl(this,z0,{}),pl(this,G0,void 0)}open(e,r,n){Vs(this,U0,e),Vs(this,V0,r),Vs(this,xu,""),this.readyState=1,this.onreadystatechange(),Vs(this,Hs,void 0)}abort(){hi(this,Hs)&&hi(this,Hs).abort()}getAllResponseHeaders(){return hi(this,xu)}setRequestHeader(e,r){hi(this,W0)[e]=r}setInit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Vs(this,z0,e),Vs(this,G0,r)}send(e){const r=this.responseType!=="arraybuffer",n={...hi(this,z0),method:hi(this,U0),headers:hi(this,W0),body:e};typeof AbortController=="function"&&hi(this,G0)&&(Vs(this,Hs,new AbortController),typeof EventTarget<"u"&&hi(this,Hs).signal instanceof EventTarget&&(n.signal=hi(this,Hs).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(hi(this,V0),n).then(i=>(i.headers.forEach((o,s)=>{Vs(this,xu,hi(this,xu)+"".concat(s,": ").concat(o,`\r
`))}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,r?i.text():i.arrayBuffer())).then(i=>{typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,this.onreadystatechange()}).catch(i=>{var o;if(i.name==="AbortError"){this.onabort();return}(o=this.onerror)==null||o.call(this,i)})}}U0=new WeakMap;V0=new WeakMap;xu=new WeakMap;W0=new WeakMap;Hs=new WeakMap;z0=new WeakMap;G0=new WeakMap;const cT=typeof XMLHttpRequest=="function"?"xhr":"fetch",Rpe=cT==="xhr"?XMLHttpRequest:Lz,$pe=(t,e)=>{var r;const n=t.options,i=t.applyMiddleware("finalizeOptions",n),o={},s=t.applyMiddleware("interceptRequest",void 0,{adapter:cT,context:t});if(s){const S=setTimeout(e,0,null,s);return{abort:()=>clearTimeout(S)}}let a=new Rpe;a instanceof Lz&&typeof i.fetch=="object"&&a.setInit(i.fetch,(r=i.useAbortSignal)!=null?r:!0);const l=i.headers,c=i.timeout;let f=!1,d=!1,h=!1;if(a.onerror=S=>{b(new Error("Request error while attempting to reach ".concat(i.url).concat(S.lengthComputable?"(".concat(S.loaded," of ").concat(S.total," bytes transferred)"):"")))},a.ontimeout=S=>{b(new Error("Request timeout while attempting to reach ".concat(i.url).concat(S.lengthComputable?"(".concat(S.loaded," of ").concat(S.total," bytes transferred)"):"")))},a.onabort=()=>{v(!0),f=!0},a.onreadystatechange=()=>{y(),!(f||a.readyState!==4)&&a.status!==0&&x()},a.open(i.method,i.url,!0),a.withCredentials=!!i.withCredentials,l&&a.setRequestHeader)for(const S in l)l.hasOwnProperty(S)&&a.setRequestHeader(S,l[S]);return i.rawBody&&(a.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:i,adapter:cT,request:a,context:t}),a.send(i.body||null),c&&(o.connect=setTimeout(()=>m("ETIMEDOUT"),c.connect)),{abort:p};function p(){f=!0,a&&a.abort()}function m(S){h=!0,a.abort();const w=new Error(S==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(i.url):"Connection timed out on request to ".concat(i.url));w.code=S,t.channels.error.publish(w)}function y(){c&&(v(),o.socket=setTimeout(()=>m("ESOCKETTIMEDOUT"),c.socket))}function v(S){(S||f||a.readyState>=2&&o.connect)&&clearTimeout(o.connect),o.socket&&clearTimeout(o.socket)}function b(S){if(d)return;v(!0),d=!0,a=null;const w=S||new Error("Network error while attempting to reach ".concat(i.url));w.isNetworkError=!0,w.request=i,e(w)}function g(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:i.url,method:i.method,headers:Npe(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function x(){if(!(f||d||h)){if(a.status===0){b(new Error("Unknown XHR error"));return}v(),d=!0,e(null,g())}}},Dpe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$pe;return Mz(t,e)};var hF={exports:{}},tA,pF;function Mpe(){if(pF)return tA;pF=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,o=n*365.25;tA=function(f,d){d=d||{};var h=typeof f;if(h==="string"&&f.length>0)return s(f);if(h==="number"&&isFinite(f))return d.long?l(f):a(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function s(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var h=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*o;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(f){var d=Math.abs(f);return d>=n?Math.round(f/n)+"d":d>=r?Math.round(f/r)+"h":d>=e?Math.round(f/e)+"m":d>=t?Math.round(f/t)+"s":f+"ms"}function l(f){var d=Math.abs(f);return d>=n?c(f,d,n,"day"):d>=r?c(f,d,r,"hour"):d>=e?c(f,d,e,"minute"):d>=t?c(f,d,t,"second"):f+" ms"}function c(f,d,h,p){var m=d>=h*1.5;return Math.round(f/h)+" "+p+(m?"s":"")}return tA}function Fpe(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=s,r.humanize=Mpe(),r.destroy=c,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let d=0;for(let h=0;h<f.length;h++)d=(d<<5)-d+f.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(f){let d,h=null,p,m;function y(...v){if(!y.enabled)return;const b=y,g=Number(new Date),x=g-(d||g);b.diff=x,b.prev=d,b.curr=g,d=g,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let S=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(_,A)=>{if(_==="%%")return"%";S++;const C=r.formatters[A];if(typeof C=="function"){const T=v[S];_=C.call(b,T),v.splice(S,1),S--}return _}),r.formatArgs.call(b,v),(b.log||r.log).apply(b,v)}return y.namespace=f,y.useColors=r.useColors(),y.color=r.selectColor(f),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,m=r.enabled(f)),m),set:v=>{h=v}}),typeof r.init=="function"&&r.init(y),y}function n(f,d){const h=r(this.namespace+(typeof d>"u"?":":d)+f);return h.log=this.log,h}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let d;const h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(d=0;d<p;d++)h[d]&&(f=h[d].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function o(){const f=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),f}function s(f){if(f[f.length-1]==="*")return!0;let d,h;for(d=0,h=r.skips.length;d<h;d++)if(r.skips[d].test(f))return!1;for(d=0,h=r.names.length;d<h;d++)if(r.names[d].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function l(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Lpe=Fpe;(function(t,e){var r={};e.formatArgs=i,e.save=o,e.load=s,e.useColors=n,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let d=0,h=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(h=d))}),c.splice(h,0,f)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=r.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=Lpe(e);const{formatters:l}=t.exports;l.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(hF,hF.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function mF(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bpe(t){var e,r;return mF(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(mF(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}const Upe=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t),Vpe=["boolean","string","number"];function Wpe(){return{processOptions:t=>{const e=t.body;return!e||!(!(typeof e.pipe=="function")&&!Upe(e)&&(Vpe.indexOf(typeof e)!==-1||Array.isArray(e)||Bpe(e)))?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function zpe(t){return{onResponse:r=>{const n=r.headers["content-type"]||"",i=t&&t.force||n.indexOf("application/json")!==-1;return!r.body||!n||!i?r:Object.assign({},r,{body:e(r.body)})},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(n){throw n.message="Failed to parsed response body as JSON: ".concat(n.message),n}}}let sp={};typeof globalThis<"u"?sp=globalThis:typeof window<"u"?sp=window:typeof global<"u"?sp=global:typeof self<"u"&&(sp=self);var Gpe=sp;function qpe(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Gpe.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e(i=>(r.error.subscribe(o=>i.error(o)),r.progress.subscribe(o=>i.next(Object.assign({type:"progress"},o))),r.response.subscribe(o=>{i.next(Object.assign({type:"response"},o)),i.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function Hpe(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,r=t.context;"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"));function n(i){return o=>{const s=o.lengthComputable?o.loaded/o.total*100:-1;r.channels.progress.publish({stage:i,percent:s,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}}}}class Kpe{constructor(e){this.__CANCEL__=!0,this.message=e}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const yF=class{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r=null;this.promise=new Promise(n=>{r=n}),e(n=>{this.reason||(this.reason=new Kpe(n),r(this.reason))})}};yF.source=()=>{let t;return{token:new yF(r=>{t=r}),cancel:t}};var Bz=(t,e,r)=>r.method!=="GET"&&r.method!=="HEAD"?!1:t.isNetworkError||!1;const Qpe=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";var Ype=t=>{const e=t.maxRetries||5,r=t.retryDelay||Xpe,n=t.shouldRetry;return{onError:(i,o)=>{const s=o.options,a=s.maxRetries||e,l=s.shouldRetry||n,c=s.attemptNumber||0;if(Qpe(s.body)||!l(i,c,s)||c>=a)return i;const f=Object.assign({},o,{options:Object.assign({},s,{attemptNumber:c+1})});return setTimeout(()=>o.channels.request.publish(f),r(c)),null}}};function Xpe(t){return 100*Math.pow(2,t)+Math.random()*100}const wO=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ype({shouldRetry:Bz,...t})};wO.shouldRetry=Bz;var uT=function(t,e){return uT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},uT(t,e)};function SO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _x=function(){return _x=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_x.apply(this,arguments)};function gF(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fT(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function dT(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Vo(t){return typeof t=="function"}function Uz(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var rA=Uz(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function vF(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var EO=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=gF(s),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else s.remove(this);var f=this.initialTeardown;if(Vo(f))try{f()}catch(y){o=y instanceof rA?y.errors:[y]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=gF(d),p=h.next();!p.done;p=h.next()){var m=p.value;try{bF(m)}catch(y){o=o??[],y instanceof rA?o=dT(dT([],fT(o)),fT(y.errors)):o.push(y)}}}catch(y){n={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}if(o)throw new rA(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)bF(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&vF(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&vF(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();EO.EMPTY;function Vz(t){return t instanceof EO||t&&"closed"in t&&Vo(t.remove)&&Vo(t.add)&&Vo(t.unsubscribe)}function bF(t){Vo(t)?t():t.unsubscribe()}var Wz={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zz={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,dT([t,e],fT(r)))},clearTimeout:function(t){var e=zz.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Jpe(t){zz.setTimeout(function(){throw t})}function xF(){}function Zpe(t){t()}var AO=function(t){SO(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Vz(r)&&r.add(n)):n.destination=nme,n}return e.create=function(r,n,i){return new hT(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(EO),eme=Function.prototype.bind;function nA(t,e){return eme.call(t,e)}var tme=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){jv(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){jv(n)}else jv(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){jv(r)}},t}(),hT=function(t){SO(e,t);function e(r,n,i){var o=t.call(this)||this,s;if(Vo(r)||!r)s={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;o&&Wz.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return o.unsubscribe()},s={next:r.next&&nA(r.next,a),error:r.error&&nA(r.error,a),complete:r.complete&&nA(r.complete,a)}):s=r}return o.destination=new tme(s),o}return e}(AO);function jv(t){Jpe(t)}function rme(t){throw t}var nme={closed:!0,next:xF,error:rme,complete:xF},ime=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ome(t){return t}function sme(t){return t.length===0?ome:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var jm=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=lme(e)?e:new hT(e,r,n);return Zpe(function(){var s=i,a=s.operator,l=s.source;o.add(a?a.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=_F(r),new r(function(i,o){var s=new hT({next:function(a){try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[ime]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return sme(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=_F(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function _F(t){var e;return(e=t??Wz.Promise)!==null&&e!==void 0?e:Promise}function ame(t){return t&&Vo(t.next)&&Vo(t.error)&&Vo(t.complete)}function lme(t){return t&&t instanceof AO||ame(t)&&Vz(t)}function cme(t){return Vo(t==null?void 0:t.lift)}function Gz(t){return function(e){if(cme(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function qz(t,e,r,n,i){return new ume(t,e,r,n,i)}var ume=function(t){SO(e,t);function e(r,n,i,o,s,a){var l=t.call(this,r)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=n?function(c){try{n(c)}catch(f){r.error(f)}}:t.prototype._next,l._error=o?function(c){try{o(c)}catch(f){r.error(f)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(AO),fme=Uz(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ar(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=!1,s;t.subscribe({next:function(a){s=a,o=!0},error:i,complete:function(){o?n(s):r?n(e.defaultValue):i(new fme)}})})}function Nc(t,e){return Gz(function(r,n){var i=0;r.subscribe(qz(n,function(o){n.next(t.call(e,o,i++))}))})}function Ag(t,e){return Gz(function(r,n){var i=0;r.subscribe(qz(n,function(o){return t.call(e,o,i++)&&n.next(o)}))})}const iA=5;class dme extends Error{constructor(e){const r=Hz(e);super(r.message),this.statusCode=400,Object.assign(this,r)}}class hme extends Error{constructor(e){const r=Hz(e);super(r.message),this.statusCode=500,Object.assign(this,r)}}function Hz(t){const e=t.body,r={response:t,statusCode:t.statusCode,responseBody:yme(e,t),message:"",details:void 0};if(e.error&&e.message)return r.message="".concat(e.error," - ").concat(e.message),r;if(pme(e)){const n=e.error.items||[],i=n.slice(0,iA).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let o=i.length?`:
- `.concat(i.join(`
- `)):"";return n.length>iA&&(o+=`
...and `.concat(n.length-iA," more")),r.message="".concat(e.error.description).concat(o),r.details=e.error,r}return e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||mme(t),r)}function pme(t){return wF(t)&&wF(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function wF(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function mme(t){const e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}function yme(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}const gme={onResponse:t=>{if(t.statusCode>=500)throw new hme(t);if(t.statusCode>=400)throw new dme(t);return t}},vme={onResponse:t=>{const e=t.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach(n=>console.warn(n)),t}};function SF(t,e){let{maxRetries:r=5,retryDelay:n}=e;const i=Dpe([r>0?wO({retryDelay:n,maxRetries:r,shouldRetry:bme}):{},...t,vme,Wpe(),zpe(),Hpe(),gme,qpe({implementation:jm})]);function o(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:i)({maxRedirects:0,...s})}return o.defaultRequester=i,o}function bme(t,e,r){const n=r.method==="GET"||r.method==="HEAD",o=(r.uri||r.url).startsWith("/data/query"),s=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(n||o)&&s?!0:wO.shouldRetry(t,e,r)}function Kz(t){if(typeof t=="string"||Array.isArray(t))return{id:t};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(e))}const EF=["image","file"],AF=["before","after","replace"],Qz=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},xme=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},_me=t=>{if(EF.indexOf(t)===-1)throw new Error("Invalid asset type: ".concat(t,". Must be one of ").concat(EF.join(", ")))},Mp=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error("".concat(t,"() takes an object of properties"))},Yz=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error("".concat(t,'(): "').concat(e,'" is not a valid document ID'))},wx=(t,e)=>{if(!e._id)throw new Error("".concat(t,'() requires that the document contains an ID ("_id" property)'));Yz(t,e._id)},wme=(t,e,r)=>{const n="insert(at, selector, items)";if(AF.indexOf(t)===-1){const i=AF.map(o=>'"'.concat(o,'"')).join(", ");throw new Error("".concat(n,' takes an "at"-argument which is one of: ').concat(i))}if(typeof e!="string")throw new Error("".concat(n,' takes a "selector"-argument which must be a string'));if(!Array.isArray(r))throw new Error("".concat(n,' takes an "items"-argument which must be an array'))},Xz=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},Jz=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t};var Zz=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},df=(t,e,r)=>(Zz(t,e,"read from private field"),r?r.call(t):e.get(t)),eG=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},tG=(t,e,r,n)=>(Zz(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_u,wu;class rG{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Mp("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,n){return wme(e,r,n),this._assign("insert",{[e]:r,items:n})}append(e,r){return this.insert("after","".concat(e,"[-1]"),r)}prepend(e,r){return this.insert("before","".concat(e,"[0]"),r)}splice(e,r,n,i){const o=typeof n>"u"||n===-1,s=r<0?r-1:r,a=o?-1:Math.max(0,r+n),l=s<0&&a>=0?"":a,c="".concat(e,"[").concat(s,":").concat(l,"]");return this.insert("replace",c,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...Kz(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Mp(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}}const Sme=class nG extends rG{constructor(e,r,n){super(e,r),eG(this,_u,void 0),tG(this,_u,n)}clone(){return new nG(this.selection,{...this.operations},df(this,_u))}commit(e){if(!df(this,_u))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",n=Object.assign({returnFirst:r,returnDocuments:!0},e);return df(this,_u).mutate({patch:this.serialize()},n)}};_u=new WeakMap;let Fp=Sme;const Eme=class iG extends rG{constructor(e,r,n){super(e,r),eG(this,wu,void 0),tG(this,wu,n)}clone(){return new iG(this.selection,{...this.operations},df(this,wu))}commit(e){if(!df(this,wu))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",n=Object.assign({returnFirst:r,returnDocuments:!0},e);return df(this,wu).mutate({patch:this.serialize()},n)}};wu=new WeakMap;let Lp=Eme;var oG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ga=(t,e,r)=>(oG(t,e,"read from private field"),r?r.call(t):e.get(t)),sG=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},aG=(t,e,r,n)=>(oG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_l,wl;const lG={returnDocuments:!1};class cG{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;this.operations=e,this.trxId=r}create(e){return Mp("create",e),this._add({create:e})}createIfNotExists(e){const r="createIfNotExists";return Mp(r,e),wx(r,e),this._add({[r]:e})}createOrReplace(e){const r="createOrReplace";return Mp(r,e),wx(r,e),this._add({[r]:e})}delete(e){return Yz("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}const Ame=class uG extends cG{constructor(e,r,n){super(e,n),sG(this,_l,void 0),aG(this,_l,r)}clone(){return new uG([...this.operations],ga(this,_l),this.trxId)}commit(e){if(!ga(this,_l))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return ga(this,_l).mutate(this.serialize(),Object.assign({transactionId:this.trxId},lG,e||{}))}patch(e,r){const n=typeof r=="function";if(typeof e!="string"&&e instanceof Lp)return this._add({patch:e.serialize()});if(n){const o=r(new Lp(e,{},ga(this,_l)));if(!(o instanceof Lp))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:e,...r}})}};_l=new WeakMap;let fG=Ame;const Cme=class dG extends cG{constructor(e,r,n){super(e,n),sG(this,wl,void 0),aG(this,wl,r)}clone(){return new dG([...this.operations],ga(this,wl),this.trxId)}commit(e){if(!ga(this,wl))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return ga(this,wl).mutate(this.serialize(),Object.assign({transactionId:this.trxId},lG,e||{}))}patch(e,r){const n=typeof r=="function";if(typeof e!="string"&&e instanceof Fp)return this._add({patch:e.serialize()});if(n){const o=r(new Fp(e,{},ga(this,wl)));if(!(o instanceof Fp))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:e,...r}})}};wl=new WeakMap;let hG=Cme;const Pme="https://www.sanity.io/help/";function CO(t){return Pme+t}function Tme(t){let e=!1,r;return function(){return e||(r=t(...arguments),e=!0),r}}const Yw=t=>Tme(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return console.warn(t.join(" "),...r)}),Ime=Yw(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Nme=Yw(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),kme=Yw(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(CO("js-client-browser-token")," for more information and how to hide this warning.")]),Ome=Yw(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(CO("js-client-api-version"))]),jme="apicdn.sanity.io",Sx={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},Rme=["localhost","127.0.0.1","0.0.0.0"],$me=t=>Rme.indexOf(t)!==-1,Dme=function(e){if(e==="1"||e==="X")return;const r=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&r instanceof Date&&r.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},pG=function(e){switch(e){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},mG=(t,e)=>{const r=Object.assign({},e,t);r.apiVersion||Ome();const n=Object.assign({},Sx,r),i=n.useProjectHostname;if(typeof Promise>"u"){const d=CO("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(d))}if(i&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(typeof n.perspective=="string"&&pG(n.perspective),"encodeSourceMapAtPath"in n||"encodeSourceMap"in n||"studioUrl"in n||"logger"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in n&&n.stega!==void 0&&n.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.");const o=typeof window<"u"&&window.location&&window.location.hostname,s=o&&$me(window.location.hostname);o&&s&&n.token&&n.ignoreBrowserTokenWarning!==!0?kme():typeof n.useCdn>"u"&&Ime(),i&&xme(n.projectId),n.dataset&&Qz(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Jz(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion="".concat(n.apiVersion).replace(/^v/,""),n.isDefaultApi=n.apiHost===Sx.apiHost,n.useCdn=n.useCdn!==!1&&!n.withCredentials,Dme(n.apiVersion);const a=n.apiHost.split("://",2),l=a[0],c=a[1],f=n.isDefaultApi?jme:c;return n.useProjectHostname?(n.url="".concat(l,"://").concat(n.projectId,".").concat(c,"/v").concat(n.apiVersion),n.cdnUrl="".concat(l,"://").concat(n.projectId,".").concat(f,"/v").concat(n.apiVersion)):(n.url="".concat(n.apiHost,"/v").concat(n.apiVersion),n.cdnUrl=n.url),n},Mme="X-Sanity-Project-ID";function Fme(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={},n=e.token||t.token;n&&(r.Authorization="Bearer ".concat(n)),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[Mme]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.token||t.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const yG=t=>{let{query:e,params:r={},options:n={}}=t;const i=new URLSearchParams,{tag:o,...s}=n;o&&i.append("tag",o),i.append("query",e);for(const[a,l]of Object.entries(r))i.append("$".concat(a),JSON.stringify(l));for(const[a,l]of Object.entries(s))l&&i.append(a,"".concat(l));return"?".concat(i)},Lme=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,Bme=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:t.dryRun,returnIds:!0,returnDocuments:Lme(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}},PO=t=>t.type==="response",Ume=t=>t.body,Vme=(t,e)=>t.reduce((r,n)=>(r[e(n)]=n,r),Object.create(null)),Wme=11264;function gG(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if("stega"in i&&i.stega!==void 0&&i.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'fetch' to 'false'.");const o=i.filterResponse===!1?f=>f:f=>f.result,{cache:s,next:a,...l}={useAbortSignal:typeof i.signal<"u",...i},c=typeof s<"u"||typeof a<"u"?{...l,fetch:{cache:s,next:a}}:l;return Cg(t,e,"query",{query:r,params:n},c).pipe(Nc(o))}function vG(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={uri:qd(t,"doc",r),json:!0,tag:n.tag};return Pg(t,e,i).pipe(Ag(PO),Nc(o=>o.body.documents&&o.body.documents[0]))}function bG(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={uri:qd(t,"doc",r.join(",")),json:!0,tag:n.tag};return Pg(t,e,i).pipe(Ag(PO),Nc(o=>{const s=Vme(o.body.documents||[],a=>a._id);return r.map(a=>s[a]||null)}))}function xG(t,e,r,n){return wx("createIfNotExists",r),Xw(t,e,r,"createIfNotExists",n)}function _G(t,e,r,n){return wx("createOrReplace",r),Xw(t,e,r,"createOrReplace",n)}function wG(t,e,r,n){return Cg(t,e,"mutate",{mutations:[{delete:Kz(r)}]},n)}function SG(t,e,r,n){let i;r instanceof Lp||r instanceof Fp?i={patch:r.serialize()}:r instanceof fG||r instanceof hG?i=r.serialize():i=r;const o=Array.isArray(i)?i:[i],s=n&&n.transactionId||void 0;return Cg(t,e,"mutate",{mutations:o,transactionId:s},n)}function Cg(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const o=r==="mutate",s=r==="query",a=o?"":yG(n),l=!o&&a.length<Wme,c=l?a:"",f=i.returnFirst,{timeout:d,token:h,tag:p,headers:m}=i,y=qd(t,r,c),v={method:l?"GET":"POST",uri:y,json:!0,body:l?void 0:n,query:o&&Bme(i),timeout:d,headers:m,token:h,tag:p,perspective:i.perspective,resultSourceMap:i.resultSourceMap,canUseCdn:s,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return Pg(t,e,v).pipe(Ag(PO),Nc(Ume),Nc(b=>{if(!o)return b;const g=b.results||[];if(i.returnDocuments)return f?g[0]&&g[0].document:g.map(w=>w.document);const x=f?"documentId":"documentIds",S=f?g[0]&&g[0].id:g.map(w=>w.id);return{transactionId:b.transactionId,results:g,[x]:S}}))}function Xw(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const o={[n]:r},s=Object.assign({returnFirst:!0,returnDocuments:!0},i);return Cg(t,e,"mutate",{mutations:[o]},s)}function Pg(t,e,r){var n,i;const o=r.url||r.uri,s=t.config(),a=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&o.indexOf("/data/")===0:r.canUseCdn;let l=((n=r.useCdn)!=null?n:s.useCdn)&&a;const c=r.tag&&s.requestTagPrefix?[s.requestTagPrefix,r.tag].join("."):r.tag||s.requestTagPrefix;if(c&&r.tag!==null&&(r.query={tag:Jz(c),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&o.indexOf("/data/query/")===0){const h=(i=r.resultSourceMap)!=null?i:s.resultSourceMap;h!==void 0&&h!==!1&&(r.query={resultSourceMap:h,...r.query});const p=r.perspective||s.perspective;typeof p=="string"&&p!=="raw"&&(pG(p),r.query={perspective:p,...r.query},p==="previewDrafts"&&l&&(l=!1,Nme()))}const f=Fme(s,Object.assign({},r,{url:TO(t,o,l)})),d=new jm(h=>e(f,s.requester).subscribe(h));return r.signal?d.pipe(zme(r.signal)):d}function po(t,e,r){return Pg(t,e,r).pipe(Ag(i=>i.type==="response"),Nc(i=>i.body))}function qd(t,e,r){const n=t.config(),i=Xz(n),o="/".concat(e,"/").concat(i),s=r?"".concat(o,"/").concat(r):o;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function TO(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:n,cdnUrl:i}=t.config(),o=r?i:n;return"".concat(o,"/").concat(e.replace(/^\//,""))}function zme(t){return e=>new jm(r=>{const n=()=>r.error(qme(t));if(t&&t.aborted){n();return}const i=e.subscribe(r);return t.addEventListener("abort",n),()=>{t.removeEventListener("abort",n),i.unsubscribe()}})}const Gme=!!globalThis.DOMException;function qme(t){var e,r;if(Gme)return new DOMException((e=t==null?void 0:t.reason)!=null?e:"The operation was aborted.","AbortError");const n=new Error((r=t==null?void 0:t.reason)!=null?r:"The operation was aborted.");return n.name="AbortError",n}var EG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ex=(t,e,r)=>(EG(t,e,"read from private field"),r?r.call(t):e.get(t)),Ax=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Cx=(t,e,r,n)=>(EG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),q0,H0,K0,Q0;class Hme{constructor(e,r){Ax(this,q0,void 0),Ax(this,H0,void 0),Cx(this,q0,e),Cx(this,H0,r)}upload(e,r,n){return AG(Ex(this,q0),Ex(this,H0),e,r,n)}}q0=new WeakMap;H0=new WeakMap;class Kme{constructor(e,r){Ax(this,K0,void 0),Ax(this,Q0,void 0),Cx(this,K0,e),Cx(this,Q0,r)}upload(e,r,n){const i=AG(Ex(this,K0),Ex(this,Q0),e,r,n);return Ar(i.pipe(Ag(o=>o.type==="response"),Nc(o=>o.body.document)))}}K0=new WeakMap;Q0=new WeakMap;function AG(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};_me(r);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);const s=Xz(t.config()),a=r==="image"?"images":"files",l=Qme(i,n),{tag:c,label:f,title:d,description:h,creditLine:p,filename:m,source:y}=l,v={label:f,title:d,description:h,filename:m,meta:o,creditLine:p};return y&&(v.sourceId=y.id,v.sourceName=y.name,v.sourceUrl=y.url),Pg(t,e,{tag:c,method:"POST",timeout:l.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:l.contentType?{"Content-Type":l.contentType}:{},query:v,body:n})}function Qme(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var Yme=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((r,n)=>(r[n]=typeof t[n]>"u"?e[n]:t[n],r),{});const Xme=(t,e)=>e.reduce((r,n)=>(typeof t[n]>"u"||(r[n]=t[n]),r),{}),Jme=14800,Zme=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],eye={includeResult:!0};function CG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:n,token:i,withCredentials:o,requestTagPrefix:s}=this.config(),a=r.tag&&s?[s,r.tag].join("."):r.tag,l={...Yme(r,eye),tag:a},c=Xme(l,Zme),f=yG({query:t,params:e,options:{tag:a,...c}}),d="".concat(n).concat(qd(this,"listen",f));if(d.length>Jme)return new jm(y=>y.error(new Error("Query too large for listener")));const h=l.events?l.events:["mutation"],p=h.indexOf("reconnect")!==-1,m={};return(i||o)&&(m.withCredentials=!0),i&&(m.headers={Authorization:"Bearer ".concat(i)}),new jm(y=>{let v;T().then(O=>{v=O}).catch(O=>{y.error(O),I()});let b,g=!1;function x(){g||(C(),!g&&v.readyState===v.CLOSED&&(A(),clearTimeout(b),b=setTimeout(P,100)))}function S(O){y.error(tye(O))}function w(O){const N=PG(O);return N instanceof Error?y.error(N):y.next(N)}function _(){g=!0,A(),y.complete()}function A(){v&&(v.removeEventListener("error",x),v.removeEventListener("channelError",S),v.removeEventListener("disconnect",_),h.forEach(O=>v.removeEventListener(O,w)),v.close())}function C(){p&&y.next({type:"reconnect"})}async function T(){const{default:O}=await pW(()=>import("./browser-DHiQpBDG.js").then(R=>R.b),__vite__mapDeps([])),N=new O(d,m);return N.addEventListener("error",x),N.addEventListener("channelError",S),N.addEventListener("disconnect",_),h.forEach(R=>N.addEventListener(R,w)),N}function P(){T().then(O=>{v=O}).catch(O=>{y.error(O),I()})}function I(){g=!0,A()}return I})}function PG(t){try{const e=t.data&&JSON.parse(t.data)||{};return Object.assign({type:t.type},e)}catch(e){return e}}function tye(t){if(t instanceof Error)return t;const e=PG(t);return e instanceof Error?e:new Error(rye(e))}function rye(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}var TG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},sn=(t,e,r)=>(TG(t,e,"read from private field"),r?r.call(t):e.get(t)),Px=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Tx=(t,e,r,n)=>(TG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Sl,El,Al,Cl;class nye{constructor(e,r){Px(this,Sl,void 0),Px(this,El,void 0),Tx(this,Sl,e),Tx(this,El,r)}create(e,r){return hf(sn(this,Sl),sn(this,El),"PUT",e,r)}edit(e,r){return hf(sn(this,Sl),sn(this,El),"PATCH",e,r)}delete(e){return hf(sn(this,Sl),sn(this,El),"DELETE",e)}list(){return po(sn(this,Sl),sn(this,El),{uri:"/datasets",tag:null})}}Sl=new WeakMap;El=new WeakMap;class iye{constructor(e,r){Px(this,Al,void 0),Px(this,Cl,void 0),Tx(this,Al,e),Tx(this,Cl,r)}create(e,r){return Ar(hf(sn(this,Al),sn(this,Cl),"PUT",e,r))}edit(e,r){return Ar(hf(sn(this,Al),sn(this,Cl),"PATCH",e,r))}delete(e){return Ar(hf(sn(this,Al),sn(this,Cl),"DELETE",e))}list(){return Ar(po(sn(this,Al),sn(this,Cl),{uri:"/datasets",tag:null}))}}Al=new WeakMap;Cl=new WeakMap;function hf(t,e,r,n,i){return Qz(n),po(t,e,{method:r,uri:"/datasets/".concat(n),body:i,tag:null})}var IG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},va=(t,e,r)=>(IG(t,e,"read from private field"),r?r.call(t):e.get(t)),Ix=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Nx=(t,e,r,n)=>(IG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ap,lp,cp,up;class oye{constructor(e,r){Ix(this,ap,void 0),Ix(this,lp,void 0),Nx(this,ap,e),Nx(this,lp,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return po(va(this,ap),va(this,lp),{uri:r})}getById(e){return po(va(this,ap),va(this,lp),{uri:"/projects/".concat(e)})}}ap=new WeakMap;lp=new WeakMap;class sye{constructor(e,r){Ix(this,cp,void 0),Ix(this,up,void 0),Nx(this,cp,e),Nx(this,up,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Ar(po(va(this,cp),va(this,up),{uri:r}))}getById(e){return Ar(po(va(this,cp),va(this,up),{uri:"/projects/".concat(e)}))}}cp=new WeakMap;up=new WeakMap;var NG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},kx=(t,e,r)=>(NG(t,e,"read from private field"),r?r.call(t):e.get(t)),Ox=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},jx=(t,e,r,n)=>(NG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Y0,X0,J0,Z0;class aye{constructor(e,r){Ox(this,Y0,void 0),Ox(this,X0,void 0),jx(this,Y0,e),jx(this,X0,r)}getById(e){return po(kx(this,Y0),kx(this,X0),{uri:"/users/".concat(e)})}}Y0=new WeakMap;X0=new WeakMap;class lye{constructor(e,r){Ox(this,J0,void 0),Ox(this,Z0,void 0),jx(this,J0,e),jx(this,Z0,r)}getById(e){return Ar(po(kx(this,J0),kx(this,Z0),{uri:"/users/".concat(e)}))}}J0=new WeakMap;Z0=new WeakMap;var kG=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ne=(t,e,r)=>(kG(t,e,"read from private field"),r?r.call(t):e.get(t)),Rx=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},$x=(t,e,r,n)=>(kG(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Pl,gr,Tl,or;const cye=class pT{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sx;Rx(this,Pl,void 0),Rx(this,gr,void 0),this.listen=CG,this.config(r),$x(this,gr,e),this.assets=new Hme(this,Ne(this,gr)),this.datasets=new nye(this,Ne(this,gr)),this.projects=new oye(this,Ne(this,gr)),this.users=new aye(this,Ne(this,gr))}clone(){return new pT(Ne(this,gr),this.config())}config(e){if(e===void 0)return{...Ne(this,Pl)};if(Ne(this,Pl)&&Ne(this,Pl).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return $x(this,Pl,mG(e,Ne(this,Pl)||{})),this}withConfig(e){return new pT(Ne(this,gr),{...this.config(),...e})}fetch(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return gG(this,Ne(this,gr),e,r,n)}getDocument(e,r){return vG(this,Ne(this,gr),e,r)}getDocuments(e,r){return bG(this,Ne(this,gr),e,r)}create(e,r){return Xw(this,Ne(this,gr),e,"create",r)}createIfNotExists(e,r){return xG(this,Ne(this,gr),e,r)}createOrReplace(e,r){return _G(this,Ne(this,gr),e,r)}delete(e,r){return wG(this,Ne(this,gr),e,r)}mutate(e,r){return SG(this,Ne(this,gr),e,r)}patch(e,r){return new Fp(e,r,this)}transaction(e){return new hG(e,this)}request(e){return po(this,Ne(this,gr),e)}getUrl(e,r){return TO(this,e,r)}getDataUrl(e,r){return qd(this,e,r)}};Pl=new WeakMap;gr=new WeakMap;let uye=cye;const fye=class mT{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sx;Rx(this,Tl,void 0),Rx(this,or,void 0),this.listen=CG,this.config(r),$x(this,or,e),this.assets=new Kme(this,Ne(this,or)),this.datasets=new iye(this,Ne(this,or)),this.projects=new sye(this,Ne(this,or)),this.users=new lye(this,Ne(this,or)),this.observable=new uye(e,r)}clone(){return new mT(Ne(this,or),this.config())}config(e){if(e===void 0)return{...Ne(this,Tl)};if(Ne(this,Tl)&&Ne(this,Tl).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),$x(this,Tl,mG(e,Ne(this,Tl)||{})),this}withConfig(e){return new mT(Ne(this,or),{...this.config(),...e})}fetch(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ar(gG(this,Ne(this,or),e,r,n))}getDocument(e,r){return Ar(vG(this,Ne(this,or),e,r))}getDocuments(e,r){return Ar(bG(this,Ne(this,or),e,r))}create(e,r){return Ar(Xw(this,Ne(this,or),e,"create",r))}createIfNotExists(e,r){return Ar(xG(this,Ne(this,or),e,r))}createOrReplace(e,r){return Ar(_G(this,Ne(this,or),e,r))}delete(e,r){return Ar(wG(this,Ne(this,or),e,r))}mutate(e,r){return Ar(SG(this,Ne(this,or),e,r))}patch(e,r){return new Lp(e,r,this)}transaction(e){return new fG(e,this)}request(e){return Ar(po(this,Ne(this,or),e))}dataRequest(e,r,n){return Ar(Cg(this,Ne(this,or),e,r,n))}getUrl(e,r){return TO(this,e,r)}getDataUrl(e,r){return qd(this,e,r)}};Tl=new WeakMap;or=new WeakMap;let dye=fye;function hye(t,e){return{requester:SF(t,{}).defaultRequester,createClient:o=>new e(SF(t,{maxRetries:o.maxRetries,retryDelay:o.retryDelay}),o)}}var pye=[];const mye=hye(pye,dye),yye=mye.createClient;var gye={VITE_GOOGLE_DRIVE_API_KEY:"AIzaSyC7KJIuaklIdqAKSEyoxr-_aJuEiZCWaiQ",VITE_IMGUR_CLIENT_ID:"6c65de36fe2a506",VITE_IMGUR_API_KEY:"87d72ff33afd8692c44b8bc013ad38293056c54b",VITE_IMGUR_ALBUM_ID:"o2qeHx9",VITE_HOMEPAGE_HOST:"https://hkleague2024.hkmahjong.org",VITE_CMS_HOST:"https://hkmjbs.sanity.studio",VITE_TOURNAMENT_ID:"b6908027-9179-485a-8bce-822c42114371",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const IO='_id, name, nickname, designation, "portraitImage": portraitImage.asset->url',Oo='_id, "slug": slug.current, name, secondaryName, thirdName, "squareLogoImage": squareLogoImage.asset->url, "color": color.hex, description',ba=`team->{${Oo}}, player->{${IO}}, overridedDesignation, overridedName, overridedNickname, "overridedColor": overridedColor.hex, "overridedPortraitImage": overridedPortraitImage.asset->url`,Hd=yye({projectId:"0a9a4r26",dataset:"production",useCdn:!0,apiVersion:"2023-05-03",token:gye.VITE_DATABASE_API_KEY}),vye=async(t,e)=>{const r=await Hd.fetch(`*[_type == "teamPlayer" && team._ref in [${t.map(i=>`"${i}"`).join(",")}]] | { "teamId": team._ref, player->{${IO}, "statistics": statistics[_key=="${e}"][0] } }`),n={};for(let i=0;i<r.length;i++){const o=r[i];n[o.teamId]||(n[o.teamId]=[]),n[o.teamId].push(io(null,o))}return n},bye=()=>Hd.fetch(`*[_type == "match" && !(_id in path("drafts.**")) && (status == "initialized" || status == "streaming")] | order(startAt asc)[0...10]{ _id, name, playerEast->{${ba}}, playerSouth->{${ba}}, playerWest->{${ba}}, playerNorth->{${ba}}, playerEastTeam->{${Oo}}, playerSouthTeam->{${Oo}}, playerWestTeam->{${Oo}}, playerNorthTeam->{${Oo}}, startAt, tournament->{_id, name, "logoUrl": logo.asset->url, startingScore, isManganRoundUp, yakuMax, yakumanMax}}`).then(t=>t.map(e=>{const{playerEast:r,playerEastTeam:n,playerSouth:i,playerSouthTeam:o,playerWest:s,playerWestTeam:a,playerNorth:l,playerNorthTeam:c,...f}=e,d={...f,nameAlt:f.name.startsWith("常規賽 #23Pre")?`常規賽 ${f.startAt.substring(0,10)} 第${f.name[f.name.length-1]}回戰`:f.name,playerEast:io(n,r),playerSouth:io(o,i),playerWest:io(a,s),playerNorth:io(c,l),_order:["playerEast","playerSouth","playerWest","playerNorth"]};if(r&&n&&i&&o&&s&&a&&l&&c){const h={[r.team._id]:"playerEast",[i.team._id]:"playerSouth",[s.team._id]:"playerWest",[l.team._id]:"playerNorth"};d._order=[h[n._id],h[o._id],h[a._id],h[c._id]]}return d})),NO=async(t,e)=>{const r=await Hd.fetch(`*[_type == "match" && _id == "${t}"]{ _id, name, playerEast->{${ba}}, playerSouth->{${ba}}, playerWest->{${ba}}, playerNorth->{${ba}}, playerEastTeam->{${Oo}}, playerSouthTeam->{${Oo}}, playerWestTeam->{${Oo}}, playerNorthTeam->{${Oo}}, startAt, youtubeUrl, bilibiliUrl, result, rounds, tournament->{_id, name, "logoUrl": logo.asset->url, startingScore, isManganRoundUp, yakuMax, yakumanMax, teams[]{ "_id": team._ref, matchCount, ranking, point }}}`).then(n=>{const{playerEast:i,playerEastTeam:o,playerSouth:s,playerSouthTeam:a,playerWest:l,playerWestTeam:c,playerNorth:f,playerNorthTeam:d,...h}=n[0],p={...h,nameAlt:h.name.startsWith("常規賽 #23Pre")?`常規賽 ${h.startAt.substring(0,10)} 第${h.name[h.name.length-1]}回戰`:h.name,playerEast:io(o,i),playerSouth:io(a,s),playerWest:io(c,l),playerNorth:io(d,f),_order:["playerEast","playerSouth","playerWest","playerNorth"]};if(i&&o&&s&&a&&l&&c&&f&&d){const m={[i.team._id]:"playerEast",[s.team._id]:"playerSouth",[l.team._id]:"playerWest",[f.team._id]:"playerNorth"};p._order=[m[o._id],m[a._id],m[c._id],m[d._id]]}return p});if(e){const n=[r.playerEast.playerId,r.playerSouth.playerId,r.playerWest.playerId,r.playerNorth.playerId].filter(i=>i!=="");if(n.length>0){const i=await xye(n,r.tournament._id);r.playerEast.playerStatistic=i[r.playerEast.playerId],r.playerSouth.playerStatistic=i[r.playerSouth.playerId],r.playerWest.playerStatistic=i[r.playerWest.playerId],r.playerNorth.playerStatistic=i[r.playerNorth.playerId]}r.playerEast.teamStatistic=r.tournament.teams.find(({_id:i})=>i===r.playerEast.teamId)||null,r.playerSouth.teamStatistic=r.tournament.teams.find(({_id:i})=>i===r.playerSouth.teamId)||null,r.playerWest.teamStatistic=r.tournament.teams.find(({_id:i})=>i===r.playerWest.teamId)||null,r.playerNorth.teamStatistic=r.tournament.teams.find(({_id:i})=>i===r.playerNorth.teamId)||null}return r},xye=async(t,e)=>Hd.fetch(`*[_type=="player" && _id in [${t.map(r=>`"${r}"`).join(",")}]]{ _id, "statistics": statistics[_key=="${e}"][0] }`).then(r=>r.reduce((n,i)=>{if(!i.statistics||i.statistics.matchCount<=0)return n;const o={point:i.statistics.point,matchCount:i.statistics.matchCount,nonFourthP:i.statistics.nonFourthP,firstAndSecondP:i.statistics.firstAndSecondP,ronP:i.statistics.ronP,riichiP:i.statistics.riichiP,chuckP:i.statistics.chuckP,revealP:i.statistics.revealP,ronPureScoreAvg:i.statistics.ronPureScoreAvg,chuckPureScoreAvg:i.statistics.chuckPureScoreAvg,pointRanking:i.statistics.pointRanking,nonFourthPRanking:i.statistics.nonFourthPRanking,firstAndSecondPRanking:i.statistics.firstAndSecondPRanking,ronPRanking:i.statistics.ronPRanking,riichiPRanking:i.statistics.riichiPRanking,chuckPRanking:i.statistics.chuckPRanking,revealPRanking:i.statistics.revealPRanking,ronPureScoreAvgRanking:i.statistics.ronPureScoreAvgRanking,chuckPureScoreAvgRanking:i.statistics.chuckPureScoreAvgRanking};return n[i._id]=o,n},{})),fp=t=>{const e=`${t.playerPortraitImageUrl}?w=360&h=500`,r=`${t.teamLogoImageUrl}?w=500&h=500`,n=`${t.teamLogoImageUrl}?w=1000&h=1000`,i=t.playerDesignation,o=t.playerName,s=t.color;return{name:o,nickname:t.playerNickname,color:s,title:i,teamPicUrl:r,largeTeamPicUrl:n,proPicUrl:e}},io=(t,e)=>{const r={playerId:"",playerName:"",playerNickname:"",playerDesignation:"",playerPortraitImageUrl:"https://hkleague2024.hkmahjong.org/images/empty.png",playerFullname:"",playerStatistic:null,teamId:"",teamName:"",teamSecondaryName:"",teamThirdName:"",teamFullname:"",teamStatistic:null,color:"#000000",teamLogoImageUrl:"https://hkleague2024.hkmahjong.org/images/empty.png"};if(e){if(e.player){r.playerId=e.player._id,r.playerName=e.player.name,e.player.nickname&&(r.playerNickname=e.player.nickname),e.player.designation&&(r.playerDesignation=e.player.designation),e.player.portraitImage&&(r.playerPortraitImageUrl=e.player.portraitImage);const n=e.player.statistics;r.playerStatistic=n&&n.matchCount>0?{point:n.point,pointRanking:n.pointRanking,matchCount:n.matchCount,nonFourthP:n.nonFourthP,nonFourthPRanking:n.nonFourthPRanking,firstAndSecondP:n.firstAndSecondP,firstAndSecondPRanking:n.firstAndSecondPRanking,riichiP:n.riichiP,riichiPRanking:n.riichiPRanking,ronP:n.ronP,ronPRanking:n.ronPRanking,chuckP:n.chuckP,chuckPRanking:n.chuckPRanking,revealP:n.revealP,revealPRanking:n.revealPRanking,ronPureScoreAvg:n.ronPureScoreAvg,ronPureScoreAvgRanking:n.ronPureScoreAvgRanking,chuckPureScoreAvg:n.chuckPureScoreAvg,chuckPureScoreAvgRanking:n.chuckPureScoreAvgRanking}:null}e.team&&(r.teamId=e.team._id,r.teamName=e.team.name,r.teamSecondaryName=e.team.secondaryName,r.teamThirdName=e.team.thirdName,r.color=e.team.color,e.team.squareLogoImage&&(r.teamLogoImageUrl=e.team.squareLogoImage)),r.playerFullname=r.playerName+(r.playerNickname?` (${r.playerNickname})`:""),r.teamFullname=[r.teamName,r.teamSecondaryName,r.teamThirdName].filter(n=>!!n).join(" "),r.playerDesignation=r.teamFullname,e.overridedDesignation&&(r.playerDesignation=e.overridedDesignation),e.overridedName&&(r.playerName=e.overridedName),e.overridedNickname&&(r.playerNickname=e.overridedNickname),e.overridedColor&&(r.color=e.overridedColor),e.overridedPortraitImage&&(r.playerPortraitImageUrl=e.overridedPortraitImage)}else t&&(r.teamId=t._id,r.teamName=t.name,r.teamSecondaryName=t.secondaryName,r.teamThirdName=t.thirdName,r.color=t.color,t.squareLogoImage&&(r.teamLogoImageUrl=t.squareLogoImage),r.teamFullname=[r.teamName,r.teamSecondaryName,r.teamThirdName].filter(n=>!!n).join(" "));return r},Jw=async t=>await Hd.fetch(`*[_type == "matchTournament" && _id == "${t}"][0]{..., "logoUrl": logo.asset->url, teams[]{..., team->{${Oo}}}}`),OG=async t=>await Hd.fetch(`*[_type=="teamPlayer" && !(_id in path("drafts.**")) && defined(player->statistics[_key=="${t}"])]{"teamId": team._ref, player->{${IO}, "statistics": statistics[_key=="${t}"][0]}, overridedDesignation, overridedName, overridedNickname, "overridedColor": overridedColor.hex, "overridedPortraitImage": overridedPortraitImage.asset->url}`);Jw("b6908027-9179-485a-8bce-822c42114371");const CF=`body { 
  background-color: rgba(0, 0, 0, 0); 
  color: rgba(0, 0, 0, 0); 
  margin: 0px auto; 
  overflow: hidden; 
}

.body-hidden {
  display: none;
}`;function _ye(){const t=E.useCallback(()=>{window.navigator.clipboard.writeText(CF)},[]);return u.jsx("div",{className:"flex items-center justify-center gap-x-8",children:u.jsxs("div",{children:[u.jsx("p",{children:"1. 打開OBS"}),u.jsxs("p",{children:["2. 來源 ","->"," + ","->"," 瀏覽器，然後照下面設定"]}),u.jsxs("p",{children:["- 網址 = ",u.jsx("strong",{children:"上述網址"}),u.jsx("br",{}),"- 寬度 = 1920, 高度 = 1080",u.jsx("br",{})," - 自訂CSS ="," ",u.jsxs("div",{className:"relative bg-gray-700 text-white p-4 rounded",children:[u.jsx("pre",{children:CF}),u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx("button",{type:"button",onClick:t,children:u.jsx("i",{className:"bi bi-copy"})})})]}),u.jsx("br",{}),"其餘默認即可。"]}),u.jsx("p",{children:"4. 確定"})]})})}let wye=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");const hs=(t=12)=>wye(t),Sye=()=>{const t=new Date;return`${t.getFullYear()}${t.getMonth()+1}${t.getDate()}`},yT=t=>`https://api.qrserver.com/v1/create-qr-code/?size=512x512&data=${t}`,kO=t=>{let e=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),n=parseInt(t.substring(5,7),16);e=Math.round(e*1.25),r=Math.round(r*1.25),n=Math.round(n*1.25),e=e<255?e:255,r=r<255?r:255,n=n<255?n:255,e=Math.round(e),r=Math.round(r),n=Math.round(n);const i=e.toString(16).length===1?`0${e.toString(16)}`:e.toString(16),o=r.toString(16).length===1?`0${r.toString(16)}`:r.toString(16),s=n.toString(16).length===1?`0${n.toString(16)}`:n.toString(16);return`#${i}${o}${s}`},Eye=t=>{switch(t){case"12":return"三倍滿 (12翻)";case"13":return"累計役滿 (13翻)"}return"(未知)"},Aye=t=>{switch(t){case"13":return"單倍役滿";case"26":return"雙倍役滿";case"39":return"三倍役滿";case"130":return"無上限"}return"(未知)"},En=t=>typeof t>"u"||t===null?"-":t>=0?`+${t.toFixed(1)}`:`▲${Math.abs(t).toFixed(1)}`,Ka=t=>typeof t>"u"||t===null?"-":t===1||t==="1"?"1st":t===2||t==="2"?"2nd":t===3||t==="3"?"3rd":`${t}th`,Ws=t=>typeof t>"u"||t===null?"-":t.toFixed(2),Rv=t=>t===0?t.toLocaleString("en-US"):t>0?`${Math.floor(t).toLocaleString("en-US")}`:Math.floor(t).toLocaleString("en-US"),zs=({teamPlayer:t})=>{const e=`${t.playerPortraitImageUrl}?w=64&h=64&fit=crop&crop=top`,r=`${t.teamLogoImageUrl}?w=64&h=64`,n=t.playerDesignation,i=t.playerName,o=t.color;return u.jsxs("div",{className:"flex justify-start items-center gap-x-1 border-l-4 pl-2",style:{borderColor:o},children:[u.jsx("div",{className:"w-8 h-8",children:r&&u.jsx("img",{src:r,alt:n})}),u.jsx("div",{className:"w-8 h-8",children:e&&u.jsx("img",{src:e,alt:i})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-neutral-600",children:n}),u.jsx("p",{className:"font-bold",children:i})]})]})};function Cye(){const{data:t,refetch:e}=Ko({queryKey:["matches"],queryFn:bye}),{data:r,set:n}=Zr("obs/1");E.useCallback(o=>{const s=o.currentTarget.getAttribute("data-id");s&&confirm(`請確定上一局對局已經結束才開始新的直播！！
確定要開始直播新的對局嗎？`)&&n({matchId:s})},[n]);const i=E.useMemo(()=>t==null?void 0:t.find(o=>o._id===(r==null?void 0:r.matchId)),[t,r==null?void 0:r.matchId]);return u.jsx("div",{className:"container mx-auto",children:u.jsxs("div",{className:"h-screen flex flex-col py-16 gap-y-12",children:[u.jsx("div",{className:"shrink-0",children:u.jsxs("h1",{className:"text-4xl font-bold text-center",children:[u.jsx("img",{src:"/images/master-logo.jpeg",className:"inline-block w-16",alt:"HKMSCA"})," ",u.jsx("span",{children:"日麻比賽直播系統 (牌藝攻防)"})]})}),u.jsxs("div",{className:"shrink-0 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-x-4",children:[u.jsx("div",{children:u.jsxs("div",{className:"px-8 py-4 bg-green-300 border-2 border-green-600 text-center space-y-4",children:[u.jsx("p",{className:"text-3xl font-bold text-green-900",children:"OBS設定"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx("a",{href:`${location.origin}/v1/obs/1/realtime-summary`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"現時數據"}),u.jsx("a",{href:`${location.origin}/v1/obs/1/weekly-summary`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"每週結算"})]}),u.jsxs("div",{className:"bg-white rounded p-4 space-y-4",children:[!i&&u.jsx("p",{className:"text-center",children:"請在下方表格直播一場新的賽事"}),i&&u.jsx("p",{className:"text-center font-bold text-red-500",children:"LIVE 直播中"}),i&&u.jsx("div",{children:u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx(zs,{teamPlayer:i.playerEast}),u.jsx(zs,{teamPlayer:i.playerSouth}),u.jsx(zs,{teamPlayer:i.playerWest}),u.jsx(zs,{teamPlayer:i.playerNorth})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("p",{children:"開始前倒數"}),u.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[u.jsx("a",{href:`${location.origin}/v1/obs/1/forecast?m=0`,target:"_blank",className:"text-black bg-red-800 bg-opacity-50 p-2 rounded hover:text-black",children:"即將開始"}),u.jsx("a",{href:`${location.origin}/v1/obs/1/forecast?m=5`,target:"_blank",className:"text-black bg-red-800 bg-opacity-50 p-2 rounded hover:text-black",children:"5分鐘"}),u.jsx("a",{href:`${location.origin}/v1/obs/1/forecast?m=10`,target:"_blank",className:"text-black bg-red-800 bg-opacity-50 p-2 rounded hover:text-black",children:"10分鐘"}),u.jsx("a",{href:`${location.origin}/v1/obs/1/forecast?m=15`,target:"_blank",className:"text-black bg-red-800 bg-opacity-50 p-2 rounded hover:text-black",children:"15分鐘"}),u.jsx("a",{href:`${location.origin}/v1/obs/1/forecast?m=20`,target:"_blank",className:"text-black bg-red-800 bg-opacity-50 p-2 rounded hover:text-black",children:"20分鐘"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx("a",{href:`${location.origin}/v1/obs/1/introduction`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"賽前介紹"}),u.jsx("a",{href:`${location.origin}/v1/obs/1`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"直播頁面"}),u.jsx("a",{href:`${location.origin}/v1/obs/1/summary`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"賽後結果"})]})]}),u.jsx("div",{className:"grid grid-cols-3 gap-4",children:u.jsx("a",{href:`${location.origin}/v1/obs/1/end`,target:"_blank",className:"text-black bg-black bg-opacity-20 p-2 rounded hover:text-black",children:"今日賽事已完結"})}),u.jsx("div",{className:"text-left",children:u.jsx(_ye,{})})]})}),u.jsx("div",{children:u.jsxs("div",{className:"px-8 py-4 bg-blue-300 border-2 border-blue-600 text-center space-y-4",children:[u.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"主播"}),u.jsxs("p",{className:"text-2xl",children:["固定的紀錄頁面：",u.jsxs("a",{href:`${location.origin}/v1/obs/1/stat`,target:"_blank",className:"text-black",children:[location.origin,"/obs/1/stat"]})]}),u.jsxs("p",{className:"text-2xl",children:["固定的Overlay頁面：",u.jsxs("a",{href:`${location.origin}/v1/obs/1/stat`,target:"_blank",className:"text-black",children:[location.origin,"/obs/1/overlay"]})]}),u.jsx("div",{className:"pt-16",children:u.jsx("img",{className:"mx-auto block w-64 h-64",src:yT(`${location.origin}/v1/obs/1/stat`),alt:""})})]})}),u.jsx("div",{children:u.jsxs("div",{className:"px-8 py-4 bg-yellow-300 border-2 border-yellow-600 text-center space-y-4",children:[u.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:"控制台"}),u.jsxs("p",{className:"text-2xl",children:["固定的控制台頁面：",u.jsxs("a",{href:`${location.origin}/v1/obs/1/control`,target:"_blank",className:"text-black",children:[location.origin,"/obs/1/control"]})]}),u.jsx("div",{className:"pt-16",children:u.jsx("img",{className:"mx-auto block w-64 h-64",src:yT(`${location.origin}/v1/obs/1/control`),alt:""})})]})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-right mb-2",children:u.jsxs(je,{color:"secondary",onClick:()=>e(),children:[u.jsx("i",{className:"bi bi-arrow-repeat"})," 刷新"]})}),u.jsxs("table",{className:"data-table w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"對局"}),u.jsx("th",{children:"東"}),u.jsx("th",{children:"南"}),u.jsx("th",{children:"西"}),u.jsx("th",{children:"北"}),u.jsx("th",{className:"text-right",children:"操作"})]})}),u.jsx("tbody",{children:t==null?void 0:t.map(o=>u.jsxs("tr",{children:[u.jsxs("th",{children:[u.jsx("p",{children:o.name}),u.jsx("p",{className:"font-normal text-sm text-neutral-600",children:o.tournament.name})]}),u.jsx("td",{children:u.jsx(zs,{teamPlayer:o.playerEast})}),u.jsx("td",{children:u.jsx(zs,{teamPlayer:o.playerSouth})}),u.jsx("td",{children:u.jsx(zs,{teamPlayer:o.playerWest})}),u.jsx("td",{children:u.jsx(zs,{teamPlayer:o.playerNorth})}),u.jsxs("td",{className:"space-x-2 text-right",children:[u.jsxs("div",{className:"space-x-2",children:[u.jsxs("a",{href:`https://hkleague2024.hkmahjong.org/api/schedule/${o.startAt.substring(0,10)}/square`,target:"_blank",children:[u.jsx("i",{className:"bi bi-card-image"})," 出Post圖"]}),u.jsxs("a",{href:`https://hkleague2024.hkmahjong.org/api/schedule/${o.startAt.substring(0,10)}/thumbnail`,target:"_blank",children:[u.jsx("i",{className:"bi bi-youtube"})," YT Thumbnail"]}),u.jsxs("a",{href:`/v1/match/${o._id}/nameplates`,target:"_blank",children:[u.jsx("i",{className:"bi bi-person-badge"})," 名牌"]})]}),u.jsxs("div",{className:"space-x-2",children:[u.jsxs("a",{href:`/v1/match/${o._id}/forecast?startAt=${o.name.endsWith("2")?"21":"19"}:30`,target:"_blank",children:[u.jsx("i",{className:"bi bi-bell"})," 倒數"]}),u.jsxs("a",{href:`/v1/match/${o._id}/introduction`,target:"_blank",children:[u.jsx("i",{className:"bi bi-person-vcard"})," 介紹"]}),u.jsxs("a",{href:`/v1/match/${o._id}/summary`,target:"_blank",children:[u.jsx("i",{className:"bi bi-trophy"})," 結果"]}),o._id===(r==null?void 0:r.matchId)?u.jsxs("span",{className:"bg-red-600 px-2 py-1 rounded text-white",children:[u.jsx("i",{className:"bi bi-record-circle"})," LIVE 直播中"]}):u.jsxs("a",{href:`/v1/match/${o._id}/control`,target:"_blank",className:"text-red-600",children:[u.jsx("i",{className:"bi bi-record-circle"})," 直播"]})]})]})]},o._id))})]})]}),u.jsx("div",{children:u.jsx("div",{className:"text-center space-x-4",children:u.jsx("a",{href:"https://hkmjbs.sanity.studio/",target:"_blank",children:u.jsxs(je,{color:"secondary",children:["資料庫 ",u.jsx("i",{className:"bi bi-box-arrow-up-right"})]})})})}),u.jsx("div",{className:"flex gap-x-4"})]})]})})}const Pye=t=>{const e={};for(let r=0;r<t.length;r+=1)e[r.toString()]=t[r];return e},PF=t=>{if(t.length!==0)return t[t.length-1]},rs=t=>{const{data:e,update:r}=Zr(`/matches/${t}`),{data:n,update:i,push:o}=Zr("matchRounds",{order:{byChild:"matchId"},filter:{equalTo:t}}),s=E.useMemo(()=>PF(Object.values(n??{}))??void 0,[n]),a=E.useMemo(()=>Object.values((s==null?void 0:s.doras)??{}),[s]),l=E.useCallback((b,g)=>{const x=n==null?void 0:n[b];x&&i({[b]:{...x,...g}})},[n,i]),c=E.useCallback(b=>{const g=PF(Object.keys(n??{}));g&&i({[g]:{...s,...b}})},[s,n,i]),f=E.useCallback(b=>{c({doras:Pye(b)})},[c]),d=E.useCallback(b=>{r({name:b})},[r]),h=E.useCallback(b=>{r({players:b})},[r]),p=E.useCallback(b=>{r({activeResultDetail:b})},[r]),m=E.useCallback(b=>{r({showPoints:b})},[r]),y=E.useCallback(b=>{r({hideHeader:b})},[r]),v=E.useCallback(b=>{i({[b]:{...n==null?void 0:n[b],hasBroadcasted:!0}})},[n,i]);return{match:e,matchRounds:n,matchCurrentRound:s,matchCurrentRoundDoras:a,setMatchName:d,setMatchPlayers:h,setMatchPointDisplay:m,setMatchHideHeaderDisplay:y,setMatchActiveResultDetail:p,setMatchRoundHasBroadcastedToTrue:v,setCurrentRoundDoras:f,updateMatchRoundById:l,updateCurrentMatchRound:c,pushMatchRound:o}};var Ve=(t=>(t[t.Unknown=0]="Unknown",t[t.Exhausted=-1]="Exhausted",t[t.Ron=1]="Ron",t[t.SelfDrawn=2]="SelfDrawn",t[t.Hotfix=-2]="Hotfix",t))(Ve||{}),bt=(t=>(t[t.Unknown=0]="Unknown",t[t.NextRound=1]="NextRound",t[t.Extended=2]="Extended",t[t.NextRoundAndExtended=3]="NextRoundAndExtended",t[t.Hotfix=-2]="Hotfix",t[t.End=-1]="End",t))(bt||{}),yt=(t=>(t[t.Win=1]="Win",t[t.Lose=-1]="Lose",t[t.None=0]="None",t))(yt||{}),Ln=(t=>(t[t.East=0]="East",t[t.South=1]="South",t[t.West=2]="West",t[t.North=3]="North",t))(Ln||{});const oA=[Ln.East,Ln.South,Ln.West,Ln.North],TF=["0","1","2","3"],Tye=t=>parseInt(t,10),Wc=(t,e)=>oA[(4+Tye(t)-(e-1)%oA.length)%oA.length],ti=(t,e)=>Wc(t,e)===Ln.East,jG=(t,e)=>Wc(t,e)===Ln.South,RG=(t,e)=>Wc(t,e)===Ln.West,$G=(t,e)=>Wc(t,e)===Ln.North,DG=t=>t>=1&&t<=4,MG=t=>t>=5&&t<=8,FG=t=>t>=9&&t<=12,LG=t=>t>=13&&t<=16,ou={"1h20f":{ne:200,e:400,ner:1e3,er:1500},"1h25f":{ne:200,e:400,ner:1e3,er:1500},"1h30f":{ne:300,e:500,ner:1e3,er:1500},"1h40f":{ne:400,e:700,ner:1300,er:2e3},"1h50f":{ne:400,e:800,ner:1600,er:2400},"1h60f":{ne:500,e:1e3,ner:2e3,er:2900},"1h70f":{ne:600,e:1200,ner:2300,er:3400},"1h80f":{ne:700,e:1300,ner:2600,er:3900},"1h90f":{ne:800,e:1500,ner:2900,er:4400},"1h100f":{ne:800,e:1600,ner:3200,er:4800},"1h110f":{ne:900,e:1800,ner:3600,er:5300},"2h20f":{ne:400,e:700,ner:1500,er:2100},"2h25f":{ne:400,e:800,ner:1600,er:2400},"2h30f":{ne:500,e:1e3,ner:2e3,er:2900},"2h40f":{ne:700,e:1300,ner:2600,er:3900},"2h50f":{ne:800,e:1600,ner:3200,er:4800},"2h60f":{ne:1e3,e:2e3,ner:3900,er:5800},"2h70f":{ne:1200,e:2300,ner:4500,er:6800},"2h80f":{ne:1300,e:2600,ner:5200,er:7700},"2h90f":{ne:1500,e:2900,ner:5800,er:8700},"2h100f":{ne:1600,e:3200,ner:6400,er:9600},"2h110f":{ne:1800,e:3600,ner:7100,er:10600},"3h20f":{ne:700,e:1300,ner:2600,er:3900},"3h25f":{ne:800,e:1600,ner:3200,er:4800},"3h30f":{ne:1e3,e:2e3,ner:3900,er:5800},"3h40f":{ne:1300,e:2600,ner:5200,er:7700},"3h50f":{ne:1600,e:3200,ner:6400,er:9600},"3h60f":{ne:2e3,e:3900,ner:7700,er:11600},"4h20f":{ne:1300,e:2600,ner:5200,er:7700},"4h25f":{ne:1600,e:3200,ner:6400,er:9600},"4h30f":{ne:2e3,e:3900,ner:7700,er:11600},"5h":{ne:2e3,e:4e3,ner:8e3,er:12e3},"6h":{ne:3e3,e:6e3,ner:12e3,er:18e3},"7h":{ne:3e3,e:6e3,ner:12e3,er:18e3},"8h":{ne:4e3,e:8e3,ner:16e3,er:24e3},"9h":{ne:4e3,e:8e3,ner:16e3,er:24e3},"10h":{ne:4e3,e:8e3,ner:16e3,er:24e3},"11h":{ne:6e3,e:12e3,ner:24e3,er:36e3},"12h":{ne:6e3,e:12e3,ner:24e3,er:36e3}},Iye=(t,e,r)=>{let n;const i=parseInt(t,10);if(Number.isNaN(i))throw new Error(`han "${t}" is NaN`);const o=parseInt(e,10);if(Number.isNaN(o))throw new Error(`fu "${e}" is NaN`);return i>=13?n=ou["12h"]:i>=5?n=ou[`${i}h`]:i>=4&&o>=(r!=null&&r.roundUp?30:40)||i>=3&&o>=(r!=null&&r.roundUp?60:70)?n=ou["5h"]:n=ou[`${i}h${o}f`],n||ou["1h30f"]},Nye=(t=1)=>({ne:8e3*t,e:16e3*t,ner:32e3*t,er:48e3*t}),IF=(t,e,r,n,i,o)=>{const s=r>0?Nye(Math.min(WG((o==null?void 0:o.yakumanMax)??"130"),r)):Iye(t,e,o);return n?i?{win:s.er,target:s.er}:{win:s.e*3,all:s.e}:i?{win:s.ner,target:s.ner}:{win:s.e+2*s.ne,east:s.e,others:s.ne}},kye=t=>t.all||t.east?Ve.SelfDrawn:t.target?Ve.Ron:Ve.Unknown,NF=t=>TF[(t-1)%TF.length],Oye=t=>({0:{beforeScore:t[0].afterScore,afterScore:t[0].afterScore,isRevealed:!1,isRiichi:!1,isYellowCarded:t[0].isYellowCarded||!1,isRedCarded:t[0].isRedCarded||!1,type:yt.None,scoreChanges:[],prevScoreChanges:t[0].scoreChanges??[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},1:{beforeScore:t[1].afterScore,afterScore:t[1].afterScore,isRevealed:!1,isRiichi:!1,isYellowCarded:t[1].isYellowCarded||!1,isRedCarded:t[1].isRedCarded||!1,type:yt.None,scoreChanges:[],prevScoreChanges:t[1].scoreChanges??[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},2:{beforeScore:t[2].afterScore,afterScore:t[2].afterScore,isRevealed:!1,isRiichi:!1,isYellowCarded:t[2].isYellowCarded||!1,isRedCarded:t[2].isRedCarded||!1,type:yt.None,scoreChanges:[],prevScoreChanges:t[2].scoreChanges??[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},3:{beforeScore:t[3].afterScore,afterScore:t[3].afterScore,isRevealed:!1,isRiichi:!1,isYellowCarded:t[3].isYellowCarded||!1,isRedCarded:t[3].isRedCarded||!1,type:yt.None,scoreChanges:[],prevScoreChanges:t[3].scoreChanges??[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}}}),kF=t=>Oye({0:t[0],1:t[1],2:t[2],3:t[3]}),jye=()=>`${Sye()}-${hs(6)}`,Dx=(t,e,r)=>`${t}-${e}.${r}`,Rye={1:"東 1 局",2:"東 2 局",3:"東 3 局",4:"東 4 局",5:"南 1 局",6:"南 2 局",7:"南 3 局",8:"南 4 局",9:"西 1 局",10:"西 2 局",11:"西 3 局",12:"西 4 局",13:"北 1 局",14:"北 2 局",15:"北 3 局",16:"北 4 局"},$ye=(t,e,r=8)=>{try{const n=Rye[Math.min(t,r)];if(!n)throw new Error(`Unable to parse round=${t} in MJMatchCounterSpan`);return e&&e!==0?`${n}${e}本場`:n}catch(n){return console.error(n),`${t}.${e??0}`}},BG=t=>{switch(t){case"0":return"3";case"1":return"0";case"2":return"1";case"3":return"2"}},UG=t=>{switch(t){case"0":return"1";case"1":return"2";case"2":return"3";case"3":return"0"}},VG=t=>{switch(t){case"0":return"2";case"1":return"3";case"2":return"0";case"3":return"1"}},WG=t=>{switch(t){case"13":return 1;case"26":return 2;case"39":return 3;case"130":return 10}},Dye={[Ve.Ron]:"ron",[Ve.SelfDrawn]:"tsumo",[Ve.Exhausted]:"exhausted",[Ve.Hotfix]:"hotfix",[Ve.Unknown]:"unknown"},Mye={[Ln.East]:"east",[Ln.South]:"south",[Ln.West]:"west",[Ln.North]:"north"},Fye={[yt.None]:"none",[yt.Win]:"win",[yt.Lose]:"lose"},$v=(t,e)=>{var r,n,i,o,s,a,l,c,f;return{position:Mye[Wc(e,t.roundCount)],type:Fye[t.playerResults[e].type],status:t.playerResults[e].isRiichi||(r=t.playerResults[e].detail)!=null&&r.isRiichied?"isRiichied":t.playerResults[e].isRevealed||(n=t.playerResults[e].detail)!=null&&n.isRevealed?"isRevealed":"none",isWaited:!!t.playerResults[e].waitingTiles&&t.playerResults[e].waitingTiles.length>0,beforeScore:t.playerResults[e].beforeScore,afterScore:t.playerResults[e].afterScore,dora:(i=t.playerResults[e].detail)==null?void 0:i.dora,redDora:(o=t.playerResults[e].detail)==null?void 0:o.redDora,innerDora:(s=t.playerResults[e].detail)==null?void 0:s.innerDora,han:(a=t.playerResults[e].detail)==null?void 0:a.han,fu:(l=t.playerResults[e].detail)==null?void 0:l.fu,yaku:(f=(c=t.playerResults[e].detail)==null?void 0:c.yakus)==null?void 0:f.map(({label:d})=>d).join(" "),pureScore:0}},zG=t=>{const e=t.at(-1),r=GG([e.playerResults[0].afterScore,e.playerResults[1].afterScore,e.playerResults[2].afterScore,e.playerResults[3].afterScore]);return{result:{playerEast:{score:e.playerResults[0].afterScore,ranking:r[0].ranking.toString(),point:r[0].point,penalty:e.playerResults[0].isRedCarded?-30:0,penaltyReason:e.playerResults[0].isRedCarded?"紅牌":""},playerSouth:{score:e.playerResults[1].afterScore,ranking:r[1].ranking.toString(),point:r[1].point,penalty:e.playerResults[1].isRedCarded?-30:0,penaltyReason:e.playerResults[1].isRedCarded?"紅牌":""},playerWest:{score:e.playerResults[2].afterScore,ranking:r[2].ranking.toString(),point:r[2].point,penalty:e.playerResults[2].isRedCarded?-30:0,penaltyReason:e.playerResults[2].isRedCarded?"紅牌":""},playerNorth:{score:e.playerResults[3].afterScore,ranking:r[3].ranking.toString(),point:r[3].point,penalty:e.playerResults[3].isRedCarded?-30:0,penaltyReason:e.playerResults[3].isRedCarded?"紅牌":""}},rounds:t.map(o=>({_key:hs(),type:Dye[o.resultType],code:`${o.roundCount}.${o.extendedRoundCount}`,playerEast:$v(o,"0"),playerSouth:$v(o,"1"),playerWest:$v(o,"2"),playerNorth:$v(o,"3")}))}},Lye=(t,e)=>{if(e===0)return[0,0,0,0];const r=t.map((i,o)=>({score:i,index:o})).sort((i,o)=>o.score-i.score),n=[0,0,0,0];return r[0].score===r[1].score?r[1].score===r[2].score?r[2].score===r[3].score?(n[r[0].index]=Math.round(e*.4),n[r[1].index]=Math.round(e*.2),n[r[2].index]=Math.round(e*.2),n[r[3].index]=Math.round(e*.2),n):(n[r[0].index]=Math.round(e*.4),n[r[1].index]=Math.round(e*.3),n[r[2].index]=Math.round(e*.3),n):(n[r[0].index]=Math.round(e/2),n[r[1].index]=Math.round(e/2),n):(n[r[0].index]=e,n)},GG=(t,e=3e4,r=[50,10,-10,-30])=>{const n=t.map((a,l)=>({score:a,index:l})).sort((a,l)=>l.score-a.score),i=[{point:0,ranking:1},{point:0,ranking:1},{point:0,ranking:1},{point:0,ranking:1}];if(new Set(t).size===4)return i[n[0].index]={point:(n[0].score-e)/1e3+r[0],ranking:1},i[n[1].index]={point:(n[1].score-e)/1e3+r[1],ranking:2},i[n[2].index]={point:(n[2].score-e)/1e3+r[2],ranking:3},i[n[3].index]={point:(n[3].score-e)/1e3+r[3],ranking:4},i;const o=r.map((a,l)=>({point:a,ranking:l+1}));let s=0;for(;s<3;){let a=s;for(;a<3&&n[s].score===n[a+1].score;)a+=1;if(s!==a){const l=o.reduce((h,p,m)=>h+(m>=s&&m<=a?p.point:0),0)*10,c=a-s+1,f=Math.floor(l*(1/c)),d=Math.floor(l-(c-1)*f);o[s].point=d/10,o[s].ranking=s+1;for(let h=s+1;h<=a;h++)o[h].point=f/10,o[h].ranking=s+1}s=a+1}return i[n[0].index]={point:(n[0].score-e)/1e3+o[0].point,ranking:o[0].ranking},i[n[1].index]={point:(n[1].score-e)/1e3+o[1].point,ranking:o[1].ranking},i[n[2].index]={point:(n[2].score-e)/1e3+o[2].point,ranking:o[2].ranking},i[n[3].index]={point:(n[3].score-e)/1e3+o[3].point,ranking:o[3].ranking},i};function Lt({signed:t,className:e,positiveClassName:r,negativeClassName:n,value:i,animated:o,hideZero:s,title:a}){const[l,c]=E.useState(i),f=E.useRef(null),d=E.useCallback(m=>m===0?s?"":m.toLocaleString("en-US"):m>0?`${t?"+":""}${Math.floor(m).toLocaleString("en-US")}`:Math.floor(m).toLocaleString("en-US"),[s,t]),h=E.useMemo(()=>d(l),[d,l]),p=E.useMemo(()=>i>0?`${e??""} ${r??""}`:i<0?`${e??""} ${n??""}`:e,[e,n,r,i]);return E.useEffect(()=>{if(l!==i)if(o){for(let v=16;v<1e3;v+=16)setTimeout(()=>{f.current&&(f.current.innerText=Math.floor(l-(l-i)*(v/1e3)).toLocaleString("en-US"))},v);setTimeout(()=>{c(i)},1016)}else c(i)},[o,l,i]),E.useEffect(()=>{f.current&&(f.current.innerText=h)},[h]),u.jsx("span",{title:a,ref:f,className:p})}const OF={"1m":"bg-[left_0%_top_0%]","2m":"bg-[left_10%_top_0%]","3m":"bg-[left_20%_top_0%]","4m":"bg-[left_30%_top_0%]","5m":"bg-[left_40%_top_0%]","6m":"bg-[left_50%_top_0%]","7m":"bg-[left_60%_top_0%]","8m":"bg-[left_70%_top_0%]","9m":"bg-[left_80%_top_0%]","0m":"bg-[left_30%_top_80%]","1p":"bg-[left_0%_top_20%]","2p":"bg-[left_10%_top_20%]","3p":"bg-[left_20%_top_20%]","4p":"bg-[left_30%_top_20%]","5p":"bg-[left_40%_top_20%]","6p":"bg-[left_50%_top_20%]","7p":"bg-[left_60%_top_20%]","8p":"bg-[left_70%_top_20%]","9p":"bg-[left_80%_top_20%]","0p":"bg-[left_40%_top_80%]","1s":"bg-[left_0%_top_40%]","2s":"bg-[left_10%_top_40%]","3s":"bg-[left_20%_top_40%]","4s":"bg-[left_30%_top_40%]","5s":"bg-[left_40%_top_40%]","6s":"bg-[left_50%_top_40%]","7s":"bg-[left_60%_top_40%]","8s":"bg-[left_70%_top_40%]","9s":"bg-[left_80%_top_40%]","0s":"bg-[left_50%_top_80%]","1z":"bg-[left_0%_top_60%]","2z":"bg-[left_10%_top_60%]","3z":"bg-[left_20%_top_60%]","4z":"bg-[left_30%_top_60%]","5z":"bg-[left_40%_top_60%]","6z":"bg-[left_50%_top_60%]","7z":"bg-[left_60%_top_60%]",default:"bg-[left_70%_top_60%]"};function jo({className:t,children:e,...r}){const n=E.useMemo(()=>OF[e==null?void 0:e.toString()]??OF.default,[e]);return u.jsx("div",{className:`mahjong-tile ${n} ${t}`,...r})}function Qa({player:t,playerIndex:e,score:r,scoreChanges:n=[],point:i,ranking:o,isEast:s,isRiichi:a,isYellowCarded:l,isRedCarded:c,isRonDisallowed:f,waitingTiles:d,onClickWaitingTiles:h,showPointAndRanking:p,className:m,...y}){const[v,b]=E.useState(r),[g,x]=E.useState(null),S=E.useMemo(()=>kO(t.color??"#000000"),[t.color]),w=E.useMemo(()=>!!g,[g]);return E.useEffect(()=>{r!==v&&(x(n),setTimeout(()=>{b(r)},2550),setTimeout(()=>{x(null)},3e3))},[r,n,v]),u.jsxs("div",{className:"relative min-w-[5.35em] mx-auto [&_.hide-if-changing]:transition-opacity [&_.hide-if-changing]:data-[score-changing='1']:opacity-0 overflow-visible","data-score-changing":w?"1":"0",children:[u.jsxs("div",{className:"absolute top-[0.05em] bottom-[0.15em] -left-[0.1em] -right-[0.1em] rounded-[0.1em] overflow-hidden -z-50",children:[l&&u.jsx("div",{className:"absolute top-0 left-0 w-[200%] aspect-square animate-[yellowPenaltyAni_8s_ease-in-out_1]"}),c&&u.jsx("div",{className:"absolute top-0 left-0 w-[200%] aspect-square animate-[redPenaltyAni_8s_ease-in-out_1]"})]}),l&&u.jsx("div",{className:"absolute -top-[0.4em] left-0 h-[0.5em] w-[0.37em] bg-[#ffe100] rounded-[0.05em]"}),c&&u.jsx("div",{className:"absolute -top-[0.4em] left-[0.45em] h-[0.5em] w-[0.37em] bg-[#ff1900] rounded-[0.05em]"}),u.jsxs("div",{className:"flex items-end gap-x-[0.1em]",children:[u.jsxs("div",{className:"shrink-0 w-[1.75em] h-full relative -bottom-[0.085em] -left-[0.085em]",children:[u.jsx("div",{className:"absolute w-full h-full bg-[#d1b571] overflow-hidden rounded-[0.1em]",style:{opacity:a?1:0},children:u.jsx("div",{className:"origin-bottom w-[200%] h-[100%] bg-[#d1291d] animate-[riichi_8s_ease-in-out_infinite]"})}),u.jsx("div",{className:"relative z-10 w-full aspect-[90/125] p-[0.085em]",children:u.jsxs("div",{className:"w-full h-full bg-white rounded-[0.08em] overflow-hidden",style:{background:`linear-gradient(180deg, ${t.color}, ${S})`},children:[t.teamPicUrl&&u.jsx("div",{className:"absolute inset-[0.085em] overflow-hidden",children:u.jsx("img",{className:"absolute max-w-[none] h-[2.2em] w-[2.2em] opacity-30 animate-[scrollFromRightToLeft_12s_linear_infinite]",src:t.teamPicUrl,alt:t.name})}),t.proPicUrl&&u.jsx("img",{className:"relative z-10 w-full h-full rounded-[0.08em]",src:t.proPicUrl,alt:t.name}),t.nickname&&u.jsx("div",{className:"absolute bottom-[0.085em] left-[0.085em] right-[0.085em] rounded-b-[0.08em] bg-[linear-gradient(to_top,#00000060,#00000050_70%,transparent)] text-white z-20",children:u.jsx("p",{className:"text-center text-[0.25em] font-semibold pb-[0.25em] pt-[0.5em]",children:t.nickname})})]})})]}),u.jsxs("div",{className:"flex-1 flex flex-col gap-y-[0.125em] items-start justify-end",children:[u.jsxs("div",{className:"flex gap-[0.125em] relative self-stretch",children:[u.jsx("div",{className:"absolute inset-0 flex items-end",children:u.jsxs("div",{className:"text-center bg-red-600 text-[0.3em] flex gap-x-[0.2em] px-[1em] opacity-0 transition-opacity hide-if-changing cursor-pointer",style:{opacity:f?1:0},children:[u.jsx("i",{className:"bi bi-ban"})," 和了禁止"]})}),u.jsxs("div",{className:"bg-black bg-opacity-60 rounded text-[0.5em] flex gap-x-[0.2em] p-[0.1em] pl-[0.2em] pr-[0.2em] opacity-0 transition-opacity data-[has-waiting-tiles='1']:opacity-100 hide-if-changing cursor-pointer","data-has-waiting-tiles":d&&d.length>0||h?"1":"0",onClick:h,"data-player-index":e,children:[u.jsx("div",{className:"flex-1 leading-none min-h-[1.19em] flex flex-wrap gap-[0.15em]",children:d==null?void 0:d.map(_=>u.jsx(jo,{className:"inline-block align-bottom w-[0.85em] animate-[fadeInFromLeft_1s_ease-in-out]",children:_},_))}),u.jsx("div",{className:"bg-[#FFFFFF] w-[4px]"}),u.jsxs("div",{className:"text-[#FFFFFF] text-[0.4em] leading-[1.3em] flex items-center",children:["待",u.jsx("br",{}),"牌"]})]})]}),u.jsxs("div",{className:`relative w-full text-left bg-white px-[0.1em] pb-[0.05em] pt-[0.08em] ${m}`,...y,style:{background:`linear-gradient(260deg, transparent, transparent 22px, ${S} 23px, ${t.color} 100%`,textShadow:"#00000048 2px 2px 3px, #00000048 -2px -2px 3px, #00000048 -2px 2px 3px, #00000048 2px -2px 3px, #00000048 0 0 6px"},children:[u.jsxs("div",{className:"flex flex-col justify-center gap-y-[0.075em] mt-[0.04em]",children:[u.jsx("div",{className:"text-[0.1875em] ml-[0.1em] leading-none text-white hide-if-changing font-semibold whitespace-nowrap",children:t.title||"　"}),u.jsx("div",{className:"text-[0.3125em] ml-[0.1em] leading-none text-white hide-if-changing font-semibold whitespace-nowrap",style:{transformOrigin:"left",transform:(t.name||"").length>=17?"scaleX(0.9)":"scaleX(1)"},children:t.name})]}),g&&u.jsx("div",{className:"absolute bottom-[2.75em] pr-[0.125em] left-0 text-[0.5625em] leading-none animate-[drop_3s_ease-in-out] font-numeric",children:g.map(_=>u.jsx("div",{children:u.jsx(Lt,{signed:!0,value:_,positiveClassName:"text-[#09eb09]",negativeClassName:"text-[#eb0000]"})}))}),u.jsxs("div",{className:"relative mt-[0.12em] mb-[0.03em]",children:[u.jsx("p",{className:"relative text-[0.5625em] flex-1 leading-none text-white font-numeric",style:{transition:"opacity 1s, bottom 1s",opacity:p?0:1,bottom:p?"1em":0},children:u.jsx(Lt,{animated:!0,value:v})}),u.jsxs("p",{className:"absolute left-0 right-[0.25em] text-[0.5625em] flex-1 leading-none text-white font-numeric",style:{transition:"opacity 1s, bottom 1s",opacity:p?1:0,bottom:p?0:"-1em"},children:[En(i),u.jsx("span",{className:"text-[0.8em]",children:"pt"}),u.jsx("span",{className:"absolute right-0 bottom-0 text-[0.75em]",children:Ka(o)})]})]})]})]})]}),u.jsx("div",{className:`mt-[0.2em] h-[0.075em] rounded-full ${s&&"bg-red-500"}`})]})}function ps({roundCount:t,extendedRoundCount:e,max:r=16,...n}){const i=E.useMemo(()=>$ye(t,e??0,r),[t,r,e]);return u.jsx("span",{...n,children:i})}ps.defaultProps={extendedRoundCount:0};const Dv=({player:t})=>u.jsxs("div",{className:"border-b-4 pb-1",style:{borderColor:t.color},children:[u.jsx("p",{className:"text-sm text-neutral-600",children:t.title}),u.jsx("p",{className:"font-bold",children:t.name})]});function Mv({value:t}){return u.jsx(Lt,{value:t,positiveClassName:"text-green-600",negativeClassName:"text-red-600",signed:!0,hideZero:!0})}const Fv=({matchRound:t,playerIndex:e})=>u.jsxs("span",{children:[t.playerResults[e].isRiichi&&u.jsx("span",{className:"text-xs",children:"立"}),t.resultType===Ve.Ron&&t.playerResults[e].type===yt.Lose&&u.jsx("span",{className:"text-xs",children:"統"}),t.resultType===Ve.Ron&&t.playerResults[e].type===yt.Win&&u.jsx("span",{className:"text-xs",children:"和"}),t.resultType===Ve.SelfDrawn&&t.playerResults[e].type===yt.Win&&u.jsx("span",{className:"text-xs",children:"摸"}),t.resultType===Ve.Exhausted&&t.playerResults[e].type===yt.Win&&u.jsx("span",{className:"text-xs",children:"聽"})]});function Tg({players:t,matchRounds:e,...r}){const n=E.useMemo(()=>Object.entries(e??{}),[e]);return u.jsxs("table",{...r,children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-400 [&>th]:p-2",children:[u.jsx("th",{className:"whitespace-nowrap px-16",children:"局數"}),u.jsx("th",{className:"w-1/4",children:u.jsx(Dv,{player:t[0]})}),u.jsx("th",{className:"w-1/4",children:u.jsx(Dv,{player:t[1]})}),u.jsx("th",{className:"w-1/4",children:u.jsx(Dv,{player:t[2]})}),u.jsx("th",{className:"w-1/4",children:u.jsx(Dv,{player:t[3]})})]})}),u.jsxs("tbody",{children:[n[0]&&u.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[u.jsx("td",{className:"text-center"}),u.jsx("td",{className:"text-center",children:u.jsx(Lt,{value:n[0][1].playerResults[0].beforeScore})}),u.jsx("td",{className:"text-center",children:u.jsx(Lt,{value:n[0][1].playerResults[1].beforeScore})}),u.jsx("td",{className:"text-center",children:u.jsx(Lt,{value:n[0][1].playerResults[2].beforeScore})}),u.jsx("td",{className:"text-center",children:u.jsx(Lt,{value:n[0][1].playerResults[3].beforeScore})})]}),n.map(([i,o])=>o.resultType===Ve.Hotfix?u.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[u.jsx("td",{className:"text-center whitespace-nowrap px-16",children:"手動調整"}),u.jsx("td",{className:"text-center",children:o.playerResults[0].afterScore}),u.jsx("td",{className:"text-center",children:o.playerResults[1].afterScore}),u.jsx("td",{className:"text-center",children:o.playerResults[2].afterScore}),u.jsx("td",{className:"text-center",children:o.playerResults[3].afterScore})]},i):u.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[u.jsx("td",{className:"text-center whitespace-nowrap",children:u.jsx(ps,{roundCount:o.roundCount,extendedRoundCount:o.extendedRoundCount,max:8,className:"px-4"})}),u.jsxs("td",{className:"text-center",children:[u.jsx(Mv,{value:o.playerResults[0].afterScore-o.playerResults[0].beforeScore})," ",u.jsx(Fv,{matchRound:o,playerIndex:"0"})]}),u.jsxs("td",{className:"text-center",children:[u.jsx(Mv,{value:o.playerResults[1].afterScore-o.playerResults[1].beforeScore})," ",u.jsx(Fv,{matchRound:o,playerIndex:"1"})]}),u.jsxs("td",{className:"text-center",children:[u.jsx(Mv,{value:o.playerResults[2].afterScore-o.playerResults[2].beforeScore})," ",u.jsx(Fv,{matchRound:o,playerIndex:"2"})]}),u.jsxs("td",{className:"text-center",children:[u.jsx(Mv,{value:o.playerResults[3].afterScore-o.playerResults[3].beforeScore})," ",u.jsx(Fv,{matchRound:o,playerIndex:"3"})]})]},i)),n[n.length-1]&&u.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[u.jsx("td",{className:"text-center whitespace-nowrap px-16"}),u.jsx("td",{className:"text-center font-bold text-lg",children:u.jsx(Lt,{value:n[n.length-1][1].playerResults[0].afterScore})}),u.jsx("td",{className:"text-center font-bold text-lg",children:u.jsx(Lt,{value:n[n.length-1][1].playerResults[1].afterScore})}),u.jsx("td",{className:"text-center font-bold text-lg",children:u.jsx(Lt,{value:n[n.length-1][1].playerResults[2].afterScore})}),u.jsx("td",{className:"text-center font-bold text-lg",children:u.jsx(Lt,{value:n[n.length-1][1].playerResults[3].afterScore})})]})]})]})}function Bye({params:{matchId:t}}){const{match:e,matchRounds:r,matchCurrentRound:n,matchCurrentRoundDoras:i}=rs(t);return!e||!n?u.jsx("div",{children:"對局讀取失敗。"}):u.jsx("div",{children:u.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-6",children:[u.jsxs("div",{className:"flex flex-row items-stretch gap-x-4 text-white",children:[u.jsxs("div",{className:"shrink-0 rounded-[1rem] bg-black bg-opacity-50 p-2 flex items-stretch gap-x-4",children:[u.jsx("div",{className:"text-[2.5rem] leading-none border-[.25rem] rounded-[.75rem] pb-[0.3em] pt-[0.2em] px-4 border-current flex items-center justify-center",children:u.jsx(ps,{roundCount:n.roundCount,max:8})}),u.jsxs("div",{className:"flex flex-col justify-around",children:[u.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-2",children:[u.jsx("div",{className:"flex-1",children:u.jsx("img",{src:"/images/score-hundred.png",alt:"hundred",className:"h-4"})}),u.jsx("div",{children:n.extendedRoundCount??0})]}),u.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-2",children:[u.jsx("div",{className:"flex-1",children:u.jsx("img",{src:"/images/score-thousand.png",alt:"thousand",className:"h-4"})}),u.jsx("div",{children:n.cumulatedThousands??0})]})]}),u.jsx("div",{className:"flex items-center gap-x-2",children:i.map((o,s)=>u.jsx(jo,{className:"w-9 cursor-pointer","data-index":s,children:o},o))})]}),u.jsx("div",{className:"flex-1"})]}),u.jsx("div",{className:"space-y-4",children:["0","1","2","3"].map(o=>u.jsx("div",{className:"flex gap-x-2 items-center",children:u.jsx("div",{className:"flex-1 text-[2.5rem]",children:u.jsx(Qa,{player:e.players[o],score:n.playerResults[o].beforeScore,scoreChanges:n.playerResults[o].prevScoreChanges,isEast:ti(o,n.roundCount),isRiichi:n.playerResults[o].isRiichi,isYellowCarded:n.playerResults[o].isYellowCarded,isRedCarded:n.playerResults[o].isRedCarded})})}))}),u.jsx(Tg,{players:e.players,matchRounds:r,className:"w-full table-auto"})]})})}const jF=`body { 
  background-color: rgba(0, 0, 0, 0); 
  color: rgba(0, 0, 0, 0); 
  margin: 0px auto; 
  overflow: hidden; 
}

.body-hidden {
  display: none;
}`;function Uye({matchId:t}){const e=E.useMemo(()=>`${window.location.origin}/match/${t}/control`,[t]),r=E.useCallback(()=>{window.navigator.clipboard.writeText(jF)},[]);return u.jsxs("div",{className:"flex items-center justify-center gap-x-8",children:[u.jsxs("div",{children:[u.jsx("p",{children:"1. 打開OBS"}),u.jsxs("p",{children:["2. 來源 ","->"," + ","->"," 瀏覽器，然後照下面設定"]}),u.jsxs("p",{children:["- 網址 = 此頁的網址 ",u.jsx("strong",{children:window.location.href}),u.jsx("br",{}),"- 寬度 = 1920, 高度 = 1080",u.jsx("br",{})," - 自訂CSS ="," ",u.jsxs("div",{className:"relative bg-gray-700 text-white p-4 rounded",children:[u.jsx("pre",{children:jF}),u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx("button",{type:"button",onClick:r,children:u.jsx("i",{className:"bi bi-copy"})})})]})]})]}),u.jsxs("div",{children:[u.jsx("p",{children:'3. 在管理後台點擊右上角的 "開始OBS" '}),u.jsx("p",{children:"4. 確定"})]}),u.jsx("div",{className:"shrink-0",children:u.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"text-center underline",children:[u.jsx("img",{className:"block w-32 h-32",src:yT(e),alt:""}),u.jsx("p",{children:"管理後台"})]})})]})}function Vye({han:t,fu:e,yakumanCount:r,...n}){const i=E.useMemo(()=>{if(r&&r>0)return r===1?"役滿":r===2?"兩倍役滿":r===3?"三倍役滿":r===4?"四倍役滿":`${r}倍役滿`;if(t>=11)return"三倍滿";if(t>=8)return"倍滿";if(t>=6)return"跳滿";if(t>=5)return"滿貫";if(t>=4&&typeof e<"u"&&e>=40)return"滿貫";if(t>=3&&typeof e<"u"&&e>=70)return"滿貫";if(typeof e<"u")return},[r,t,e]);return i?u.jsx("div",{...n,children:i}):u.jsxs("div",{...n,children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:t}),u.jsx("span",{children:"飜"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:e}),u.jsx("span",{children:"符"})]})]})}const Wye=({active:t,color:e="#000000",largeTeamPicUrl:r})=>u.jsxs(u.Fragment,{children:[u.jsx("img",{src:"/images/r.png",className:"w-0 h-0 opacity-0"}),u.jsx("img",{src:"/images/e.png",className:"w-0 h-0 opacity-0"}),u.jsx("img",{src:"/images/a.png",className:"w-0 h-0 opacity-0"}),u.jsx("img",{src:"/images/c.png",className:"w-0 h-0 opacity-0"}),u.jsx("img",{src:"/images/h.png",className:"w-0 h-0 opacity-0"}),u.jsx("img",{src:"/images/score-thousand.png",className:"w-0 h-0 opacity-0"}),t&&u.jsxs("div",{className:"reach-animation",children:[u.jsx("div",{className:"reach-background",style:{background:`linear-gradient(to bottom, transparent, ${e}80 40%, ${e}80 60%, transparent)`}}),u.jsx("div",{className:"reach-animation-logo",style:{backgroundImage:`url("${r}")`}}),u.jsx("div",{className:"reach-animation-bar",style:{backgroundImage:'url("/images/score-thousand.png")'}}),u.jsxs("div",{className:"reach-animation-text",children:[u.jsx("div",{className:"reach-animation-text-character c1",style:{backgroundImage:'url("/images/r.png")'}}),u.jsx("div",{className:"reach-animation-text-character c2",style:{backgroundImage:'url("/images/e.png")'}}),u.jsx("div",{className:"reach-animation-text-character c3",style:{backgroundImage:'url("/images/a.png")'}}),u.jsx("div",{className:"reach-animation-text-character c4",style:{backgroundImage:'url("/images/c.png")'}}),u.jsx("div",{className:"reach-animation-text-character c5",style:{backgroundImage:'url("/images/h.png")'}})]})]})]});function qG({params:{matchId:t}}){const{match:e,matchCurrentRound:r,matchCurrentRoundDoras:n}=rs(t),i=E.useMemo(()=>{if(!e||!r)return[];const d=GG([r.playerResults[0].afterScore,r.playerResults[1].afterScore,r.playerResults[2].afterScore,r.playerResults[3].afterScore]);return["0","1","2","3"].map((h,p)=>({...e.players[h],color:e.players[h].color,currentStatus:{...r.playerResults[h],isEast:ti(h,r.roundCount),...d[p]}}))},[e,r]),[o,s]=E.useState(null),[a,l]=E.useState(),[c,f]=E.useState({0:!1,1:!1,2:!1,3:!1});return E.useEffect(()=>{["0","1","2","3"].forEach(d=>{typeof(r==null?void 0:r.playerResults[d].isRiichi)<"u"&&r.playerResults[d].isRiichi!==c[d]&&(r.playerResults[d].isRiichi===!0&&(s(d),setTimeout(()=>{s(null)},2800)),f(h=>({...h,[d]:r.playerResults[d].isRiichi})))})},[r==null?void 0:r.playerResults,c]),E.useEffect(()=>{a!==(r==null?void 0:r.code)&&(l(r==null?void 0:r.code),f({0:!1,1:!1,2:!1,3:!1}))},[r==null?void 0:r.code,a]),!e||!r?u.jsx("div",{className:"text-current",children:"對局讀取失敗。"}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relativew-screen h-screen mx-auto py-8 overflow-hidden text-[4.8rem] transition-opacity",style:{background:"linear-gradient(transparent, transparent 73%, rgba(0, 0, 0, 0.4))",opacity:o!==null?0:1},children:[u.jsxs("div",{className:"flex flex-row items-stretch gap-x-4 text-white",children:[u.jsxs("div",{className:"relative text-[0.6em] p-2 pl-10 pr-[1em] flex items-center gap-x-8",style:{transition:"width 0.3s, left 1.5s, opacity 1.5s",left:e.hideHeader?"-100%":"0",opacity:e.hideHeader?"0":"1",background:"linear-gradient(280deg, transparent, transparent 0.5em, #00000080 0.5em, #00000080 100%)"},children:[u.jsxs("div",{className:"",children:[u.jsx("div",{className:"text-[0.5em]",children:e.name}),u.jsxs("div",{className:"flex gap-x-8 items-center",children:[u.jsx("div",{className:"min-w-[3.5em]",children:u.jsx(ps,{roundCount:r.roundCount,max:8})}),u.jsxs("div",{className:"flex flex-col justify-around gap-2",children:[u.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[u.jsx("div",{className:"flex-1",children:u.jsx("img",{src:"/images/score-hundred.png",alt:"hundred",className:"h-[0.25em] mt-[0.1em]"})}),u.jsx("div",{className:"text-[0.45em] leading-none",children:r.extendedRoundCount??0})]}),u.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[u.jsx("div",{className:"flex-1",children:u.jsx("img",{src:"/images/score-thousand.png",alt:"thousand",className:"h-[0.25em] mt-[0.1em]"})}),u.jsx("div",{className:"text-[0.45em] leading-none",children:r.cumulatedThousands??0})]})]})]})]}),u.jsx("div",{className:"flex items-center gap-x-2",children:n.map(d=>u.jsx(jo,{className:"w-[1.4em] animate-[fadeInFromLeft_0.5s_ease-in-out]",children:d},d))})]}),u.jsx("div",{className:"flex-1"})]}),u.jsx("div",{className:"flex items-center justify-center mt-20",children:u.jsx("div",{className:"body-hidden mx-20 text-[16px]",children:u.jsx(Uye,{matchId:t})})}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 px-10 pb-6 grid grid-cols-4 items-end gap-x-8 text-white animate-[fadeInFromBottom_1s_ease-in-out]",style:{opacity:e.activeResultDetail?0:1,bottom:e.activeResultDetail?"-150px":0,transition:"opacity 0.5s, bottom 0.5s"},children:i.map(d=>u.jsxs("div",{className:"w-[5.35em]",children:[u.jsx(Qa,{player:d,score:d.currentStatus.afterScore,scoreChanges:d.currentStatus.scoreChanges,isEast:d.currentStatus.isEast,isRiichi:d.currentStatus.isRiichi&&r.resultType===Ve.Unknown,waitingTiles:r.resultType===Ve.Unknown?d.currentStatus.waitingTiles:[],isYellowCarded:d.currentStatus.isYellowCarded,isRedCarded:d.currentStatus.isRedCarded,isRonDisallowed:d.currentStatus.isRonDisallowed,ranking:d.currentStatus.ranking,point:d.currentStatus.point,showPointAndRanking:!!e.showPoints}),u.jsx("img",{src:d.largeTeamPicUrl,className:"w-0 h-0"})]},d.name))}),e.activeResultDetail&&u.jsxs("div",{className:"fixed bottom-0 left-0 right-0 px-10 pb-6 grid grid-cols-4 gap-x-8 text-white transition-opacity animate-[fadeInFromBottom_1s_ease-in-out]",children:[u.jsx("div",{className:"w-[5.35em]",children:u.jsx(Qa,{player:e.players[e.activeResultDetail.winnerPlayerIndex],score:r.playerResults[e.activeResultDetail.winnerPlayerIndex].afterScore})}),u.jsxs("div",{className:"col-span-3 bg-black bg-opacity-50 py-6 px-8 text-[0.5em] flex items-stretch gap-x-4",children:[u.jsx("div",{className:`flex-1 flex flex-wrap gap-x-[0.75em] ${e.activeResultDetail.yakumanCount>0?"self-center justify-center":""}`,children:e.activeResultDetail.yakus.map(({label:d})=>u.jsx("span",{children:d},d))}),u.jsx("div",{className:"shrink-0 w-px bg-neutral-200"}),u.jsx("div",{className:"shrink-0 min-w-[3em] self-center text-green-400 text-[1.4em] text-center",children:u.jsx(Vye,{han:e.activeResultDetail.han,fu:e.activeResultDetail.fu,yakumanCount:e.activeResultDetail.yakumanCount})})]})]})]}),u.jsx("div",{className:"fixed inset-0 pointer-events-none",children:u.jsx(Wye,{active:o!==null,color:o&&i[o].color,largeTeamPicUrl:o&&i[o].largeTeamPicUrl})})]})}function Jn({open:t,title:e,children:r,onClose:n,hideCloseButton:i}){const o=E.useRef(null);E.useEffect(()=>{if(o!=null&&o.current&&t){o.current.showModal();const{current:a}=o;return()=>{a.close()}}},[t]);const s=E.useCallback(()=>{n==null||n()},[n]);return u.jsx("dialog",{ref:o,onClose:s,children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex mb-4",children:[u.jsx("div",{className:"flex-1 items-center font-bold text-lg",children:e}),!i&&u.jsx("div",{className:"shrink-0",children:u.jsx("button",{type:"button",className:"absolute top-4 right-4",onClick:s,children:u.jsx("i",{className:"bi bi-x"})})})]}),r]})})}const OO=()=>u.jsx("div",{className:"inline-block w-4 h-4 border-2 border-neutral-800 border-l-transparent rounded-full animate-spin"});function zye({title:t,children:e,okButtonText:r="確認",cancelButtonText:n="取消",onClickOk:i,onClickCancel:o,...s}){const[a,l]=E.useState(!1),c=E.useCallback(()=>{i&&(l(!0),i().finally(()=>{l(!1)}))},[i]);return u.jsxs(Jn,{title:t,...s,children:[u.jsx("div",{className:"mb-4",children:e}),u.jsxs("div",{className:"flex gap-x-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(je,{type:"button",color:"secondary",className:"w-full",onClick:o,disabled:a,children:n})}),u.jsx("div",{className:"flex-1",children:u.jsx(je,{type:"button",color:"danger",className:"w-full",onClick:c,disabled:a,children:a?u.jsx(OO,{}):r})})]})]})}const Gye={isShowConfirmDialog:!1,setIsShowConfirmDialog:()=>{},confirmDialogOptions:{title:"警告"},setConfirmDialogOptions:()=>{}},HG=E.createContext(Gye);function qye({children:t}){const[e,r]=E.useState(!1),[n,i]=E.useState({title:"警告"}),o=E.useMemo(()=>({isShowConfirmDialog:e,setIsShowConfirmDialog:r,confirmDialogOptions:n,setConfirmDialogOptions:i}),[n,e]),s=E.useCallback(()=>{r(!1)},[]);return u.jsxs(HG.Provider,{value:o,children:[t,u.jsx(zye,{open:e,okButtonText:n.okButtonText,cancelButtonText:n.cancelButtonText,onClickOk:n.onClickOk,onClickCancel:n.onClickCancel,onClose:s,...n,hideCloseButton:!0,children:n.content})]})}const Hye=()=>{const t=E.useContext(HG);return{showConfirmDialog:E.useCallback(r=>{const n=async()=>(r.onClickOk??(async()=>Promise.resolve()))().then(()=>{t.setIsShowConfirmDialog(!1)}),i=async()=>(r.onClickCancel??(async()=>Promise.resolve()))().then(()=>{t.setIsShowConfirmDialog(!1)});t.setConfirmDialogOptions({...r,onClickOk:n,onClickCancel:i}),t.setIsShowConfirmDialog(!0)},[t])}};function KG(){var t=E.useRef(!1),e=E.useCallback(function(){return t.current},[]);return E.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e}function Zw(t,e,r){e===void 0&&(e=[]),r===void 0&&(r={loading:!1});var n=E.useRef(0),i=KG(),o=E.useState(r),s=o[0],a=o[1],l=E.useCallback(function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var d=++n.current;return s.loading||a(function(h){return _x(_x({},h),{loading:!0})}),t.apply(void 0,c).then(function(h){return i()&&d===n.current&&a({value:h,loading:!1}),h},function(h){return i()&&d===n.current&&a({error:h,loading:!1}),h})},e);return[s,l]}function Kye(t,e){e===void 0&&(e=[]);var r=Zw(t,e,{loading:!0}),n=r[0],i=r[1];return E.useEffect(function(){i()},[i]),n}var sA=function(){};function aA(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.addEventListener&&t.addEventListener.apply(t,e)}function lA(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t&&t.removeEventListener&&t.removeEventListener.apply(t,e)}var Qye=typeof window<"u",Yye=function(t,e){return typeof e=="boolean"?e:!t},To=function(t){return E.useReducer(Yye,t)},Xye=function(t,e){return function(r,n){var i=r.getData("text/uri-list");if(i){(t.onUri||sA)(i,n);return}if(r.files&&r.files.length){(t.onFiles||sA)(Array.from(r.files),n);return}r.items&&r.items.length&&r.items[0].getAsString(function(o){e&&(t.onText||sA)(o,n)})}},Jye=function(t,e){return{onDragOver:function(r){r.preventDefault()},onDragEnter:function(r){r.preventDefault(),e(!0)},onDragLeave:function(){e(!1)},onDrop:function(r){r.preventDefault(),r.persist(),e(!1),t(r.dataTransfer,r)},onPaste:function(r){r.persist(),t(r.clipboardData,r)}}},Zye=function(t){t===void 0&&(t={});var e=t.onFiles,r=t.onText,n=t.onUri,i=KG(),o=E.useState(!1),s=o[0],a=o[1],l=E.useMemo(function(){return Xye(t,i())},[e,r,n]),c=E.useMemo(function(){return Jye(l,a)},[l,a]);return[c,{over:s}]},QG=function(t,e){var r=E.useRef(function(){});E.useEffect(function(){r.current=t}),E.useEffect(function(){if(e!==null){var n=setInterval(function(){return r.current()},e||0);return function(){return clearInterval(n)}}},[e])},RF=function(t,e){return new URLSearchParams(t).get(e)},ege=function(t){var e=window.location,r=E.useState(function(){return RF(e.search,t)}),n=r[0],i=r[1];return E.useEffect(function(){var o=function(){i(RF(e.search,t))};return aA(window,"popstate",o),aA(window,"pushstate",o),aA(window,"replacestate",o),function(){lA(window,"popstate",o),lA(window,"pushstate",o),lA(window,"replacestate",o)}},[]),n},tge=function(){return null};const Mx=Qye?ege:tge,rge=[["1m","2m","3m","4m","5m","6m","7m","8m","9m","0m"],["1p","2p","3p","4p","5p","6p","7p","8p","9p","0p"],["1s","2s","3s","4s","5s","6s","7s","8s","9s","0s"],["1z","2z","3z","4z","5z","6z","7z"]],$F={m:0,p:1,s:2,z:3},nge=(t,e)=>{const[r,n]=[t[0],t[1]],[i,o]=[e[0],e[1]];return n!==o?$F[n]-$F[o]:parseInt(r,10)-parseInt(i,10)};function DF({onSubmit:t,onRemove:e,canRemove:r,hideRedTiles:n,multiple:i,defaultValue:o}){const[s,a]=E.useState([]),l=E.useCallback(d=>{var p;const h=(p=d.currentTarget)==null?void 0:p.getAttribute("data-key");h&&a(i?m=>{const y=m.indexOf(h);if(y===-1)return[...m,h].sort(nge);const v=[...m];return v.splice(y,1),v}:[h])},[i]),c=E.useCallback(()=>{s&&t&&(t==null||t(s),a([]))},[t,s]),f=E.useCallback(()=>{r&&(e==null||e(),a([]))},[r,e]);return E.useEffect(()=>{a(o??[])},[o]),u.jsxs("div",{children:[u.jsx("div",{className:`mb-4 grid ${n?"grid-cols-9":"grid-cols-10"} gap-1 lg:gap-x-2 lg:gap-y-4 items-center text-center`,children:rge.map(d=>d.map(h=>(!h.startsWith("0")||!n)&&u.jsx("button",{type:"button",onClick:l,"data-key":h,className:`${s.indexOf(h)!==-1?"bg-blue-400":"bg-black bg-opacity-20"} rounded p-1 lg:p-2`,children:u.jsx(jo,{children:h})})))}),u.jsxs("div",{className:"flex gap-x-4",children:[r&&u.jsx("div",{className:"flex-1",children:u.jsx(je,{className:"w-full",type:"button",color:"secondary",onClick:f,children:"移除"})}),u.jsx("div",{className:"flex-1",children:u.jsx(je,{className:"w-full",type:"button",color:"primary",onClick:c,disabled:s.length===0,children:"確定"})})]})]})}const Lv=({teamPlayer:t})=>u.jsx(Qa,{player:fp(t),score:25e3}),ige=({matchDTO:t})=>{const e=Ez(),r=E.useCallback(async()=>{if(!confirm("確定資料都正確了嗎？要開始對局了嗎？"))return;const n={code:t._id,name:t.name,remark:"",createdAt:new Date().toISOString(),createdBy:"Dicky",updatedAt:new Date().toISOString(),updatedBy:"Dicky",setting:{startingScore:t.tournament.startingScore,isManganRoundUp:t.tournament.startingScore?"1":"0",yakuMax:t.tournament.yakuMax,yakumanMax:t.tournament.yakumanMax},players:{0:fp(t.playerEast),1:fp(t.playerSouth),2:fp(t.playerWest),3:fp(t.playerNorth)},activeResultDetail:null};await e.set(`matches/${t._id}`,n);const i=parseInt(t.tournament.startingScore),o={matchId:t._id,code:Dx(t._id,1,0),roundCount:1,extendedRoundCount:0,cumulatedThousands:0,nextRoundCumulatedThousands:0,resultType:0,nextRoundType:0,playerResults:{0:{beforeScore:i,afterScore:i,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},1:{beforeScore:i,afterScore:i,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},2:{beforeScore:i,afterScore:i,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},3:{beforeScore:i,afterScore:i,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}}},doras:[]};await e.push("matchRounds",o),await e.set("obs/1",{matchId:t._id})},[t._id,t.name,t.playerEast,t.playerNorth,t.playerSouth,t.playerWest,t.tournament.startingScore,t.tournament.yakuMax,t.tournament.yakumanMax,e]);return u.jsx("div",{className:"container mx-auto max-w-screen-md py-16",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-red-500 p-4 text-white space-y-2",children:[u.jsx("div",{className:"text-center text-6xl",children:u.jsx("i",{className:"bi bi-exclamation-triangle"})}),u.jsxs("p",{className:"text-center text-xl",children:["這是開始直播前的最後機會，請檢查以下內容是否完全正確。",u.jsx("br",{}),"一旦對局開始，要修改內容就很麻煩。",u.jsx("br",{}),u.jsx("br",{}),"如果要修改，請在資料庫修改後，刷新此頁面。"]})]}),u.jsxs("h4",{className:"text-3xl",children:[u.jsx("span",{className:"text-neutral-600",children:"對局名稱:"})," ",u.jsx("span",{className:"font-bold",children:t.name})]}),u.jsxs("div",{className:"grid grid-cols-10 gap-x-2",children:[u.jsxs("div",{className:"col-span-4 col-start-4",children:[u.jsx("div",{className:"text-[48px]",children:u.jsx(Lv,{teamPlayer:t.playerWest})}),u.jsx("p",{className:"text-center text-4xl",children:"西"})]}),u.jsxs("div",{className:"col-span-4 col-start-1 flex items-center gap-x-2",children:[u.jsx("div",{className:"flex-1 text-[48px]",children:u.jsx(Lv,{teamPlayer:t.playerNorth})}),u.jsx("div",{className:"shrink-0 text-4xl",children:"北"})]}),u.jsx("div",{className:"col-span-2"}),u.jsxs("div",{className:"col-span-4 flex items-center gap-x-2",children:[u.jsx("div",{className:"shrink-0 text-4xl",children:"南"}),u.jsx("div",{className:"flex-1 text-[48px]",children:u.jsx(Lv,{teamPlayer:t.playerSouth})})]}),u.jsxs("div",{className:"col-span-4 col-start-4",children:[u.jsx("p",{className:"text-center text-4xl",children:"東"}),u.jsx("div",{className:"text-[48px]",children:u.jsx(Lv,{teamPlayer:t.playerEast})})]})]}),u.jsxs("div",{className:"text-2xl",children:[u.jsx("span",{className:"text-neutral-600",children:"聯賽:"})," ",u.jsx("span",{className:"font-bold",children:t.tournament.name})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"border border-neutral-400 pt-2 py-4 rounded text-center bg-white",children:[u.jsx("p",{className:"text-neutral-600 font-bold text-sm",children:"起始點數"}),u.jsx("p",{className:"text-4xl",children:t.tournament.startingScore})]}),u.jsxs("div",{className:"border border-neutral-400 pt-2 py-4 rounded text-center bg-white",children:[u.jsx("p",{className:"text-neutral-600 font-bold text-sm",children:"切上滿貫"}),u.jsx("p",{className:"text-4xl",children:t.tournament.isManganRoundUp?"有":"沒有"})]}),u.jsxs("div",{className:"border border-neutral-400 pt-2 py-4 rounded text-center bg-white",children:[u.jsx("p",{className:"text-neutral-600 font-bold text-sm",children:"翻數上限"}),u.jsx("p",{className:"text-4xl",children:Eye(t.tournament.yakuMax)})]}),u.jsxs("div",{className:"border border-neutral-400 pt-2 py-4 rounded text-center bg-white",children:[u.jsx("p",{className:"text-neutral-600 font-bold text-sm",children:"役滿上限"}),u.jsx("p",{className:"text-4xl",children:Aye(t.tournament.yakumanMax)})]})]}),u.jsx("div",{className:"pt-8",children:u.jsx(je,{className:"w-full",size:"xlarge",variant:"contained",color:"success",onClick:r,children:"確認以上內容無誤，開始對局"})})]})})},oge=({players:t,currentRound:e,onAction:r})=>{const n=E.useCallback(i=>{const o=i.currentTarget.getAttribute("data-player-index"),s=i.currentTarget.getAttribute("data-action");r(o,s)},[r]);return u.jsx("div",{className:"space-y-2",children:["0","1","2","3"].map(i=>{var o,s;return u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"shrink-0 flex flex-col gap-1",children:[u.jsx("button",{className:"text-gray-900 text-xs px-1 rounded",style:{backgroundColor:"#ffe100",width:"2rem",height:"2.5rem",top:"0rem",left:"-2.5rem",opacity:e.playerResults[i].isYellowCarded?1:.35},"data-player-index":i,"data-action":"yellow-card",onClick:n,children:"黃牌"}),u.jsx("button",{className:"text-gray-900 text-xs px-1 rounded",style:{backgroundColor:"#ff1900",width:"2rem",height:"2.5rem",top:"2.7rem",left:"-2.5rem",opacity:e.playerResults[i].isRedCarded?1:.35},"data-player-index":i,"data-action":"red-card",onClick:n,children:"紅牌"}),u.jsxs("button",{className:"text-gray-900 text-xs px-1 rounded",style:{border:"1px solid #333",borderColor:e.playerResults[i].isRonDisallowed?"#f00":"#333",color:e.playerResults[i].isRonDisallowed?"#fff":"#000",background:e.playerResults[i].isRonDisallowed?"#f00":"transparent",width:"2rem",height:"2.5rem",top:"2.7rem",left:"-2.5rem",opacity:e.playerResults[i].isRonDisallowed?1:.35},"data-player-index":i,"data-action":"disallow-ron",onClick:n,children:[u.jsx("div",{className:"whitespace-nowrap",children:"和了"}),u.jsx("div",{className:"whitespace-nowrap",children:"禁止"})]})]}),u.jsx("div",{className:"flex-1",children:u.jsx("table",{className:"w-full border border-black ring-2 ring-transparent data-[east='1']:ring-red-500 bg-white","data-east":ti(i,e.roundCount)?"1":"0",children:u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{className:"p-1 text-white w-32 relative",style:{background:t[i].color},children:u.jsxs("div",{className:"flex gap-x-1 items-center w-32",children:[u.jsx("img",{className:"shrink-0 w-8 h-8 inline-block",src:t[i].teamPicUrl,alt:t[i].title}),u.jsx("img",{className:"shrink-0 w-[1.44rem] h-8 inline-block",src:t[i].proPicUrl,alt:t[i].name}),u.jsxs("div",{className:"flex-1 align-middle overflow-hidden",children:[u.jsx("p",{className:"whitespace-nowrap overflow-ellipsis",children:t[i].title}),u.jsx("p",{className:"whitespace-nowrap overflow-ellipsis",children:t[i].nickname||t[i].name})]})]})}),u.jsx("td",{className:"px-2 border-b border-black",colSpan:2,children:u.jsxs("button",{className:"py-2 text-left block","data-player-index":i,"data-action":"waitingTile",onClick:n,children:[u.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),u.jsx("div",{className:"inline-block space-x-1",children:(o=e.playerResults[i].waitingTiles)==null?void 0:o.map(a=>u.jsx(jo,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:a},a))})]})}),u.jsx("td",{className:"whitespace-nowrap w-0 space-y-1 pr-1",rowSpan:2,children:u.jsxs("div",{className:"flex items-center gap-x-1",children:[u.jsxs("div",{className:"flex flex-col gap-2 self-stretch",children:[u.jsx("button",{className:"flex-1 h-16 w-16 bg-neutral-200 border rounded-full border-neutral-700 text-xl disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":i,"data-action":"riichi",onClick:n,"data-active":e.playerResults[i].isRiichi?"1":"0",disabled:e.playerResults[i].isRevealed,children:"立直"}),u.jsx("button",{className:"flex-1 px-1 bg-neutral-200 border rounded border-neutral-700 text-xl disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":i,"data-action":"reveal",onClick:n,"data-active":e.playerResults[i].isRevealed?"1":"0",disabled:e.playerResults[i].isRiichi,children:"副露"})]}),u.jsxs("div",{className:"flex items-center gap-x-1 relative",children:[u.jsx("div",{className:"flex flex-col gap-1",children:u.jsx("button",{className:"px-1 ml-3 h-12 w-16 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":i,"data-action":"ron-self",onClick:n,children:"自摸"})}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsxs("button",{className:"px-1 mr-4 h-10 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":i,"data-action":"ron-before",onClick:n,children:["和",t[BG(i)].nickname||"上家"]}),u.jsxs("button",{className:"px-1 ml-4 h-10 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":i,"data-action":"ron-opposite",onClick:n,children:["和",t[VG(i)].nickname||"對家"]}),u.jsxs("button",{className:"px-1 mr-4 h-10 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":i,"data-action":"ron-after",onClick:n,children:["和",t[UG(i)].nickname||"下家"]})]}),e.playerResults[i].isRonDisallowed&&u.jsxs("div",{className:"absolute inset-0 bg-red-500 text-white text-lg opacity-90 flex items-center justify-center",children:[u.jsx("i",{className:"bi bi-ban"})," 和了禁止"]})]})]})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"p-1 space-x-1 text-white text-4xl",style:{background:t[i].color},children:e.playerResults[i].afterScore}),u.jsx("td",{className:"px-2",children:u.jsxs("button",{className:"py-2 text-left text-xl","data-player-index":i,"data-action":"yaku",onClick:n,children:[u.jsx("span",{className:"mr-2 text-xl",children:"役"}),u.jsx("div",{className:"inline-block space-x-1",children:(s=e.playerResults[i].detail.yakus)==null?void 0:s.map(({label:a})=>u.jsx("span",{children:a},a))})]})}),u.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4",children:u.jsxs("div",{children:[u.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[i].detail.dora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":i,"data-action":"dora-normal-minus",onClick:n,children:"-"}),"寶",e.playerResults[i].detail.dora,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":i,"data-action":"dora-normal-plus",onClick:n,children:"+"})]}),u.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[i].detail.redDora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":i,"data-action":"dora-red-minus",onClick:n,children:"-"}),"赤",e.playerResults[i].detail.redDora??0,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":i,"data-action":"dora-red-plus",onClick:n,children:"+"})]})]})})]})]})},i)})]})})})},sge=[["0","3","1","2"],["3","2","0","1"],["2","1","3","0"],["1","0","2","3"]],age=({players:t,currentRound:e,onAction:r})=>{var l,c,f,d;const[n,i]=E.useState(0),o=E.useMemo(()=>sge[n],[n]),s=E.useCallback(h=>{const p=h.currentTarget.getAttribute("data-player-index"),m=h.currentTarget.getAttribute("data-action");r(p,m)},[r]),a=E.useCallback(()=>{i(h=>(h+1)%4)},[]);return u.jsxs("div",{children:[u.jsx("div",{className:"text-center mb-4",children:u.jsxs(je,{size:"small",onClick:a,children:["逆時針旋轉 ",u.jsx("i",{className:"bi bi-arrow-counterclockwise"})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("table",{className:"w-full border border-black",children:u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsxs("td",{className:"p-1 space-x-1 text-white",style:{background:t[o[0]].color},children:[u.jsx("img",{className:"w-8 h-8 inline-block",src:t[o[0]].teamPicUrl,alt:t[o[0]].title}),u.jsx("img",{className:"w-[1.44rem] h-8 inline-block",src:t[o[0]].proPicUrl,alt:t[o[0]].name}),u.jsxs("div",{className:"inline-block align-middle",children:[u.jsx("p",{children:t[o[0]].title}),u.jsx("p",{children:t[o[0]].name})]})]}),u.jsx("td",{className:"p-1 space-x-1 text-white text-4xl text-right pr-2",style:{background:t[o[0]].color},children:e.playerResults[o[0]].afterScore})]}),u.jsx("tr",{children:u.jsx("td",{className:"w-1/2 px-2 h-16",colSpan:2,children:u.jsxs("button",{className:"py-2 text-left block","data-player-index":o[0],"data-action":"waitingTile",onClick:s,children:[u.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),u.jsx("div",{className:"inline-block space-x-1",children:(l=e.playerResults[o[0]].waitingTiles)==null?void 0:l.map(h=>u.jsx(jo,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:h},h))})]})})}),u.jsxs("tr",{children:[u.jsx("td",{className:"w-full px-2",children:u.jsx("span",{children:"役"})}),u.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4 pb-4",children:u.jsxs("div",{children:[u.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[o[0]].detail.dora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[0],"data-action":"dora-normal-minus",onClick:s,children:"-"}),"寶",e.playerResults[o[0]].detail.dora,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[0],"data-action":"dora-normal-plus",onClick:s,children:"+"})]}),u.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[o[0]].detail.redDora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[0],"data-action":"dora-red-minus",onClick:s,children:"-"}),"赤",e.playerResults[o[0]].detail.redDora??0,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[0],"data-action":"dora-red-plus",onClick:s,children:"+"})]})]})})]}),u.jsx("tr",{children:u.jsx("td",{className:"whitespace-nowrap",colSpan:2,children:u.jsxs("div",{className:" grid grid-cols-3 gap-2 justify-center",children:[u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl mr-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":o[0],"data-action":"reveal",onClick:s,"data-active":e.playerResults[o[0]].isRevealed?"1":"0",disabled:e.playerResults[o[0]].isRiichi,children:"副露"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[0],"data-action":"ron-self",onClick:s,children:"自摸"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[0],"data-action":"ron-before",onClick:s,children:"和上家←"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl mr-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":o[0],"data-action":"riichi",onClick:s,"data-active":e.playerResults[o[0]].isRiichi?"1":"0",disabled:e.playerResults[o[0]].isRevealed,children:"立直"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[0],"data-action":"ron-after",onClick:s,children:"和下家↑"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[0],"data-action":"ron-opposite",onClick:s,children:"和對家↖"})]})})})]})}),u.jsx("table",{className:"w-full border border-black",children:u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsxs("td",{className:"p-1 space-x-1 text-white",style:{background:t[o[1]].color},children:[u.jsx("img",{className:"w-8 h-8 inline-block",src:t[o[1]].teamPicUrl,alt:t[o[1]].title}),u.jsx("img",{className:"w-[1.44rem] h-8 inline-block",src:t[o[1]].proPicUrl,alt:t[o[1]].name}),u.jsxs("div",{className:"inline-block align-middle",children:[u.jsx("p",{children:t[o[1]].title}),u.jsx("p",{children:t[o[1]].name})]})]}),u.jsx("td",{className:"p-1 space-x-1 text-white text-4xl text-right pr-2",style:{background:t[o[1]].color},children:e.playerResults[o[1]].afterScore})]}),u.jsx("tr",{children:u.jsx("td",{className:"w-1/2 px-2 h-16",colSpan:2,children:u.jsxs("button",{className:"py-2 text-left block","data-player-index":o[1],"data-action":"waitingTile",onClick:s,children:[u.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),u.jsx("div",{className:"inline-block space-x-1",children:(c=e.playerResults[o[1]].waitingTiles)==null?void 0:c.map(h=>u.jsx(jo,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:h},h))})]})})}),u.jsxs("tr",{children:[u.jsx("td",{className:"w-full px-2",children:u.jsx("span",{children:"役"})}),u.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4 pb-4",children:u.jsxs("div",{children:[u.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[o[1]].detail.dora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[1],"data-action":"dora-normal-minus",onClick:s,children:"-"}),"寶",e.playerResults[o[1]].detail.dora,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[1],"data-action":"dora-normal-plus",onClick:s,children:"+"})]}),u.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[o[1]].detail.redDora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[1],"data-action":"dora-red-minus",onClick:s,children:"-"}),"赤",e.playerResults[o[1]].detail.redDora??0,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[1],"data-action":"dora-red-plus",onClick:s,children:"+"})]})]})})]}),u.jsx("tr",{children:u.jsx("td",{className:"whitespace-nowrap",colSpan:2,children:u.jsxs("div",{className:" grid grid-cols-3 gap-2 justify-center",children:[u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[1],"data-action":"ron-after",onClick:s,children:"→和下家"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[1],"data-action":"ron-self",onClick:s,children:"自摸"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl ml-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":o[1],"data-action":"reveal",onClick:s,"data-active":e.playerResults[o[1]].isRevealed?"1":"0",disabled:e.playerResults[o[1]].isRiichi,children:"副露"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[1],"data-action":"ron-opposite",onClick:s,children:"↗和對家"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[1],"data-action":"ron-before",onClick:s,children:"↑和上家"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl ml-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":o[1],"data-action":"riichi",onClick:s,"data-active":e.playerResults[o[1]].isRiichi?"1":"0",disabled:e.playerResults[o[1]].isRevealed,children:"立直"})]})})})]})}),u.jsx("table",{className:"w-full border border-black",children:u.jsxs("tbody",{children:[u.jsx("tr",{children:u.jsx("td",{className:"whitespace-nowrap",colSpan:2,children:u.jsxs("div",{className:" grid grid-cols-3 gap-2 justify-center",children:[u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl mr-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":o[2],"data-action":"riichi",onClick:s,"data-active":e.playerResults[o[2]].isRiichi?"1":"0",disabled:e.playerResults[o[2]].isRevealed,children:"立直"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[2],"data-action":"ron-before",onClick:s,children:"和上家↓"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[2],"data-action":"ron-opposite",onClick:s,children:"和對家↙"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl mr-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":o[2],"data-action":"reveal",onClick:s,"data-active":e.playerResults[o[2]].isRevealed?"1":"0",disabled:e.playerResults[o[2]].isRiichi,children:"副露"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[2],"data-action":"ron-self",onClick:s,children:"自摸"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[2],"data-action":"ron-after",onClick:s,children:"和下家←"})]})})}),u.jsxs("tr",{children:[u.jsx("td",{className:"w-full px-2",children:u.jsx("span",{children:"役"})}),u.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4 pt-4",children:u.jsxs("div",{children:[u.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[o[2]].detail.dora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[2],"data-action":"dora-normal-minus",onClick:s,children:"-"}),"寶",e.playerResults[o[2]].detail.dora,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[2],"data-action":"dora-normal-plus",onClick:s,children:"+"})]}),u.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[o[2]].detail.redDora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[2],"data-action":"dora-red-minus",onClick:s,children:"-"}),"赤",e.playerResults[o[2]].detail.redDora??0,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[2],"data-action":"dora-red-plus",onClick:s,children:"+"})]})]})})]}),u.jsx("tr",{children:u.jsx("td",{className:"w-1/2 px-2 h-16",colSpan:2,children:u.jsxs("button",{className:"py-2 text-left block","data-player-index":o[2],"data-action":"waitingTile",onClick:s,children:[u.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),u.jsx("div",{className:"inline-block space-x-1",children:(f=e.playerResults[o[2]].waitingTiles)==null?void 0:f.map(h=>u.jsx(jo,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:h},h))})]})})}),u.jsxs("tr",{children:[u.jsxs("td",{className:"p-1 space-x-1 text-white",style:{background:t[o[2]].color},children:[u.jsx("img",{className:"w-8 h-8 inline-block",src:t[o[2]].teamPicUrl,alt:t[o[2]].title}),u.jsx("img",{className:"w-[1.44rem] h-8 inline-block",src:t[o[2]].proPicUrl,alt:t[o[2]].name}),u.jsxs("div",{className:"inline-block align-middle",children:[u.jsx("p",{children:t[o[2]].title}),u.jsx("p",{children:t[o[2]].name})]})]}),u.jsx("td",{className:"p-1 space-x-1 text-white text-4xl text-right pr-2",style:{background:t[o[2]].color},children:e.playerResults[o[2]].afterScore})]})]})}),u.jsx("table",{className:"w-full border border-black",children:u.jsxs("tbody",{children:[u.jsx("tr",{children:u.jsx("td",{className:"whitespace-nowrap",colSpan:2,children:u.jsxs("div",{className:" grid grid-cols-3 gap-2 justify-center",children:[u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[3],"data-action":"ron-opposite",onClick:s,children:"↘和對家"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[3],"data-action":"ron-after",onClick:s,children:"↓和下家"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl ml-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-red-800 data-[active='1']:text-yellow-300","data-player-index":o[3],"data-action":"riichi",onClick:s,"data-active":e.playerResults[o[3]].isRiichi?"1":"0",disabled:e.playerResults[o[3]].isRevealed,children:"立直"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[3],"data-action":"ron-before",onClick:s,children:"→和上家"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl","data-player-index":o[3],"data-action":"ron-self",onClick:s,children:"自摸"}),u.jsx("button",{className:"px-1 py-1 bg-neutral-200 border rounded border-neutral-700 text-xl ml-4 disabled:opacity-20 disabled:cursor-not-allowed data-[active='1']:bg-teal-800 data-[active='1']:text-yellow-300","data-player-index":o[3],"data-action":"reveal",onClick:s,"data-active":e.playerResults[o[3]].isRevealed?"1":"0",disabled:e.playerResults[o[3]].isRiichi,children:"副露"})]})})}),u.jsxs("tr",{children:[u.jsx("td",{className:"w-full px-2",children:u.jsx("span",{children:"役"})}),u.jsx("td",{className:"w-0 text-right whitespace-nowrap px-4 pt-4",children:u.jsxs("div",{children:[u.jsxs("div",{className:"data-[active='1']:bg-yellow-200","data-active":e.playerResults[o[3]].detail.dora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[3],"data-action":"dora-normal-minus",onClick:s,children:"-"}),"寶",e.playerResults[o[3]].detail.dora,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[3],"data-action":"dora-normal-plus",onClick:s,children:"+"})]}),u.jsxs("div",{className:"data-[active='1']:bg-red-200","data-active":e.playerResults[o[3]].detail.redDora>0?"1":"0",children:[u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[3],"data-action":"dora-red-minus",onClick:s,children:"-"}),"赤",e.playerResults[o[3]].detail.redDora,u.jsx("button",{className:"px-2 text-lg leading-0","data-player-index":o[3],"data-action":"dora-red-plus",onClick:s,children:"+"})]})]})})]}),u.jsx("tr",{children:u.jsx("td",{className:"w-1/2 px-2 h-16",colSpan:2,children:u.jsxs("button",{className:"py-2 text-left block","data-player-index":o[3],"data-action":"waitingTile",onClick:s,children:[u.jsx("span",{className:"mr-2 text-xl",children:"待牌"}),u.jsx("div",{className:"inline-block space-x-1",children:(d=e.playerResults[o[3]].waitingTiles)==null?void 0:d.map(h=>u.jsx(jo,{className:"inline-block align-middle w-8 animate-[fadeInFromLeft_1s_ease-in-out]",children:h},h))})]})})}),u.jsxs("tr",{children:[u.jsxs("td",{className:"p-1 space-x-1 text-white",style:{background:t[o[3]].color},children:[u.jsx("img",{className:"w-8 h-8 inline-block",src:t[o[3]].teamPicUrl,alt:t[o[3]].title}),u.jsx("img",{className:"w-[1.44rem] h-8 inline-block",src:t[o[3]].proPicUrl,alt:t[o[3]].name}),u.jsxs("div",{className:"inline-block align-middle",children:[u.jsx("p",{children:t[o[3]].title}),u.jsx("p",{children:t[o[3]].name})]})]}),u.jsx("td",{className:"p-1 space-x-1 text-white text-4xl text-right pr-2",style:{background:t[o[3]].color},children:e.playerResults[o[3]].afterScore})]})]})})]})]})},lge=({tabs:t,onChangeValue:e,defaultValue:r})=>{const[n,i]=E.useState(r),o=E.useCallback(s=>{const a=s.currentTarget.getAttribute("data-value");i(a),e==null||e(a)},[e]);return u.jsx("div",{className:"border-b border-neutral-400",children:t.map(s=>u.jsx("button",{className:"py-2 px-4 border-b-2 border-transparent hover:bg-neutral-200 rounded-t data-[active='1']:border-teal-600 data-[active='1']:text-teal-800 data-[active='1']:bg-teal-100","data-value":s.value,"data-active":n===s.value?"1":"0",onClick:o,children:s.label},s.value))})};function YG({onChange:t,onChangeChecked:e,className:r,...n}){const i=E.useCallback(o=>{t==null||t(o),e==null||e(o.currentTarget.checked)},[t,e]);return u.jsx("input",{className:"mt-[0.3rem] mr-2 h-3.5 w-8 appearance-none rounded-[0.4375rem] bg-neutral-300 dark:bg-neutral-600 before:pointer-events-none before:absolute before:h-3.5 before:w-3.5 before:rounded-full before:bg-transparent before:content-[''] after:absolute after:z-[2] after:-mt-[0.1875rem] after:h-5 after:w-5 after:rounded-full after:border-none after:bg-neutral-100 dark:after:bg-neutral-400 after:shadow-[0_0px_3px_0_rgb(0_0_0_/_7%),_0_2px_2px_0_rgb(0_0_0_/_4%)] after:transition-[background-color_0.2s,transform_0.2s] after:content-[''] checked:bg-blue-600 dark:checked:bg-blue-600 checked:after:absolute checked:after:z-[2] checked:after:-mt-[3px] checked:after:ml-[1.0625rem] checked:after:h-5 checked:after:w-5 checked:after:rounded-full checked:after:border-none checked:after:bg-blue-600 dark:checked:after:bg-blue-600 checked:after:shadow-[0_3px_1px_-2px_rgba(0,0,0,0.2),_0_2px_2px_0_rgba(0,0,0,0.14),_0_1px_5px_0_rgba(0,0,0,0.12)] checked:after:transition-[background-color_0.2s,transform_0.2s] checked:after:content-[''] hover:cursor-pointer focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[3px_-1px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-5 focus:after:w-5 focus:after:rounded-full focus:after:content-[''] checked:focus:border-blue-600 checked:focus:bg-blue-600 checked:focus:before:ml-[1.0625rem] checked:focus:before:scale-100 checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault",onChange:i,...n})}function Fx({han:t,fu:e,yakumanCount:r,yakumanCountMax:n=10,raw:i,isManganRoundUp:o,...s}){const a=E.useMemo(()=>{if(r&&r>0){const l=Math.min(n,r);return l===1?"役滿":l===2?"兩倍役滿":l===3?"三倍役滿":l===4?"四倍役滿":`${l}倍役滿`}return i?typeof e<"u"&&t<=4?`${t}飜${e}符`:`${t}飜`:t>=11?"三倍滿":t>=8?"倍滿":t>=6?"跳滿":t>=5||t>=4&&typeof e<"u"&&(e>=40||o&&e>=30)||t>=3&&typeof e<"u"&&(e>=70||o&&e>=60)?"滿貫":typeof e<"u"?`${t}飜${e}符`:`${t}飜`},[r,i,t,e,o,n]);return u.jsx("div",{...s,children:a})}const Bv=({options:t,value:e,onChange:r,disabled:n})=>{const[i,o]=E.useState(0),s=E.useMemo(()=>t[i],[i,t]),a=E.useCallback(()=>{const c=Math.max(0,i-1);o(c),r==null||r(t[c].value)},[i,r,t]),l=E.useCallback(()=>{const c=Math.min(t.length-1,i+1);o(c),r==null||r(t[c].value)},[i,r,t]);return E.useEffect(()=>{if(typeof e<"u"&&e!==s.value){const c=t.findIndex(f=>f.value===e);c!==-1&&o(c)}},[s.value,t,e]),u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"shrink-0",children:u.jsx("button",{className:"w-4 h-4 text-center text-xs disabled:text-transparent",onClick:a,disabled:n||i===0,children:u.jsx("i",{className:"bi bi-dash-circle"})})}),u.jsx("div",{className:"flex-1 text-center text-2xl",children:s.label}),u.jsx("div",{className:"shrink-0",children:u.jsx("button",{className:"w-4 h-4 text-center text-xs disabled:text-transparent",onClick:l,disabled:n||i===t.length-1,children:u.jsx("i",{className:"bi bi-plus-circle"})})})]})},Bu=[{id:"riichi",label:"立直",han:1,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||e["double-riichi"],group:"riichi"},{id:"double-riichi",label:"雙立直",han:2,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||e.riichi,group:"riichi"},{id:"ippatsu",label:"一發",han:1,hanIfOpened:0,disableFn:({raw:t})=>!(t.riichi||t["double-riichi"])||!!t.chankan,group:"riichi"},{id:"menzenchin-tsumohou",label:"門前清自摸和",han:1,hanIfOpened:0,hidden:!0,group:"menzenchin-tsumohou"},{id:"tanyao",label:"斷么九",han:1,hanIfOpened:1,disableFn:({raw:t})=>!!t.chantaiyao||!!t["junchan-taiyao"]||!!t["yakuhai-east"]||!!t["yakuhai-south"]||!!t["yakuhai-west"]||!!t["yakuhai-north"]||!!t["yakuhai-haku"]||!!t["yakuhai-hatsu"]||!!t["yakuhai-chun"]||!!t.honroutou||!!t.honitsu||!!t.ittsu,group:"common"},{id:"pinfu",label:"平和",han:1,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||!!e.chiitoitsu||!!e["yakuhai-east"]||!!e["yakuhai-south"]||!!e["yakuhai-west"]||!!e["yakuhai-north"]||!!e["yakuhai-haku"]||!!e["yakuhai-hatsu"]||!!e["yakuhai-chun"]||!!e.toitoi,group:"common"},{id:"yakuhai-east",label:"東",han:1,hanIfOpened:1,disableFn:({round:t,activePlayerIndex:e,raw:r})=>!ti(e,t)&&!DG(t)||!!r.tanyao||!!r.pinfu||!!r.chiitoitsu||!!r.chinitsu||!!r["junchan-taiyao"]||!!r.ryanpeikou,group:"yakuhai"},{id:"yakuhai-double-east",label:"雙東",han:2,hanIfOpened:2,hidden:!0,group:"yakuhai-special"},{id:"yakuhai-south",label:"南",han:1,hanIfOpened:1,disableFn:({round:t,activePlayerIndex:e,raw:r})=>!jG(e,t)&&!MG(t)||!!r.tanyao||!!r.pinfu||!!r.chiitoitsu||!!r.chinitsu||!!r["junchan-taiyao"]||!!r.ryanpeikou,group:"yakuhai"},{id:"yakuhai-double-south",label:"雙南",han:2,hanIfOpened:2,hidden:!0,group:"yakuhai-special"},{id:"yakuhai-west",label:"西",han:1,hanIfOpened:1,disableFn:({round:t,activePlayerIndex:e,raw:r})=>!RG(e,t)&&!FG(t)||!!r.tanyao||!!r.pinfu||!!r.chiitoitsu||!!r.chinitsu||!!r["junchan-taiyao"]||!!r.ryanpeikou,group:"yakuhai"},{id:"yakuhai-double-west",label:"雙西",han:2,hanIfOpened:2,hidden:!0,group:"yakuhai-special"},{id:"yakuhai-north",label:"北",han:1,hanIfOpened:1,disableFn:({round:t,activePlayerIndex:e,raw:r})=>!$G(e,t)&&!LG(t)||!!r.tanyao||!!r.pinfu||!!r.chiitoitsu||!!r.chinitsu||!!r["junchan-taiyao"]||!!r.ryanpeikou,group:"yakuhai"},{id:"yakuhai-double-north",label:"雙北",han:2,hanIfOpened:2,hidden:!0,group:"yakuhai-special"},{id:"yakuhai-haku",label:"白",han:1,hanIfOpened:1,group:"yakuhai",disableFn:({raw:t})=>!!t.tanyao||!!t.pinfu||!!t.chiitoitsu||!!t.chinitsu||!!t["junchan-taiyao"]||!!t.ryanpeikou},{id:"yakuhai-hatsu",label:"發",han:1,hanIfOpened:1,group:"yakuhai",disableFn:({raw:t})=>!!t.tanyao||!!t.pinfu||!!t.chiitoitsu||!!t.chinitsu||!!t["junchan-taiyao"]||!!t.ryanpeikou},{id:"yakuhai-chun",label:"中",han:1,hanIfOpened:1,group:"yakuhai",disableFn:({raw:t})=>!!t.tanyao||!!t.pinfu||!!t.chiitoitsu||!!t.chinitsu||!!t["junchan-taiyao"]||!!t.ryanpeikou},{id:"shousangen",label:"小三元",han:2,hanIfOpened:2,disableFn:({raw:t})=>[t["yakuhai-haku"],t["yakuhai-hatsu"],t["yakuhai-chun"]].filter(e=>!!e).length!==2,group:"yakuhai"},{id:"haitei-raoyue",label:"海底撈月",han:1,hanIfOpened:1,disableFn:({targetPlayerIndex:t,raw:e})=>t!=="-1"||!!e["rinshan-kaihou"],hiddenIfDisabled:!0,group:"luck"},{id:"houtei-raoyui",label:"河底撈魚",han:1,hanIfOpened:1,disableFn:({targetPlayerIndex:t})=>t==="-1",hiddenIfDisabled:!0,group:"luck"},{id:"rinshan-kaihou",label:"嶺上開花",han:1,hanIfOpened:1,disableFn:({targetPlayerIndex:t,raw:e})=>t!=="-1"||!!e.pinfu||!!e.chiitoitsu||!!e.ryanpeikou||!!e["haitei-raoyue"],hiddenIfDisabled:!0,group:"luck"},{id:"chankan",label:"搶槓",han:1,hanIfOpened:1,disableFn:({targetPlayerIndex:t})=>t==="-1",hiddenIfDisabled:!0,group:"luck"},{id:"chiitoitsu",label:"七對子",han:2,hanIfOpened:0,overrideFu:25,disableFn:({isRevealed:t,raw:e})=>!!t||!!e.iipeikou||!!e.ryanpeikou||!!e.pinfu||!!e["sanshku-doujun"]||!!e.ittsu||!!e.chantaiyao||!!e["junchan-taiyao"]||!!e.toitoi||!!e["sanshku-doukou"]||!!e.sanankou||!!e.sankantsu||!!e["rinshan-kaihou"],group:"peikou"},{id:"iipeikou",label:"一盃口",han:1,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||!!e.ryanpeikou||!!e.chiitoitsu||!!e.honroutou||!!e.toitoi||!!e["sanshku-doukou"]||!!e.sanankou||!!e.sankantsu,group:"peikou"},{id:"ryanpeikou",label:"二盃口",han:3,hanIfOpened:0,disableFn:({isRevealed:t,raw:e})=>!!t||!!e.iipeikou||!!e.chiitoitsu||!!e["rinshan-kaihou"]||!!e["sanshku-doujun"]||!!e.ittsu||!!e.honroutou||!!e.toitoi||!!e["sanshku-doukou"]||!!e.sanankou||!!e.sankantsu||!!e["yakuhai-east"]||!!e["yakuhai-south"]||!!e["yakuhai-west"]||!!e["yakuhai-north"]||!!e["yakuhai-haku"]||!!e["yakuhai-hatsu"]||!!e["yakuhai-chun"],group:"peikou"},{id:"sanshku-doujun",label:"三色同順",han:2,hanIfOpened:1,disableFn:({raw:t})=>!!t["sanshku-doukou"]||!!t.sanankou||!!t.chiitoitsu||!!t.ittsu||!!t.sankantsu||!!t.ryanpeikou||!!t.honroutou||!!t.chinitsu||!!t.honitsu||!!t.toitoi,group:"row"},{id:"ittsu",label:"一氣通貫",han:2,hanIfOpened:1,disableFn:({raw:t})=>!!t["sanshku-doukou"]||!!t.sanankou||!!t.chiitoitsu||!!t.tanyao||!!t["sanshku-doujun"]||!!t.sankantsu||!!t.ryanpeikou||!!t.honroutou||!!t.chantaiyao||!!t["junchan-taiyao"]||!!t.toitoi,group:"row"},{id:"honitsu",label:"混一色",han:3,hanIfOpened:2,disableFn:({raw:t})=>!!t.chinitsu||!!t.tanyao||!!t["junchan-taiyao"]||!!t["sanshku-doujun"]||!!t["sanshku-doukou"],group:"itsu"},{id:"chinitsu",label:"清一色",han:6,hanIfOpened:5,disableFn:({raw:t})=>!!t.honitsu||!!t.honroutou||!!t.chantaiyao||!!t["sanshku-doukou"],group:"itsu"},{id:"chantaiyao",label:"混全帶么九",han:2,hanIfOpened:1,disableFn:({raw:t})=>!!t.tanyao||!!t["junchan-taiyao"]||!!t.honroutou||!!t.chiitoitsu||!!t.chinitsu||!!t.ittsu||!!t.toitoi,group:"taiyao"},{id:"junchan-taiyao",label:"純全帶么九",han:3,hanIfOpened:2,disableFn:({raw:t})=>!!t.tanyao||!!t.chantaiyao||!!t.honroutou||!!t.chiitoitsu||!!t.ittsu||!!t.honitsu||!!t.toitoi,group:"taiyao"},{id:"honroutou",label:"混老頭",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t.tanyao||!!t.chantaiyao||!!t["junchan-taiyao"]||!!t.chinitsu||!!t.iipeikou||!!t.ryanpeikou,group:"taiyao"},{id:"toitoi",label:"對對和",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t["sanshku-doujun"]||!!t.chiitoitsu||!!t.chantaiyao||!!t["junchan-taiyao"]||!!t.ittsu||!!t.iipeikou||!!t.ryanpeikou,group:"column"},{id:"sanshku-doukou",label:"三色同刻",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t["sanshku-doujun"]||!!t.chiitoitsu||!!t.ittsu||!!t.chinitsu||!!t.iipeikou||!!t.ryanpeikou||!!t.honitsu,group:"column"},{id:"sanankou",label:"三暗刻",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t["sanshku-doujun"]||!!t.chiitoitsu||!!t.ittsu||!!t.iipeikou||!!t.ryanpeikou,group:"column"},{id:"sankantsu",label:"三槓子",han:2,hanIfOpened:2,disableFn:({raw:t})=>!!t["sanshku-doujun"]||!!t.chiitoitsu||!!t.ittsu||!!t.iipeikou||!!t.ryanpeikou,group:"column"},{id:"kokushi-musou",label:"國士無雙",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({raw:t,isRevealed:e})=>!!e||!!t.suuankou||!!t["suuankou-dannki"]||!!t.daisangen||!!t.shousuushii||!!t.daisuushii||!!t.tsuuiisou||!!t.chinroutou||!!t.suukantsu||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"]||!!t["kokushi-musou-jsuan-men"],group:"kokushi-musou"},{id:"kokushi-musou-jsuan-men",label:"國士無雙十三面",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({raw:t,isRevealed:e})=>!!e||!!t.suuankou||!!t["suuankou-dannki"]||!!t.daisangen||!!t.shousuushii||!!t.daisuushii||!!t.tsuuiisou||!!t.chinroutou||!!t.suukantsu||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"]||!!t["kokushi-musou"],group:"kokushi-musou"},{id:"daisangen",label:"大三元",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.shousuushii||!!t.daisuushii||!!t.chinroutou||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"kan"},{id:"shousuushii",label:"小四喜",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.daisangen||!!t.daisuushii||!!t.chinroutou||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"kan"},{id:"daisuushii",label:"大四喜",han:26,hanIfOpened:26,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.daisangen||!!t.shousuushii||!!t.chinroutou||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"kan"},{id:"chinroutou",label:"清老頭",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.shousuushii||!!t.daisangen||!!t.daisuushii||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"kan"},{id:"ryuuiisou",label:"綠一色",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.shousuushii||!!t.daisangen||!!t.daisuushii||!!t.chinroutou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"]||!!t.tsuuiisou,group:"ryuuiisou"},{id:"tsuuiisou",label:"字一色",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t.chinroutou||!!t.ryuuiisou||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"],group:"combo"},{id:"suuankou",label:"四暗刻",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,raw:e})=>!!t||!!e["kokushi-musou"]||!!e["chuuren-poutou"]||!!e["pure-chuuren-poutou"]||!!e["suuankou-dannki"],group:"combo"},{id:"suuankou-dannki",label:"四暗刻單騎",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,raw:e})=>!!t||!!e["kokushi-musou"]||!!e["chuuren-poutou"]||!!e["pure-chuuren-poutou"]||!!e.suuankou,group:"combo"},{id:"suukantsu",label:"四槓子",han:13,hanIfOpened:13,yakumanCount:1,disableFn:({raw:t})=>!!t["kokushi-musou"]||!!t["chuuren-poutou"]||!!t["pure-chuuren-poutou"]||!!t.tenhou||!!t.chiihou||!!t.ronhou,group:"combo"},{id:"chuuren-poutou",label:"九連寶燈",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,raw:e})=>!!t||!!e["kokushi-musou"]||!!e.daisangen||!!e.shousuushii||!!e.daisuushii||!!e.chinroutou||!!e.ryuuiisou||!!e.tsuuiisou||!!e.suuankou||!!e["suuankou-dannki"]||!!e.suukantsu||!!e["pure-chuuren-poutou"],group:"chuuren-poutou"},{id:"pure-chuuren-poutou",label:"純正九連寶燈",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,raw:e})=>!!t||!!e["kokushi-musou"]||!!e.daisangen||!!e.shousuushii||!!e.daisuushii||!!e.chinroutou||!!e.ryuuiisou||!!e.tsuuiisou||!!e.suuankou||!!e["suuankou-dannki"]||!!e.suukantsu||!!e["chuuren-poutou"],group:"chuuren-poutou"},{id:"tenhou",label:"天和",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,round:e,activePlayerIndex:r,targetPlayerIndex:n,raw:i})=>!!t||!ti(r,e)||n!=="-1"||!!i.suukantsu,hiddenIfDisabled:!0,group:"hou"},{id:"chiihou",label:"地和",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,round:e,activePlayerIndex:r,targetPlayerIndex:n,raw:i})=>!!t||!!ti(r,e)||n!=="-1"||!!i.suukantsu,hiddenIfDisabled:!0,group:"hou"},{id:"ronhou",label:"人和",han:13,hanIfOpened:0,yakumanCount:1,disableFn:({isRevealed:t,round:e,activePlayerIndex:r,targetPlayerIndex:n,raw:i})=>!!t||!!ti(r,e)||n==="-1"||!!i.suukantsu,hiddenIfDisabled:!0,group:"hou"}],MF=Bu.filter(({yakumanCount:t,hidden:e})=>!t&&!e),cge=MF.map(t=>t.group).filter((t,e)=>MF.findIndex(({group:r})=>t===r)===e),FF=Bu.filter(({yakumanCount:t,hidden:e})=>typeof t<"u"&&t>0&&!e),uge=FF.map(t=>t.group).filter((t,e)=>FF.findIndex(({group:r})=>t===r)===e),LF=[{label:"0",value:"0"},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8",value:"8"},{label:"9",value:"9"},{label:"10",value:"10"},{label:"11",value:"11"},{label:"12",value:"12"},{label:"13",value:"13"},{label:"14",value:"14"},{label:"15",value:"15"},{label:"16",value:"16"},{label:"17",value:"17"},{label:"18",value:"18"}],fge=[{label:"0",value:"0"},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"}],dge=[{label:"30符",value:"30"},{label:"40符",value:"40"},{label:"50符",value:"50"},{label:"60符",value:"60"},{label:"70符",value:"70"},{label:"80符",value:"80"},{label:"90符",value:"90"},{label:"100符",value:"100"},{label:"110符",value:"110"},{label:"20符",value:"20"},{label:"25符",value:"25"}],BF=({yaku:t,active:e,isRevealed:r,disabled:n,onClick:i,hiddenIfDisabled:o})=>n&&o?u.jsx(u.Fragment,{}):u.jsx("button",{"data-id":t.id,"data-han":r?t.hanIfOpened:t.han,"data-active":e?"1":"0",disabled:n,className:"text-xl text-center px-3 border border-neutral-300 text-neutral-800 cursor-pointer hover:opacity-80 data-[han='0']:cursor-not-allowed disabled:opacity-20 disabled:hover:opacity-20 data-[active='1']:enabled:border-teal-800 data-[active='1']:enabled:text-white data-[active='1']:enabled:bg-teal-800 disabled:cursor-not-allowed",onClick:i,children:t.label},t.id),XG=({round:t,activePlayerIndex:e,targetPlayerIndex:r,onChange:n,value:i})=>{const[o,s]=E.useState({}),[a,l]=To(!1),[c,f]=To(!1),[d,h]=E.useState("0"),[p,m]=E.useState("0"),[y,v]=E.useState("0"),[b,g]=E.useState("30"),x=E.useCallback(A=>{const C=A.currentTarget.getAttribute("data-id");!C||!Bu.find(({id:P})=>P===C)||s(P=>({...P,[C]:!P[C]}))},[]),S=E.useCallback(()=>{s({}),l(!1),h("0"),m("0"),v("0"),g("30")},[l]),w=E.useMemo(()=>({activePlayerIndex:e,targetPlayerIndex:r,round:t,isRevealed:a,raw:o}),[e,a,t,r,o]),_=E.useMemo(()=>{let A=parseInt(b),C=!1;const T=[],P={...o};r==="-1"&&!a&&(P["menzenchin-tsumohou"]=!0),P["yakuhai-east"]&&DG(t)&&ti(e,t)?(P["yakuhai-east"]=!1,P["yakuhai-double-east"]=!0):P["yakuhai-south"]&&MG(t)&&jG(e,t)?(P["yakuhai-south"]=!1,P["yakuhai-double-south"]=!0):P["yakuhai-west"]&&FG(t)&&RG(e,t)?(P["yakuhai-west"]=!1,P["yakuhai-double-west"]=!0):P["yakuhai-north"]&&LG(t)&&$G(e,t)&&(P["yakuhai-north"]=!1,P["yakuhai-double-north"]=!0),P["yakuhai-haku"]&&P["yakuhai-hatsu"]&&P["yakuhai-chun"]&&(P.daisangen=!0);const I=Bu.filter(({id:N,disableFn:R})=>!!P[N]&&!(R!=null&&R(w))),O=I.filter(({yakumanCount:N})=>typeof N<"u"&&N>0);if(O.length>0)for(const N of O)N.yakumanCount&&N.yakumanCount>0&&T.push({id:N.id,label:N.label,han:0,yakumanCount:N.yakumanCount});else if(I.length>0){for(const N of I){const R=a?N.hanIfOpened:N.han;R!==0&&T.push({id:N.id,label:N.label,han:R,yakumanCount:0})}T.findIndex(({id:N})=>N==="chiitoitsu")!==-1?(C=!0,A=25):T.findIndex(({id:N})=>N==="pinfu")!==-1&&(C=!0,A=r==="-1"?20:30),d!=="0"&&T.push({id:`dora-${d}`,label:`寶牌${d}`,han:parseInt(d),yakumanCount:0}),p!=="0"&&T.push({id:`dora-${p}`,label:`赤寶牌${p}`,han:parseInt(p),yakumanCount:0}),y!=="0"&&T.push({id:`dora-${y}`,label:`裡寶牌${y}`,han:parseInt(y),yakumanCount:0})}return{han:T.reduce((N,{han:R})=>N+R,0),fu:A,yakumanCount:T.reduce((N,{yakumanCount:R})=>N+R,0),yakus:T,isFuOverrided:C,raw:o,dora:parseInt(d),redDora:parseInt(p),innerDora:parseInt(y),isRevealed:a,isRiichied:!!o.riichi}},[b,o,r,a,t,d,p,y,w]);return E.useEffect(()=>{n&&n(_)},[_,n]),E.useEffect(()=>{i&&(s(i.raw??{}),h(i.dora.toString()),m(i.redDora.toString()),v("0"),l(i.isRevealed))},[l,i]),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx(YG,{checked:a,onChangeChecked:l})," ","有副露？"]}),u.jsxs("div",{className:"space-x-4",children:[u.jsx("button",{className:"text-sm text-teal-700 underline",onClick:f,children:c?"一般役":"役滿役"}),u.jsx("button",{className:"text-sm text-teal-700 underline",onClick:S,children:"重置"})]})]}),!c&&u.jsxs("div",{children:[u.jsx("div",{className:"flex flex-wrap gap-y-4 gap-x-8",children:cge.map(A=>u.jsx("div",{className:"flex flex-wrap gap-2",children:Bu.filter(({group:C})=>C===A).map(C=>{var T;return u.jsx(BF,{yaku:C,isRevealed:a,active:o[C.id],disabled:(T=C.disableFn)==null?void 0:T.call(C,w),hiddenIfDisabled:C.hiddenIfDisabled,onClick:x,children:C.label},C.id)})},A))}),u.jsx("table",{className:"w-full mt-2",children:u.jsx("tbody",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-20 bg-yellow-400 px-1 border-yellow-100 border-t border-b",children:"寶牌"}),u.jsx("td",{className:"w-36 py-1 px-2 bg-yellow-200 data-[active='1']:text-red-600","data-active":d!=="0"?"1":"0",children:u.jsx(Bv,{value:d,onChange:h,options:LF})}),u.jsx("td",{className:"w-2"}),u.jsx("th",{className:"w-20 bg-red-400 px-1 border-neutral-100 border-t border-b",children:"赤寶牌"}),u.jsx("td",{className:"w-36 py-1 px-2 bg-red-200 data-[active='1']:text-red-600","data-active":p!=="0"?"1":"0",children:u.jsx(Bv,{value:p,onChange:m,options:fge})}),u.jsx("td",{className:"w-2"}),u.jsx("th",{className:"w-20 bg-blue-400 px-1 border-neutral-100 border-t border-b",children:"裡寶牌"}),u.jsx("td",{className:"w-36 py-1 px-2 bg-blue-200 data-[active='1']:text-red-600","data-active":y!=="0"?"1":"0",children:u.jsx(Bv,{value:y,onChange:v,options:LF})}),u.jsx("td",{className:"w-2"}),u.jsx("th",{className:"w-20 bg-neutral-400 px-1 border-neutral-100 border-t border-b",children:"符數"}),u.jsx("td",{className:"w-36 py-1 px-2 bg-neutral-200",children:u.jsx(Bv,{value:_.isFuOverrided?_.fu.toString():b,onChange:g,options:dge,disabled:_.isFuOverrided})})]})})})]}),c&&u.jsx("div",{className:"flex flex-wrap gap-y-4 gap-x-8",children:uge.map(A=>u.jsx("div",{className:"flex flex-wrap gap-2",children:Bu.filter(({group:C})=>C===A).map(C=>{var T;return u.jsx(BF,{yaku:C,isRevealed:a,active:o[C.id],disabled:(T=C.disableFn)==null?void 0:T.call(C,w),hiddenIfDisabled:C.hiddenIfDisabled,onClick:x,children:C.label},C.id)})},A))})]})},hge=({result:t,matchSetting:e})=>{var r;return u.jsx("div",{children:u.jsx("table",{className:"w-full mt-2 bg-teal-100",children:u.jsx("tbody",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-16 bg-teal-400 py-2 px-1",children:"結算"}),u.jsx("td",{className:"flex flex-wrap gap-2 p-2 align-middle",children:(r=t.yakus)==null?void 0:r.map(({label:n})=>u.jsx("span",{children:n},n))}),u.jsxs("td",{className:"w-32 bg-teal-400 text-center",children:[u.jsx(Fx,{han:t.han,fu:t.fu,yakumanCount:t.yakumanCount,isManganRoundUp:e.isManganRoundUp==="1",yakumanCountMax:WG(e.yakumanMax)}),u.jsx(Fx,{className:"text-xs text-neutral-600",han:t.han,fu:t.fu,yakumanCount:t.yakumanCount,isManganRoundUp:e.isManganRoundUp==="1",raw:!0})]})]})})})})},pge=({onSubmit:t,defaultValue:e,open:r,onClose:n,...i})=>{const[o,s]=E.useState(),a=E.useCallback(()=>{o&&t(o)},[t,o]);return E.useEffect(()=>{s(e)},[e]),u.jsxs(Jn,{open:r,onClose:n,children:[u.jsx(XG,{...i,onChange:s,value:e}),u.jsx("div",{className:"mt-4",children:u.jsx(je,{className:"w-full",onClick:a,children:"儲存"})})]})};function cs({className:t,onChange:e,onChangeValue:r,...n}){const i=E.useMemo(()=>`block w-full rounded-md border-0 px-1 py-[9px] text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 ${t}`,[t]),o=E.useCallback(s=>{e==null||e(s),r==null||r(s.currentTarget.value)},[e,r]);return u.jsx("select",{className:i,onChange:o,...n})}function mge({score:t,...e}){const r=E.useMemo(()=>t?t.target?t.target:t.all?`${t.all} ALL`:`${t.others},${t.east}`:"(錯誤)",[t]);return u.jsx("div",{...e,children:r})}function wn({children:t,label:e,action:r,...n}){return u.jsx("div",{...n,children:u.jsxs("label",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("p",{className:"text-sm text-gray-800 font-bold",children:e}),u.jsx("div",{children:r})]}),u.jsx("div",{children:t})]})})}function JG({match:t,currentMatchRound:e,initialActivePlayerIndex:r="0",initialTargetPlayerIndex:n="-1",submitNode:i=u.jsxs("span",{children:[u.jsx("i",{className:"bi bi-camera-reels-fill"})," 提交並播出分數變動動畫"]}),onSubmit:o}){const[s,a]=E.useState({han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}),l=E.useMemo(()=>Object.keys(t.players).map(I=>({index:I.toString(),name:`${t.players[I].name} (${t.players[I].nickname})`,position:Wc(I,e.roundCount)})),[t.players,e.roundCount]),[c,f]=E.useState(r??"0"),d=E.useMemo(()=>typeof c<"u"?l==null?void 0:l.find(({index:P})=>P===c):void 0,[c,l]),[h,p]=E.useState(n),m=E.useMemo(()=>{const P=IF(s.han,s.fu,s.yakumanCount,(d==null?void 0:d.position)===Ln.East,h!=="-1",{roundUp:t.setting.isManganRoundUp==="1",yakumanMax:t.setting.yakumanMax});return e.extendedRoundCount>0&&(P.win+=e.extendedRoundCount*300,P.target&&(P.target+=e.extendedRoundCount*300),P.all&&(P.all+=e.extendedRoundCount*100),P.east&&(P.east+=e.extendedRoundCount*100),P.others&&(P.others+=e.extendedRoundCount*100)),e.cumulatedThousands>0&&(P.win+=e.cumulatedThousands*1e3),P},[s.han,s.fu,s.yakumanCount,d==null?void 0:d.position,h,t.setting.isManganRoundUp,t.setting.yakumanMax,e.extendedRoundCount,e.cumulatedThousands]),y=E.useMemo(()=>s.isRevealed&&s.yakus&&s.yakus.findIndex(({id:P})=>P==="daisangen")!==-1,[s.isRevealed,s.yakus]),[v,b]=E.useState("-1"),g=E.useMemo(()=>s.isRevealed&&s.yakus&&s.yakus.findIndex(({id:P})=>P==="daisuushii")!==-1,[s.isRevealed,s.yakus]),[x,S]=E.useState("-1"),w=E.useMemo(()=>s.isRevealed&&s.yakus&&s.yakus.findIndex(({id:P})=>P==="suukantsu")!==-1,[s.isRevealed,s.yakus]),[_,A]=E.useState("-1"),C=E.useMemo(()=>{const P=Object.keys(e.playerResults),I={0:{...e.playerResults[0],beforeScore:e.playerResults[0].beforeScore,afterScore:e.playerResults[0].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[0].scoreChanges??[]},1:{...e.playerResults[1],beforeScore:e.playerResults[1].beforeScore,afterScore:e.playerResults[1].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[1].scoreChanges??[]},2:{...e.playerResults[2],beforeScore:e.playerResults[2].beforeScore,afterScore:e.playerResults[2].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[2].scoreChanges??[]},3:{...e.playerResults[3],beforeScore:e.playerResults[3].beforeScore,afterScore:e.playerResults[3].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[3].scoreChanges??[]}};if(c===h)return I;for(let N=0;N<P.length;N+=1){const R=P[N];R===c?(I[R].afterScore+=m.win,I[R].type=yt.Win,I[R].scoreChanges=[m.win]):m.target&&R===h?(I[R].afterScore-=m.target,I[R].type=yt.Lose,I[R].scoreChanges=[-m.target]):m.all?(I[R].afterScore-=m.all,I[R].type=yt.Lose,I[R].scoreChanges=[-m.all]):m.east&&m.others&&(ti(R,e.roundCount)?(I[R].afterScore-=m.east,I[R].type=yt.Lose,I[R].scoreChanges=[-m.east]):(I[R].afterScore-=m.others,I[R].type=yt.Lose,I[R].scoreChanges=[-m.others]))}[{bool:y,triggeredPlayerIndex:v,yakuId:"daisangen"},{bool:g,triggeredPlayerIndex:x,yakuId:"daisuushii"},{bool:w,triggeredPlayerIndex:_,yakuId:"suukantsu"}].forEach(({bool:N,triggeredPlayerIndex:R,yakuId:L})=>{var U;if(N&&R!=="-1"&&R!==c&&R!==h){const V=(U=s.yakus)==null?void 0:U.find(({id:j})=>L===j);if(V){const j=IF(1,30,V.yakumanCount,ti(c,e.roundCount),h!=="-1",{roundUp:t.setting.isManganRoundUp==="1",yakumanMax:t.setting.yakumanMax});if(j.target){const F=Math.round(j.target/2);I[h].afterScore+=F,I[h].scoreChanges[0]+=F,I[h].scoreChanges[0]===0&&I[h].scoreChanges.splice(0,1),I[R].afterScore-=F,typeof I[R].scoreChanges[0]>"u"?I[R].scoreChanges.push(-F):I[R].scoreChanges[0]-=F}else if(j.all)for(let F=0;F<P.length;F+=1){const z=j.all;P[F]!==c&&P[F]!==R&&(I[P[F]].afterScore+=z,I[P[F]].scoreChanges[0]+=z,I[P[F]].scoreChanges[0]===0&&I[P[F]].scoreChanges.splice(0,1),I[R].afterScore-=z,typeof I[R].scoreChanges[0]>"u"?I[R].scoreChanges.push(-z):I[R].scoreChanges[0]-=z)}else if(j.east&&j.others){for(let F=0;F<P.length;F+=1)if(P[F]!==c&&P[F]!==R){const z=ti(P[F],e.roundCount)?j.east:j.others;I[P[F]].afterScore+=z,I[P[F]].scoreChanges[0]+=z,I[P[F]].scoreChanges[0]===0&&I[P[F]].scoreChanges.splice(0,1),I[R].afterScore-=z,typeof I[R].scoreChanges[0]>"u"?I[R].scoreChanges.push(-z):I[R].scoreChanges[0]-=z}}}}},[]);let O=0;for(let N=0;N<P.length;N+=1){const R=P[N];R!==c&&I[R].isRiichi&&(I[R].afterScore-=1e3,I[R].scoreChanges.unshift(-1e3),O+=1e3)}return c&&O>0&&(I[c].afterScore+=O,I[c].scoreChanges.unshift(O)),I[c].detail=s,I},[c,m.all,m.east,m.others,m.target,m.win,e.playerResults,e.roundCount,y,g,w,t.setting.isManganRoundUp,t.setting.yakumanMax,h,s,v,x,_]),T=E.useCallback(()=>{if(!o||!s)return;const P={...e,resultType:kye(m),playerResults:C,nextRoundCumulatedThousands:0,resultDetail:{winnerPlayerIndex:c,...s,yakus:s.yakus??[]}};o(P)},[c,m,e,o,C,s]);return E.useEffect(()=>{f(r),p(n),a(e.playerResults[r].detail)},[e.playerResults,r,n]),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex gap-x-4 items-center",children:[u.jsx("div",{className:"flex-1",children:u.jsx(cs,{value:c,onChangeValue:f,children:l.map(({index:P,name:I})=>u.jsx("option",{value:P,children:I},P))})}),u.jsx("div",{className:"text-xs text-gray-500",children:"和了"}),u.jsx("div",{className:"flex-1",children:u.jsxs(cs,{value:h,onChangeValue:p,children:[u.jsx("option",{value:"-1",children:"自摸"}),l.map(({index:P,name:I})=>u.jsx("option",{value:P,children:I},P))]})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h5",{className:"font-bold",children:"役種"}),u.jsxs("div",{children:[u.jsx(XG,{round:e.roundCount,activePlayerIndex:c,targetPlayerIndex:h,onChange:a,value:e.playerResults[c].detail}),u.jsx(hge,{result:s,matchSetting:t.setting}),u.jsx("div",{className:"text-3xl font-bold text-center bg-teal-400 py-2",children:u.jsx(mge,{score:m})})]})]}),(y||g||w)&&u.jsxs("div",{className:"space-y-2 bg-yellow-200 p-4",children:[u.jsx("h5",{className:"font-bold",children:"包牌"}),u.jsxs("p",{children:["當某家打出的牌被鳴牌後，導致役滿確定時（大三元、大四喜、四槓子），便會觸發「包牌」。",u.jsx("br",{}),"- 如自摸，包牌者需支付該役種全部點數",u.jsx("br",{}),"- 如他家放銃，包牌者需支付該役種一半點數"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y&&u.jsx(wn,{label:"大三元包牌者",children:u.jsxs(cs,{value:v,onChangeValue:b,children:[u.jsx("option",{value:"-1",children:"沒有包牌"}),l.map(({index:P,name:I})=>u.jsx("option",{value:P,children:I},P))]})}),g&&u.jsx(wn,{label:"大四喜包牌者",children:u.jsxs(cs,{value:x,onChangeValue:S,children:[u.jsx("option",{value:"-1",children:"沒有包牌"}),l.map(({index:P,name:I})=>u.jsx("option",{value:P,children:I},P))]})}),w&&u.jsx(wn,{label:"四槓子包牌者",children:u.jsxs(cs,{value:_,onChangeValue:A,children:[u.jsx("option",{value:"-1",children:"沒有包牌"}),l.map(({index:P,name:I})=>u.jsx("option",{value:P,children:I},P))]})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h5",{className:"font-bold",children:"分數變動"}),u.jsxs("table",{className:"data-table w-full text-lg",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"玩家"}),u.jsx("th",{children:"目前分數"}),u.jsx("th",{children:"變動"}),u.jsx("th",{children:"最新分數"})]})}),u.jsx("tbody",{children:Object.keys(t.players).map(P=>u.jsxs("tr",{children:[u.jsx("th",{className:"text-white py-1",style:{background:t.players[P].color},children:t.players[P].name}),u.jsx("td",{className:"px-2 text-center w-32",children:C[P].beforeScore}),u.jsx("td",{className:"text-center w-32",children:u.jsx(Lt,{signed:!0,value:C[P].afterScore-C[P].beforeScore,positiveClassName:"text-green-400",negativeClassName:"text-red-400"})}),u.jsx("td",{className:"text-center w-32",children:C[P].afterScore})]},P))})]})]}),u.jsx("div",{className:"space-y-2",children:u.jsx(je,{onClick:T,className:"w-full",disabled:!(s!=null&&s.yakus)||s.yakus.length<=0,children:i})})]})}function ZG({match:t,currentMatchRound:e,submitNode:r=u.jsxs("span",{children:[u.jsx("i",{className:"bi bi-camera-reels-fill"})," 提交並播出分數變動動畫"]}),onSubmit:n}){const[i,o]=E.useState({0:!1,1:!1,2:!1,3:!1}),s=E.useCallback(c=>{var h,p;const f=(h=c.currentTarget)==null?void 0:h.checked,d=(p=c.currentTarget)==null?void 0:p.getAttribute("data-player-index");typeof f>"u"||!d||o(m=>({...m,[d]:f}))},[]),a=E.useMemo(()=>{const c=Object.keys(e.playerResults),f={0:{...e.playerResults[0],beforeScore:e.playerResults[0].beforeScore,afterScore:e.playerResults[0].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[0].prevScoreChanges??[]},1:{...e.playerResults[1],beforeScore:e.playerResults[1].beforeScore,afterScore:e.playerResults[1].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[1].prevScoreChanges??[]},2:{...e.playerResults[2],beforeScore:e.playerResults[2].beforeScore,afterScore:e.playerResults[2].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[2].prevScoreChanges??[]},3:{...e.playerResults[3],beforeScore:e.playerResults[3].beforeScore,afterScore:e.playerResults[3].beforeScore,type:0,scoreChanges:[],prevScoreChanges:e.playerResults[3].prevScoreChanges??[]}};let d=0,h=0;const p=["0","1","2","3"].filter(m=>i[m]&&!e.playerResults[m].isRonDisallowed).length;p===1?(d=3e3,h=1e3):p===2?(d=1500,h=1500):p===3&&(d=1e3,h=3e3);for(let m=0;m<c.length;m+=1){const y=c[m];d&&h&&(i[y]?(f[y].type=yt.Win,e.playerResults[y].isRonDisallowed?(f[y].afterScore-=h,f[y].scoreChanges=[-h]):(f[y].afterScore+=d,f[y].scoreChanges=[d])):(f[y].type=yt.Lose,f[y].afterScore-=h,f[y].scoreChanges=[-h])),f[y].isRiichi&&(f[y].afterScore-=1e3,f[y].scoreChanges.unshift(-1e3))}return f},[e.playerResults,i]),l=E.useCallback(()=>{if(!n)return;const c={...e,resultType:Ve.Exhausted,playerResults:a,nextRoundCumulatedThousands:e.cumulatedThousands+Object.values(a).filter(({isRiichi:f})=>!!f).length};n(c)},[e,n,a]);return E.useEffect(()=>{var c,f,d,h;o({0:!!e.playerResults[0].waitingTiles&&((c=e.playerResults[0].waitingTiles)==null?void 0:c.length)>0,1:!!e.playerResults[1].waitingTiles&&((f=e.playerResults[1].waitingTiles)==null?void 0:f.length)>0,2:!!e.playerResults[2].waitingTiles&&((d=e.playerResults[2].waitingTiles)==null?void 0:d.length)>0,3:!!e.playerResults[3].waitingTiles&&((h=e.playerResults[3].waitingTiles)==null?void 0:h.length)>0})},[e.playerResults]),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h5",{className:"font-bold",children:"分數變動"}),u.jsxs("table",{className:"data-table w-full text-lg",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"玩家"}),u.jsx("th",{className:"!bg-yellow-200",children:"聽牌？"}),u.jsx("th",{className:"w-32",children:"目前分數"}),u.jsx("th",{className:"w-32",children:"變動"}),u.jsx("th",{className:"w-32",children:"最新分數"})]})}),u.jsx("tbody",{children:Object.keys(t.players).map(c=>u.jsxs("tr",{children:[u.jsx("th",{className:"text-white py-1",style:{background:t.players[c].color},children:t.players[c].name}),u.jsxs("td",{className:"text-center bg-yellow-200",style:{backgroundColor:e.playerResults[c].isRonDisallowed?"#F00":""},children:[u.jsx(YG,{checked:i[c],onChange:s,"data-player-index":c}),e.playerResults[c].isRonDisallowed&&u.jsx("p",{className:"text-white text-sm font-semibold",children:"和了禁止"})]}),u.jsx("td",{className:"text-center",children:a[c].beforeScore}),u.jsx("td",{className:"text-center",children:u.jsx(Lt,{signed:!0,value:a[c].afterScore-a[c].beforeScore,positiveClassName:"text-green-400",negativeClassName:"text-red-400"})}),u.jsx("td",{className:"text-center",children:a[c].afterScore})]},c))})]})]}),u.jsx("div",{className:"space-y-2",children:u.jsx(je,{onClick:l,className:"w-full",children:r})})]})}var Ig=t=>t.type==="checkbox",Uu=t=>t instanceof Date,_n=t=>t==null;const eq=t=>typeof t=="object";var mr=t=>!_n(t)&&!Array.isArray(t)&&eq(t)&&!Uu(t),tq=t=>mr(t)&&t.target?Ig(t.target)?t.target.checked:t.target.value:t,yge=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,rq=(t,e)=>t.has(yge(e)),gge=t=>{const e=t.constructor&&t.constructor.prototype;return mr(e)&&e.hasOwnProperty("isPrototypeOf")},jO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(jO&&(t instanceof Blob||t instanceof FileList))&&(r||mr(t)))if(e=r?[]:{},!r&&!gge(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=jn(t[n]));else return t;return e}var Ng=t=>Array.isArray(t)?t.filter(Boolean):[],qt=t=>t===void 0,se=(t,e,r)=>{if(!e||!mr(t))return r;const n=Ng(e.split(/[,[\].]+?/)).reduce((i,o)=>_n(i)?i:i[o],t);return qt(n)||n===t?qt(t[e])?r:t[e]:n},Ji=t=>typeof t=="boolean";const Lx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},to={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vge=k.createContext(null),RO=()=>k.useContext(vge);var nq=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==to.all&&(e._proxyFormState[s]=!n||to.all),r&&(r[s]=!0),t[s]}});return i},wi=t=>mr(t)&&!Object.keys(t).length,iq=(t,e,r,n)=>{r(t);const{name:i,...o}=t;return wi(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!n||to.all))},eb=t=>Array.isArray(t)?t:[t],oq=(t,e,r)=>!t||!e||t===e||eb(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function $O(t){const e=k.useRef(t);e.current=t,k.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function bge(t){const e=RO(),{control:r=e.control,disabled:n,name:i,exact:o}=t||{},[s,a]=k.useState(r._formState),l=k.useRef(!0),c=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=k.useRef(i);return f.current=i,$O({disabled:n,next:d=>l.current&&oq(f.current,d.name,o)&&iq(d,c.current,r._updateFormState)&&a({...r._formState,...d}),subject:r._subjects.state}),k.useEffect(()=>(l.current=!0,c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),nq(s,r,c.current,!1)}var Ro=t=>typeof t=="string",sq=(t,e,r,n,i)=>Ro(t)?(n&&e.watch.add(t),se(r,t,i)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),se(r,o))):(n&&(e.watchAll=!0),r);function Ya(t){const e=RO(),{control:r=e.control,name:n,defaultValue:i,disabled:o,exact:s}=t||{},a=k.useRef(n);a.current=n,$O({disabled:o,subject:r._subjects.values,next:f=>{oq(a.current,f.name,s)&&c(jn(sq(a.current,r._names,f.values||r._formValues,!1,i)))}});const[l,c]=k.useState(r._getWatch(n,i));return k.useEffect(()=>r._removeUnmounted()),l}var DO=t=>/^\w*$/.test(t),aq=t=>Ng(t.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(t,e,r)=>{let n=-1;const i=DO(e)?[e]:aq(e),o=i.length,s=o-1;for(;++n<o;){const a=i[n];let l=r;if(n!==s){const c=t[a];l=mr(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}t[a]=l,t=t[a]}return t};function xge(t){const e=RO(),{name:r,disabled:n,control:i=e.control,shouldUnregister:o}=t,s=rq(i._names.array,r),a=Ya({control:i,name:r,defaultValue:se(i._formValues,r,se(i._defaultValues,r,t.defaultValue)),exact:!0}),l=bge({control:i,name:r}),c=k.useRef(i.register(r,{...t.rules,value:a,...Ji(t.disabled)?{disabled:t.disabled}:{}}));return k.useEffect(()=>{const f=i._options.shouldUnregister||o,d=(h,p)=>{const m=se(i._fields,h);m&&(m._f.mount=p)};if(d(r,!0),f){const h=jn(se(i._options.defaultValues,r));xt(i._defaultValues,r,h),qt(se(i._formValues,r))&&xt(i._formValues,r,h)}return()=>{(s?f&&!i._state.action:f)?i.unregister(r):d(r,!1)}},[r,i,s,o]),k.useEffect(()=>{se(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:se(i._fields,r)._f.value})},[n,r,i]),{field:{name:r,value:a,...Ji(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:k.useCallback(f=>c.current.onChange({target:{value:tq(f),name:r},type:Lx.CHANGE}),[r]),onBlur:k.useCallback(()=>c.current.onBlur({target:{value:se(i._formValues,r),name:r},type:Lx.BLUR}),[r,i]),ref:f=>{const d=se(i._fields,r);d&&f&&(d._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:h=>f.setCustomValidity(h),reportValidity:()=>f.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!se(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!se(l.touchedFields,r)},error:{enumerable:!0,get:()=>se(l.errors,r)}})}}const Mn=t=>t.render(xge(t));var _ge=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},UF=t=>({isOnSubmit:!t||t===to.onSubmit,isOnBlur:t===to.onBlur,isOnChange:t===to.onChange,isOnAll:t===to.all,isOnTouch:t===to.onTouched}),VF=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Bp=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const o=se(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)break;if(s.ref&&e(s.ref,s.name)&&!n)break;Bp(a,e)}else mr(a)&&Bp(a,e)}}};var wge=(t,e,r)=>{const n=Ng(se(t,r));return xt(n,"root",e[r]),xt(t,r,n),t},MO=t=>t.type==="file",xa=t=>typeof t=="function",Bx=t=>{if(!jO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},tb=t=>Ro(t),FO=t=>t.type==="radio",Ux=t=>t instanceof RegExp;const WF={value:!1,isValid:!1},zF={value:!0,isValid:!0};var lq=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qt(t[0].attributes.value)?qt(t[0].value)||t[0].value===""?zF:{value:t[0].value,isValid:!0}:zF:WF}return WF};const GF={isValid:!1,value:null};var cq=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,GF):GF;function qF(t,e,r="validate"){if(tb(t)||Array.isArray(t)&&t.every(tb)||Ji(t)&&!t)return{type:r,message:tb(t)?t:"",ref:e}}var su=t=>mr(t)&&!Ux(t)?t:{value:t,message:""},HF=async(t,e,r,n,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:c,min:f,max:d,pattern:h,validate:p,name:m,valueAsNumber:y,mount:v,disabled:b}=t._f,g=se(e,m);if(!v||b)return{};const x=s?s[0]:o,S=O=>{n&&x.reportValidity&&(x.setCustomValidity(Ji(O)?"":O||""),x.reportValidity())},w={},_=FO(o),A=Ig(o),C=_||A,T=(y||MO(o))&&qt(o.value)&&qt(g)||Bx(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,P=_ge.bind(null,m,r,w),I=(O,N,R,L=os.maxLength,U=os.minLength)=>{const V=O?N:R;w[m]={type:O?L:U,message:V,ref:o,...P(O?L:U,V)}};if(i?!Array.isArray(g)||!g.length:a&&(!C&&(T||_n(g))||Ji(g)&&!g||A&&!lq(s).isValid||_&&!cq(s).isValid)){const{value:O,message:N}=tb(a)?{value:!!a,message:a}:su(a);if(O&&(w[m]={type:os.required,message:N,ref:x,...P(os.required,N)},!r))return S(N),w}if(!T&&(!_n(f)||!_n(d))){let O,N;const R=su(d),L=su(f);if(!_n(g)&&!isNaN(g)){const U=o.valueAsNumber||g&&+g;_n(R.value)||(O=U>R.value),_n(L.value)||(N=U<L.value)}else{const U=o.valueAsDate||new Date(g),V=z=>new Date(new Date().toDateString()+" "+z),j=o.type=="time",F=o.type=="week";Ro(R.value)&&g&&(O=j?V(g)>V(R.value):F?g>R.value:U>new Date(R.value)),Ro(L.value)&&g&&(N=j?V(g)<V(L.value):F?g<L.value:U<new Date(L.value))}if((O||N)&&(I(!!O,R.message,L.message,os.max,os.min),!r))return S(w[m].message),w}if((l||c)&&!T&&(Ro(g)||i&&Array.isArray(g))){const O=su(l),N=su(c),R=!_n(O.value)&&g.length>+O.value,L=!_n(N.value)&&g.length<+N.value;if((R||L)&&(I(R,O.message,N.message),!r))return S(w[m].message),w}if(h&&!T&&Ro(g)){const{value:O,message:N}=su(h);if(Ux(O)&&!g.match(O)&&(w[m]={type:os.pattern,message:N,ref:o,...P(os.pattern,N)},!r))return S(N),w}if(p){if(xa(p)){const O=await p(g,e),N=qF(O,x);if(N&&(w[m]={...N,...P(os.validate,N.message)},!r))return S(N.message),w}else if(mr(p)){let O={};for(const N in p){if(!wi(O)&&!r)break;const R=qF(await p[N](g,e),x,N);R&&(O={...R,...P(N,R.message)},S(R.message),r&&(w[m]=O))}if(!wi(O)&&(w[m]={ref:x,...O},!r))return w}}return S(!0),w};function Sge(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=qt(t)?n++:t[e[n++]];return t}function Ege(t){for(const e in t)if(t.hasOwnProperty(e)&&!qt(t[e]))return!1;return!0}function Mr(t,e){const r=Array.isArray(e)?e:DO(e)?[e]:aq(e),n=r.length===1?t:Sge(t,r),i=r.length-1,o=r[i];return n&&delete n[o],i!==0&&(mr(n)&&wi(n)||Array.isArray(n)&&Ege(n))&&Mr(t,r.slice(0,-1)),t}var cA=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Vx=t=>_n(t)||!eq(t);function Ll(t,e){if(Vx(t)||Vx(e))return t===e;if(Uu(t)&&Uu(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Uu(o)&&Uu(s)||mr(o)&&mr(s)||Array.isArray(o)&&Array.isArray(s)?!Ll(o,s):o!==s)return!1}}return!0}var uq=t=>t.type==="select-multiple",Age=t=>FO(t)||Ig(t),uA=t=>Bx(t)&&t.isConnected,fq=t=>{for(const e in t)if(xa(t[e]))return!0;return!1};function Wx(t,e={}){const r=Array.isArray(t);if(mr(t)||r)for(const n in t)Array.isArray(t[n])||mr(t[n])&&!fq(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Wx(t[n],e[n])):_n(t[n])||(e[n]=!0);return e}function dq(t,e,r){const n=Array.isArray(t);if(mr(t)||n)for(const i in t)Array.isArray(t[i])||mr(t[i])&&!fq(t[i])?qt(e)||Vx(r[i])?r[i]=Array.isArray(t[i])?Wx(t[i],[]):{...Wx(t[i])}:dq(t[i],_n(e)?{}:e[i],r[i]):r[i]=!Ll(t[i],e[i]);return r}var fA=(t,e)=>dq(t,e,Wx(e)),hq=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>qt(t)?t:e?t===""?NaN:t&&+t:r&&Ro(t)?new Date(t):n?n(t):t;function dA(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return MO(e)?e.files:FO(e)?cq(t.refs).value:uq(e)?[...e.selectedOptions].map(({value:r})=>r):Ig(e)?lq(t.refs).value:hq(qt(e.value)?t.ref.value:e.value,t)}var Cge=(t,e,r,n)=>{const i={};for(const o of t){const s=se(e,o);s&&xt(i,o,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},jh=t=>qt(t)?t:Ux(t)?t.source:mr(t)?Ux(t.value)?t.value.source:t.value:t,Pge=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function KF(t,e,r){const n=se(t,r);if(n||DO(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const o=i.join("."),s=se(e,o),a=se(t,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:r}}var Tge=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Ige=(t,e)=>!Ng(se(t,e)).length&&Mr(t,e);const Nge={mode:to.onSubmit,reValidateMode:to.onChange,shouldFocusError:!0};function kge(t={},e){let r={...Nge,...t},n={submitCount:0,isDirty:!1,isLoading:xa(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=mr(r.defaultValues)||mr(r.values)?jn(r.defaultValues||r.values)||{}:{},s=r.shouldUnregister?{}:jn(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,f=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:cA(),array:cA(),state:cA()},p=UF(r.mode),m=UF(r.reValidateMode),y=r.criteriaMode===to.all,v=$=>B=>{clearTimeout(f),f=setTimeout($,B)},b=async $=>{if(d.isValid||$){const B=r.resolver?wi((await T()).errors):await I(i,!0);B!==n.isValid&&h.state.next({isValid:B})}},g=$=>d.isValidating&&h.state.next({isValidating:$}),x=($,B=[],W,Z,J=!0,Y=!0)=>{if(Z&&W){if(a.action=!0,Y&&Array.isArray(se(i,$))){const me=W(se(i,$),Z.argA,Z.argB);J&&xt(i,$,me)}if(Y&&Array.isArray(se(n.errors,$))){const me=W(se(n.errors,$),Z.argA,Z.argB);J&&xt(n.errors,$,me),Ige(n.errors,$)}if(d.touchedFields&&Y&&Array.isArray(se(n.touchedFields,$))){const me=W(se(n.touchedFields,$),Z.argA,Z.argB);J&&xt(n.touchedFields,$,me)}d.dirtyFields&&(n.dirtyFields=fA(o,s)),h.state.next({name:$,isDirty:N($,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xt(s,$,B)},S=($,B)=>{xt(n.errors,$,B),h.state.next({errors:n.errors})},w=$=>{n.errors=$,h.state.next({errors:n.errors,isValid:!1})},_=($,B,W,Z)=>{const J=se(i,$);if(J){const Y=se(s,$,qt(W)?se(o,$):W);qt(Y)||Z&&Z.defaultChecked||B?xt(s,$,B?Y:dA(J._f)):U($,Y),a.mount&&b()}},A=($,B,W,Z,J)=>{let Y=!1,me=!1;const it={name:$},er=!!(se(i,$)&&se(i,$)._f.disabled);if(!W||Z){d.isDirty&&(me=n.isDirty,n.isDirty=it.isDirty=N(),Y=me!==it.isDirty);const Mt=er||Ll(se(o,$),B);me=!!(!er&&se(n.dirtyFields,$)),Mt||er?Mr(n.dirtyFields,$):xt(n.dirtyFields,$,!0),it.dirtyFields=n.dirtyFields,Y=Y||d.dirtyFields&&me!==!Mt}if(W){const Mt=se(n.touchedFields,$);Mt||(xt(n.touchedFields,$,W),it.touchedFields=n.touchedFields,Y=Y||d.touchedFields&&Mt!==W)}return Y&&J&&h.state.next(it),Y?it:{}},C=($,B,W,Z)=>{const J=se(n.errors,$),Y=d.isValid&&Ji(B)&&n.isValid!==B;if(t.delayError&&W?(c=v(()=>S($,W)),c(t.delayError)):(clearTimeout(f),c=null,W?xt(n.errors,$,W):Mr(n.errors,$)),(W?!Ll(J,W):J)||!wi(Z)||Y){const me={...Z,...Y&&Ji(B)?{isValid:B}:{},errors:n.errors,name:$};n={...n,...me},h.state.next(me)}g(!1)},T=async $=>r.resolver(s,r.context,Cge($||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation)),P=async $=>{const{errors:B}=await T($);if($)for(const W of $){const Z=se(B,W);Z?xt(n.errors,W,Z):Mr(n.errors,W)}else n.errors=B;return B},I=async($,B,W={valid:!0})=>{for(const Z in $){const J=$[Z];if(J){const{_f:Y,...me}=J;if(Y){const it=l.array.has(Y.name),er=await HF(J,s,y,r.shouldUseNativeValidation&&!B,it);if(er[Y.name]&&(W.valid=!1,B))break;!B&&(se(er,Y.name)?it?wge(n.errors,er,Y.name):xt(n.errors,Y.name,er[Y.name]):Mr(n.errors,Y.name))}me&&await I(me,B,W)}}return W.valid},O=()=>{for(const $ of l.unMount){const B=se(i,$);B&&(B._f.refs?B._f.refs.every(W=>!uA(W)):!uA(B._f.ref))&&pt($)}l.unMount=new Set},N=($,B)=>($&&B&&xt(s,$,B),!Ll(re(),o)),R=($,B,W)=>sq($,l,{...a.mount?s:qt(B)?o:Ro($)?{[$]:B}:B},W,B),L=$=>Ng(se(a.mount?s:o,$,t.shouldUnregister?se(o,$,[]):[])),U=($,B,W={})=>{const Z=se(i,$);let J=B;if(Z){const Y=Z._f;Y&&(!Y.disabled&&xt(s,$,hq(B,Y)),J=Bx(Y.ref)&&_n(B)?"":B,uq(Y.ref)?[...Y.ref.options].forEach(me=>me.selected=J.includes(me.value)):Y.refs?Ig(Y.ref)?Y.refs.length>1?Y.refs.forEach(me=>(!me.defaultChecked||!me.disabled)&&(me.checked=Array.isArray(J)?!!J.find(it=>it===me.value):J===me.value)):Y.refs[0]&&(Y.refs[0].checked=!!J):Y.refs.forEach(me=>me.checked=me.value===J):MO(Y.ref)?Y.ref.value="":(Y.ref.value=J,Y.ref.type||h.values.next({name:$,values:{...s}})))}(W.shouldDirty||W.shouldTouch)&&A($,J,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&le($)},V=($,B,W)=>{for(const Z in B){const J=B[Z],Y=`${$}.${Z}`,me=se(i,Y);(l.array.has($)||!Vx(J)||me&&!me._f)&&!Uu(J)?V(Y,J,W):U(Y,J,W)}},j=($,B,W={})=>{const Z=se(i,$),J=l.array.has($),Y=jn(B);xt(s,$,Y),J?(h.array.next({name:$,values:{...s}}),(d.isDirty||d.dirtyFields)&&W.shouldDirty&&h.state.next({name:$,dirtyFields:fA(o,s),isDirty:N($,Y)})):Z&&!Z._f&&!_n(Y)?V($,Y,W):U($,Y,W),VF($,l)&&h.state.next({...n}),h.values.next({name:$,values:{...s}}),!a.mount&&e()},F=async $=>{const B=$.target;let W=B.name,Z=!0;const J=se(i,W),Y=()=>B.type?dA(J._f):tq($),me=it=>{Z=Number.isNaN(it)||it===se(s,W,it)};if(J){let it,er;const Mt=Y(),vo=$.type===Lx.BLUR||$.type===Lx.FOCUS_OUT,RS=!Pge(J._f)&&!r.resolver&&!se(n.errors,W)&&!J._f.deps||Tge(vo,se(n.touchedFields,W),n.isSubmitted,m,p),yh=VF(W,l,vo);xt(s,W,Mt),vo?(J._f.onBlur&&J._f.onBlur($),c&&c(0)):J._f.onChange&&J._f.onChange($);const gh=A(W,Mt,vo,!1),av=!wi(gh)||yh;if(!vo&&h.values.next({name:W,type:$.type,values:{...s}}),RS)return d.isValid&&b(),av&&h.state.next({name:W,...yh?{}:gh});if(!vo&&yh&&h.state.next({...n}),g(!0),r.resolver){const{errors:lv}=await T([W]);if(me(Mt),Z){const $S=KF(n.errors,i,W),cv=KF(lv,i,$S.name||W);it=cv.error,W=cv.name,er=wi(lv)}}else it=(await HF(J,s,y,r.shouldUseNativeValidation))[W],me(Mt),Z&&(it?er=!1:d.isValid&&(er=await I(i,!0)));Z&&(J._f.deps&&le(J._f.deps),C(W,er,it,gh))}},z=($,B)=>{if(se(n.errors,B)&&$.focus)return $.focus(),1},le=async($,B={})=>{let W,Z;const J=eb($);if(g(!0),r.resolver){const Y=await P(qt($)?$:J);W=wi(Y),Z=$?!J.some(me=>se(Y,me)):W}else $?(Z=(await Promise.all(J.map(async Y=>{const me=se(i,Y);return await I(me&&me._f?{[Y]:me}:me)}))).every(Boolean),!(!Z&&!n.isValid)&&b()):Z=W=await I(i);return h.state.next({...!Ro($)||d.isValid&&W!==n.isValid?{}:{name:$},...r.resolver||!$?{isValid:W}:{},errors:n.errors,isValidating:!1}),B.shouldFocus&&!Z&&Bp(i,z,$?J:l.mount),Z},re=$=>{const B={...o,...a.mount?s:{}};return qt($)?B:Ro($)?se(B,$):$.map(W=>se(B,W))},be=($,B)=>({invalid:!!se((B||n).errors,$),isDirty:!!se((B||n).dirtyFields,$),isTouched:!!se((B||n).touchedFields,$),error:se((B||n).errors,$)}),at=$=>{$&&eb($).forEach(B=>Mr(n.errors,B)),h.state.next({errors:$?n.errors:{}})},nt=($,B,W)=>{const Z=(se(i,$,{_f:{}})._f||{}).ref;xt(n.errors,$,{...B,ref:Z}),h.state.next({name:$,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&Z&&Z.focus&&Z.focus()},zt=($,B)=>xa($)?h.values.subscribe({next:W=>$(R(void 0,B),W)}):R($,B,!0),pt=($,B={})=>{for(const W of $?eb($):l.mount)l.mount.delete(W),l.array.delete(W),B.keepValue||(Mr(i,W),Mr(s,W)),!B.keepError&&Mr(n.errors,W),!B.keepDirty&&Mr(n.dirtyFields,W),!B.keepTouched&&Mr(n.touchedFields,W),!r.shouldUnregister&&!B.keepDefaultValue&&Mr(o,W);h.values.next({values:{...s}}),h.state.next({...n,...B.keepDirty?{isDirty:N()}:{}}),!B.keepIsValid&&b()},Zt=({disabled:$,name:B,field:W,fields:Z,value:J})=>{if(Ji($)){const Y=$?void 0:qt(J)?dA(W?W._f:se(Z,B)._f):J;xt(s,B,Y),A(B,Y,!1,!1,!0)}},te=($,B={})=>{let W=se(i,$);const Z=Ji(B.disabled);return xt(i,$,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:$}},name:$,mount:!0,...B}}),l.mount.add($),W?Zt({field:W,disabled:B.disabled,name:$,value:B.value}):_($,!0,B.value),{...Z?{disabled:B.disabled}:{},...r.progressive?{required:!!B.required,min:jh(B.min),max:jh(B.max),minLength:jh(B.minLength),maxLength:jh(B.maxLength),pattern:jh(B.pattern)}:{},name:$,onChange:F,onBlur:F,ref:J=>{if(J){te($,B),W=se(i,$);const Y=qt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,me=Age(Y),it=W._f.refs||[];if(me?it.find(er=>er===Y):Y===W._f.ref)return;xt(i,$,{_f:{...W._f,...me?{refs:[...it.filter(uA),Y,...Array.isArray(se(o,$))?[{}]:[]],ref:{type:Y.type,name:$}}:{ref:Y}}}),_($,!1,void 0,Y)}else W=se(i,$,{}),W._f&&(W._f.mount=!1),(r.shouldUnregister||B.shouldUnregister)&&!(rq(l.array,$)&&a.action)&&l.unMount.add($)}}},xe=()=>r.shouldFocusError&&Bp(i,z,l.mount),Ee=$=>{Ji($)&&(h.state.next({disabled:$}),Bp(i,(B,W)=>{let Z=$;const J=se(i,W);J&&Ji(J._f.disabled)&&(Z||(Z=J._f.disabled)),B.disabled=Z},0,!1))},q=($,B)=>async W=>{W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let Z=jn(s);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:J,values:Y}=await T();n.errors=J,Z=Y}else await I(i);Mr(n.errors,"root"),wi(n.errors)?(h.state.next({errors:{}}),await $(Z,W)):(B&&await B({...n.errors},W),xe(),setTimeout(xe)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wi(n.errors),submitCount:n.submitCount+1,errors:n.errors})},Ze=($,B={})=>{se(i,$)&&(qt(B.defaultValue)?j($,jn(se(o,$))):(j($,B.defaultValue),xt(o,$,jn(B.defaultValue))),B.keepTouched||Mr(n.touchedFields,$),B.keepDirty||(Mr(n.dirtyFields,$),n.isDirty=B.defaultValue?N($,jn(se(o,$))):N()),B.keepError||(Mr(n.errors,$),d.isValid&&b()),h.state.next({...n}))},ke=($,B={})=>{const W=$?jn($):o,Z=jn(W),J=$&&!wi($)?Z:o;if(B.keepDefaultValues||(o=W),!B.keepValues){if(B.keepDirtyValues)for(const Y of l.mount)se(n.dirtyFields,Y)?xt(J,Y,se(s,Y)):j(Y,se(J,Y));else{if(jO&&qt($))for(const Y of l.mount){const me=se(i,Y);if(me&&me._f){const it=Array.isArray(me._f.refs)?me._f.refs[0]:me._f.ref;if(Bx(it)){const er=it.closest("form");if(er){er.reset();break}}}}i={}}s=t.shouldUnregister?B.keepDefaultValues?jn(o):{}:jn(J),h.array.next({values:{...J}}),h.values.next({values:{...J}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!B.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!Ll($,o)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:B.keepDirtyValues?n.dirtyFields:B.keepDefaultValues&&$?fA(o,$):{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},vt=($,B)=>ke(xa($)?$(s):$,B);return{control:{register:te,unregister:pt,getFieldState:be,handleSubmit:q,setError:nt,_executeSchema:T,_getWatch:R,_getDirty:N,_updateValid:b,_removeUnmounted:O,_updateFieldArray:x,_updateDisabledField:Zt,_getFieldArray:L,_reset:ke,_resetDefaultValues:()=>xa(r.defaultValues)&&r.defaultValues().then($=>{vt($,r.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:$=>{n={...n,...$}},_disableForm:Ee,_subjects:h,_proxyFormState:d,_setErrors:w,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return o},get _names(){return l},set _names($){l=$},get _formState(){return n},set _formState($){n=$},get _options(){return r},set _options($){r={...r,...$}}},trigger:le,register:te,handleSubmit:q,watch:zt,setValue:j,getValues:re,reset:vt,resetField:Ze,clearErrors:at,unregister:pt,setError:nt,setFocus:($,B={})=>{const W=se(i,$),Z=W&&W._f;if(Z){const J=Z.refs?Z.refs[0]:Z.ref;J.focus&&(J.focus(),B.shouldSelect&&J.select())}},getFieldState:be}}function Kd(t={}){const e=k.useRef(),r=k.useRef(),[n,i]=k.useState({isDirty:!1,isValidating:!1,isLoading:xa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:xa(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...kge(t,()=>i(s=>({...s}))),formState:n});const o=e.current.control;return o._options=t,$O({subject:o._subjects.state,next:s=>{iq(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),k.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),k.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==n.isDirty&&o._subjects.state.next({isDirty:s})}},[o,n.isDirty]),k.useEffect(()=>{t.values&&!Ll(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),k.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),k.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=nq(n,o),e.current}function pq({player:t,onClickEdit:e,children:r,...n}){const i=E.useCallback(()=>{e==null||e(t)},[e,t]);return u.jsxs("div",{className:"relative flex-1 flex items-center gap-x-2 rounded p-2 text-white",style:{backgroundColor:t.color??"#115e59"},...n,children:[t.teamPicUrl&&u.jsx("div",{className:"absolute inset-0 opacity-10 bg-center bg-no-repeat bg-cover",style:{backgroundImage:`url(${t.teamPicUrl})`}}),u.jsx("div",{className:"relative z-10 shrink-0",children:u.jsx("div",{className:"w-14 h-14 bg-center bg-contain bg-no-repeat rounded",style:{backgroundImage:`url(${t.proPicUrl||"/images/portrait-placeholder.jpeg"})`}})}),u.jsxs("div",{className:"flex-1 relative z-10 ",children:[u.jsx("div",{children:t.title??"(無頭銜)"}),u.jsx("div",{className:"text-2xl",children:t.name??"(無名稱)"})]}),e&&u.jsx("div",{className:"shrink-0",children:u.jsx(je,{variant:"icon",color:"inverted",type:"button",onClick:i,children:u.jsx("i",{className:"bi bi-pencil"})})})]})}const Oge=Rz(["block w-full rounded-md border-0 p-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600"]);function _a({className:t,...e}){const r=E.useMemo(()=>Oge({className:t}),[t]);return u.jsx("input",{className:r,...e})}function jge({match:t,currentMatchRound:e,onSubmit:r}){const{reset:n,handleSubmit:i,control:o}=Kd({defaultValues:{player_0:0,player_1:0,player_2:0,player_3:0,cumulatedThousands:0,roundCount:0,extendedRoundCount:0}}),s=E.useMemo(()=>Object.keys(t.players).map(c=>({...t.players[c],index:c.toString(),position:Wc(c,e.roundCount)})),[t.players,e.roundCount]),a=E.useMemo(()=>i(l=>{if(!r)return;const c={...e,resultType:Ve.Hotfix,playerResults:{0:{...e.playerResults[0],afterScore:parseInt(l.player_0,10)},1:{...e.playerResults[1],afterScore:parseInt(l.player_1,10)},2:{...e.playerResults[2],afterScore:parseInt(l.player_2,10)},3:{...e.playerResults[3],afterScore:parseInt(l.player_3,10)}},cumulatedThousands:parseInt(l.cumulatedThousands,10),roundCount:parseInt(l.roundCount,10),extendedRoundCount:parseInt(l.extendedRoundCount,10)};r(c)}),[e,i,r]);return E.useEffect(()=>{n({player_0:e.playerResults[0].beforeScore,player_1:e.playerResults[1].beforeScore,player_2:e.playerResults[2].beforeScore,player_3:e.playerResults[3].beforeScore,cumulatedThousands:e.cumulatedThousands,roundCount:e.roundCount,extendedRoundCount:e.extendedRoundCount})},[e.cumulatedThousands,e.extendedRoundCount,e.playerResults,e.roundCount,n]),u.jsxs("div",{className:"space-y-8",children:[u.jsx("div",{className:"space-y-2",children:u.jsxs("table",{className:"data-table w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-1/2",children:"玩家"}),u.jsx("th",{className:"w-1/4",children:"現在分數"}),u.jsx("th",{className:"w-1/4",children:"新的分數"})]})}),u.jsxs("tbody",{children:[s.map(l=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:u.jsx(pq,{player:l})}),u.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.playerResults[l.index].beforeScore}),u.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:u.jsx(Mn,{name:`player_${l.index}`,control:o,rules:{required:!0},render:({field:c})=>u.jsx(_a,{className:"text-center",type:"number",...c})})})]},l.index)),u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:"供托"}),u.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.cumulatedThousands}),u.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:u.jsx(Mn,{name:"cumulatedThousands",control:o,rules:{required:!0},render:({field:l})=>u.jsx(_a,{className:"text-center",type:"number",...l})})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:"局數(東1局=1, 東2局=2, ...)"}),u.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.roundCount}),u.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:u.jsx(Mn,{name:"roundCount",control:o,rules:{required:!0},render:({field:l})=>u.jsx(_a,{className:"text-center",type:"number",...l})})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:"本場數"}),u.jsx("td",{className:"text-center px-2 border border-gray-200 align-middle",children:e.extendedRoundCount}),u.jsx("td",{className:"px-2 border border-gray-200 align-middle",children:u.jsx(Mn,{name:"extendedRoundCount",control:o,rules:{required:!0},render:({field:l})=>u.jsx(_a,{className:"text-center",type:"number",...l})})})]})]})]})}),u.jsx("div",{className:"space-y-2",children:u.jsx(je,{onClick:a,className:"w-full",children:"提交並更新直播畫面"})})]})}const Rge=({match:t,matchRound:e,onSubmit:r})=>{const{control:n,register:i,reset:o}=Kd(),s=Ya({name:"_playerResults",control:n}),a=Ya({name:"_resultType",control:n}),l=E.useMemo(()=>!e||!s?null:{...e,playerResults:{0:{...e.playerResults[0],isRiichi:s[0].status==="isRiichied",isRevealed:s[0].status==="isRevealed",detail:{...e.playerResults[0].detail,isRiichied:s[0].status==="isRiichied",isRevealed:s[0].status==="isRevealed"}},1:{...e.playerResults[1],isRiichi:s[1].status==="isRiichied",isRevealed:s[1].status==="isRevealed",detail:{...e.playerResults[1].detail,isRiichied:s[1].status==="isRiichied",isRevealed:s[1].status==="isRevealed"}},2:{...e.playerResults[2],isRiichi:s[2].status==="isRiichied",isRevealed:s[2].status==="isRevealed",detail:{...e.playerResults[2].detail,isRiichied:s[2].status==="isRiichied",isRevealed:s[2].status==="isRevealed"}},3:{...e.playerResults[3],isRiichi:s[3].status==="isRiichied",isRevealed:s[3].status==="isRevealed",detail:{...e.playerResults[3].detail,isRiichied:s[3].status==="isRiichied",isRevealed:s[3].status==="isRevealed"}}}},[e,s]),c=E.useMemo(()=>{var h,p;return l?{match:t,currentMatchRound:l,initialActivePlayerIndex:l.resultType===Ve.Ron||l.resultType===Ve.SelfDrawn?((h=Object.entries(l.playerResults).find(([,m])=>m.type===yt.Win))==null?void 0:h[0])??"0":"0",initialTargetPlayerIndex:l.resultType===Ve.Ron?((p=Object.entries(l.playerResults).find(([,m])=>m.type===yt.Lose))==null?void 0:p[0])??"-1":"-1"}:null},[t,l]),f=E.useMemo(()=>l?{match:t,currentMatchRound:l}:null,[t,l]),d=E.useCallback(h=>{r==null||r(h)},[r]);return E.useEffect(()=>{e&&o({_resultType:e.resultType===Ve.Ron||e.resultType===Ve.SelfDrawn?"ron":"exhausted",_playerResults:{0:{status:e.playerResults[0].isRevealed?"isRevealed":e.playerResults[0].isRiichi?"isRiichied":"none"},1:{status:e.playerResults[1].isRevealed?"isRevealed":e.playerResults[1].isRiichi?"isRiichied":"none"},2:{status:e.playerResults[2].isRevealed?"isRevealed":e.playerResults[2].isRiichi?"isRiichied":"none"},3:{status:e.playerResults[3].isRevealed?"isRevealed":e.playerResults[3].isRiichi?"isRiichied":"none"}}})},[e,e==null?void 0:e.playerResults,e==null?void 0:e.resultType,o]),u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-bold",children:"各玩家終局狀態"}),u.jsxs("table",{className:"w-full data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{}),u.jsx("th",{children:"立直/副露？"})]})}),u.jsx("tbody",{children:["0","1","2","3"].map(h=>u.jsxs("tr",{children:[u.jsx("td",{children:t.players[h].nickname}),u.jsx("td",{children:u.jsxs("select",{...i(`_playerResults.${h}.status`),children:[u.jsx("option",{value:"none",children:"-"}),u.jsx("option",{value:"isRiichied",children:"立直"}),u.jsx("option",{value:"isRevealed",children:"副露"})]})})]},h))})]}),u.jsx("hr",{}),u.jsxs("h2",{className:"text-xl font-bold",children:[u.jsx("span",{children:"對局結果："}),u.jsxs("select",{...i("_resultType"),children:[u.jsx("option",{value:"ron",children:"和了"}),u.jsx("option",{value:"exhausted",children:"流局"})]})]}),a==="ron"&&!!c&&u.jsx(JG,{...c,submitNode:"提交修改",onSubmit:d}),a==="exhausted"&&!!f&&u.jsx(ZG,{...f,submitNode:"提交修改",onSubmit:d})]})};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function $ge(t,e){if(Rm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dge(t){var e=$ge(t,"string");return Rm(e)==="symbol"?e:String(e)}function Mge(t,e,r){return e=Dge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(r),!0).forEach(function(n){Mge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function On(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var XF=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),hA=function(){return Math.random().toString(36).substring(7).split("").join(".")},JF={INIT:"@@redux/INIT"+hA(),REPLACE:"@@redux/REPLACE"+hA(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+hA()}};function Fge(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function mq(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(On(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(On(1));return r(mq)(t,e)}if(typeof t!="function")throw new Error(On(2));var i=t,o=e,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function f(){if(l)throw new Error(On(3));return o}function d(y){if(typeof y!="function")throw new Error(On(4));if(l)throw new Error(On(5));var v=!0;return c(),a.push(y),function(){if(v){if(l)throw new Error(On(6));v=!1,c();var g=a.indexOf(y);a.splice(g,1),s=null}}}function h(y){if(!Fge(y))throw new Error(On(7));if(typeof y.type>"u")throw new Error(On(8));if(l)throw new Error(On(9));try{l=!0,o=i(o,y)}finally{l=!1}for(var v=s=a,b=0;b<v.length;b++){var g=v[b];g()}return y}function p(y){if(typeof y!="function")throw new Error(On(10));i=y,h({type:JF.REPLACE})}function m(){var y,v=d;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(On(11));function x(){g.next&&g.next(f())}x();var S=v(x);return{unsubscribe:S}}},y[XF]=function(){return this},y}return h({type:JF.INIT}),n={dispatch:h,subscribe:d,getState:f,replaceReducer:p},n[XF]=m,n}function ZF(t,e){return function(){return e(t.apply(this,arguments))}}function eL(t,e){if(typeof t=="function")return ZF(t,e);if(typeof t!="object"||t===null)throw new Error(On(16));var r={};for(var n in t){var i=t[n];typeof i=="function"&&(r[n]=ZF(i,e))}return r}function yq(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function Lge(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(On(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=yq.apply(void 0,a)(i.dispatch),YF(YF({},i),{},{dispatch:o})}}}var Bge={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=E,Uge=lk;function Vge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wge=typeof Object.is=="function"?Object.is:Vge,zge=Uge.useSyncExternalStore,Gge=e1.useRef,qge=e1.useEffect,Hge=e1.useMemo,Kge=e1.useDebugValue;Bge.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var o=Gge(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Hge(function(){function l(p){if(!c){if(c=!0,f=p,p=n(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return d=m}return d=p}if(m=d,Wge(f,p))return m;var y=n(p);return i!==void 0&&i(m,y)?m:(f=p,d=y)}var c=!1,f,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var a=zge(t,o[0],o[1]);return qge(function(){s.hasValue=!0,s.value=a},[a]),Kge(a),a};function Qge(t){t()}let gq=Qge;const Yge=t=>gq=t,Xge=()=>gq,tL=Symbol.for("react-redux-context"),rL=typeof globalThis<"u"?globalThis:{};function Jge(){var t;if(!E.createContext)return{};const e=(t=rL[tL])!=null?t:rL[tL]=new Map;let r=e.get(E.createContext);return r||(r=E.createContext(null),e.set(E.createContext,r)),r}const vq=Jge(),Zge=()=>{throw new Error("uSES not initialized!")};function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pf.apply(this,arguments)}function bq(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var xq={exports:{}},dt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=typeof Symbol=="function"&&Symbol.for,LO=Rr?Symbol.for("react.element"):60103,BO=Rr?Symbol.for("react.portal"):60106,t1=Rr?Symbol.for("react.fragment"):60107,r1=Rr?Symbol.for("react.strict_mode"):60108,n1=Rr?Symbol.for("react.profiler"):60114,i1=Rr?Symbol.for("react.provider"):60109,o1=Rr?Symbol.for("react.context"):60110,UO=Rr?Symbol.for("react.async_mode"):60111,s1=Rr?Symbol.for("react.concurrent_mode"):60111,a1=Rr?Symbol.for("react.forward_ref"):60112,l1=Rr?Symbol.for("react.suspense"):60113,eve=Rr?Symbol.for("react.suspense_list"):60120,c1=Rr?Symbol.for("react.memo"):60115,u1=Rr?Symbol.for("react.lazy"):60116,tve=Rr?Symbol.for("react.block"):60121,rve=Rr?Symbol.for("react.fundamental"):60117,nve=Rr?Symbol.for("react.responder"):60118,ive=Rr?Symbol.for("react.scope"):60119;function di(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case LO:switch(t=t.type,t){case UO:case s1:case t1:case n1:case r1:case l1:return t;default:switch(t=t&&t.$$typeof,t){case o1:case a1:case u1:case c1:case i1:return t;default:return e}}case BO:return e}}}function _q(t){return di(t)===s1}dt.AsyncMode=UO;dt.ConcurrentMode=s1;dt.ContextConsumer=o1;dt.ContextProvider=i1;dt.Element=LO;dt.ForwardRef=a1;dt.Fragment=t1;dt.Lazy=u1;dt.Memo=c1;dt.Portal=BO;dt.Profiler=n1;dt.StrictMode=r1;dt.Suspense=l1;dt.isAsyncMode=function(t){return _q(t)||di(t)===UO};dt.isConcurrentMode=_q;dt.isContextConsumer=function(t){return di(t)===o1};dt.isContextProvider=function(t){return di(t)===i1};dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===LO};dt.isForwardRef=function(t){return di(t)===a1};dt.isFragment=function(t){return di(t)===t1};dt.isLazy=function(t){return di(t)===u1};dt.isMemo=function(t){return di(t)===c1};dt.isPortal=function(t){return di(t)===BO};dt.isProfiler=function(t){return di(t)===n1};dt.isStrictMode=function(t){return di(t)===r1};dt.isSuspense=function(t){return di(t)===l1};dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===t1||t===s1||t===n1||t===r1||t===l1||t===eve||typeof t=="object"&&t!==null&&(t.$$typeof===u1||t.$$typeof===c1||t.$$typeof===i1||t.$$typeof===o1||t.$$typeof===a1||t.$$typeof===rve||t.$$typeof===nve||t.$$typeof===ive||t.$$typeof===tve)};dt.typeOf=di;xq.exports=dt;var zx=xq.exports,VO=zx,ove={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sve={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ave={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WO={};WO[VO.ForwardRef]=ave;WO[VO.Memo]=wq;function nL(t){return VO.isMemo(t)?wq:WO[t.$$typeof]||ove}var lve=Object.defineProperty,cve=Object.getOwnPropertyNames,iL=Object.getOwnPropertySymbols,uve=Object.getOwnPropertyDescriptor,fve=Object.getPrototypeOf,oL=Object.prototype;function Sq(t,e,r){if(typeof e!="string"){if(oL){var n=fve(e);n&&n!==oL&&Sq(t,n,r)}var i=cve(e);iL&&(i=i.concat(iL(e)));for(var o=nL(t),s=nL(e),a=0;a<i.length;++a){var l=i[a];if(!sve[l]&&!(r&&r[l])&&!(s&&s[l])&&!(o&&o[l])){var c=uve(e,l);try{lve(t,l,c)}catch{}}}}return t}var dve=Sq;const sL=st(dve);var Eq={exports:{}},ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO=Symbol.for("react.element"),GO=Symbol.for("react.portal"),f1=Symbol.for("react.fragment"),d1=Symbol.for("react.strict_mode"),h1=Symbol.for("react.profiler"),p1=Symbol.for("react.provider"),m1=Symbol.for("react.context"),hve=Symbol.for("react.server_context"),y1=Symbol.for("react.forward_ref"),g1=Symbol.for("react.suspense"),v1=Symbol.for("react.suspense_list"),b1=Symbol.for("react.memo"),x1=Symbol.for("react.lazy"),pve=Symbol.for("react.offscreen"),Aq;Aq=Symbol.for("react.module.reference");function Ui(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zO:switch(t=t.type,t){case f1:case h1:case d1:case g1:case v1:return t;default:switch(t=t&&t.$$typeof,t){case hve:case m1:case y1:case x1:case b1:case p1:return t;default:return e}}case GO:return e}}}ht.ContextConsumer=m1;ht.ContextProvider=p1;ht.Element=zO;ht.ForwardRef=y1;ht.Fragment=f1;ht.Lazy=x1;ht.Memo=b1;ht.Portal=GO;ht.Profiler=h1;ht.StrictMode=d1;ht.Suspense=g1;ht.SuspenseList=v1;ht.isAsyncMode=function(){return!1};ht.isConcurrentMode=function(){return!1};ht.isContextConsumer=function(t){return Ui(t)===m1};ht.isContextProvider=function(t){return Ui(t)===p1};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zO};ht.isForwardRef=function(t){return Ui(t)===y1};ht.isFragment=function(t){return Ui(t)===f1};ht.isLazy=function(t){return Ui(t)===x1};ht.isMemo=function(t){return Ui(t)===b1};ht.isPortal=function(t){return Ui(t)===GO};ht.isProfiler=function(t){return Ui(t)===h1};ht.isStrictMode=function(t){return Ui(t)===d1};ht.isSuspense=function(t){return Ui(t)===g1};ht.isSuspenseList=function(t){return Ui(t)===v1};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===f1||t===h1||t===d1||t===g1||t===v1||t===pve||typeof t=="object"&&t!==null&&(t.$$typeof===x1||t.$$typeof===b1||t.$$typeof===p1||t.$$typeof===m1||t.$$typeof===y1||t.$$typeof===Aq||t.getModuleId!==void 0)};ht.typeOf=Ui;Eq.exports=ht;var mve=Eq.exports;const yve=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function gve(t,e,r,n,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,c,f,d,h;function p(g,x){return l=g,c=x,f=t(l,c),d=e(n,c),h=r(f,d,c),a=!0,h}function m(){return f=t(l,c),e.dependsOnOwnProps&&(d=e(n,c)),h=r(f,d,c),h}function y(){return t.dependsOnOwnProps&&(f=t(l,c)),e.dependsOnOwnProps&&(d=e(n,c)),h=r(f,d,c),h}function v(){const g=t(l,c),x=!s(g,f);return f=g,x&&(h=r(f,d,c)),h}function b(g,x){const S=!o(x,c),w=!i(g,l,x,c);return l=g,c=x,S&&w?m():S?y():w?v():h}return function(x,S){return a?b(x,S):p(x,S)}}function vve(t,e){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:i}=e,o=bq(e,yve);const s=r(t,o),a=n(t,o),l=i(t,o);return gve(s,a,l,t,o)}function bve(t,e){const r={};for(const n in t){const i=t[n];typeof i=="function"&&(r[n]=(...o)=>e(i(...o)))}return r}function gT(t){return function(r){const n=t(r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function aL(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function Cq(t,e){return function(n,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=aL(t);let c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=aL(c),c=o(a,l)),c},o}}function qO(t,e){return(r,n)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${n.wrappedComponentName}.`)}}function xve(t){return t&&typeof t=="object"?gT(e=>bve(t,e)):t?typeof t=="function"?Cq(t):qO(t,"mapDispatchToProps"):gT(e=>({dispatch:e}))}function _ve(t){return t?typeof t=="function"?Cq(t):qO(t,"mapStateToProps"):gT(()=>({}))}function wve(t,e,r){return pf({},r,t,e)}function Sve(t){return function(r,{displayName:n,areMergedPropsEqual:i}){let o=!1,s;return function(l,c,f){const d=t(l,c,f);return o?i(d,s)||(s=d):(o=!0,s=d),s}}}function Eve(t){return t?typeof t=="function"?Sve(t):qO(t,"mergeProps"):()=>wve}function Ave(){const t=Xge();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const lL={notify(){},get:()=>[]};function Pq(t,e){let r,n=lL,i=0,o=!1;function s(y){f();const v=n.subscribe(y);let b=!1;return()=>{b||(b=!0,v(),d())}}function a(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return o}function f(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=Ave())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=lL)}function h(){o||(o=!0,f())}function p(){o&&(o=!1,d())}const m={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}const Cve=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gx=Cve?E.useLayoutEffect:E.useEffect;function cL(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function pA(t,e){if(cL(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!cL(t[r[i]],e[r[i]]))return!1;return!0}const Pve=["reactReduxForwardedRef"];let Tq=Zge;const Tve=t=>{Tq=t},Ive=[null,null];function Nve(t,e,r){Gx(()=>t(...e),r)}function kve(t,e,r,n,i,o){t.current=n,r.current=!1,i.current&&(i.current=null,o())}function Ove(t,e,r,n,i,o,s,a,l,c,f){if(!t)return()=>{};let d=!1,h=null;const p=()=>{if(d||!a.current)return;const y=e.getState();let v,b;try{v=n(y,i.current)}catch(g){b=g,h=g}b||(h=null),v===o.current?s.current||c():(o.current=v,l.current=v,s.current=!0,f())};return r.onStateChange=p,r.trySubscribe(),p(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}function jve(t,e){return t===e}function Iq(t,e,r,{pure:n,areStatesEqual:i=jve,areOwnPropsEqual:o=pA,areStatePropsEqual:s=pA,areMergedPropsEqual:a=pA,forwardRef:l=!1,context:c=vq}={}){const f=c,d=_ve(t),h=xve(e),p=Eve(r),m=!!t;return v=>{const b=v.displayName||v.name||"Component",g=`Connect(${b})`,x={shouldHandleStateChanges:m,displayName:g,wrappedComponentName:b,WrappedComponent:v,initMapStateToProps:d,initMapDispatchToProps:h,initMergeProps:p,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function S(A){const[C,T,P]=E.useMemo(()=>{const{reactReduxForwardedRef:q}=A,Ze=bq(A,Pve);return[A.context,q,Ze]},[A]),I=E.useMemo(()=>C&&C.Consumer&&mve.isContextConsumer(E.createElement(C.Consumer,null))?C:f,[C,f]),O=E.useContext(I),N=!!A.store&&!!A.store.getState&&!!A.store.dispatch,R=!!O&&!!O.store,L=N?A.store:O.store,U=R?O.getServerState:L.getState,V=E.useMemo(()=>vve(L.dispatch,x),[L]),[j,F]=E.useMemo(()=>{if(!m)return Ive;const q=Pq(L,N?void 0:O.subscription),Ze=q.notifyNestedSubs.bind(q);return[q,Ze]},[L,N,O]),z=E.useMemo(()=>N?O:pf({},O,{subscription:j}),[N,O,j]),le=E.useRef(),re=E.useRef(P),be=E.useRef(),at=E.useRef(!1);E.useRef(!1);const nt=E.useRef(!1),zt=E.useRef();Gx(()=>(nt.current=!0,()=>{nt.current=!1}),[]);const pt=E.useMemo(()=>()=>be.current&&P===re.current?be.current:V(L.getState(),P),[L,P]),Zt=E.useMemo(()=>Ze=>j?Ove(m,L,j,V,re,le,at,nt,be,F,Ze):()=>{},[j]);Nve(kve,[re,le,at,P,be,F]);let te;try{te=Tq(Zt,pt,U?()=>V(U(),P):pt)}catch(q){throw zt.current&&(q.message+=`
The error may be correlated with this previous error:
${zt.current.stack}

`),q}Gx(()=>{zt.current=void 0,be.current=void 0,le.current=te});const xe=E.useMemo(()=>E.createElement(v,pf({},te,{ref:T})),[T,v,te]);return E.useMemo(()=>m?E.createElement(I.Provider,{value:z},xe):xe,[I,xe,z])}const _=E.memo(S);if(_.WrappedComponent=v,_.displayName=S.displayName=g,l){const C=E.forwardRef(function(P,I){return E.createElement(_,pf({},P,{reactReduxForwardedRef:I}))});return C.displayName=g,C.WrappedComponent=v,sL(C,v)}return sL(_,v)}}function Rve({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:o="once"}){const s=E.useMemo(()=>{const c=Pq(t);return{store:t,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:o}},[t,n,i,o]),a=E.useMemo(()=>t.getState(),[t]);Gx(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=e||vq;return E.createElement(l.Provider,{value:s},r)}Tve(lk.useSyncExternalStore);Yge(og.unstable_batchedUpdates);function $ve(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Nq(t,e){var r=E.useState(function(){return{inputs:e,result:t()}})[0],n=E.useRef(!0),i=E.useRef(r),o=n.current||!!(e&&i.current.inputs&&$ve(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return E.useEffect(function(){n.current=!1,i.current=s},[s]),s.result}function Dve(t,e){return Nq(function(){return t},e)}var Ge=Nq,he=Dve,Mve="Invariant failed";function kq(t,e){if(!t)throw new Error(Mve)}var oo=function(e){var r=e.top,n=e.right,i=e.bottom,o=e.left,s=n-o,a=i-r,l={top:r,right:n,bottom:i,left:o,width:s,height:a,x:o,y:r,center:{x:(n+o)/2,y:(i+r)/2}};return l},HO=function(e,r){return{top:e.top-r.top,left:e.left-r.left,bottom:e.bottom+r.bottom,right:e.right+r.right}},uL=function(e,r){return{top:e.top+r.top,left:e.left+r.left,bottom:e.bottom-r.bottom,right:e.right-r.right}},Fve=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},mA={top:0,right:0,bottom:0,left:0},KO=function(e){var r=e.borderBox,n=e.margin,i=n===void 0?mA:n,o=e.border,s=o===void 0?mA:o,a=e.padding,l=a===void 0?mA:a,c=oo(HO(r,i)),f=oo(uL(r,s)),d=oo(uL(f,l));return{marginBox:c,borderBox:oo(r),paddingBox:f,contentBox:d,margin:i,border:s,padding:l}},pi=function(e){var r=e.slice(0,-2),n=e.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&kq(!1),i},Lve=function(){return{x:window.pageXOffset,y:window.pageYOffset}},qx=function(e,r){var n=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=Fve(n,r);return KO({borderBox:a,border:i,margin:o,padding:s})},Hx=function(e,r){return r===void 0&&(r=Lve()),qx(e,r)},Oq=function(e,r){var n={top:pi(r.marginTop),right:pi(r.marginRight),bottom:pi(r.marginBottom),left:pi(r.marginLeft)},i={top:pi(r.paddingTop),right:pi(r.paddingRight),bottom:pi(r.paddingBottom),left:pi(r.paddingLeft)},o={top:pi(r.borderTopWidth),right:pi(r.borderRightWidth),bottom:pi(r.borderBottomWidth),left:pi(r.borderLeftWidth)};return KO({borderBox:e,margin:n,padding:i,border:o})},jq=function(e){var r=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Oq(r,n)},fL=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Bve(t,e){return!!(t===e||fL(t)&&fL(e))}function Uve(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Bve(t[r],e[r]))return!1;return!0}function kr(t,e){e===void 0&&(e=Uve);var r=null;function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var s=t.apply(this,i);return r={lastResult:s,lastArgs:i,lastThis:this},s}return n.clear=function(){r=null},n}var $m=function(e){var r=[],n=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];r=a,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kx.apply(this,arguments)}function Rq(t,e){}Rq.bind(null,"warn");Rq.bind(null,"error");function Ma(){}function Vve(t,e){return{...t,...e}}function Ni(t,e,r){const n=e.map(i=>{const o=Vve(r,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){n.forEach(o=>{o()})}}const Wve="Invariant failed";class Qx extends Error{}Qx.prototype.toString=function(){return this.message};function ee(t,e){if(!t)throw new Qx(Wve)}class zve extends k.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Ma,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof Qx&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Ni(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof Qx){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Gve=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Yx=t=>t+1,qve=t=>`
  You have lifted an item in position ${Yx(t.source.index)}
`,$q=(t,e)=>{const r=t.droppableId===e.droppableId,n=Yx(t.index),i=Yx(e.index);return r?`
      You have moved the item from position ${n}
      to position ${i}
    `:`
    You have moved the item from position ${n}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},Dq=(t,e,r)=>e.droppableId===r.droppableId?`
      The item ${t}
      has been combined with ${r.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Hve=t=>{const e=t.destination;if(e)return $q(t.source,e);const r=t.combine;return r?Dq(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},dL=t=>`
  The item has returned to its starting position
  of ${Yx(t.index)}
`,Kve=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${dL(t.source)}
    `;const e=t.destination,r=t.combine;return e?`
      You have dropped the item.
      ${$q(t.source,e)}
    `:r?`
      You have dropped the item.
      ${Dq(t.draggableId,t.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${dL(t.source)}
  `},Qve={dragHandleUsageInstructions:Gve,onDragStart:qve,onDragUpdate:Hve,onDragEnd:Kve};var rb=Qve;const Or={x:0,y:0},Gr=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),ri=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),Fa=(t,e)=>t.x===e.x&&t.y===e.y,Qd=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),kc=(t,e,r=0)=>t==="x"?{x:e,y:r}:{x:r,y:e},Dm=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),hL=(t,e)=>Math.min(...e.map(r=>Dm(t,r))),Mq=t=>e=>({x:t(e.x),y:t(e.y)});var Yve=(t,e)=>{const r=oo({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return r.width<=0||r.height<=0?null:r};const kg=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),pL=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],Xve={top:0,right:0,bottom:0,left:0},Jve=(t,e)=>e?kg(t,e.scroll.diff.displacement):t,Zve=(t,e,r)=>r&&r.increasedBy?{...t,[e.end]:t[e.end]+r.increasedBy[e.line]}:t,e0e=(t,e)=>e&&e.shouldClipSubject?Yve(e.pageMarginBox,t):oo(t);var ad=({page:t,withPlaceholder:e,axis:r,frame:n})=>{const i=Jve(t.marginBox,n),o=Zve(i,r,e),s=e0e(o,n);return{page:t,withPlaceholder:e,active:s}},QO=(t,e)=>{t.frame||ee(!1);const r=t.frame,n=ri(e,r.scroll.initial),i=Qd(n),o={...r,scroll:{initial:r.scroll.initial,current:e,diff:{value:n,displacement:i},max:r.scroll.max}},s=ad({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o});return{...t,frame:o,subject:s}};const Fq=kr(t=>t.reduce((e,r)=>(e[r.descriptor.id]=r,e),{})),Lq=kr(t=>t.reduce((e,r)=>(e[r.descriptor.id]=r,e),{})),_1=kr(t=>Object.values(t)),t0e=kr(t=>Object.values(t));var Yd=kr((t,e)=>t0e(e).filter(n=>t===n.descriptor.droppableId).sort((n,i)=>n.descriptor.index-i.descriptor.index));function YO(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function w1(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var S1=kr((t,e)=>e.filter(r=>r.descriptor.id!==t.descriptor.id)),r0e=({isMovingForward:t,draggable:e,destination:r,insideDestination:n,previousImpact:i})=>{if(!r.isCombineEnabled||!YO(i))return null;function s(p){const m={type:"COMBINE",combine:{draggableId:p,droppableId:r.descriptor.id}};return{...i,at:m}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?s(l):null;const c=S1(e,n);if(!l){if(!c.length)return null;const p=c[c.length-1];return s(p.descriptor.id)}const f=c.findIndex(p=>p.descriptor.id===l);f===-1&&ee(!1);const d=f-1;if(d<0)return null;const h=c[d];return s(h.descriptor.id)},Xd=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const Bq={point:Or,value:0},Mm={invisible:{},visible:{},all:[]},n0e={displaced:Mm,displacedBy:Bq,at:null};var i0e=n0e,ji=(t,e)=>r=>t<=r&&r<=e,Uq=t=>{const e=ji(t.top,t.bottom),r=ji(t.left,t.right);return n=>{if(e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right))return!0;const o=e(n.top)||e(n.bottom),s=r(n.left)||r(n.right);if(o&&s)return!0;const l=n.top<t.top&&n.bottom>t.bottom,c=n.left<t.left&&n.right>t.right;return l&&c?!0:l&&s||c&&o}},o0e=t=>{const e=ji(t.top,t.bottom),r=ji(t.left,t.right);return n=>e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right)};const XO={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Vq={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var s0e=t=>e=>{const r=ji(e.top,e.bottom),n=ji(e.left,e.right);return i=>t===XO?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)};const a0e=(t,e)=>{const r=e.frame?e.frame.scroll.diff.displacement:Or;return kg(t,r)},l0e=(t,e,r)=>e.subject.active?r(e.subject.active)(t):!1,c0e=(t,e,r)=>r(e)(t),JO=({target:t,destination:e,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:i})=>{const o=n?a0e(t,e):t;return l0e(o,e,i)&&c0e(o,r,i)},u0e=t=>JO({...t,isVisibleThroughFrameFn:Uq}),Wq=t=>JO({...t,isVisibleThroughFrameFn:o0e}),f0e=t=>JO({...t,isVisibleThroughFrameFn:s0e(t.destination.axis)}),d0e=(t,e,r)=>{if(typeof r=="boolean")return r;if(!e)return!0;const{invisible:n,visible:i}=e;if(n[t])return!1;const o=i[t];return o?o.shouldAnimate:!0};function h0e(t,e){const r=t.page.marginBox,n={top:e.point.y,right:0,bottom:0,left:e.point.x};return oo(HO(r,n))}function Fm({afterDragging:t,destination:e,displacedBy:r,viewport:n,forceShouldAnimate:i,last:o}){return t.reduce(function(a,l){const c=h0e(l,r),f=l.descriptor.id;if(a.all.push(f),!u0e({target:c,destination:e,viewport:n,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const h=d0e(f,o,i),p={draggableId:f,shouldAnimate:h};return a.visible[f]=p,a},{all:[],visible:{},invisible:{}})}function p0e(t,e){if(!t.length)return 0;const r=t[t.length-1].descriptor.index;return e.inHomeList?r:r+1}function mL({insideDestination:t,inHomeList:e,displacedBy:r,destination:n}){const i=p0e(t,{inHomeList:e});return{displaced:Mm,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function Xx({draggable:t,insideDestination:e,destination:r,viewport:n,displacedBy:i,last:o,index:s,forceShouldAnimate:a}){const l=Xd(t,r);if(s==null)return mL({insideDestination:e,inHomeList:l,displacedBy:i,destination:r});const c=e.find(m=>m.descriptor.index===s);if(!c)return mL({insideDestination:e,inHomeList:l,displacedBy:i,destination:r});const f=S1(t,e),d=e.indexOf(c),h=f.slice(d);return{displaced:Fm({afterDragging:h,destination:r,displacedBy:i,last:o,viewport:n.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Xa(t,e){return!!e.effected[t]}var m0e=({isMovingForward:t,destination:e,draggables:r,combine:n,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const o=n.draggableId,a=r[o].descriptor.index;return Xa(o,i)?t?a:a-1:t?a+1:a},y0e=({isMovingForward:t,isInHomeList:e,insideDestination:r,location:n})=>{if(!r.length)return null;const i=n.index,o=t?i+1:i-1,s=r[0].descriptor.index,a=r[r.length-1].descriptor.index,l=e?a:a+1;return o<s||o>l?null:o},g0e=({isMovingForward:t,isInHomeList:e,draggable:r,draggables:n,destination:i,insideDestination:o,previousImpact:s,viewport:a,afterCritical:l})=>{const c=s.at;if(c||ee(!1),c.type==="REORDER"){const d=y0e({isMovingForward:t,isInHomeList:e,location:c.destination,insideDestination:o});return d==null?null:Xx({draggable:r,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:d})}const f=m0e({isMovingForward:t,destination:i,displaced:s.displaced,draggables:n,combine:c.combine,afterCritical:l});return f==null?null:Xx({draggable:r,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:f})},v0e=({displaced:t,afterCritical:e,combineWith:r,displacedBy:n})=>{const i=!!(t.visible[r]||t.invisible[r]);return Xa(r,e)?i?Or:Qd(n.point):i?n.point:Or},b0e=({afterCritical:t,impact:e,draggables:r})=>{const n=w1(e);n||ee(!1);const i=n.draggableId,o=r[i].page.borderBox.center,s=v0e({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return Gr(o,s)};const zq=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,x0e=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,ZO=(t,e,r)=>e[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2,yL=({axis:t,moveRelativeTo:e,isMoving:r})=>kc(t.line,e.marginBox[t.end]+zq(t,r),ZO(t,e.marginBox,r)),gL=({axis:t,moveRelativeTo:e,isMoving:r})=>kc(t.line,e.marginBox[t.start]-x0e(t,r),ZO(t,e.marginBox,r)),_0e=({axis:t,moveInto:e,isMoving:r})=>kc(t.line,e.contentBox[t.start]+zq(t,r),ZO(t,e.contentBox,r));var w0e=({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i})=>{const o=Yd(n.descriptor.id,r),s=e.page,a=n.axis;if(!o.length)return _0e({axis:a,moveInto:n.page,isMoving:s});const{displaced:l,displacedBy:c}=t,f=l.all[0];if(f){const h=r[f];if(Xa(f,i))return gL({axis:a,moveRelativeTo:h.page,isMoving:s});const p=qx(h.page,c.point);return gL({axis:a,moveRelativeTo:p,isMoving:s})}const d=o[o.length-1];if(d.descriptor.id===e.descriptor.id)return s.borderBox.center;if(Xa(d.descriptor.id,i)){const h=qx(d.page,Qd(i.displacedBy.point));return yL({axis:a,moveRelativeTo:h,isMoving:s})}return yL({axis:a,moveRelativeTo:d.page,isMoving:s})},vT=(t,e)=>{const r=t.frame;return r?Gr(e,r.scroll.diff.displacement):e};const S0e=({impact:t,draggable:e,droppable:r,draggables:n,afterCritical:i})=>{const o=e.page.borderBox.center,s=t.at;return!r||!s?o:s.type==="REORDER"?w0e({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i}):b0e({impact:t,draggables:n,afterCritical:i})};var E1=t=>{const e=S0e(t),r=t.droppable;return r?vT(r,e):e},Gq=(t,e)=>{const r=ri(e,t.scroll.initial),n=Qd(r);return{frame:oo({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:r,displacement:n}}}};function vL(t,e){return t.map(r=>e[r])}function E0e(t,e){for(let r=0;r<e.length;r++){const n=e[r].visible[t];if(n)return n}return null}var A0e=({impact:t,viewport:e,destination:r,draggables:n,maxScrollChange:i})=>{const o=Gq(e,Gr(e.scroll.current,i)),s=r.frame?QO(r,Gr(r.frame.scroll.current,i)):r,a=t.displaced,l=Fm({afterDragging:vL(a.all,n),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),c=Fm({afterDragging:vL(a.all,n),destination:s,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),f={},d={},h=[a,l,c];return a.all.forEach(m=>{const y=E0e(m,h);if(y){d[m]=y;return}f[m]=!0}),{...t,displaced:{all:a.all,invisible:f,visible:d}}},C0e=(t,e)=>Gr(t.scroll.diff.displacement,e),ej=({pageBorderBoxCenter:t,draggable:e,viewport:r})=>{const n=C0e(r,t),i=ri(n,e.page.borderBox.center);return Gr(e.client.borderBox.center,i)},qq=({draggable:t,destination:e,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=ri(r,t.page.borderBox.center),l={target:kg(t.page.borderBox,s),destination:e,withDroppableDisplacement:i,viewport:n};return o?f0e(l):Wq(l)},P0e=({isMovingForward:t,draggable:e,destination:r,draggables:n,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:l})=>{if(!r.isEnabled)return null;const c=Yd(r.descriptor.id,n),f=Xd(e,r),d=r0e({isMovingForward:t,draggable:e,destination:r,insideDestination:c,previousImpact:i})||g0e({isMovingForward:t,isInHomeList:f,draggable:e,draggables:n,destination:r,insideDestination:c,previousImpact:i,viewport:o,afterCritical:l});if(!d)return null;const h=E1({impact:d,draggable:e,droppable:r,draggables:n,afterCritical:l});if(qq({draggable:e,destination:r,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ej({pageBorderBoxCenter:h,draggable:e,viewport:o}),impact:d,scrollJumpRequest:null};const m=ri(h,s),y=A0e({impact:d,viewport:o,destination:r,draggables:n,maxScrollChange:m});return{clientSelection:a,impact:y,scrollJumpRequest:m}};const yn=t=>{const e=t.subject.active;return e||ee(!1),e};var T0e=({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:n,viewport:i})=>{const o=r.subject.active;if(!o)return null;const s=r.axis,a=ji(o[s.start],o[s.end]),l=_1(n).filter(f=>f!==r).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>Uq(i.frame)(yn(f))).filter(f=>{const d=yn(f);return t?o[s.crossAxisEnd]<d[s.crossAxisEnd]:d[s.crossAxisStart]<o[s.crossAxisStart]}).filter(f=>{const d=yn(f),h=ji(d[s.start],d[s.end]);return a(d[s.start])||a(d[s.end])||h(o[s.start])||h(o[s.end])}).sort((f,d)=>{const h=yn(f)[s.crossAxisStart],p=yn(d)[s.crossAxisStart];return t?h-p:p-h}).filter((f,d,h)=>yn(f)[s.crossAxisStart]===yn(h[0])[s.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(f=>ji(yn(f)[s.start],yn(f)[s.end])(e[s.line]));return c.length===1?c[0]:c.length>1?c.sort((f,d)=>yn(f)[s.start]-yn(d)[s.start])[0]:l.sort((f,d)=>{const h=hL(e,pL(yn(f))),p=hL(e,pL(yn(d)));return h!==p?h-p:yn(f)[s.start]-yn(d)[s.start]})[0]};const bL=(t,e)=>{const r=t.page.borderBox.center;return Xa(t.descriptor.id,e)?ri(r,e.displacedBy.point):r},I0e=(t,e)=>{const r=t.page.borderBox;return Xa(t.descriptor.id,e)?kg(r,Qd(e.displacedBy.point)):r};var N0e=({pageBorderBoxCenter:t,viewport:e,destination:r,insideDestination:n,afterCritical:i})=>n.filter(s=>Wq({target:I0e(s,i),destination:r,viewport:e.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const l=Dm(t,vT(r,bL(s,i))),c=Dm(t,vT(r,bL(a,i)));return l<c?-1:c<l?1:s.descriptor.index-a.descriptor.index})[0]||null,Og=kr(function(e,r){const n=r[e.line];return{value:n,point:kc(e.line,n)}});const k0e=(t,e,r)=>{const n=t.axis;if(t.descriptor.mode==="virtual")return kc(n.line,e[n.line]);const i=t.subject.page.contentBox[n.size],l=Yd(t.descriptor.id,r).reduce((c,f)=>c+f.client.marginBox[n.size],0)+e[n.line]-i;return l<=0?null:kc(n.line,l)},Hq=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),Kq=(t,e,r)=>{const n=t.frame;Xd(e,t)&&ee(!1),t.subject.withPlaceholder&&ee(!1);const i=Og(t.axis,e.displaceBy).point,o=k0e(t,i,r),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!n){const f=ad({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return{...t,subject:f}}const a=o?Gr(n.scroll.max,o):n.scroll.max,l=Hq(n,a),c=ad({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:l});return{...t,subject:c,frame:l}},O0e=t=>{const e=t.subject.withPlaceholder;e||ee(!1);const r=t.frame;if(!r){const s=ad({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:s}}const n=e.oldFrameMaxScroll;n||ee(!1);const i=Hq(r,n),o=ad({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:o,frame:i}};var j0e=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:r,draggable:n,draggables:i,destination:o,viewport:s,afterCritical:a})=>{if(!e){if(r.length)return null;const d={displaced:Mm,displacedBy:Bq,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},h=E1({impact:d,draggable:n,droppable:o,draggables:i,afterCritical:a}),p=Xd(n,o)?o:Kq(o,n,i);return qq({draggable:n,destination:p,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=t[o.axis.line]<=e.page.borderBox.center[o.axis.line],c=(()=>{const d=e.descriptor.index;return e.descriptor.id===n.descriptor.id||l?d:d+1})(),f=Og(o.axis,n.displaceBy);return Xx({draggable:n,insideDestination:r,destination:o,viewport:s,displacedBy:f,last:Mm,index:c})},R0e=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:r,isOver:n,draggables:i,droppables:o,viewport:s,afterCritical:a})=>{const l=T0e({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:o,viewport:s});if(!l)return null;const c=Yd(l.descriptor.id,i),f=N0e({pageBorderBoxCenter:e,viewport:s,destination:l,insideDestination:c,afterCritical:a}),d=j0e({previousPageBorderBoxCenter:e,destination:l,draggable:r,draggables:i,moveRelativeTo:f,insideDestination:c,viewport:s,afterCritical:a});if(!d)return null;const h=E1({impact:d,draggable:r,droppable:l,draggables:i,afterCritical:a});return{clientSelection:ej({pageBorderBoxCenter:h,draggable:r,viewport:s}),impact:d,scrollJumpRequest:null}},oi=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const $0e=(t,e)=>{const r=oi(t);return r?e[r]:null};var D0e=({state:t,type:e})=>{const r=$0e(t.impact,t.dimensions.droppables),n=!!r,i=t.dimensions.droppables[t.critical.droppable.id],o=r||i,s=o.axis.direction,a=s==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||s==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!n)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,{draggables:d,droppables:h}=t.dimensions;return a?P0e({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:c,destination:o,draggables:d,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):R0e({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:c,isOver:o,draggables:d,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Il(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function Qq(t){const e=ji(t.top,t.bottom),r=ji(t.left,t.right);return function(i){return e(i.y)&&r(i.x)}}function M0e(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function F0e({pageBorderBox:t,draggable:e,candidates:r}){const n=e.page.borderBox.center,i=r.map(o=>{const s=o.axis,a=kc(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Dm(n,a)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function L0e({pageBorderBox:t,draggable:e,droppables:r}){const n=_1(r).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!M0e(t,o))return!1;if(Qq(o)(t.center))return!0;const s=i.axis,a=o.center[s.crossAxisLine],l=t[s.crossAxisStart],c=t[s.crossAxisEnd],f=ji(o[s.crossAxisStart],o[s.crossAxisEnd]),d=f(l),h=f(c);return!d&&!h?!0:d?l<a:c>a});return n.length?n.length===1?n[0].descriptor.id:F0e({pageBorderBox:t,draggable:e,candidates:n}):null}const Yq=(t,e)=>oo(kg(t,e));var B0e=(t,e)=>{const r=t.frame;return r?Yq(e,r.scroll.diff.value):e};function Xq({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function U0e({draggable:t,closest:e,inHomeList:r}){return e?r&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var V0e=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:r,insideDestination:n,last:i,viewport:o,afterCritical:s})=>{const a=r.axis,l=Og(r.axis,e.displaceBy),c=l.value,f=t[a.start],d=t[a.end],p=S1(e,n).find(y=>{const v=y.descriptor.id,b=y.page.borderBox.center[a.line],g=Xa(v,s),x=Xq({displaced:i,id:v});return g?x?d<=b:f<b-c:x?d<=b+c:f<b})||null,m=U0e({draggable:e,closest:p,inHomeList:Xd(e,r)});return Xx({draggable:e,insideDestination:n,destination:r,viewport:o,last:i,displacedBy:l,index:m})};const W0e=4;var z0e=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:r,destination:n,insideDestination:i,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const s=n.axis,a=Og(n.axis,t.displaceBy),l=a.value,c=e[s.start],f=e[s.end],h=S1(t,i).find(m=>{const y=m.descriptor.id,v=m.page.borderBox,g=v[s.size]/W0e,x=Xa(y,o),S=Xq({displaced:r.displaced,id:y});return x?S?f>v[s.start]+g&&f<v[s.end]-g:c>v[s.start]-l+g&&c<v[s.end]-l-g:S?f>v[s.start]+l+g&&f<v[s.end]+l-g:c>v[s.start]+g&&c<v[s.end]-g});return h?{displacedBy:a,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:n.descriptor.id}}}:null},Jq=({pageOffset:t,draggable:e,draggables:r,droppables:n,previousImpact:i,viewport:o,afterCritical:s})=>{const a=Yq(e.page.borderBox,t),l=L0e({pageBorderBox:a,draggable:e,droppables:n});if(!l)return i0e;const c=n[l],f=Yd(c.descriptor.id,r),d=B0e(c,a);return z0e({pageBorderBoxWithDroppableScroll:d,draggable:e,previousImpact:i,destination:c,insideDestination:f,afterCritical:s})||V0e({pageBorderBoxWithDroppableScroll:d,draggable:e,destination:c,insideDestination:f,last:i.displaced,viewport:o,afterCritical:s})},tj=(t,e)=>({...t,[e.descriptor.id]:e});const G0e=({previousImpact:t,impact:e,droppables:r})=>{const n=oi(t),i=oi(e);if(!n||n===i)return r;const o=r[n];if(!o.subject.withPlaceholder)return r;const s=O0e(o);return tj(r,s)};var q0e=({draggable:t,draggables:e,droppables:r,previousImpact:n,impact:i})=>{const o=G0e({previousImpact:n,impact:i,droppables:r}),s=oi(i);if(!s)return o;const a=r[s];if(Xd(t,a)||a.subject.withPlaceholder)return o;const l=Kq(a,t,e);return tj(o,l)},Up=({state:t,clientSelection:e,dimensions:r,viewport:n,impact:i,scrollJumpRequest:o})=>{const s=n||t.viewport,a=r||t.dimensions,l=e||t.current.client.selection,c=ri(l,t.initial.client.selection),f={offset:c,selection:l,borderBoxCenter:Gr(t.initial.client.borderBoxCenter,c)},d={selection:Gr(f.selection,s.scroll.current),borderBoxCenter:Gr(f.borderBoxCenter,s.scroll.current),offset:Gr(f.offset,s.scroll.diff.value)},h={client:f,page:d};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:s,current:h};const p=a.draggables[t.critical.draggable.id],m=i||Jq({pageOffset:d.offset,draggable:p,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),y=q0e({draggable:p,impact:m,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:h,dimensions:{draggables:a.draggables,droppables:y},impact:m,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function H0e(t,e){return t.map(r=>e[r])}var Zq=({impact:t,viewport:e,draggables:r,destination:n,forceShouldAnimate:i})=>{const o=t.displaced,s=H0e(o.all,r),a=Fm({afterDragging:s,destination:n,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:o});return{...t,displaced:a}},eH=({impact:t,draggable:e,droppable:r,draggables:n,viewport:i,afterCritical:o})=>{const s=E1({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:o});return ej({pageBorderBoxCenter:s,draggable:e,viewport:i})},tH=({state:t,dimensions:e,viewport:r})=>{t.movementMode!=="SNAP"&&ee(!1);const n=t.impact,i=r||t.viewport,o=e||t.dimensions,{draggables:s,droppables:a}=o,l=s[t.critical.draggable.id],c=oi(n);c||ee(!1);const f=a[c],d=Zq({impact:n,viewport:i,destination:f,draggables:s}),h=eH({impact:d,draggable:l,droppable:f,draggables:s,viewport:i,afterCritical:t.afterCritical});return Up({impact:d,clientSelection:h,state:t,dimensions:o,viewport:i})},K0e=t=>({index:t.index,droppableId:t.droppableId}),rH=({draggable:t,home:e,draggables:r,viewport:n})=>{const i=Og(e.axis,t.displaceBy),o=Yd(e.descriptor.id,r),s=o.indexOf(t);s===-1&&ee(!1);const a=o.slice(s+1),l=a.reduce((h,p)=>(h[p.descriptor.id]=!0,h),{}),c={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:Fm({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:K0e(t.descriptor)}},afterCritical:c}},Q0e=(t,e)=>({draggables:t.draggables,droppables:tj(t.droppables,e)}),Y0e=({draggable:t,offset:e,initialWindowScroll:r})=>{const n=qx(t.client,e),i=Hx(n,r);return{...t,placeholder:{...t.placeholder,client:n},client:n,page:i}},X0e=t=>{const e=t.frame;return e||ee(!1),e},J0e=({additions:t,updatedDroppables:e,viewport:r})=>{const n=r.scroll.diff.value;return t.map(i=>{const o=i.descriptor.droppableId,s=e[o],l=X0e(s).scroll.diff.value,c=Gr(n,l);return Y0e({draggable:i,offset:c,initialWindowScroll:r.scroll.initial})})},Z0e=({state:t,published:e})=>{const r=e.modified.map(b=>{const g=t.dimensions.droppables[b.droppableId];return QO(g,b.scroll)}),n={...t.dimensions.droppables,...Fq(r)},i=Lq(J0e({additions:e.additions,updatedDroppables:n,viewport:t.viewport})),o={...t.dimensions.draggables,...i};e.removals.forEach(b=>{delete o[b]});const s={droppables:n,draggables:o},a=oi(t.impact),l=a?s.droppables[a]:null,c=s.draggables[t.critical.draggable.id],f=s.droppables[t.critical.droppable.id],{impact:d,afterCritical:h}=rH({draggable:c,home:f,draggables:o,viewport:t.viewport}),p=l&&l.isCombineEnabled?t.impact:d,m=Jq({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:t.viewport,afterCritical:h}),y={...t,phase:"DRAGGING",impact:m,onLiftImpact:d,dimensions:s,afterCritical:h,forceShouldAnimate:!1};return t.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const bT=t=>t.movementMode==="SNAP",yA=(t,e,r)=>{const n=Q0e(t.dimensions,e);return!bT(t)||r?Up({state:t,dimensions:n}):tH({state:t,dimensions:n})};function gA(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const xL={phase:"IDLE",completed:null,shouldFlush:!1};var ebe=(t=xL,e)=>{if(e.type==="FLUSH")return{...xL,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&ee(!1);const{critical:r,clientSelection:n,viewport:i,dimensions:o,movementMode:s}=e.payload,a=o.draggables[r.draggable.id],l=o.droppables[r.droppable.id],c={selection:n,borderBoxCenter:a.client.borderBox.center,offset:Or},f={client:c,page:{selection:Gr(c.selection,i.scroll.initial),borderBoxCenter:Gr(c.selection,i.scroll.initial),offset:Gr(c.selection,i.scroll.diff.value)}},d=_1(o.droppables).every(y=>!y.isFixedOnPage),{impact:h,afterCritical:p}=rH({draggable:a,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:d,impact:h,afterCritical:p,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&ee(!1),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||ee(!1),Z0e({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Il(t)||ee(!1);const{client:r}=e.payload;return Fa(r,t.current.client.selection)?t:Up({state:t,clientSelection:r,impact:bT(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return gA(t);Il(t)||ee(!1);const{id:r,newScroll:n}=e.payload,i=t.dimensions.droppables[r];if(!i)return t;const o=QO(i,n);return yA(t,o,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Il(t)||ee(!1);const{id:r,isEnabled:n}=e.payload,i=t.dimensions.droppables[r];i||ee(!1),i.isEnabled===n&&ee(!1);const o={...i,isEnabled:n};return yA(t,o,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Il(t)||ee(!1);const{id:r,isCombineEnabled:n}=e.payload,i=t.dimensions.droppables[r];i||ee(!1),i.isCombineEnabled===n&&ee(!1);const o={...i,isCombineEnabled:n};return yA(t,o,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Il(t)||ee(!1),t.isWindowScrollAllowed||ee(!1);const r=e.payload.newScroll;if(Fa(t.viewport.scroll.current,r))return gA(t);const n=Gq(t.viewport,r);return bT(t)?tH({state:t,viewport:n}):Up({state:t,viewport:n})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Il(t))return t;const r=e.payload.maxScroll;if(Fa(r,t.viewport.scroll.max))return t;const n={...t.viewport,scroll:{...t.viewport.scroll,max:r}};return{...t,viewport:n}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&ee(!1);const r=D0e({state:t,type:e.type});return r?Up({state:t,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const r=e.payload.reason;return t.phase!=="COLLECTING"&&ee(!1),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(e.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||ee(!1),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:r}=e.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return t};const tbe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),rbe=t=>({type:"LIFT",payload:t}),nbe=t=>({type:"INITIAL_PUBLISH",payload:t}),ibe=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),obe=()=>({type:"COLLECTION_STARTING",payload:null}),sbe=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),abe=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),lbe=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),nH=t=>({type:"MOVE",payload:t}),cbe=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),ube=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),fbe=()=>({type:"MOVE_UP",payload:null}),dbe=()=>({type:"MOVE_DOWN",payload:null}),hbe=()=>({type:"MOVE_RIGHT",payload:null}),pbe=()=>({type:"MOVE_LEFT",payload:null}),rj=()=>({type:"FLUSH",payload:null}),mbe=t=>({type:"DROP_ANIMATE",payload:t}),nj=t=>({type:"DROP_COMPLETE",payload:t}),iH=t=>({type:"DROP",payload:t}),ybe=t=>({type:"DROP_PENDING",payload:t}),oH=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var gbe=t=>({getState:e,dispatch:r})=>n=>i=>{if(i.type!=="LIFT"){n(i);return}const{id:o,clientSelection:s,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&r(nj({completed:l.completed})),e().phase!=="IDLE"&&ee(!1),r(rj()),r(tbe({draggableId:o,movementMode:a}));const f={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:h,viewport:p}=t.startPublishing(f);r(nbe({critical:d,dimensions:h,clientSelection:s,movementMode:a,viewport:p}))},vbe=t=>()=>e=>r=>{r.type==="INITIAL_PUBLISH"&&t.dragging(),r.type==="DROP_ANIMATE"&&t.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&t.resting(),e(r)};const ij={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Lm={opacity:{drop:0,combining:.7},scale:{drop:.75}},sH={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ml=`${sH.outOfTheWay}s ${ij.outOfTheWay}`,Vp={fluid:`opacity ${ml}`,snap:`transform ${ml}, opacity ${ml}`,drop:t=>{const e=`${t}s ${ij.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${ml}`,placeholder:`height ${ml}, width ${ml}, margin ${ml}`},_L=t=>Fa(t,Or)?void 0:`translate(${t.x}px, ${t.y}px)`,xT={moveTo:_L,drop:(t,e)=>{const r=_L(t);if(r)return e?`${r} scale(${Lm.scale.drop})`:r}},{minDropTime:_T,maxDropTime:aH}=sH,bbe=aH-_T,wL=1500,xbe=.6;var _be=({current:t,destination:e,reason:r})=>{const n=Dm(t,e);if(n<=0)return _T;if(n>=wL)return aH;const i=n/wL,o=_T+bbe*i,s=r==="CANCEL"?o*xbe:o;return Number(s.toFixed(2))},wbe=({impact:t,draggable:e,dimensions:r,viewport:n,afterCritical:i})=>{const{draggables:o,droppables:s}=r,a=oi(t),l=a?s[a]:null,c=s[e.descriptor.droppableId],f=eH({impact:t,draggable:e,draggables:o,afterCritical:i,droppable:l||c,viewport:n});return ri(f,e.client.borderBox.center)},Sbe=({draggables:t,reason:e,lastImpact:r,home:n,viewport:i,onLiftImpact:o})=>!r.at||e!=="DROP"?{impact:Zq({draggables:t,impact:o,destination:n,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Mm},didDropInsideDroppable:!0};const Ebe=({getState:t,dispatch:e})=>r=>n=>{if(n.type!=="DROP"){r(n);return}const i=t(),o=n.payload.reason;if(i.phase==="COLLECTING"){e(ybe({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&ee(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ee(!1);const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:f,didDropInsideDroppable:d}=Sbe({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),h=d?YO(f):null,p=d?w1(f):null,m={index:a.draggable.index,droppableId:a.droppable.id},y={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:o,mode:i.movementMode,destination:h,combine:p},v=wbe({impact:f,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),b={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:f};if(!(!Fa(i.current.client.offset,v)||!!y.combine)){e(nj({completed:b}));return}const x=_be({current:i.current.client.offset,destination:v,reason:o});e(mbe({newHomeClientOffset:v,dropDuration:x,completed:b}))};var Abe=Ebe,lH=()=>({x:window.pageXOffset,y:window.pageYOffset});function Cbe(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function Pbe({onWindowScroll:t}){function e(){t(lH())}const r=$m(e),n=Cbe(r);let i=Ma;function o(){return i!==Ma}function s(){o()&&ee(!1),i=Ni(window,[n])}function a(){o()||ee(!1),r.cancel(),i(),i=Ma}return{start:s,stop:a,isActive:o}}const Tbe=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH",Ibe=t=>{const e=Pbe({onWindowScroll:r=>{t.dispatch(cbe({newScroll:r}))}});return r=>n=>{!e.isActive()&&n.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&Tbe(n)&&e.stop(),r(n)}};var Nbe=Ibe,kbe=t=>{let e=!1,r=!1;const n=setTimeout(()=>{r=!0}),i=o=>{e||r||(e=!0,t(o),clearTimeout(n))};return i.wasCalled=()=>e,i},Obe=()=>{const t=[],e=i=>{const o=t.findIndex(a=>a.timerId===i);o===-1&&ee(!1);const[s]=t.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>e(o)),s={timerId:o,callback:i};t.push(s)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const jbe=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,Rbe=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,$be=(t,e)=>{if(t===e)return!0;const r=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,n=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return r&&n},Rh=(t,e)=>{e()},Uv=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function vA(t,e,r,n){if(!t){r(n(e));return}const i=kbe(r);t(e,{announce:i}),i.wasCalled()||r(n(e))}var Dbe=(t,e)=>{const r=Obe();let n=null;const i=(d,h)=>{n&&ee(!1),Rh("onBeforeCapture",()=>{const p=t().onBeforeCapture;p&&p({draggableId:d,mode:h})})},o=(d,h)=>{n&&ee(!1),Rh("onBeforeDragStart",()=>{const p=t().onBeforeDragStart;p&&p(Uv(d,h))})},s=(d,h)=>{n&&ee(!1);const p=Uv(d,h);n={mode:h,lastCritical:d,lastLocation:p.source,lastCombine:null},r.add(()=>{Rh("onDragStart",()=>vA(t().onDragStart,p,e,rb.onDragStart))})},a=(d,h)=>{const p=YO(h),m=w1(h);n||ee(!1);const y=!$be(d,n.lastCritical);y&&(n.lastCritical=d);const v=!jbe(n.lastLocation,p);v&&(n.lastLocation=p);const b=!Rbe(n.lastCombine,m);if(b&&(n.lastCombine=m),!y&&!v&&!b)return;const g={...Uv(d,n.mode),combine:m,destination:p};r.add(()=>{Rh("onDragUpdate",()=>vA(t().onDragUpdate,g,e,rb.onDragUpdate))})},l=()=>{n||ee(!1),r.flush()},c=d=>{n||ee(!1),n=null,Rh("onDragEnd",()=>vA(t().onDragEnd,d,e,rb.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:c,abort:()=>{if(!n)return;const d={...Uv(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},Mbe=(t,e)=>{const r=Dbe(t,e);return n=>i=>o=>{if(o.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){const a=o.payload.critical;r.beforeStart(a,o.payload.movementMode),i(o),r.start(a,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){const a=o.payload.completed.result;r.flush(),i(o),r.drop(a);return}if(i(o),o.type==="FLUSH"){r.abort();return}const s=n.getState();s.phase==="DRAGGING"&&r.update(s.critical,s.impact)}};const Fbe=t=>e=>r=>{if(r.type!=="DROP_ANIMATION_FINISHED"){e(r);return}const n=t.getState();n.phase!=="DROP_ANIMATING"&&ee(!1),t.dispatch(nj({completed:n.completed}))};var Lbe=Fbe;const Bbe=t=>{let e=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),e&&(e(),e=null)}return i=>o=>{if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&n(),i(o),o.type!=="DROP_ANIMATE")return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(oH())}};r=requestAnimationFrame(()=>{r=null,e=Ni(window,[s])})}};var Ube=Bbe,Vbe=t=>()=>e=>r=>{(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&t.stopPublishing(),e(r)},Wbe=t=>{let e=!1;return()=>r=>n=>{if(n.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(n.payload.critical.draggable.id),r(n),t.tryRestoreFocusRecorded();return}if(r(n),!!e){if(n.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){e=!1;const i=n.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const zbe=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH";var Gbe=t=>e=>r=>n=>{if(zbe(n)){t.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);const i=e.getState();i.phase!=="DRAGGING"&&ee(!1),t.start(i);return}r(n),t.scroll(e.getState())};const qbe=t=>e=>r=>{if(e(r),r.type!=="PUBLISH_WHILE_DRAGGING")return;const n=t.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||t.dispatch(iH({reason:n.reason})))};var Hbe=qbe;const Kbe=yq;var Qbe=({dimensionMarshal:t,focusMarshal:e,styleMarshal:r,getResponders:n,announce:i,autoScroller:o})=>mq(ebe,Kbe(Lge(vbe(r),Vbe(t),gbe(t),Abe,Lbe,Ube,Hbe,Gbe(o),Nbe,Wbe(e),Mbe(n,i))));const bA=()=>({additions:{},removals:{},modified:{}});function Ybe({registry:t,callbacks:e}){let r=bA(),n=null;const i=()=>{n||(e.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:l,removals:c,modified:f}=r,d=Object.keys(l).map(m=>t.draggable.getById(m).getDimension(Or)).sort((m,y)=>m.descriptor.index-y.descriptor.index),h=Object.keys(f).map(m=>{const v=t.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:v}}),p={additions:d,removals:Object.keys(c),modified:h};r=bA(),e.publish(p)}))};return{add:l=>{const c=l.descriptor.id;r.additions[c]=l,r.modified[l.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],i()},remove:l=>{const c=l.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],i()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=bA())}}}var cH=({scrollHeight:t,scrollWidth:e,height:r,width:n})=>{const i=ri({x:e,y:t},{x:n,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},uH=()=>{const t=document.documentElement;return t||ee(!1),t},fH=()=>{const t=uH();return cH({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},Xbe=()=>{const t=lH(),e=fH(),r=t.y,n=t.x,i=uH(),o=i.clientWidth,s=i.clientHeight,a=n+o,l=r+s;return{frame:oo({top:r,left:n,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:Or,displacement:Or}}}},Jbe=({critical:t,scrollOptions:e,registry:r})=>{const n=Xbe(),i=n.scroll.current,o=t.droppable,s=r.droppable.getAllByType(o.type).map(f=>f.callbacks.getDimensionAndWatchScroll(i,e)),a=r.draggable.getAllByType(t.draggable.type).map(f=>f.getDimension(i));return{dimensions:{draggables:Lq(a),droppables:Fq(s)},critical:t,viewport:n}};function SL(t,e,r){return!(r.descriptor.id===e.id||r.descriptor.type!==e.type||t.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var Zbe=(t,e)=>{let r=null;const n=Ybe({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(h,p)=>{t.droppable.exists(h)||ee(!1),r&&e.updateDroppableIsEnabled({id:h,isEnabled:p})},o=(h,p)=>{r&&(t.droppable.exists(h)||ee(!1),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},s=(h,p)=>{r&&(t.droppable.exists(h)||ee(!1),e.updateDroppableScroll({id:h,newScroll:p}))},a=(h,p)=>{r&&t.droppable.getById(h).callbacks.scroll(p)},l=()=>{if(!r)return;n.stop();const h=r.critical.droppable;t.droppable.getAllByType(h.type).forEach(p=>p.callbacks.dragStopped()),r.unsubscribe(),r=null},c=h=>{r||ee(!1);const p=r.critical.draggable;h.type==="ADDITION"&&SL(t,p,h.value)&&n.add(h.value),h.type==="REMOVAL"&&SL(t,p,h.value)&&n.remove(h.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:h=>{r&&ee(!1);const p=t.draggable.getById(h.draggableId),m=t.droppable.getById(p.descriptor.droppableId),y={draggable:p.descriptor,droppable:m.descriptor},v=t.subscribe(c);return r={critical:y,unsubscribe:v},Jbe({critical:y,registry:t,scrollOptions:h.scrollOptions})},stopPublishing:l}},dH=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",exe=t=>{window.scrollBy(t.x,t.y)};const txe=kr(t=>_1(t).filter(e=>!(!e.isEnabled||!e.frame))),rxe=(t,e)=>txe(e).find(n=>(n.frame||ee(!1),Qq(n.frame.pageMarginBox)(t)))||null;var nxe=({center:t,destination:e,droppables:r})=>{if(e){const i=r[e];return i.frame?i:null}return rxe(t,r)};const Bm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var ixe=(t,e,r=()=>Bm)=>{const n=r(),i=t[e.size]*n.startFromPercentage,o=t[e.size]*n.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},hH=({startOfRange:t,endOfRange:e,current:r})=>{const n=e-t;return n===0?0:(r-t)/n},oj=1,oxe=(t,e,r=()=>Bm)=>{const n=r();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return n.maxPixelScroll;if(t===e.startScrollingFrom)return oj;const o=1-hH({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),s=n.maxPixelScroll*n.ease(o);return Math.ceil(s)},sxe=(t,e,r)=>{const n=r(),i=n.durationDampening.accelerateAt,o=n.durationDampening.stopDampeningAt,s=e,a=o,c=Date.now()-s;if(c>=o)return t;if(c<i)return oj;const f=hH({startOfRange:i,endOfRange:a,current:c}),d=t*n.ease(f);return Math.ceil(d)},EL=({distanceToEdge:t,thresholds:e,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:i})=>{const o=oxe(t,e,i);return o===0?0:n?Math.max(sxe(o,r,i),oj):o},AL=({container:t,distanceToEdges:e,dragStartTime:r,axis:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=ixe(t,n,o);return e[n.end]<e[n.start]?EL({distanceToEdge:e[n.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*EL({distanceToEdge:e[n.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},axe=({container:t,subject:e,proposedScroll:r})=>{const n=e.height>t.height,i=e.width>t.width;return!i&&!n?r:i&&n?null:{x:i?0:r.x,y:n?0:r.y}};const lxe=Mq(t=>t===0?0:t);var pH=({dragStartTime:t,container:e,subject:r,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:n.y-e.top,right:e.right-n.x,bottom:e.bottom-n.y,left:n.x-e.left},a=AL({container:e,distanceToEdges:s,dragStartTime:t,axis:XO,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),l=AL({container:e,distanceToEdges:s,dragStartTime:t,axis:Vq,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),c=lxe({x:l,y:a});if(Fa(c,Or))return null;const f=axe({container:e,subject:r,proposedScroll:c});return f?Fa(f,Or)?null:f:null};const cxe=Mq(t=>t===0?0:t>0?1:-1),sj=(()=>{const t=(e,r)=>e<0?e:e>r?e-r:0;return({current:e,max:r,change:n})=>{const i=Gr(e,n),o={x:t(i.x,r.x),y:t(i.y,r.y)};return Fa(o,Or)?null:o}})(),mH=({max:t,current:e,change:r})=>{const n={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=cxe(r),o=sj({max:n,current:e,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},aj=(t,e)=>mH({current:t.scroll.current,max:t.scroll.max,change:e}),uxe=(t,e)=>{if(!aj(t,e))return null;const r=t.scroll.max,n=t.scroll.current;return sj({current:n,max:r,change:e})},lj=(t,e)=>{const r=t.frame;return r?mH({current:r.scroll.current,max:r.scroll.max,change:e}):!1},fxe=(t,e)=>{const r=t.frame;return!r||!lj(t,e)?null:sj({current:r.scroll.current,max:r.scroll.max,change:e})};var dxe=({viewport:t,subject:e,center:r,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=pH({dragStartTime:n,container:t.frame,subject:e,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&aj(t,s)?s:null},hxe=({droppable:t,subject:e,center:r,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=t.frame;if(!s)return null;const a=pH({dragStartTime:n,container:s.pageMarginBox,subject:e,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return a&&lj(t,a)?a:null},CL=({state:t,dragStartTime:e,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const d=t.viewport,h=dxe({dragStartTime:e,viewport:d,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:o});if(h){n(h);return}}const c=nxe({center:s,destination:oi(t.impact),droppables:t.dimensions.droppables});if(!c)return;const f=hxe({dragStartTime:e,droppable:c,subject:l,center:s,shouldUseTimeDampening:r,getAutoScrollerOptions:o});f&&i(c.descriptor.id,f)},pxe=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r=()=>Bm})=>{const n=$m(t),i=$m(e);let o=null;const s=c=>{o||ee(!1);const{shouldUseTimeDampening:f,dragStartTime:d}=o;CL({state:c,scrollWindow:n,scrollDroppable:i,dragStartTime:d,shouldUseTimeDampening:f,getAutoScrollerOptions:r})};return{start:c=>{o&&ee(!1);const f=Date.now();let d=!1;const h=()=>{d=!0};CL({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:r}),o={dragStartTime:f,shouldUseTimeDampening:d},d&&s(c)},stop:()=>{o&&(n.cancel(),i.cancel(),o=null)},scroll:s}},mxe=({move:t,scrollDroppable:e,scrollWindow:r})=>{const n=(a,l)=>{const c=Gr(a.current.client.selection,l);t({client:c})},i=(a,l)=>{if(!lj(a,l))return l;const c=fxe(a,l);if(!c)return e(a.descriptor.id,l),null;const f=ri(l,c);return e(a.descriptor.id,f),ri(l,f)},o=(a,l,c)=>{if(!a||!aj(l,c))return c;const f=uxe(l,c);if(!f)return r(c),null;const d=ri(c,f);return r(d),ri(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=oi(a.impact);c||ee(!1);const f=i(a.dimensions.droppables[c],l);if(!f)return;const d=a.viewport,h=o(a.isWindowScrollAllowed,d,f);h&&n(a,h)}},yxe=({scrollDroppable:t,scrollWindow:e,move:r,getAutoScrollerOptions:n})=>{const i=pxe({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n}),o=mxe({move:r,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(n().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&o(l)}},start:i.start,stop:i.stop}};const ld="data-rfd",cd=(()=>{const t=`${ld}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),wT=(()=>{const t=`${ld}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),gxe=(()=>{const t=`${ld}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),PL={contextId:`${ld}-scroll-container-context-id`},vxe=t=>e=>`[${e}="${t}"]`,$h=(t,e)=>t.map(r=>{const n=r.styles[e];return n?`${r.selector} { ${n} }`:""}).join(" "),bxe="pointer-events: none;";var xxe=t=>{const e=vxe(t),r=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(cd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:bxe,dropAnimating:a}}})(),n=(()=>{const a=`
      transition: ${Vp.outOfTheWay};
    `;return{selector:e(wT.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(gxe.contextId),styles:{always:"overflow-anchor: none;"}},s=[n,r,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:$h(s,"always"),resting:$h(s,"resting"),dragging:$h(s,"dragging"),dropAnimating:$h(s,"dropAnimating"),userCancel:$h(s,"userCancel")}};const _xe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;var si=_xe;const xA=()=>{const t=document.querySelector("head");return t||ee(!1),t},TL=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function wxe(t,e){const r=Ge(()=>xxe(t),[t]),n=E.useRef(null),i=E.useRef(null),o=he(kr(d=>{const h=i.current;h||ee(!1),h.textContent=d}),[]),s=he(d=>{const h=n.current;h||ee(!1),h.textContent=d},[]);si(()=>{!n.current&&!i.current||ee(!1);const d=TL(e),h=TL(e);return n.current=d,i.current=h,d.setAttribute(`${ld}-always`,t),h.setAttribute(`${ld}-dynamic`,t),xA().appendChild(d),xA().appendChild(h),s(r.always),o(r.resting),()=>{const p=m=>{const y=m.current;y||ee(!1),xA().removeChild(y),m.current=null};p(n),p(i)}},[e,s,o,r.always,r.resting,t]);const a=he(()=>o(r.dragging),[o,r.dragging]),l=he(d=>{if(d==="DROP"){o(r.dropAnimating);return}o(r.userCancel)},[o,r.dropAnimating,r.userCancel]),c=he(()=>{i.current&&o(r.resting)},[o,r.resting]);return Ge(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function yH(t,e){return Array.from(t.querySelectorAll(e))}var gH=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function A1(t){return t instanceof gH(t).HTMLElement}function Sxe(t,e){const r=`[${cd.contextId}="${t}"]`,n=yH(document,r);if(!n.length)return null;const i=n.find(o=>o.getAttribute(cd.draggableId)===e);return!i||!A1(i)?null:i}function Exe(t){const e=E.useRef({}),r=E.useRef(null),n=E.useRef(null),i=E.useRef(!1),o=he(function(h,p){const m={id:h,focus:p};return e.current[h]=m,function(){const v=e.current;v[h]!==m&&delete v[h]}},[]),s=he(function(h){const p=Sxe(t,h);p&&p!==document.activeElement&&p.focus()},[t]),a=he(function(h,p){r.current===h&&(r.current=p)},[]),l=he(function(){n.current||i.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const h=r.current;h&&s(h)}))},[s]),c=he(function(h){r.current=null;const p=document.activeElement;p&&p.getAttribute(cd.draggableId)===h&&(r.current=h)},[]);return si(()=>(i.current=!0,function(){i.current=!1;const h=n.current;h&&cancelAnimationFrame(h)}),[]),Ge(()=>({register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[o,c,l,a])}function Axe(){const t={draggables:{},droppables:{}},e=[];function r(d){return e.push(d),function(){const p=e.indexOf(d);p!==-1&&e.splice(p,1)}}function n(d){e.length&&e.forEach(h=>h(d))}function i(d){return t.draggables[d]||null}function o(d){const h=i(d);return h||ee(!1),h}const s={register:d=>{t.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:(d,h)=>{const p=t.draggables[h.descriptor.id];p&&p.uniqueId===d.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[d.descriptor.id]=d)},unregister:d=>{const h=d.descriptor.id,p=i(h);p&&d.uniqueId===p.uniqueId&&(delete t.draggables[h],t.droppables[d.descriptor.droppableId]&&n({type:"REMOVAL",value:d}))},getById:o,findById:i,exists:d=>!!i(d),getAllByType:d=>Object.values(t.draggables).filter(h=>h.descriptor.type===d)};function a(d){return t.droppables[d]||null}function l(d){const h=a(d);return h||ee(!1),h}const c={register:d=>{t.droppables[d.descriptor.id]=d},unregister:d=>{const h=a(d.descriptor.id);h&&d.uniqueId===h.uniqueId&&delete t.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(t.droppables).filter(h=>h.descriptor.type===d)};function f(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:c,subscribe:r,clean:f}}function Cxe(){const t=Ge(Axe,[]);return E.useEffect(()=>function(){k.version.startsWith("16")||k.version.startsWith("17")?requestAnimationFrame(t.clean):t.clean()},[t]),t}var cj=k.createContext(null),Jx=()=>{const t=document.body;return t||ee(!1),t};const Pxe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Txe=Pxe;const Ixe=t=>`rfd-announcement-${t}`;function Nxe(t){const e=Ge(()=>Ixe(t),[t]),r=E.useRef(null);return E.useEffect(function(){const o=document.createElement("div");return r.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Kx(o.style,Txe),Jx().appendChild(o),function(){setTimeout(function(){const l=Jx();l.contains(o)&&l.removeChild(o),o===r.current&&(r.current=null)})}},[e]),he(i=>{const o=r.current;if(o){o.textContent=i;return}},[])}let kxe=0;const vH={separator:"::"};function Oxe(t,e=vH){return Ge(()=>`${t}${e.separator}${kxe++}`,[e.separator,t])}function jxe(t,e=vH){const r=k.useId();return Ge(()=>`${t}${e.separator}${r}`,[e.separator,t,r])}var uj="useId"in k?jxe:Oxe;function Rxe({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function $xe({contextId:t,text:e}){const r=uj("hidden-text",{separator:"-"}),n=Ge(()=>Rxe({contextId:t,uniqueId:r}),[r,t]);return E.useEffect(function(){const o=document.createElement("div");return o.id=n,o.textContent=e,o.style.display="none",Jx().appendChild(o),function(){const a=Jx();a.contains(o)&&a.removeChild(o)}},[n,e]),n}var C1=k.createContext(null);function bH(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),e}function Dxe(){let t=null;function e(){return!!t}function r(s){return s===t}function n(s){t&&ee(!1);const a={abandon:s};return t=a,a}function i(){t||ee(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:r,claim:n,release:i,tryAbandon:o}}function Um(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const Mxe=9,Fxe=13,fj=27,xH=32,Lxe=33,Bxe=34,Uxe=35,Vxe=36,Wxe=37,zxe=38,Gxe=39,qxe=40,Hxe={[Fxe]:!0,[Mxe]:!0};var _H=t=>{Hxe[t.keyCode]&&t.preventDefault()};const Kxe=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(n=>`on${n}`in document)||t})();var P1=Kxe;const wH=0,IL=5;function Qxe(t,e){return Math.abs(e.x-t.x)>=IL||Math.abs(e.y-t.y)>=IL}const NL={type:"IDLE"};function Yxe({cancel:t,completed:e,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:a}=i;if(o!==wH)return;const l={x:s,y:a},c=r();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&ee(!1);const f=c.point;if(!Qxe(f,l))return;i.preventDefault();const d=c.actions.fluidLift(l);n({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:i=>{const o=r();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{r().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(r().type==="PENDING"){t();return}if(i.keyCode===fj){i.preventDefault(),t();return}_H(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=r();if(o.type==="IDLE"&&ee(!1),o.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:P1,fn:t}]}function Xxe(t){const e=E.useRef(NL),r=E.useRef(Ma),n=Ge(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==wH||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const h=t.findClosestDraggableId(d);if(!h)return;const p=t.tryGetLock(h,s,{sourceEvent:d});if(!p)return;d.preventDefault();const m={x:d.clientX,y:d.clientY};r.current(),c(p,m)}}),[t]),i=Ge(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const d=t.findClosestDraggableId(f);if(!d)return;const h=t.findOptionsForDraggable(d);h&&(h.shouldRespectForcePress||t.canGetLock(d)&&f.preventDefault())}}),[t]),o=he(function(){const d={passive:!1,capture:!0};r.current=Ni(window,[i,n],d)},[i,n]),s=he(()=>{e.current.type!=="IDLE"&&(e.current=NL,r.current(),o())},[o]),a=he(()=>{const f=e.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),l=he(function(){const d={capture:!0,passive:!1},h=Yxe({cancel:a,completed:s,getPhase:()=>e.current,setPhase:p=>{e.current=p}});r.current=Ni(window,h,d)},[a,s]),c=he(function(d,h){e.current.type!=="IDLE"&&ee(!1),e.current={type:"PENDING",point:h,actions:d},l()},[l]);si(function(){return o(),function(){r.current()}},[o])}function Jxe(){}const Zxe={[Bxe]:!0,[Lxe]:!0,[Vxe]:!0,[Uxe]:!0};function e_e(t,e){function r(){e(),t.cancel()}function n(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===fj){i.preventDefault(),r();return}if(i.keyCode===xH){i.preventDefault(),n();return}if(i.keyCode===qxe){i.preventDefault(),t.moveDown();return}if(i.keyCode===zxe){i.preventDefault(),t.moveUp();return}if(i.keyCode===Gxe){i.preventDefault(),t.moveRight();return}if(i.keyCode===Wxe){i.preventDefault(),t.moveLeft();return}if(Zxe[i.keyCode]){i.preventDefault();return}_H(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:P1,fn:r}]}function t_e(t){const e=E.useRef(Jxe),r=Ge(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==xH)return;const s=t.findClosestDraggableId(o);if(!s)return;const a=t.tryGetLock(s,f,{sourceEvent:o});if(!a)return;o.preventDefault();let l=!0;const c=a.snapLift();e.current();function f(){l||ee(!1),l=!1,e.current(),n()}e.current=Ni(window,e_e(c,f),{capture:!0,passive:!1})}}),[t]),n=he(function(){const o={passive:!1,capture:!0};e.current=Ni(window,[r],o)},[r]);si(function(){return n(),function(){e.current()}},[n])}const _A={type:"IDLE"},r_e=120,n_e=.15;function i_e({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(e().type!=="DRAGGING"){t();return}r.keyCode===fj&&r.preventDefault(),t()}},{eventName:P1,fn:t}]}function o_e({cancel:t,completed:e,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const i=r();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:o,clientY:s}=n.touches[0],a={x:o,y:s};n.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:n=>{const i=r();if(i.type!=="DRAGGING"){t();return}n.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){t();return}n.preventDefault(),t()}},{eventName:"touchforcechange",fn:n=>{const i=r();i.type==="IDLE"&&ee(!1);const o=n.touches[0];if(!o||!(o.force>=n_e))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){n.preventDefault();return}t();return}n.preventDefault()}},{eventName:P1,fn:t}]}function s_e(t){const e=E.useRef(_A),r=E.useRef(Ma),n=he(function(){return e.current},[]),i=he(function(p){e.current=p},[]),o=Ge(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const m=t.findClosestDraggableId(p);if(!m)return;const y=t.tryGetLock(m,a,{sourceEvent:p});if(!y)return;const v=p.touches[0],{clientX:b,clientY:g}=v,x={x:b,y:g};r.current(),d(y,x)}}),[t]),s=he(function(){const p={capture:!0,passive:!1};r.current=Ni(window,[o],p)},[o]),a=he(()=>{const h=e.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(_A),r.current(),s())},[s,i]),l=he(()=>{const h=e.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),c=he(function(){const p={capture:!0,passive:!1},m={cancel:l,completed:a,getPhase:n},y=Ni(window,o_e(m),p),v=Ni(window,i_e(m),p);r.current=function(){y(),v()}},[l,n,a]),f=he(function(){const p=n();p.type!=="PENDING"&&ee(!1);const m=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[n,i]),d=he(function(p,m){n().type!=="IDLE"&&ee(!1);const y=setTimeout(f,r_e);i({type:"PENDING",point:m,actions:p,longPressTimerId:y}),c()},[c,n,i,f]);si(function(){return s(),function(){r.current();const m=n();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(_A))}},[n,s,i]),si(function(){return Ni(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const a_e=["input","button","textarea","select","option","optgroup","video","audio"];function SH(t,e){if(e==null)return!1;if(a_e.includes(e.tagName.toLowerCase()))return!0;const n=e.getAttribute("contenteditable");return n==="true"||n===""?!0:e===t?!1:SH(t,e.parentElement)}function l_e(t,e){const r=e.target;return A1(r)?SH(t,r):!1}var c_e=t=>oo(t.getBoundingClientRect()).center;function u_e(t){return t instanceof gH(t).Element}const f_e=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||t})();function EH(t,e){return t==null?null:t[f_e](e)?t:EH(t.parentElement,e)}function d_e(t,e){return t.closest?t.closest(e):EH(t,e)}function h_e(t){return`[${cd.contextId}="${t}"]`}function p_e(t,e){const r=e.target;if(!u_e(r))return null;const n=h_e(t),i=d_e(r,n);return!i||!A1(i)?null:i}function m_e(t,e){const r=p_e(t,e);return r?r.getAttribute(cd.draggableId):null}function y_e(t,e){const r=`[${wT.contextId}="${t}"]`,i=yH(document,r).find(o=>o.getAttribute(wT.id)===e);return!i||!A1(i)?null:i}function g_e(t){t.preventDefault()}function Vv({expected:t,phase:e,isLockActive:r,shouldWarn:n}){return!(!r()||t!==e)}function AH({lockAPI:t,store:e,registry:r,draggableId:n}){if(t.isClaimed())return!1;const i=r.draggable.findById(n);return!(!i||!i.options.isEnabled||!dH(e.getState(),n))}function v_e({lockAPI:t,contextId:e,store:r,registry:n,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!AH({lockAPI:t,store:r,registry:n,draggableId:i}))return null;const l=n.draggable.getById(i),c=y_e(e,l.descriptor.id);if(!c||s&&!l.options.canDragInteractiveElements&&l_e(c,s))return null;const f=t.claim(o||Ma);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function p(){return t.isActive(f)}function m(w,_){Vv({expected:w,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(_())}const y=m.bind(null,"DRAGGING");function v(w){function _(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(_(),ee(!1)),r.dispatch(rbe(w.liftActionArgs)),d="DRAGGING";function A(C,T={shouldBlockNextClick:!1}){if(w.cleanup(),T.shouldBlockNextClick){const P=Ni(window,[{eventName:"click",fn:g_e,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}_(),r.dispatch(iH({reason:C}))}return{isActive:()=>Vv({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,drop:C=>A("DROP",C),cancel:C=>A("CANCEL",C),...w.actions}}function b(w){const _=$m(C=>{y(()=>nH({client:C}))});return{...v({liftActionArgs:{id:i,clientSelection:w,movementMode:"FLUID"},cleanup:()=>_.cancel(),actions:{move:_}}),move:_}}function g(){const w={moveUp:()=>y(fbe),moveRight:()=>y(hbe),moveDown:()=>y(dbe),moveLeft:()=>y(pbe)};return v({liftActionArgs:{id:i,clientSelection:c_e(c),movementMode:"SNAP"},cleanup:Ma,actions:w})}function x(){Vv({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&t.release()}return{isActive:()=>Vv({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:b,snapLift:g,abort:x}}const b_e=[Xxe,t_e,s_e];function x_e({contextId:t,store:e,registry:r,customSensors:n,enableDefaultSensors:i}){const o=[...i?b_e:[],...n||[]],s=E.useState(()=>Dxe())[0],a=he(function(v,b){Um(v)&&!Um(b)&&s.tryAbandon()},[s]);si(function(){let v=e.getState();return e.subscribe(()=>{const g=e.getState();a(v,g),v=g})},[s,e,a]),si(()=>s.tryAbandon,[s.tryAbandon]);const l=he(y=>AH({lockAPI:s,registry:r,store:e,draggableId:y}),[s,r,e]),c=he((y,v,b)=>v_e({lockAPI:s,registry:r,contextId:t,store:e,draggableId:y,forceSensorStop:v||null,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null}),[t,s,r,e]),f=he(y=>m_e(t,y),[t]),d=he(y=>{const v=r.draggable.findById(y);return v?v.options:null},[r.draggable]),h=he(function(){s.isClaimed()&&(s.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(rj()))},[s,e]),p=he(()=>s.isClaimed(),[s]),m=Ge(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:f,findOptionsForDraggable:d,tryReleaseLock:h,isLockClaimed:p}),[l,c,f,d,h,p]);for(let y=0;y<o.length;y++)o[y](m)}const __e=t=>({onBeforeCapture:e=>{const r=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};k.version.startsWith("16")||k.version.startsWith("17")?r():og.flushSync(r)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),w_e=t=>({...Bm,...t.autoScrollerOptions,durationDampening:{...Bm.durationDampening,...t.autoScrollerOptions}});function Dh(t){return t.current||ee(!1),t.current}function S_e(t){const{contextId:e,setCallbacks:r,sensors:n,nonce:i,dragHandleUsageInstructions:o}=t,s=E.useRef(null),a=bH(t),l=he(()=>__e(a.current),[a]),c=he(()=>w_e(a.current),[a]),f=Nxe(e),d=$xe({contextId:e,text:o}),h=wxe(e,i),p=he(P=>{Dh(s).dispatch(P)},[]),m=Ge(()=>eL({publishWhileDragging:ibe,updateDroppableScroll:sbe,updateDroppableIsEnabled:abe,updateDroppableIsCombineEnabled:lbe,collectionStarting:obe},p),[p]),y=Cxe(),v=Ge(()=>Zbe(y,m),[y,m]),b=Ge(()=>yxe({scrollWindow:exe,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:c,...eL({move:nH},p)}),[v.scrollDroppable,p,c]),g=Exe(e),x=Ge(()=>Qbe({announce:f,autoScroller:b,dimensionMarshal:v,focusMarshal:g,getResponders:l,styleMarshal:h}),[f,b,v,g,l,h]);s.current=x;const S=he(()=>{const P=Dh(s);P.getState().phase!=="IDLE"&&P.dispatch(rj())},[]),w=he(()=>{const P=Dh(s).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),_=Ge(()=>({isDragging:w,tryAbort:S}),[w,S]);r(_);const A=he(P=>dH(Dh(s).getState(),P),[]),C=he(()=>Il(Dh(s).getState()),[]),T=Ge(()=>({marshal:v,focus:g,contextId:e,canLift:A,isMovementAllowed:C,dragHandleUsageInstructionsId:d,registry:y}),[e,v,d,g,A,C,y]);return x_e({contextId:e,store:x,registry:y,customSensors:n||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),E.useEffect(()=>S,[S]),k.createElement(C1.Provider,{value:T},k.createElement(Rve,{context:cj,store:x},t.children))}let E_e=0;function A_e(){return Ge(()=>`${E_e++}`,[])}function C_e(){return k.useId()}var P_e="useId"in k?C_e:A_e;function T_e(t){const e=P_e(),r=t.dragHandleUsageInstructions||rb.dragHandleUsageInstructions;return k.createElement(zve,null,n=>k.createElement(S_e,{nonce:t.nonce,contextId:e,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const kL={dragging:5e3,dropAnimating:4500},I_e=(t,e)=>e?Vp.drop(e.duration):t?Vp.snap:Vp.fluid,N_e=(t,e)=>{if(t)return e?Lm.opacity.drop:Lm.opacity.combining},k_e=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function O_e(t){const r=t.dimension.client,{offset:n,combineWith:i,dropping:o}=t,s=!!i,a=k_e(t),l=!!o,c=l?xT.drop(n,s):xT.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:I_e(a,o),transform:c,opacity:N_e(s,l),zIndex:l?kL.dropAnimating:kL.dragging,pointerEvents:"none"}}function j_e(t){return{transform:xT.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function R_e(t){return t.type==="DRAGGING"?O_e(t):j_e(t)}function $_e(t,e,r=Or){const n=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=Oq(i,n),s=Hx(o,r),a={client:o,tagName:e.tagName.toLowerCase(),display:n.display},l={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:o,page:s}}function D_e(t){const e=uj("draggable"),{descriptor:r,registry:n,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=t,l=Ge(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),c=he(p=>{const m=i();return m||ee(!1),$_e(r,m,p)},[r,i]),f=Ge(()=>({uniqueId:e,descriptor:r,options:l,getDimension:c}),[r,c,l,e]),d=E.useRef(f),h=E.useRef(!0);si(()=>(n.draggable.register(d.current),()=>n.draggable.unregister(d.current)),[n.draggable]),si(()=>{if(h.current){h.current=!1;return}const p=d.current;d.current=f,n.draggable.update(f,p)},[f,n.draggable])}var dj=k.createContext(null);function Zx(t){const e=E.useContext(t);return e||ee(!1),e}function M_e(t){t.preventDefault()}const F_e=t=>{const e=E.useRef(null),r=he((_=null)=>{e.current=_},[]),n=he(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Zx(C1),{type:a,droppableId:l}=Zx(dj),c=Ge(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:f,draggableId:d,isEnabled:h,shouldRespectForcePress:p,canDragInteractiveElements:m,isClone:y,mapped:v,dropAnimationFinished:b}=t;if(!y){const _=Ge(()=>({descriptor:c,registry:s,getDraggableRef:n,canDragInteractiveElements:m,shouldRespectForcePress:p,isEnabled:h}),[c,s,n,m,p,h]);D_e(_)}const g=Ge(()=>h?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:M_e}:null,[i,o,d,h]),x=he(_=>{v.type==="DRAGGING"&&v.dropping&&_.propertyName==="transform"&&(k.version.startsWith("16")||k.version.startsWith("17")?b():og.flushSync(b))},[b,v]),S=Ge(()=>{const _=R_e(v),A=v.type==="DRAGGING"&&v.dropping?x:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":d,style:_,onTransitionEnd:A},dragHandleProps:g}},[i,g,d,v,x,r]),w=Ge(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return k.createElement(k.Fragment,null,f(S,v.snapshot,w))};var L_e=F_e,CH=(t,e)=>t===e,PH=t=>{const{combine:e,destination:r}=t;return r?r.droppableId:e?e.droppableId:null};const B_e=t=>t.combine?t.combine.draggableId:null,U_e=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function V_e(){const t=kr((i,o)=>({x:i,y:o})),e=kr((i,o,s=null,a=null,l=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null})),r=kr((i,o,s,a,l=null,c=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:f,snapshot:e(o,a,l,c,null)}}));return(i,o)=>{if(Um(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],l=oi(i.impact),c=U_e(i.impact),f=i.forceShouldAnimate;return r(t(s.x,s.y),i.movementMode,a,o.isClone,l,c,f)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,l=i.dimensions.draggables[o.draggableId],c=s.result,f=c.mode,d=PH(c),h=B_e(c),m={duration:i.dropDuration,curve:ij.drop,moveTo:i.newHomeClientOffset,opacity:h?Lm.opacity.drop:null,scale:h?Lm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:m,draggingOver:d,combineWith:h,mode:f,forceShouldAnimate:null,snapshot:e(f,a,d,h,m)}}}return null}}function TH(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const W_e={mapped:{type:"SECONDARY",offset:Or,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:TH(null)}};function z_e(){const t=kr((s,a)=>({x:s,y:a})),e=kr(TH),r=kr((s,a=null,l)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),n=s=>s?r(Or,s,!0):null,i=(s,a,l,c)=>{const f=l.displaced.visible[s],d=!!(c.inVirtualList&&c.effected[s]),h=w1(l),p=h&&h.draggableId===s?a:null;if(!f){if(!d)return n(p);if(l.displaced.invisible[s])return null;const v=Qd(c.displacedBy.point),b=t(v.x,v.y);return r(b,p,!0)}if(d)return n(p);const m=l.displacedBy.point,y=t(m.x,m.y);return r(y,p,f.shouldAnimate)};return(s,a)=>{if(Um(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const l=s.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const G_e=()=>{const t=V_e(),e=z_e();return(n,i)=>t(n,i)||e(n,i)||W_e},q_e={dropAnimationFinished:oH},H_e=Iq(G_e,q_e,null,{context:cj,areStatePropsEqual:CH})(L_e);var K_e=H_e;function IH(t){return Zx(dj).isUsingCloneFor===t.draggableId&&!t.isClone?null:k.createElement(K_e,t)}function Q_e(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,r=!!t.disableInteractiveElementBlocking,n=!!t.shouldRespectForcePress;return k.createElement(IH,Kx({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const NH=t=>e=>t===e,Y_e=NH("scroll"),X_e=NH("auto"),OL=(t,e)=>e(t.overflowX)||e(t.overflowY),J_e=t=>{const e=window.getComputedStyle(t),r={overflowX:e.overflowX,overflowY:e.overflowY};return OL(r,Y_e)||OL(r,X_e)},Z_e=()=>!1,kH=t=>t==null?null:t===document.body?Z_e()?t:null:t===document.documentElement?null:J_e(t)?t:kH(t.parentElement);var ewe=kH,ST=t=>({x:t.scrollLeft,y:t.scrollTop});const OH=t=>t?window.getComputedStyle(t).position==="fixed"?!0:OH(t.parentElement):!1;var twe=t=>{const e=ewe(t),r=OH(t);return{closestScrollable:e,isFixedOnPage:r}},rwe=({descriptor:t,isEnabled:e,isCombineEnabled:r,isFixedOnPage:n,direction:i,client:o,page:s,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:h,client:p}=a,m=cH({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:m,diff:{value:Or,displacement:Or}}}})(),c=i==="vertical"?XO:Vq,f=ad({page:s,withPlaceholder:null,axis:c,frame:l});return{descriptor:t,isCombineEnabled:r,isFixedOnPage:n,axis:c,isEnabled:e,client:o,page:s,frame:l,subject:f}};const nwe=(t,e)=>{const r=jq(t);if(!e||t!==e)return r;const n=r.paddingBox.top-e.scrollTop,i=r.paddingBox.left-e.scrollLeft,o=n+e.scrollHeight,s=i+e.scrollWidth,l=HO({top:n,right:s,bottom:o,left:i},r.border);return KO({borderBox:l,margin:r.margin,border:r.border,padding:r.padding})};var iwe=({ref:t,descriptor:e,env:r,windowScroll:n,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:a})=>{const l=r.closestScrollable,c=nwe(t,l),f=Hx(c,n),d=(()=>{if(!l)return null;const p=jq(l),m={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:p,page:Hx(p,n),scroll:ST(l),scrollSize:m,shouldClipSubject:a}})();return rwe({descriptor:e,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:c,page:f,closest:d})};const owe={passive:!1},swe={passive:!0};var jL=t=>t.shouldPublishImmediately?owe:swe;const Wv=t=>t&&t.env.closestScrollable||null;function awe(t){const e=E.useRef(null),r=Zx(C1),n=uj("droppable"),{registry:i,marshal:o}=r,s=bH(t),a=Ge(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=E.useRef(a),c=Ge(()=>kr((S,w)=>{e.current||ee(!1);const _={x:S,y:w};o.updateDroppableScroll(a.id,_)}),[a.id,o]),f=he(()=>{const S=e.current;return!S||!S.env.closestScrollable?Or:ST(S.env.closestScrollable)},[]),d=he(()=>{const S=f();c(S.x,S.y)},[f,c]),h=Ge(()=>$m(d),[d]),p=he(()=>{const S=e.current,w=Wv(S);if(S&&w||ee(!1),S.scrollOptions.shouldPublishImmediately){d();return}h()},[h,d]),m=he((S,w)=>{e.current&&ee(!1);const _=s.current,A=_.getDroppableRef();A||ee(!1);const C=twe(A),T={ref:A,descriptor:a,env:C,scrollOptions:w};e.current=T;const P=iwe({ref:A,descriptor:a,env:C,windowScroll:S,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),I=C.closestScrollable;return I&&(I.setAttribute(PL.contextId,r.contextId),I.addEventListener("scroll",p,jL(T.scrollOptions))),P},[r.contextId,a,p,s]),y=he(()=>{const S=e.current,w=Wv(S);return S&&w||ee(!1),ST(w)},[]),v=he(()=>{const S=e.current;S||ee(!1);const w=Wv(S);e.current=null,w&&(h.cancel(),w.removeAttribute(PL.contextId),w.removeEventListener("scroll",p,jL(S.scrollOptions)))},[p,h]),b=he(S=>{const w=e.current;w||ee(!1);const _=Wv(w);_||ee(!1),_.scrollTop+=S.y,_.scrollLeft+=S.x},[]),g=Ge(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:y,dragStopped:v,scroll:b}),[v,m,y,b]),x=Ge(()=>({uniqueId:n,descriptor:a,callbacks:g}),[g,a,n]);si(()=>(l.current=x.descriptor,i.droppable.register(x),()=>{e.current&&v(),i.droppable.unregister(x)}),[g,a,v,x,o,i.droppable]),si(()=>{e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),si(()=>{e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function wA(){}const RL={width:0,height:0,margin:Xve},lwe=({isAnimatingOpenOnMount:t,placeholder:e,animate:r})=>t||r==="close"?RL:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},cwe=({isAnimatingOpenOnMount:t,placeholder:e,animate:r})=>{const n=lwe({isAnimatingOpenOnMount:t,placeholder:e,animate:r});return{display:e.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Vp.placeholder:null}},uwe=t=>{const e=E.useRef(null),r=he(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:n,onTransitionEnd:i,onClose:o,contextId:s}=t,[a,l]=E.useState(t.animate==="open");E.useEffect(()=>a?n!=="open"?(r(),l(!1),wA):e.current?wA:(e.current=setTimeout(()=>{e.current=null,l(!1)}),r):wA,[n,a,r]);const c=he(d=>{d.propertyName==="height"&&(i(),n==="close"&&o())},[n,o,i]),f=cwe({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return k.createElement(t.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:c,ref:t.innerRef})};var fwe=k.memo(uwe);class dwe extends k.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,r){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const hwe=t=>{const e=E.useContext(C1);e||ee(!1);const{contextId:r,isMovementAllowed:n}=e,i=E.useRef(null),o=E.useRef(null),{children:s,droppableId:a,type:l,mode:c,direction:f,ignoreContainerClipping:d,isDropDisabled:h,isCombineEnabled:p,snapshot:m,useClone:y,updateViewportMaxScroll:v,getContainerForClone:b}=t,g=he(()=>i.current,[]),x=he((I=null)=>{i.current=I},[]);he(()=>o.current,[]);const S=he((I=null)=>{o.current=I},[]),w=he(()=>{n()&&v({maxScroll:fH()})},[n,v]);awe({droppableId:a,type:l,mode:c,direction:f,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:g});const _=Ge(()=>k.createElement(dwe,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:I,data:O,animate:N})=>k.createElement(fwe,{placeholder:O,onClose:I,innerRef:S,animate:N,contextId:r,onTransitionEnd:w})),[r,w,t.placeholder,t.shouldAnimatePlaceholder,S]),A=Ge(()=>({innerRef:x,placeholder:_,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":r}}),[r,a,_,x]),C=y?y.dragging.draggableId:null,T=Ge(()=>({droppableId:a,type:l,isUsingCloneFor:C}),[a,C,l]);function P(){if(!y)return null;const{dragging:I,render:O}=y,N=k.createElement(IH,{draggableId:I.draggableId,index:I.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(R,L)=>O(R,L,I));return fte.createPortal(N,b())}return k.createElement(dj.Provider,{value:T},s(A,m),P())};var pwe=hwe;function mwe(){return document.body||ee(!1),document.body}const $L={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:mwe},jH=t=>{let e={...t},r;for(r in $L)t[r]===void 0&&(e={...e,[r]:$L[r]});return e},SA=(t,e)=>t===e.droppable.type,DL=(t,e)=>e.draggables[t.draggable.id],ywe=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},r=kr(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),n=kr((o,s,a,l,c,f)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===o){const m=f?{render:f,dragging:r(c.descriptor)}:null,y={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:m}}if(!s)return e;if(!l)return t;const p={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(o,s)=>{const a=jH(s),l=a.droppableId,c=a.type,f=!a.isDropDisabled,d=a.renderClone;if(Um(o)){const h=o.critical;if(!SA(c,h))return e;const p=DL(h,o.dimensions),m=oi(o.impact)===l;return n(l,f,m,m,p,d)}if(o.phase==="DROP_ANIMATING"){const h=o.completed;if(!SA(c,h.critical))return e;const p=DL(h.critical,o.dimensions);return n(l,f,PH(h.result)===l,oi(h.impact)===l,p,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const h=o.completed;if(!SA(c,h.critical))return e;const p=oi(h.impact)===l,m=!!(h.impact.at&&h.impact.at.type==="COMBINE"),y=h.critical.droppable.id===l;return p?m?t:e:y?t:e}return e}},gwe={updateViewportMaxScroll:ube},vwe=Iq(ywe,gwe,(t,e,r)=>({...jH(r),...t,...e}),{context:cj,areStatePropsEqual:CH})(pwe);var bwe=vwe;const xwe=["0","1","2","3"],_we=({defaultPlayers:t,onSubmit:e})=>{const{register:r,reset:n,control:i,getValues:o,setValue:s}=Kd({defaultValues:t}),a=Ya({control:i,name:["0.proPicUrl","0.teamPicUrl","1.proPicUrl","1.teamPicUrl","2.proPicUrl","2.teamPicUrl","3.proPicUrl","3.teamPicUrl"]}),l=Ya({control:i,name:["0.color","1.color","2.color","3.color"]}),c=E.useCallback(p=>{if(!p.destination)return;const m=["0","1","2","3"],[y]=m.splice(p.source.index,1);m.splice(p.destination.index,0,y),n({0:o(m[0]),1:o(m[1]),2:o(m[2]),3:o(m[3])})},[o,n]),f=E.useCallback(p=>{const m=p.currentTarget.getAttribute("data-index"),y=p.currentTarget.getAttribute("data-type"),v=o(`${m}.${y}`),b=prompt("新的圖片網址",v??"");b!==null&&s(`${m}.${y}`,b)},[o,s]),d=E.useCallback(()=>{n()},[n]),h=E.useCallback(()=>{e==null||e(o())},[o,e]);return E.useEffect(()=>{n({0:{...t[0]},1:{...t[1]},2:{...t[2]},3:{...t[3]}})},[t,n]),u.jsxs("div",{children:[u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"w-8"}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex font-semibold gap-2 text-center",children:[u.jsx("div",{className:"flex-1"}),u.jsx("div",{className:"flex-[2]",children:"圖片"}),u.jsx("div",{className:"flex-[2]",children:"隊伍"}),u.jsx("div",{className:"flex-[5]",children:"隊伍名稱／稱號"}),u.jsx("div",{className:"flex-[5]",children:"名稱"}),u.jsx("div",{className:"flex-[3]",children:"暱稱"}),u.jsx("div",{className:"flex-[3]",children:"顏色"})]})})]}),u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"w-8 flex flex-col justify-around font-semibold",children:[u.jsx("div",{children:"東"}),u.jsx("div",{children:"南"}),u.jsx("div",{children:"西"}),u.jsx("div",{children:"北"})]}),u.jsx("div",{className:"flex-1",children:u.jsx(T_e,{onDragEnd:c,children:u.jsx(bwe,{droppableId:"droppable",children:p=>u.jsxs("div",{...p.droppableProps,ref:p.innerRef,children:[xwe.map((m,y)=>u.jsx(Q_e,{draggableId:m,index:y,children:v=>u.jsx("div",{ref:v.innerRef,...v.draggableProps,children:u.jsxs("div",{className:"flex gap-2 py-1 items-center",children:[u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"text-2xl",...v.dragHandleProps,children:u.jsx("i",{className:"bi bi-grip-vertical"})})}),u.jsx("div",{className:"flex-[2] border border-neutral-400",children:u.jsx("img",{className:"aspect-[18/25] w-full cursor-pointer",src:a[2*y],onClick:f,"data-type":"proPicUrl","data-index":y,alt:""})}),u.jsx("div",{className:"flex-[2] border border-neutral-400",children:u.jsx("img",{className:"aspect-square w-full cursor-pointer",src:a[2*y+1],onClick:f,"data-type":"teamPicUrl","data-index":y,alt:""})}),u.jsx("div",{className:"flex-[5]",children:u.jsx("input",{className:"w-full",...r(`${m}.title`)})}),u.jsx("div",{className:"flex-[5]",children:u.jsx("input",{className:"w-full",...r(`${m}.name`)})}),u.jsx("div",{className:"flex-[3]",children:u.jsx("input",{className:"w-full",...r(`${m}.nickname`)})}),u.jsx("div",{className:"flex-[3]",children:u.jsx("input",{className:"w-full text-white",...r(`${m}.color`),style:{background:l[y]}})})]})})},m)),p.placeholder]})})})})]}),u.jsxs("div",{className:"flex mt-8",children:[u.jsx(je,{className:"flex-1",variant:"text",color:"secondary",onClick:d,children:"重置"}),u.jsx(je,{className:"flex-1",onClick:h,children:"儲存"})]})]})},EA=[{label:u.jsxs("span",{children:[u.jsx("i",{className:"bi bi-hdd-stack-fill"})," 列表(舊版)"]}),value:"listView-old"},{label:u.jsxs("span",{children:[u.jsx("i",{className:"bi bi-hdd-stack-fill"})," 列表(新版)"]}),value:"listView-new"},{label:u.jsxs("span",{children:[u.jsx("i",{className:"bi-grid-fill"})," 2x2"]}),value:"gridView"}];function zv({value:t}){return u.jsx(Lt,{value:t,positiveClassName:"text-green-600",negativeClassName:"text-red-600",signed:!0,hideZero:!0})}const Gv=({match:t,matchRound:e,playerIndex:r})=>{var n;return u.jsxs("div",{className:"text-xs",children:[u.jsxs("p",{children:[e.playerResults[r].isRiichi&&u.jsx("span",{children:"立"}),e.resultType===Ve.Ron&&e.playerResults[r].type===yt.Lose&&u.jsx("span",{children:"統"}),e.resultType===Ve.Ron&&e.playerResults[r].type===yt.Win&&u.jsx("span",{children:"和"}),e.resultType===Ve.SelfDrawn&&e.playerResults[r].type===yt.Win&&u.jsx("span",{children:"摸"}),e.resultType===Ve.Exhausted&&e.playerResults[r].type===yt.Win&&u.jsx("span",{children:"聽"})]}),e.playerResults[r].isRonDisallowed&&u.jsx("p",{className:"text-red-500 font-semibold",children:"和了禁止"}),(e.resultType===Ve.Ron||e.resultType===Ve.SelfDrawn)&&e.playerResults[r].type===yt.Win&&u.jsxs("div",{className:"bg-black bg-opacity-10 rounded py-1 px-2 mx-auto inline-block",children:[u.jsx("p",{className:"font-bold",children:u.jsx(Fx,{className:"text-xs text-neutral-600",han:e.playerResults[r].detail.han,fu:e.playerResults[r].detail.fu,yakumanCount:e.playerResults[r].detail.yakumanCount,isManganRoundUp:t.setting.isManganRoundUp==="1"})}),u.jsx("p",{children:(n=e.playerResults[r].detail.yakus)==null?void 0:n.map(({label:i})=>i).join(" ")})]})]})};function RH({params:{matchId:t}}){const{data:e,set:r}=Zr("obs/1"),{data:n}=Ko({queryKey:["matches",t],queryFn:({queryKey:D})=>NO(D[1])}),{match:i,matchRounds:o,matchCurrentRound:s,matchCurrentRoundDoras:a,updateMatchRoundById:l,updateCurrentMatchRound:c,pushMatchRound:f,setCurrentRoundDoras:d,setMatchName:h,setMatchPlayers:p,setMatchPointDisplay:m,setMatchHideHeaderDisplay:y,setMatchActiveResultDetail:v,setMatchRoundHasBroadcastedToTrue:b}=rs(t),g=E.useMemo(()=>Object.entries(o??{}).map(([D,fe])=>({id:D,...fe}))??[],[o]),x=E.useMemo(()=>g.filter(({resultDetail:D,hasBroadcasted:fe})=>!!D&&!fe),[g]),[S,w]=E.useState(void 0),[_,A]=E.useState(EA[0].value),[C,T]=To(!1),[P,I]=E.useState({initialActivePlayerIndex:"0",initialTargetPlayerIndex:"-1"}),O=Hye(),[N,R]=To(!1),[L,U]=To(!1),V=E.useCallback(()=>{U(!0)},[U]),j=E.useCallback(D=>{p(D),U(!1)},[p,U]),[F,z]=To(!1),[le,re]=To(!1),[be,at]=E.useState({id:null,matchRound:null}),nt=E.useCallback(D=>{const fe=D.currentTarget.getAttribute("data-matchRoundId");if(!fe)return;const Ce=o==null?void 0:o[fe];Ce&&(at({id:fe,matchRound:Ce}),re(!0))},[o,re]),zt=E.useCallback(D=>{if(!g||!be.id)return;const fe=g.findIndex(({id:Ot})=>Ot===be.id);if(fe===-1)return;l(be.id,D);let Ce=D;for(let Ot=fe+1;Ot<g.length;Ot++){const{id:kn,...qn}=g[Ot],y2={...qn,playerResults:{0:{...qn.playerResults[0],beforeScore:Ce.playerResults[0].afterScore,afterScore:Ce.playerResults[0].afterScore+(qn.playerResults[0].afterScore-qn.playerResults[0].beforeScore)},1:{...qn.playerResults[1],beforeScore:Ce.playerResults[1].afterScore,afterScore:Ce.playerResults[1].afterScore+(qn.playerResults[1].afterScore-qn.playerResults[1].beforeScore)},2:{...qn.playerResults[2],beforeScore:Ce.playerResults[2].afterScore,afterScore:Ce.playerResults[2].afterScore+(qn.playerResults[2].afterScore-qn.playerResults[2].beforeScore)},3:{...qn.playerResults[3],beforeScore:Ce.playerResults[3].afterScore,afterScore:Ce.playerResults[3].afterScore+(qn.playerResults[3].afterScore-qn.playerResults[3].beforeScore)}}};l(kn,y2),Ce=y2}re(!1),setTimeout(()=>{alert("「下次小心d喇屌 :)」")},0)},[be.id,g,re,l]),[,pt]=E.useState(null),Zt=E.useCallback(D=>{const fe=D.currentTarget.getAttribute("data-player-index");if(!fe)return;const Ce=i==null?void 0:i.players[fe];if(!Ce)return;const Ot=!(s!=null&&s.playerResults[fe].isRiichi);O.showConfirmDialog({title:Ot?"確定要立直嗎？":"取消立直？",content:Ot?`一旦點擊確定，就會播出立直動畫，請確定立直的是 ${Ce.name}！`:`你是否想取消 ${Ce.name} 的立直？`,onClickOk:async()=>{c({playerResults:{...s==null?void 0:s.playerResults,[fe]:{...s==null?void 0:s.playerResults[fe],isRiichi:!(s!=null&&s.playerResults[fe].isRiichi)}}})}})},[O,i==null?void 0:i.players,s==null?void 0:s.playerResults,c]),te=E.useCallback(D=>{var Ce;const fe=parseInt((Ce=D.currentTarget)==null?void 0:Ce.getAttribute("data-index"),10);typeof fe<"u"&&!Number.isNaN(fe)&&w(fe)},[]),xe=E.useCallback(D=>{if(typeof S<"u"){const fe=D[0];if(!fe)return;const Ce=[...a];S===-1?Ce.push(fe):Ce[S]=fe,d(Ce),w(void 0)}},[S,a,d]),Ee=E.useCallback(()=>{if(typeof S<"u"){const D=[...a];S>-1&&(D.splice(S,1),d(D),w(void 0))}},[S,a,d]),q=E.useCallback(()=>{w(void 0)},[]),Ze=E.useCallback(D=>{const fe=D==null?void 0:D.currentTarget.getAttribute("data-player-index");fe&&(I({initialActivePlayerIndex:fe}),T())},[T]),ke=E.useCallback(()=>{R(!0)},[R]),vt=E.useCallback(()=>{z(!0)},[z]),Dt=E.useCallback((D,fe)=>{if(!i||!s)return;const Ce=i.players[D],Ot=s.playerResults[D];switch(fe){case"reveal":return c({playerResults:{...s.playerResults,[D]:{...s.playerResults[D],isRevealed:!s.playerResults[D].isRevealed,detail:{...s.playerResults[D].detail,isRevealed:!s.playerResults[D].isRevealed}}}});case"riichi":return O.showConfirmDialog({title:Ot.isRiichi?"取消立直？":"確定要立直嗎？",content:Ot.isRiichi?`你是否想取消 ${Ce.name} 的立直？`:`一旦點擊確定，就會播出立直動畫，請確定立直的是 ${Ce.name}！`,onClickOk:async()=>{c({playerResults:{...s==null?void 0:s.playerResults,[D]:{...s==null?void 0:s.playerResults[D],isRiichi:!(s!=null&&s.playerResults[D].isRiichi),detail:{...s.playerResults[D].detail,isRiichied:!s.playerResults[D].isRiichi,raw:{...s.playerResults[D].detail.raw,riichi:!s.playerResults[D].isRiichi}}}}}),Ot.isRiichi||(pt("立直動畫"),setTimeout(()=>{pt(null)},2e3))}});case"ron-self":c({playerResults:{...s==null?void 0:s.playerResults,[D]:{...s==null?void 0:s.playerResults[D],detail:{...s.playerResults[D].detail,raw:{...s.playerResults[D].detail.raw,"menzenchin-tsumohou":!(s!=null&&s.playerResults[D].detail.isRevealed)}}}}}),I({initialActivePlayerIndex:D,initialTargetPlayerIndex:"-1"}),T();return;case"ron-before":c({playerResults:{...s==null?void 0:s.playerResults,[D]:{...s==null?void 0:s.playerResults[D],detail:{...s.playerResults[D].detail,raw:{...s.playerResults[D].detail.raw,"menzenchin-tsumohou":!1}}}}}),I({initialActivePlayerIndex:D,initialTargetPlayerIndex:BG(D)}),T();return;case"ron-after":c({playerResults:{...s==null?void 0:s.playerResults,[D]:{...s==null?void 0:s.playerResults[D],detail:{...s.playerResults[D].detail,raw:{...s.playerResults[D].detail.raw,"menzenchin-tsumohou":!1}}}}}),I({initialActivePlayerIndex:D,initialTargetPlayerIndex:UG(D)}),T();return;case"ron-opposite":c({playerResults:{...s==null?void 0:s.playerResults,[D]:{...s==null?void 0:s.playerResults[D],detail:{...s.playerResults[D].detail,raw:{...s.playerResults[D].detail.raw,"menzenchin-tsumohou":!1}}}}}),I({initialActivePlayerIndex:D,initialTargetPlayerIndex:VG(D)}),T();return;case"dora-normal-plus":return c({playerResults:{...s.playerResults,[D]:{...s.playerResults[D],detail:{...s.playerResults[D].detail,dora:s.playerResults[D].detail.dora+1}}}});case"dora-normal-minus":return c({playerResults:{...s.playerResults,[D]:{...s.playerResults[D],detail:{...s.playerResults[D].detail,dora:Math.max(s.playerResults[D].detail.dora-1,0)}}}});case"dora-red-plus":return c({playerResults:{...s.playerResults,[D]:{...s.playerResults[D],detail:{...s.playerResults[D].detail,redDora:s.playerResults[D].detail.redDora+1}}}});case"dora-red-minus":return c({playerResults:{...s.playerResults,[D]:{...s.playerResults[D],detail:{...s.playerResults[D].detail,redDora:Math.max(s.playerResults[D].detail.redDora-1,0)}}}});case"waitingTile":return J({index:D,tiles:(s==null?void 0:s.playerResults[D].waitingTiles)??[]});case"yaku":return vo({index:D});case"yellow-card":return O.showConfirmDialog({title:Ot.isYellowCarded?"取消黃牌？":"確定要給予這名玩家黃牌嗎？",content:Ot.isYellowCarded?`你是否想取消 ${Ce.name} 的黃牌？`:`一旦點擊確定，就會播出黃牌動畫，請確定要黃牌的是 ${Ce.name}！`,onClickOk:async()=>{c({playerResults:{...s==null?void 0:s.playerResults,[D]:{...s==null?void 0:s.playerResults[D],isYellowCarded:!(s!=null&&s.playerResults[D].isYellowCarded)}}})}});case"red-card":return O.showConfirmDialog({title:Ot.isRedCarded?"取消紅牌？":"確定要給予這名玩家紅牌嗎？",content:Ot.isRedCarded?`你是否想取消 ${Ce.name} 的紅牌？`:`一旦點擊確定，就會播出紅牌動畫，請確定要紅牌的是 ${Ce.name}！`,onClickOk:async()=>{c({playerResults:{...s==null?void 0:s.playerResults,[D]:{...s==null?void 0:s.playerResults[D],isRedCarded:!(s!=null&&s.playerResults[D].isRedCarded)}}})}});case"disallow-ron":return O.showConfirmDialog({title:Ot.isRedCarded?"取消和了禁止？":"確定要給予這名玩家和了禁止嗎？",content:Ot.isRedCarded?`你是否想取消 ${Ce.name} 的和了禁止？`:`一旦點擊確定，就會播出紅牌動畫，請確定要和了禁止的是 ${Ce.name}！`,onClickOk:async()=>{c({playerResults:{...s==null?void 0:s.playerResults,[D]:{...s==null?void 0:s.playerResults[D],isRonDisallowed:!(s!=null&&s.playerResults[D].isRonDisallowed)}}})}})}},[O,i,s,T,c]),en=E.useCallback(D=>{try{const fe=NF(D.roundCount),Ce=D.playerResults[fe].type===yt.Win,Ot=!Ce&&D.roundCount>=8;Ot&&alert("對局結束。"),c({...D,nextRoundType:Ot?bt.End:Ce?bt.Extended:bt.NextRound}),T(!1),pt("分數變動中…"),setTimeout(()=>{pt(null)},4e3)}catch(fe){console.error(fe)}},[T,c]),Gn=E.useCallback(D=>{try{const fe=NF(D.roundCount),Ce=D.playerResults[fe].type!==yt.Win,Ot=Ce&&D.roundCount>=8;if(Ot)if(D.nextRoundCumulatedThousands>0){const kn=Lye([D.playerResults[0].afterScore,D.playerResults[1].afterScore,D.playerResults[2].afterScore,D.playerResults[3].afterScore],D.nextRoundCumulatedThousands*1e3);kn[0]!==0&&(D.playerResults[0].scoreChanges.unshift(kn[0]),D.playerResults[0].afterScore+=kn[0]),kn[1]!==0&&(D.playerResults[1].scoreChanges.unshift(kn[1]),D.playerResults[1].afterScore+=kn[1]),kn[2]!==0&&(D.playerResults[2].scoreChanges.unshift(kn[2]),D.playerResults[2].afterScore+=kn[2]),kn[3]!==0&&(D.playerResults[3].scoreChanges.unshift(kn[3]),D.playerResults[3].afterScore+=kn[3]),alert(`對局結束。終局時剩餘的 ${D.nextRoundCumulatedThousands*1e3} 供託已派給首位。`)}else alert("對局結束。");c({...D,nextRoundType:Ot?bt.End:Ce?bt.NextRoundAndExtended:bt.Extended}),R(!1),pt("分數變動中…"),setTimeout(()=>{pt(null)},4e3)}catch(fe){console.error(fe)}},[R,c]),$=E.useCallback(D=>{try{c({playerResults:D.playerResults,resultType:Ve.Hotfix});const fe={matchId:t,code:Dx(t,D.roundCount,D.extendedRoundCount),roundCount:D.roundCount,extendedRoundCount:D.extendedRoundCount,cumulatedThousands:D.cumulatedThousands,nextRoundCumulatedThousands:0,resultType:Ve.Unknown,nextRoundType:bt.Unknown,playerResults:kF(D.playerResults),doras:(s==null?void 0:s.doras)??[]};f(fe),pt("分數變動中…"),setTimeout(()=>{pt(null)},4e3),z(!1)}catch(fe){console.error(fe)}},[s==null?void 0:s.doras,t,f,z,c]),B=E.useCallback(()=>{if(!s)return;const D=s.nextRoundType===bt.NextRound||s.nextRoundType===bt.NextRoundAndExtended?s.roundCount+1:s.roundCount,fe=s.nextRoundType===bt.Extended||s.nextRoundType===bt.NextRoundAndExtended?s.extendedRoundCount+1:0,Ce={matchId:t,code:Dx(t,D,fe),roundCount:D,extendedRoundCount:fe,cumulatedThousands:s.nextRoundCumulatedThousands,nextRoundCumulatedThousands:0,resultType:Ve.Unknown,nextRoundType:bt.Unknown,playerResults:kF(s.playerResults),doras:{}};f(Ce)},[s,t,f]),W=E.useCallback(()=>{r({matchId:t})},[t,r]),[Z,J]=E.useState(null),Y=E.useCallback(D=>{const fe=D.currentTarget.getAttribute("data-player-index");typeof fe>"u"||!(s!=null&&s.playerResults[fe])||J({index:fe,tiles:(s==null?void 0:s.playerResults[fe].waitingTiles)??[]})},[s==null?void 0:s.playerResults]),me=E.useCallback(()=>{J(null)},[]),it=E.useCallback(D=>{Z&&(c({playerResults:{...s==null?void 0:s.playerResults,[Z.index]:{...s==null?void 0:s.playerResults[Z.index],waitingTiles:D}}}),J(null))},[Z,s==null?void 0:s.playerResults,c]),er=E.useCallback(()=>{Z&&(c({playerResults:{...s==null?void 0:s.playerResults,[Z.index]:{...s==null?void 0:s.playerResults[Z.index],waitingTiles:[]}}}),J(null))},[Z,s==null?void 0:s.playerResults,c]),[Mt,vo]=E.useState(null),RS=E.useCallback(()=>{vo(null)},[]),yh=E.useCallback(D=>{!s||!Mt||(c({playerResults:{...s.playerResults,[Mt.index]:{...s.playerResults[Mt.index],detail:{...s.playerResults[Mt.index].detail,...D}}}}),vo(null))},[Mt,s,c]),gh=E.useCallback(D=>{if(D.preventDefault(),!i)return;const fe=prompt("對局名稱",i.name);fe&&h(fe)},[i,h]),av=E.useCallback(D=>{if(!o)return;const fe=D.currentTarget.getAttribute("data-match-round-id");if(!fe)return;const Ce=o[fe].resultDetail;Ce&&(v(Ce),b(fe),pt("播放和牌中…"),setTimeout(()=>{v(null),pt(null)},1e4))},[o,v,b]),lv=E.useCallback(()=>{v(null)},[v]),$S=E.useCallback(()=>{m(!0)},[m]),cv=E.useCallback(()=>{m(!1)},[m]),DJ=E.useCallback(()=>{y(!0)},[y]),MJ=E.useCallback(()=>{y(!1)},[y]);return E.useEffect(()=>{s&&a.length===0&&w(-1)},[s,a.length]),(!i||!s)&&n?u.jsx(ige,{matchDTO:n}):!i||!s?u.jsx("div",{children:"對局讀取失敗。"}):u.jsxs("div",{children:[u.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-24 pb-48",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-row items-center gap-x-4 text-white",children:[u.jsxs("div",{className:"p-2 pl-4 pr-10 flex items-center gap-x-8 transition-[width] text-[4rem]",style:{background:"linear-gradient(280deg, transparent, transparent 22px, #00000080 23px, #00000080 100%)"},children:[u.jsxs("div",{className:"text-[0.5em] relative",children:[u.jsx("div",{className:"text-[0.5em]",children:u.jsxs("button",{type:"button",onClick:gh,children:[i.name," ",u.jsx("i",{className:"bi bi-pencil"})]})}),u.jsxs("div",{className:"flex gap-x-8 items-center",children:[u.jsx("div",{children:u.jsx(ps,{roundCount:s.roundCount,max:8})}),u.jsxs("div",{className:"flex flex-col justify-around",children:[u.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[u.jsx("div",{className:"flex-1",children:u.jsx("img",{src:"/images/score-hundred.png",alt:"hundred",className:"h-2"})}),u.jsx("div",{className:"text-[0.4em] pb-1.5 leading-none",children:s.extendedRoundCount??0})]}),u.jsxs("div",{className:"flex-1 flex flex-row items-center gap-x-3",children:[u.jsx("div",{className:"flex-1",children:u.jsx("img",{src:"/images/score-thousand.png",alt:"thousand",className:"h-2"})}),u.jsx("div",{className:"text-[0.4em] pb-1.5 leading-none",children:s.cumulatedThousands??0})]})]})]}),i.hideHeader&&u.jsx("div",{className:"absolute inset-0 opacity-100 bg-red-800 text-center",children:"隱藏中"})]}),u.jsxs("div",{className:"flex items-center gap-x-2",children:[a.map((D,fe)=>u.jsx("button",{"data-index":fe,onClick:te,className:"hover:opacity-80",children:u.jsx(jo,{className:"w-12 animate-[fadeInFromLeft_0.5s_ease-in-out]",children:D},D)})),u.jsx(je,{type:"button",color:a.length===0?"danger":"secondary",className:`${a.length===0&&"animate-bounce"}`,"data-index":"-1",onClick:te,children:"+懸賞"})]})]}),u.jsx("div",{className:"flex-1"}),u.jsx("div",{className:"shrink-0",children:(e==null?void 0:e.matchId)!==t&&u.jsx(je,{color:"success",type:"button",className:"animate-pulse",onClick:W,children:"開始OBS"})})]}),u.jsxs("div",{className:"flex justify-between gap-x-8 ",children:[u.jsx("div",{className:"flex-1",children:u.jsx(lge,{tabs:EA,defaultValue:EA[0].value,onChangeValue:A})}),u.jsxs("div",{className:"text-right space-x-4",children:[i.activeResultDetail&&u.jsxs(je,{color:"secondary",type:"button",onClick:lv,children:["結束播放中的和牌詳情",u.jsx("br",{}),u.jsx("span",{className:"text-xs",children:"(或最多10秒後自動結束)"})]}),s.nextRoundType!==bt.Unknown&&s.nextRoundType!==bt.End&&u.jsxs(je,{color:"success",type:"button",className:"animate-pulse",onClick:B,children:["進入",u.jsx(ps,{roundCount:s.nextRoundType===bt.NextRound||s.nextRoundType===bt.NextRoundAndExtended?s.roundCount+1:s.roundCount,extendedRoundCount:s.nextRoundType===bt.Extended||s.nextRoundType===bt.NextRoundAndExtended?s.extendedRoundCount+1:0})]}),u.jsx(je,{color:"secondary",type:"button",onClick:ke,children:"流局"})]})]}),_==="listView-old"&&u.jsx("div",{className:"space-y-4",children:["0","1","2","3"].map(D=>u.jsxs("div",{className:"flex gap-x-2 items-center",children:[u.jsx("div",{className:"flex-1 text-[2.5rem]",children:u.jsx(Qa,{player:i.players[D],playerIndex:D,score:s.playerResults[D].afterScore,scoreChanges:s.playerResults[D].scoreChanges,isEast:ti(D,s.roundCount),isRiichi:s.playerResults[D].isRiichi,waitingTiles:s.playerResults[D].waitingTiles,onClickWaitingTiles:Y,isYellowCarded:s.playerResults[D].isYellowCarded,isRedCarded:s.playerResults[D].isRedCarded,showPointAndRanking:i.showPoints})}),u.jsx("div",{children:u.jsx("button",{type:"button",className:`${s.playerResults[D].isRiichi?"bg-orange-600 text-white":"bg-white text-orange-600 opacity-30"} h-16 w-16 border-2 border-orange-600  rounded-full text-lg`,onClick:Zt,"data-player-index":D,children:s.playerResults[D].isRiichi?"已立直":"立直?"})}),u.jsx("div",{className:"pl-6",children:u.jsx(je,{color:"danger",type:"button",onClick:Ze,"data-player-index":D,children:"和了"})})]}))}),_==="listView-new"&&u.jsx(oge,{players:i.players,currentRound:s,onAction:Dt}),_==="gridView"&&u.jsx(age,{players:i.players,currentRound:s,onAction:Dt}),u.jsx("div",{children:u.jsxs(je,{size:"small",color:"secondary",onClick:V,children:[u.jsx("i",{className:"bi bi-people"})," 修改玩家"]})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h4",{className:"text-3xl",children:[u.jsx("i",{className:"bi bi-bar-chart-steps"})," 紀錄"," ",u.jsx("span",{className:"text-sm",children:"( 立=立直, 和=和牌, 統=出統, 摸=自摸, 聽=聽牌 )"})]}),u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-400 [&>th]:p-2",children:[u.jsx("th",{className:"whitespace-nowrap px-16",children:"局數"}),u.jsx("th",{children:i.players[0].nickname}),u.jsx("th",{children:i.players[1].nickname}),u.jsx("th",{children:i.players[2].nickname}),u.jsx("th",{children:i.players[3].nickname}),u.jsx("th",{className:"text-right",children:"操作"})]})}),u.jsxs("tbody",{children:[g[0]&&u.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[u.jsx("td",{className:"text-center"}),u.jsx("td",{className:"text-center",children:u.jsx(Lt,{value:g[0].playerResults[0].beforeScore})}),u.jsx("td",{className:"text-center",children:u.jsx(Lt,{value:g[0].playerResults[1].beforeScore})}),u.jsx("td",{className:"text-center",children:u.jsx(Lt,{value:g[0].playerResults[2].beforeScore})}),u.jsx("td",{className:"text-center",children:u.jsx(Lt,{value:g[0].playerResults[3].beforeScore})}),u.jsx("td",{})]}),g.map(D=>D.resultType===Ve.Hotfix?u.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[u.jsx("td",{className:"text-center whitespace-nowrap px-16",children:"手動調整"}),u.jsx("td",{className:"text-center",children:D.playerResults[0].afterScore}),u.jsx("td",{className:"text-center",children:D.playerResults[1].afterScore}),u.jsx("td",{className:"text-center",children:D.playerResults[2].afterScore}),u.jsx("td",{className:"text-center",children:D.playerResults[3].afterScore}),u.jsx("td",{})]},D.id):u.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[u.jsx("td",{className:"text-center whitespace-nowrap",children:u.jsx(ps,{roundCount:D.roundCount,extendedRoundCount:D.extendedRoundCount,max:8,className:"px-4"})}),u.jsxs("td",{className:"text-center",children:[u.jsx(zv,{value:D.playerResults[0].afterScore-D.playerResults[0].beforeScore}),u.jsx(Gv,{match:i,matchRound:D,playerIndex:"0"})]}),u.jsxs("td",{className:"text-center",children:[u.jsx(zv,{value:D.playerResults[1].afterScore-D.playerResults[1].beforeScore}),u.jsx(Gv,{match:i,matchRound:D,playerIndex:"1"})]}),u.jsxs("td",{className:"text-center",children:[u.jsx(zv,{value:D.playerResults[2].afterScore-D.playerResults[2].beforeScore}),u.jsx(Gv,{match:i,matchRound:D,playerIndex:"2"})]}),u.jsxs("td",{className:"text-center",children:[u.jsx(zv,{value:D.playerResults[3].afterScore-D.playerResults[3].beforeScore}),u.jsx(Gv,{match:i,matchRound:D,playerIndex:"3"})]}),u.jsxs("td",{className:"text-right space-x-2",children:[(D.resultType===Ve.Ron||D.resultType===Ve.SelfDrawn)&&u.jsxs(je,{color:D.hasBroadcasted?"secondary":"success",type:"button",variant:"text",className:D.hasBroadcasted?"opacity-50":"",onClick:av,"data-match-round-id":D.id,children:[u.jsx("i",{className:"bi bi-camera-reels"})," ",D.hasBroadcasted?"已播放過":"播放和牌詳情"]}),D.resultType!==Ve.Unknown&&u.jsxs(je,{variant:"text",color:"danger","data-matchRoundId":D.id,onClick:nt,children:[u.jsx("i",{className:"bi bi-pencil"})," 修改"]})]})]},D.id)),g[g.length-1]&&u.jsxs("tr",{className:"even:bg-gray-200 [&>td]:p-2",children:[u.jsx("td",{className:"text-center whitespace-nowrap px-16",children:u.jsxs(je,{onClick:vt,size:"small",color:"secondary",children:[u.jsx("i",{className:"bi bi-pencil"})," 手動調整分數"]})}),u.jsx("td",{className:"text-center font-bold text-lg",children:u.jsx(Lt,{value:g[g.length-1].playerResults[0].afterScore})}),u.jsx("td",{className:"text-center font-bold text-lg",children:u.jsx(Lt,{value:g[g.length-1].playerResults[1].afterScore})}),u.jsx("td",{className:"text-center font-bold text-lg",children:u.jsx(Lt,{value:g[g.length-1].playerResults[2].afterScore})}),u.jsx("td",{className:"text-center font-bold text-lg",children:u.jsx(Lt,{value:g[g.length-1].playerResults[3].afterScore})}),u.jsx("td",{})]})]})]})]})]}),u.jsx(Jn,{open:typeof S<"u",title:"選擇懸賞",onClose:q,children:u.jsx(DF,{hideRedTiles:!0,onSubmit:xe,onRemove:Ee,canRemove:typeof S<"u"&&S>0,defaultValue:typeof S<"u"?[a[S]]:void 0})}),u.jsx(Jn,{open:!!Z,title:"選擇待牌",onClose:me,children:u.jsx(DF,{hideRedTiles:!0,onSubmit:it,onRemove:er,defaultValue:Z==null?void 0:Z.tiles,multiple:!0,canRemove:!0})}),u.jsx(pge,{round:s.roundCount,activePlayerIndex:(Mt==null?void 0:Mt.index)??"0",targetPlayerIndex:"-1",open:!!Mt,onClose:RS,onSubmit:yh,defaultValue:s.playerResults[(Mt==null?void 0:Mt.index)??"0"].detail}),u.jsx(Jn,{title:"和了",open:C,onClose:()=>T(!1),children:u.jsx(JG,{match:i,currentMatchRound:s,onSubmit:en,...P})}),u.jsx(Jn,{title:"流局",open:N,onClose:()=>R(!1),children:u.jsx(ZG,{match:i,currentMatchRound:s,onSubmit:Gn,...P})}),u.jsx(Jn,{title:"修改玩家",open:L,onClose:()=>U(!1),children:u.jsx(_we,{defaultPlayers:i.players,onSubmit:j})}),u.jsx(Jn,{title:"手動調整分數",open:F,onClose:()=>z(!1),children:u.jsx(jge,{match:i,currentMatchRound:s,onSubmit:$,...P})}),u.jsx(Jn,{title:"修改局數",open:le,onClose:()=>re(!1),children:u.jsx(Rge,{match:i,matchRound:be.matchRound,onSubmit:zt})}),u.jsxs("div",{className:"fixed bottom-0 left-0 right-0 pl-6 pr-6 pb-6 z-50 flex justify-between items-end bg-gradient-to-b from-transparent to-[#00000080]",children:[u.jsx("div",{className:"text-left"}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-right mb-4",children:[s.nextRoundType!==bt.Unknown&&s.nextRoundType!==bt.End&&u.jsxs("button",{className:"text-6xl p-4 text-green-800 bg-green-400 border-4 border-green-600 rounded-lg",onClick:B,children:["進入",u.jsx(ps,{roundCount:s.nextRoundType===bt.NextRound||s.nextRoundType===bt.NextRoundAndExtended?s.roundCount+1:s.roundCount,extendedRoundCount:s.nextRoundType===bt.Extended||s.nextRoundType===bt.NextRoundAndExtended?s.extendedRoundCount+1:0})," ",u.jsx("i",{className:"bi bi-play-fill"})]}),s.nextRoundType===bt.End&&u.jsx("a",{href:`/v1/match/${t}/export`,target:"_blank",children:u.jsxs("button",{className:"text-6xl p-4 text-yellow-800 bg-yellow-400 border-4 border-yellow-600 rounded-lg",children:["上傳成績",u.jsx("i",{className:"bi bi-cloud-upload"})]})})]}),u.jsxs("div",{className:"flex gap-x-6 items-end justify-end",children:[!i.hideHeader&&u.jsxs("button",{onClick:DJ,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-neutral-200 border border-neutral-300 leading-6 text-neutral-600",children:[u.jsx("i",{className:"bi bi-eye"})," 標題：顯示中"]}),i.hideHeader&&u.jsxs("button",{onClick:MJ,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-red-600 border border-red-500 leading-6 text-white",children:[u.jsx("i",{className:"bi bi-eye-slash"})," 標題：隱藏中"]}),!i.showPoints&&u.jsxs("button",{onClick:$S,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-neutral-200 border border-neutral-300 leading-6 text-neutral-600",children:[u.jsx("i",{className:"bi bi-list-ol"})," 切換播放馬點＆名次"]}),i.showPoints&&u.jsxs("button",{onClick:cv,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-green-300 border border-green-300 leading-6 text-green-800",children:[u.jsx("i",{className:"bi bi-list-ol"})," 切換播放馬點＆名次"]}),x.map(D=>u.jsx("button",{onClick:av,"data-match-round-id":D.id,className:"relative rounded-full py-2 px-4 shadow shadow-neutral-700 text-center bg-red-200 border border-red-300 leading-6 text-red-800 animate-bounce",children:u.jsxs("p",{children:[u.jsx("i",{className:"bi bi-trophy"})," ",D.roundCount,".",D.extendedRoundCount," 和牌動畫：待播放"]})}))]})]})]})]})}function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ge.apply(this,arguments)}function Ms(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Vu=255,wa=100,dp=t=>{var{r:e,g:r,b:n,a:i}=t,o=Math.max(e,r,n),s=o-Math.min(e,r,n),a=s?o===e?(r-n)/s:o===r?2+(n-e)/s:4+(e-r)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*wa:0,v:o/Vu*wa,a:i}},$H=t=>{var{h:e,s:r,l:n,a:i}=DH(t);return"hsla("+e+", "+r+"%, "+n+"%, "+i+")"},DH=t=>{var{h:e,s:r,v:n,a:i}=t,o=(200-r)*n/wa;return{h:e,s:o>0&&o<200?r*n/wa/(o<=wa?o:200-o)*wa:0,l:o/2,a:i}},MH=t=>{var{r:e,g:r,b:n}=t,i=e<<16|r<<8|n;return"#"+(o=>new Array(7-o.length).join("0")+o)(i.toString(16))},wwe=t=>{var{r:e,g:r,b:n,a:i}=t,o=typeof i=="number"&&(i*255|256).toString(16).slice(1);return""+MH({r:e,g:r,b:n,a:i})+(o||"")},Vm=t=>dp(Swe(t)),Swe=t=>{var e=t.replace("#","");/^#?/.test(t)&&e.length===3&&(t="#"+e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2));var r=new RegExp("[A-Za-z0-9]{2}","g"),[n,i,o=0,s]=t.match(r).map(a=>parseInt(a,16));return{r:n,g:i,b:o,a:(s??255)/Vu}},T1=t=>{var{h:e,s:r,v:n,a:i}=t,o=e/60,s=r/wa,a=n/wa,l=Math.floor(o)%6,c=o-Math.floor(o),f=Vu*a*(1-s),d=Vu*a*(1-s*c),h=Vu*a*(1-s*(1-c));a*=Vu;var p={};switch(l){case 0:p.r=a,p.g=h,p.b=f;break;case 1:p.r=d,p.g=a,p.b=f;break;case 2:p.r=f,p.g=a,p.b=h;break;case 3:p.r=f,p.g=d,p.b=a;break;case 4:p.r=h,p.g=f,p.b=a;break;case 5:p.r=a,p.g=f,p.b=d;break}return p.r=Math.round(p.r),p.g=Math.round(p.g),p.b=Math.round(p.b),ge({},p,{a:i})},Ewe=t=>{var{r:e,g:r,b:n,a:i}=T1(t);return"rgba("+e+", "+r+", "+n+", "+i+")"},Awe=t=>{var{r:e,g:r,b:n}=t;return{r:e,g:r,b:n}},Cwe=t=>{var{h:e,s:r,l:n}=t;return{h:e,s:r,l:n}},ET=t=>MH(T1(t)),Pwe=t=>{var{h:e,s:r,v:n}=t;return{h:e,s:r,v:n}},Wu=t=>{var e,r,n,i,o,s,a,l;return typeof t=="string"&&AT(t)?(s=Vm(t),a=t):typeof t!="string"&&(s=t),s&&(n=Pwe(s),o=DH(s),i=T1(s),l=wwe(i),a=ET(s),r=Cwe(o),e=Awe(i)),{rgb:e,hsl:r,hsv:n,rgba:i,hsla:o,hsva:s,hex:a,hexa:l}},AT=t=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(t);function ML(t){var e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useCallback((r,n)=>e.current&&e.current(r,n),[])}var Wp=t=>"touches"in t,FL=t=>{!Wp(t)&&t.preventDefault&&t.preventDefault()},LL=function(e,r,n){return r===void 0&&(r=0),n===void 0&&(n=1),e>n?n:e<r?r:e},BL=(t,e)=>{var r=t.getBoundingClientRect(),n=Wp(e)?e.touches[0]:e;return{left:LL((n.pageX-(r.left+window.pageXOffset))/r.width),top:LL((n.pageY-(r.top+window.pageYOffset))/r.height),width:r.width,height:r.height,x:n.pageX-(r.left+window.pageXOffset),y:n.pageY-(r.top+window.pageYOffset)}},Twe=["prefixCls","className","onMove","onDown"],FH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-interactive",className:n,onMove:i,onDown:o}=t,s=Ms(t,Twe),a=E.useRef(null),l=E.useRef(!1),[c,f]=E.useState(!1),d=ML(i),h=ML(o),p=g=>l.current&&!Wp(g)?!1:(l.current=Wp(g),!0),m=E.useCallback(g=>{FL(g);var x=Wp(g)?g.touches.length>0:g.buttons>0;x&&a.current?d&&d(BL(a.current,g),g):f(!1)},[d]),y=E.useCallback(()=>f(!1),[]),v=E.useCallback(g=>{var x=g?window.addEventListener:window.removeEventListener;x(l.current?"touchmove":"mousemove",m),x(l.current?"touchend":"mouseup",y)},[]);E.useEffect(()=>(v(c),()=>{c&&v(!1)}),[c,v]);var b=E.useCallback(g=>{FL(g.nativeEvent),p(g.nativeEvent)&&(h&&h(BL(a.current,g.nativeEvent),g.nativeEvent),f(!0))},[h]);return u.jsx("div",ge({},s,{className:[r,n||""].filter(Boolean).join(" "),style:ge({},s.style,{touchAction:"none"}),ref:a,tabIndex:0,onMouseDown:b,onTouchStart:b}))});FH.displayName="Interactive";const LH=FH;var Iwe=t=>{var{className:e,color:r,left:n,top:i,prefixCls:o}=t,s={position:"absolute",top:i,left:n},a={"--saturation-pointer-box-shadow":"rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",width:6,height:6,transform:"translate(-3px, -3px)",boxShadow:"var(--saturation-pointer-box-shadow)",borderRadius:"50%",backgroundColor:r};return E.useMemo(()=>u.jsx("div",{className:o+"-pointer "+(e||""),style:s,children:u.jsx("div",{className:o+"-fill",style:a})}),[i,n,r,e,o])},Nwe=["prefixCls","radius","pointer","className","hue","style","hsva","onChange"],BH=k.forwardRef((t,e)=>{var r,{prefixCls:n="w-color-saturation",radius:i=0,pointer:o,className:s,hue:a=0,style:l,hsva:c,onChange:f}=t,d=Ms(t,Nwe),h=ge({width:200,height:200,borderRadius:i},l,{position:"relative"}),p=(y,v)=>{f&&c&&f({h:c.h,s:y.left*100,v:(1-y.top)*100,a:c.a})},m=E.useMemo(()=>{if(!c)return null;var y={top:100-c.v+"%",left:c.s+"%",color:$H(c)};return o&&typeof o=="function"?o(ge({prefixCls:n},y)):u.jsx(Iwe,ge({prefixCls:n},y))},[c,o,n]);return u.jsx(LH,ge({className:[n,s||""].filter(Boolean).join(" ")},d,{style:ge({position:"absolute",inset:0,cursor:"crosshair",backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsl("+((r=c==null?void 0:c.h)!=null?r:a)+", 100%, 50%))"},h),ref:e,onMove:p,onDown:p,children:m}))});BH.displayName="Saturation";const kwe=BH;var Owe=["className","prefixCls","left","top","style","fillProps"],jwe=t=>{var{className:e,prefixCls:r,left:n,top:i,style:o,fillProps:s}=t,a=Ms(t,Owe),l=ge({},o,{position:"absolute",left:n,top:i}),c=ge({width:18,height:18,boxShadow:"var(--alpha-pointer-box-shadow)",borderRadius:"50%",backgroundColor:"var(--alpha-pointer-background-color)"},s==null?void 0:s.style,{transform:n?"translate(-9px, -1px)":"translate(-1px, -9px)"});return u.jsx("div",ge({className:r+"-pointer "+(e||""),style:l},a,{children:u.jsx("div",ge({className:r+"-fill"},s,{style:c}))}))},Rwe=["prefixCls","className","hsva","background","bgProps","innerProps","pointerProps","radius","width","height","direction","style","onChange","pointer"],$we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",UH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-alpha",className:n,hsva:i,background:o,bgProps:s={},innerProps:a={},pointerProps:l={},radius:c=0,width:f,height:d=16,direction:h="horizontal",style:p,onChange:m,pointer:y}=t,v=Ms(t,Rwe),b=A=>{m&&m(ge({},i,{a:h==="horizontal"?A.left:A.top}),A)},g=$H(Object.assign({},i,{a:1})),x="linear-gradient(to "+(h==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+g+" 100%)",S={};h==="horizontal"?S.left=i.a*100+"%":S.top=i.a*100+"%";var w=ge({"--alpha-background-color":"#fff","--alpha-pointer-background-color":"rgb(248, 248, 248)","--alpha-pointer-box-shadow":"rgb(0 0 0 / 37%) 0px 1px 4px 0px",borderRadius:c,background:"url("+$we+") left center",backgroundColor:"var(--alpha-background-color)"},{width:f,height:d},p,{position:"relative"}),_=y&&typeof y=="function"?y(ge({prefixCls:r},l,S)):u.jsx(jwe,ge({},l,{prefixCls:r},S));return u.jsxs("div",ge({},v,{className:[r,r+"-"+h,n||""].filter(Boolean).join(" "),style:w,ref:e,children:[u.jsx("div",ge({},s,{style:ge({inset:0,position:"absolute",background:o||x,borderRadius:c},s.style)})),u.jsx(LH,ge({},a,{style:ge({},a.style,{inset:0,zIndex:1,position:"absolute"}),onMove:b,onDown:b,children:_}))]}))});UH.displayName="Alpha";const CT=UH;var Dwe=["prefixCls","placement","label","value","className","style","labelStyle","inputStyle","onChange","onBlur"],Mwe=t=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(t),Fwe=t=>Number(String(t).replace(/%/g,"")),VH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-editable-input",placement:n="bottom",label:i,value:o,className:s,style:a,labelStyle:l,inputStyle:c,onChange:f,onBlur:d}=t,h=Ms(t,Dwe),[p,m]=E.useState(o),y=E.useRef(!1);E.useEffect(()=>{t.value!==p&&(y.current||m(t.value))},[t.value]);function v(w,_){var A=(_||w.target.value).trim().replace(/^#/,"");Mwe(A)&&f&&f(w,A);var C=Fwe(A);isNaN(C)||f&&f(w,C),m(A)}function b(w){y.current=!1,m(t.value),d&&d(w)}var g={};n==="bottom"&&(g.flexDirection="column"),n==="top"&&(g.flexDirection="column-reverse"),n==="left"&&(g.flexDirection="row-reverse");var x=ge({"--editable-input-label-color":"rgb(153, 153, 153)","--editable-input-box-shadow":"rgb(204 204 204) 0px 0px 0px 1px inset","--editable-input-color":"#666",position:"relative",alignItems:"center",display:"flex",fontSize:11},g,a),S=ge({width:"100%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,fontSize:11,background:"transparent",boxSizing:"border-box",border:"none",color:"var(--editable-input-color)",boxShadow:"var(--editable-input-box-shadow)"},c);return u.jsxs("div",{className:[r,s||""].filter(Boolean).join(" "),style:x,children:[u.jsx("input",ge({ref:e,value:p,onChange:v,onBlur:b,autoComplete:"off",onFocus:()=>y.current=!0},h,{style:S})),i&&u.jsx("span",{style:ge({color:"var(--editable-input-label-color)",textTransform:"capitalize"},l),children:i})]})});VH.displayName="EditableInput";const hp=VH;var Lwe=["prefixCls","hsva","placement","rProps","gProps","bProps","aProps","className","style","onChange"],WH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-editable-input-rgba",hsva:n,placement:i="bottom",rProps:o={},gProps:s={},bProps:a={},aProps:l={},className:c,style:f,onChange:d}=t,h=Ms(t,Lwe),p=n?T1(n):{};function m(v){var b=Number(v.target.value);b&&b>255&&(v.target.value="255"),b&&b<0&&(v.target.value="0")}var y=(v,b,g)=>{typeof v=="number"&&(b==="a"&&(v<0&&(v=0),v>100&&(v=100),d&&d(Wu(dp(ge({},p,{a:v/100}))))),v>255&&(v=255,g.target.value="255"),v<0&&(v=0,g.target.value="0"),b==="r"&&d&&d(Wu(dp(ge({},p,{r:v})))),b==="g"&&d&&d(Wu(dp(ge({},p,{g:v})))),b==="b"&&d&&d(Wu(dp(ge({},p,{b:v})))))};return u.jsxs("div",ge({ref:e,className:[r,c||""].filter(Boolean).join(" ")},h,{style:ge({fontSize:11,display:"flex"},f),children:[u.jsx(hp,ge({label:"R",value:p.r||0,onBlur:m,placement:i,onChange:(v,b)=>y(b,"r",v)},o,{style:ge({},o.style)})),u.jsx(hp,ge({label:"G",value:p.g||0,onBlur:m,placement:i,onChange:(v,b)=>y(b,"g",v)},s,{style:ge({marginLeft:5},o.style)})),u.jsx(hp,ge({label:"B",value:p.b||0,onBlur:m,placement:i,onChange:(v,b)=>y(b,"b",v)},a,{style:ge({marginLeft:5},a.style)})),l&&u.jsx(hp,ge({label:"A",value:p.a?parseInt(String(p.a*100),10):0,onBlur:m,placement:i,onChange:(v,b)=>y(b,"a",v)},l,{style:ge({marginLeft:5},l.style)}))]}))});WH.displayName="EditableInputRGBA";const Bwe=WH;var Uwe=["prefixCls","className","hue","onChange","direction"],zH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-hue",className:n,hue:i=0,onChange:o,direction:s="horizontal"}=t,a=Ms(t,Uwe);return u.jsx(CT,ge({ref:e,className:r+" "+(n||"")},a,{direction:s,background:"linear-gradient(to "+(s==="horizontal"?"right":"bottom")+", rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)",hsva:{h:i,s:100,v:100,a:i/360},onChange:(l,c)=>{o&&o({h:s==="horizontal"?360*c.left:360*c.top})}}))});zH.displayName="Hue";const Vwe=zH;var Wwe=["prefixCls","className","color","colors","style","rectProps","onChange","addonAfter","addonBefore","rectRender"],GH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-swatch",className:n,color:i,colors:o=[],style:s,rectProps:a={},onChange:l,addonAfter:c,addonBefore:f,rectRender:d}=t,h=Ms(t,Wwe),p=ge({"--swatch-background-color":"rgb(144, 19, 254)",background:"var(--swatch-background-color)",height:15,width:15,marginRight:5,marginBottom:5,cursor:"pointer",position:"relative",outline:"none",borderRadius:2},a.style),m=(y,v)=>{l&&l(Vm(y),Wu(Vm(y)),v)};return u.jsxs("div",ge({ref:e},h,{className:[r,n||""].filter(Boolean).join(" "),style:ge({display:"flex",flexWrap:"wrap",position:"relative"},s),children:[f&&k.isValidElement(f)&&f,o&&Array.isArray(o)&&o.map((y,v)=>{var b="",g="";typeof y=="string"&&(b=y,g=y),typeof y=="object"&&y.color&&(b=y.title||y.color,g=y.color);var x=i&&i.toLocaleLowerCase()===g.toLocaleLowerCase(),S=d&&d({title:b,color:g,checked:!!x,style:ge({},p,{background:g}),onClick:_=>m(g,_)});if(S)return u.jsx(E.Fragment,{children:S},v);var w=a.children&&k.isValidElement(a.children)?k.cloneElement(a.children,{color:g,checked:x}):null;return u.jsx("div",ge({tabIndex:0,title:b,onClick:_=>m(g,_)},a,{children:w,style:ge({},p,{background:g})}),v)}),c&&k.isValidElement(c)&&c]}))});GH.displayName="Swatch";const zwe=GH;var Gwe=["prefixCls","className","onChange","width","presetColors","color","editableDisable","disableAlpha","style"],qwe=["#D0021B","#F5A623","#f8e61b","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],UL=t=>u.jsx("div",{style:{boxShadow:"rgb(0 0 0 / 60%) 0px 0px 2px",width:4,top:1,bottom:1,left:t.left,borderRadius:1,position:"absolute",backgroundColor:"#fff"}}),qH=k.forwardRef((t,e)=>{var{prefixCls:r="w-color-sketch",className:n,onChange:i,width:o=218,presetColors:s=qwe,color:a,editableDisable:l=!0,disableAlpha:c=!1,style:f}=t,d=Ms(t,Gwe),[h,p]=E.useState({h:209,s:36,v:90,a:1});E.useEffect(()=>{typeof a=="string"&&AT(a)&&p(Vm(a)),typeof a=="object"&&p(a)},[a]);var m=_=>{p(_),i&&i(Wu(_))},y=(_,A)=>{typeof _=="string"&&AT(_)&&/(3|6)/.test(String(_.length))&&m(Vm(_))},v=_=>m(ge({},h,{a:_.a})),b=_=>m(ge({},h,_,{a:h.a})),g=ge({"--sketch-background":"rgb(255, 255, 255)","--sketch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px, rgb(0 0 0 / 15%) 0px 8px 16px","--sketch-swatch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset","--sketch-alpha-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset, rgb(0 0 0 / 25%) 0px 0px 4px inset","--sketch-swatch-border-top":"1px solid rgb(238, 238, 238)",background:"var(--sketch-background)",borderRadius:4,boxShadow:"var(--sketch-box-shadow)",width:o},f),x={borderRadius:2,background:Ewe(h),boxShadow:"var(--sketch-alpha-box-shadow)"},S={borderTop:"var(--sketch-swatch-border-top)",paddingTop:10,paddingLeft:10},w={marginRight:10,marginBottom:10,borderRadius:3,boxShadow:"var(--sketch-swatch-box-shadow)"};return u.jsxs("div",ge({},d,{className:r+" "+(n||""),ref:e,style:g,children:[u.jsxs("div",{style:{padding:"10px 10px 8px"},children:[u.jsx(kwe,{hsva:h,style:{width:"auto",height:150},onChange:b}),u.jsxs("div",{style:{display:"flex",marginTop:4},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx(Vwe,{width:"auto",height:10,hue:h.h,pointer:UL,innerProps:{style:{marginLeft:1,marginRight:5}},onChange:_=>m(ge({},h,_))}),!c&&u.jsx(CT,{width:"auto",height:10,hsva:h,pointer:UL,style:{marginTop:4},innerProps:{style:{marginLeft:1,marginRight:5}},onChange:v})]}),!c&&u.jsx(CT,{width:24,height:24,hsva:h,radius:2,style:{marginLeft:4},bgProps:{style:{background:"transparent"}},innerProps:{style:x},pointer:()=>u.jsx(E.Fragment,{})})]})]}),l&&u.jsxs("div",{style:{display:"flex",margin:"0 10px 3px 10px"},children:[u.jsx(hp,{label:"Hex",value:ET(h).replace(/^#/,"").toLocaleUpperCase(),onChange:(_,A)=>y(A),style:{minWidth:58}}),u.jsx(Bwe,{hsva:h,style:{marginLeft:6},aProps:c?!1:{},onChange:_=>m(_.hsva)})]}),s&&s.length>0&&u.jsx(zwe,{style:S,colors:s,color:ET(h),onChange:_=>m(_),rectProps:{style:w}})]}))});qH.displayName="Sketch";const Hwe=qH;function HH({value:t,onChange:e,onBlur:r}){const n=E.useCallback(i=>{e==null||e(i.hex)},[e]);return u.jsx(Hwe,{disableAlpha:!0,onChange:n,onBlur:r,color:t})}const Kwe=async()=>new Promise(t=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.addEventListener("change",r=>{var i;const n=(i=r.target.files)==null?void 0:i[0];n&&t(n)}),e.click()}),VL=({children:t,helperText:e,onChangeFile:r=async()=>{},...n})=>{const i=E.useMemo(()=>t||u.jsxs("div",{className:"space-y-2 text-center text-xs",children:[u.jsx("p",{children:u.jsx("i",{className:"bi bi-upload"})}),u.jsx("p",{children:"拖拉檔案上傳 ／ 點擊上傳"}),u.jsx("p",{children:e})]}),[t,e]),[{loading:o},s]=Zw(r),a=E.useCallback(()=>{Kwe().then(s)},[s]),l=E.useMemo(()=>({onFiles:f=>{const d=f.find(h=>!!h);d&&s(d)}}),[s]),[c]=Zye(l);return u.jsxs("div",{className:"relative",children:[u.jsx("div",{...n,className:"bg-neutral-50 border border-neutral-200 border-dashed p-1 cursor-pointer hover:border-neutral-400 text-neutral-400",onClick:a,...c,children:i}),o&&u.jsx("div",{className:"absolute z-10 cursor-not-allowed inset-0 bg-neutral-300 text-white flex gap-x-1 items-center justify-center",children:u.jsx(OO,{})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH="firebasestorage.googleapis.com",QH="storageBucket",Qwe=2*60*1e3,Ywe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt extends Lc{constructor(e,r,n=0){super(AA(e),`Firebase Storage: ${r} (${AA(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return AA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kt||(Kt={}));function AA(t){return"storage/"+t}function hj(){const t="An unknown error occurred, please check the error payload for server response.";return new Yt(Kt.UNKNOWN,t)}function Xwe(t){return new Yt(Kt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Jwe(t){return new Yt(Kt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Zwe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yt(Kt.UNAUTHENTICATED,t)}function e1e(){return new Yt(Kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function t1e(t){return new Yt(Kt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function r1e(){return new Yt(Kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n1e(){return new Yt(Kt.CANCELED,"User canceled the upload/download.")}function i1e(t){return new Yt(Kt.INVALID_URL,"Invalid URL '"+t+"'.")}function o1e(t){return new Yt(Kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s1e(){return new Yt(Kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QH+"' property when initializing the app?")}function a1e(){return new Yt(Kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l1e(){return new Yt(Kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c1e(t){return new Yt(Kt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function PT(t){return new Yt(Kt.INVALID_ARGUMENT,t)}function YH(){return new Yt(Kt.APP_DELETED,"The Firebase app was deleted.")}function u1e(t){return new Yt(Kt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zp(t,e){return new Yt(Kt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mh(t){throw new Yt(Kt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=ni.makeFromUrl(e,r)}catch{return new ni(e,"")}if(n.path==="")return n;throw o1e(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const f="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${f}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=r===KH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${v}`,"i"),x=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<x.length;S++){const w=x[S],_=w.regex.exec(e);if(_){const A=_[w.indices.bucket];let C=_[w.indices.path];C||(C=""),n=new ni(A,C),w.postModify(n);break}}if(n==null)throw i1e(e);return n}}class f1e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1e(t,e,r){let n=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function f(...v){c||(c=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){o&&clearTimeout(o)}function p(v,...b){if(c){h();return}if(v){h(),f.call(null,v,...b);return}if(l()||s){h(),f.call(null,v,...b);return}n<64&&(n*=2);let x;a===1?(a=2,x=0):x=(n+Math.random())*1e3,d(x)}let m=!1;function y(v){m||(m=!0,h(),!c&&(i!==null?(v||(a=2),clearTimeout(i),d(0)):v||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,y(!0)},r),y}function h1e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1e(t){return t!==void 0}function m1e(t){return typeof t=="object"&&!Array.isArray(t)}function pj(t){return typeof t=="string"||t instanceof String}function WL(t){return mj()&&t instanceof Blob}function mj(){return typeof Blob<"u"}function zL(t,e,r,n){if(n<e)throw PT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw PT(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function XH(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mc||(mc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1e(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return r||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1e{constructor(e,r,n,i,o,s,a,l,c,f,d,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new qv(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===mc.NO_ERROR,l=o.getStatus();if(!a||y1e(l,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===mc.ABORT;n(!1,new qv(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new qv(c,o))})},r=(n,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());p1e(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=hj();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?YH():n1e();s(l)}else{const l=r1e();s(l)}};this.canceled_?r(!1,new qv(!1,null,!0)):this.backoffId_=d1e(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h1e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qv{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function v1e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function b1e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x1e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _1e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w1e(t,e,r,n,i,o,s=!0){const a=XH(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return x1e(c,e),v1e(c,r),b1e(c,o),_1e(c,n),new g1e(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function E1e(...t){const e=S1e();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(mj())return new Blob(t);throw new Yt(Kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A1e(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1e(t){if(typeof atob>"u")throw c1e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CA{constructor(e,r){this.data=e,this.contentType=r||null}}function P1e(t,e){switch(t){case $o.RAW:return new CA(JH(e));case $o.BASE64:case $o.BASE64URL:return new CA(ZH(t,e));case $o.DATA_URL:return new CA(I1e(e),N1e(e))}throw hj()}function JH(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const o=n,s=t.charCodeAt(++r);n=65536|(o&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function T1e(t){let e;try{e=decodeURIComponent(t)}catch{throw zp($o.DATA_URL,"Malformed data URL.")}return JH(e)}function ZH(t,e){switch(t){case $o.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw zp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $o.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw zp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=C1e(e)}catch(i){throw i.message.includes("polyfill")?i:zp(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class e7{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw zp($o.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=k1e(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function I1e(t){const e=new e7(t);return e.base64?ZH($o.BASE64,e.rest):T1e(e.rest)}function N1e(t){return new e7(t).contentType}function k1e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,r){let n=0,i="";WL(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(WL(this.data_)){const n=this.data_,i=A1e(n,e,r);return i===null?null:new oa(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new oa(n,!0)}}static getBlob(...e){if(mj()){const r=e.map(n=>n instanceof oa?n.data_:n);return new oa(E1e.apply(null,r))}else{const r=e.map(s=>pj(s)?P1e($o.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let o=0;return r.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new oa(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){let e;try{e=JSON.parse(t)}catch{return null}return m1e(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function j1e(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function r7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1e(t,e){return e}class gn{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||R1e}}let Hv=null;function $1e(t){return!pj(t)||t.length<2?t:r7(t)}function n7(){if(Hv)return Hv;const t=[];t.push(new gn("bucket")),t.push(new gn("generation")),t.push(new gn("metageneration")),t.push(new gn("name","fullPath",!0));function e(o,s){return $1e(s)}const r=new gn("name");r.xform=e,t.push(r);function n(o,s){return s!==void 0?Number(s):s}const i=new gn("size");return i.xform=n,t.push(i),t.push(new gn("timeCreated")),t.push(new gn("updated")),t.push(new gn("md5Hash",null,!0)),t.push(new gn("cacheControl",null,!0)),t.push(new gn("contentDisposition",null,!0)),t.push(new gn("contentEncoding",null,!0)),t.push(new gn("contentLanguage",null,!0)),t.push(new gn("contentType",null,!0)),t.push(new gn("metadata","customMetadata",!0)),Hv=t,Hv}function D1e(t,e){function r(){const n=t.bucket,i=t.fullPath,o=new ni(n,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:r})}function M1e(t,e,r){const n={};n.type="file";const i=r.length;for(let o=0;o<i;o++){const s=r[o];n[s.local]=s.xform(n,e[s.server])}return D1e(n,t),n}function i7(t,e,r){const n=t7(e);return n===null?null:M1e(t,n,r)}function F1e(t,e,r,n){const i=t7(e);if(i===null||!pj(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const f=t.bucket,d=t.fullPath,h="/b/"+s(f)+"/o/"+s(d),p=yj(h,r,n),m=XH({alt:"media",token:c});return p+m})[0]}function L1e(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const o=e[i];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}class o7{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t){if(!t)throw hj()}function B1e(t,e){function r(n,i){const o=i7(t,i,e);return s7(o!==null),o}return r}function U1e(t,e){function r(n,i){const o=i7(t,i,e);return s7(o!==null),F1e(o,i,t.host,t._protocol)}return r}function a7(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=e1e():i=Zwe():r.getStatus()===402?i=Jwe(t.bucket):r.getStatus()===403?i=t1e(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function V1e(t){const e=a7(t);function r(n,i){let o=e(n,i);return n.getStatus()===404&&(o=Xwe(t.path)),o.serverResponse=i.serverResponse,o}return r}function W1e(t,e,r){const n=e.fullServerUrl(),i=yj(n,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new o7(i,o,U1e(t,r),s);return a.errorHandler=V1e(e),a}function z1e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function G1e(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=z1e(null,e)),n}function q1e(t,e,r,n,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let S=0;S<2;S++)x=x+Math.random().toString().slice(2);return x}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=G1e(e,n,i),f=L1e(c,r),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=oa.getBlob(d,n,h);if(p===null)throw a1e();const m={name:c.fullPath},y=yj(o,t.host,t._protocol),v="POST",b=t.maxUploadRetryTime,g=new o7(y,v,B1e(t,r),b);return g.urlParams=m,g.headers=s,g.body=p.uploadData(),g.errorHandler=a7(e),g}class H1e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Mh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class K1e extends H1e{initXhr(){this.xhr_.responseType="text"}}function l7(){return new K1e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,r){this._service=e,r instanceof ni?this._location=r:this._location=ni.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Oc(e,r)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return r7(this._location.path)}get storage(){return this._service}get parent(){const e=O1e(this._location.path);if(e===null)return null;const r=new ni(this._location.bucket,e);return new Oc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw u1e(e)}}function Q1e(t,e,r){t._throwIfRoot("uploadBytes");const n=q1e(t.storage,t._location,n7(),new oa(e,!0),r);return t.storage.makeRequestWithTokens(n,l7).then(i=>({metadata:i,ref:t}))}function Y1e(t){t._throwIfRoot("getDownloadURL");const e=W1e(t.storage,t._location,n7());return t.storage.makeRequestWithTokens(e,l7).then(r=>{if(r===null)throw l1e();return r})}function X1e(t,e){const r=j1e(t._location.path,e),n=new ni(t._location.bucket,r);return new Oc(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1e(t){return/^[A-Za-z]+:\/\//.test(t)}function Z1e(t,e){return new Oc(t,e)}function c7(t,e){if(t instanceof gj){const r=t;if(r._bucket==null)throw s1e();const n=new Oc(r,r._bucket);return e!=null?c7(n,e):n}else return e!==void 0?X1e(t,e):t}function eSe(t,e){if(e&&J1e(e)){if(t instanceof gj)return Z1e(t,e);throw PT("To use ref(service, url), the first argument must be a Storage instance.")}else return c7(t,e)}function GL(t,e){const r=e==null?void 0:e[QH];return r==null?null:ni.makeFromBucketSpec(r,t)}function tSe(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:pk(i,t.app.options.projectId))}class gj{constructor(e,r,n,i,o){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=KH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qwe,this._maxUploadRetryTime=Ywe,this._requests=new Set,i!=null?this._bucket=ni.makeFromBucketSpec(i,this._host):this._bucket=GL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=GL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oc(this,e)}_makeRequest(e,r,n,i,o=!0){if(this._deleted)return new f1e(YH());{const s=w1e(e,this._appId,n,i,r,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const qL="@firebase/storage",HL="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="storage";function rSe(t,e,r){return t=Xr(t),Q1e(t,e,r)}function nSe(t){return t=Xr(t),Y1e(t)}function iSe(t,e){return t=Xr(t),eSe(t,e)}function oSe(t=bk(),e){t=Xr(t);const n=gk(t,u7).getImmediate({identifier:e}),i=hk("storage");return i&&sSe(n,...i),n}function sSe(t,e,r,n={}){tSe(t,e,r,n)}function aSe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new gj(r,n,i,e,vk)}function lSe(){Gf(new Ac(u7,aSe,"PUBLIC").setMultipleInstances(!0)),Uo(qL,HL,""),Uo(qL,HL,"esm2017")}lSe();const cSe=oSe(vO),KL=(t,e)=>{const r=e??`images/uploads/ungroup/image_${hs()}`,n=iSe(cSe,r);return rSe(n,t).then(async i=>({url:await nSe(i.ref)}))},QL={title:"",name:"新的玩家",color:"#FF0000",proPicUrl:""};function f7({defaultValue:t,onSubmit:e}){const{reset:r,setValue:n,control:i,handleSubmit:o}=Kd({defaultValues:QL}),[{loading:s},a]=Zw(e,[e]),l=E.useMemo(()=>o(m=>{a(m)}),[a,o]),c=Ya({control:i}),f=E.useCallback(m=>KL(m).then(({url:y})=>{n("proPicUrl",y)}),[n]),d=E.useCallback(()=>{n("proPicUrl",null)},[n]),h=E.useCallback(m=>KL(m).then(({url:y})=>{n("teamPicUrl",y)}),[n]),p=E.useCallback(()=>{n("teamPicUrl",null)},[n]);return E.useEffect(()=>{r(t??QL)},[t,r]),u.jsxs("form",{onSubmit:l,className:"space-y-6",children:[u.jsxs("div",{className:"flex gap-x-6",children:[u.jsx("div",{className:"shrink-0",children:u.jsx(wn,{label:"顏色",children:u.jsx(Mn,{name:"color",control:i,render:({field:m})=>u.jsx(HH,{...m}),disabled:s})})}),u.jsxs("div",{className:"flex-1 space-y-6",children:[u.jsx(wn,{label:"稱號",children:u.jsx(Mn,{name:"title",control:i,render:({field:m})=>u.jsx(_a,{type:"text",...m,placeholder:"例：天鳳鳳位、雀魂x段",disabled:s})})}),u.jsx(wn,{className:"mb-6",label:"名字",children:u.jsx(Mn,{name:"name",control:i,rules:{required:!0},render:({field:m})=>u.jsx(_a,{...m}),disabled:s})}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-6",children:[u.jsx(wn,{className:"mb-6",label:"玩家圖片",action:c.proPicUrl&&u.jsx("a",{href:"#",className:"text-xs underline text-teal-800",onClick:d,children:"移除"}),children:u.jsx(VL,{helperText:"建議大小 360px * 500px (18:25)",onChangeFile:f,children:c.proPicUrl&&u.jsx("img",{className:"aspect-[18/25]",src:c.proPicUrl})})}),u.jsx(wn,{className:"mb-6",label:"隊伍圖片",action:c.teamPicUrl&&u.jsx("a",{href:"#",className:"text-xs underline text-teal-800",onClick:p,children:"移除"}),children:u.jsx(VL,{helperText:"建議大小 500px * 500px (1:1)",onChangeFile:h,children:c.teamPicUrl&&u.jsx("img",{className:"aspect-square",src:c.teamPicUrl})})})]})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"mb-2",children:"預覽"}),u.jsx("div",{className:"text-[4rem] p-4 bg-gray-800 text-white",children:u.jsx(Qa,{player:c,score:25e3,waitingTiles:["5m","6m","7m"],isRiichi:!0,isEast:!0})})]}),u.jsx("div",{children:u.jsx(je,{type:"submit",loading:s,children:"儲存"})})]})}var uSe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,vj=vj||{},Se=uSe||self;function I1(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function jg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fSe(t){return Object.prototype.hasOwnProperty.call(t,PA)&&t[PA]||(t[PA]=++dSe)}var PA="closure_uid_"+(1e9*Math.random()>>>0),dSe=0;function hSe(t,e,r){return t.call.apply(t.bind,arguments)}function pSe(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function fn(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?fn=hSe:fn=pSe,fn.apply(null,arguments)}function Kv(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var n=r.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function $r(t,e){function r(){}r.prototype=e.prototype,t.$=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.ac=function(n,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(n,s)}}function al(){this.s=this.s,this.o=this.o}var mSe=0;al.prototype.s=!1;al.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),mSe!=0)&&fSe(this)};al.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const d7=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function bj(t){const e=t.length;if(0<e){const r=Array(e);for(let n=0;n<e;n++)r[n]=t[n];return r}return[]}function YL(t,e){for(let r=1;r<arguments.length;r++){const n=arguments[r];if(I1(n)){const i=t.length||0,o=n.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=n[s]}else t.push(n)}}function dn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};var ySe=function(){if(!Se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const r=()=>{};Se.addEventListener("test",r,e),Se.removeEventListener("test",r,e)}catch{}return t}();function Wm(t){return/^[\s\xa0]*$/.test(t)}function N1(){var t=Se.navigator;return t&&(t=t.userAgent)?t:""}function Io(t){return N1().indexOf(t)!=-1}function xj(t){return xj[" "](t),t}xj[" "]=function(){};function gSe(t,e){var r=cEe;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=e(t)}var vSe=Io("Opera"),ud=Io("Trident")||Io("MSIE"),h7=Io("Edge"),TT=h7||ud,p7=Io("Gecko")&&!(N1().toLowerCase().indexOf("webkit")!=-1&&!Io("Edge"))&&!(Io("Trident")||Io("MSIE"))&&!Io("Edge"),bSe=N1().toLowerCase().indexOf("webkit")!=-1&&!Io("Edge");function m7(){var t=Se.document;return t?t.documentMode:void 0}var IT;e:{var TA="",IA=function(){var t=N1();if(p7)return/rv:([^\);]+)(\)|;)/.exec(t);if(h7)return/Edge\/([\d\.]+)/.exec(t);if(ud)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(bSe)return/WebKit\/(\S+)/.exec(t);if(vSe)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(IA&&(TA=IA?IA[1]:""),ud){var NA=m7();if(NA!=null&&NA>parseFloat(TA)){IT=String(NA);break e}}IT=TA}var NT;if(Se.document&&ud){var XL=m7();NT=XL||parseInt(IT,10)||void 0}else NT=void 0;var xSe=NT;function zm(t,e){if(dn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(p7){e:{try{xj(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_Se[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zm.$.h.call(this)}}$r(zm,dn);var _Se={2:"touch",3:"pen",4:"mouse"};zm.prototype.h=function(){zm.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Rg="closure_listenable_"+(1e6*Math.random()|0),wSe=0;function SSe(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.la=i,this.key=++wSe,this.fa=this.ia=!1}function k1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function _j(t,e,r){for(const n in t)e.call(r,t[n],n,t)}function ESe(t,e){for(const r in t)e.call(void 0,t[r],r,t)}function y7(t){const e={};for(const r in t)e[r]=t[r];return e}const JL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g7(t,e){let r,n;for(let i=1;i<arguments.length;i++){n=arguments[i];for(r in n)t[r]=n[r];for(let o=0;o<JL.length;o++)r=JL[o],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function O1(t){this.src=t,this.g={},this.h=0}O1.prototype.add=function(t,e,r,n,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=OT(t,e,n,i);return-1<s?(e=t[s],r||(e.ia=!1)):(e=new SSe(e,this.src,o,!!n,i),e.ia=r,t.push(e)),e};function kT(t,e){var r=e.type;if(r in t.g){var n=t.g[r],i=d7(n,e),o;(o=0<=i)&&Array.prototype.splice.call(n,i,1),o&&(k1(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function OT(t,e,r,n){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!r&&o.la==n)return i}return-1}var wj="closure_lm_"+(1e6*Math.random()|0),kA={};function v7(t,e,r,n,i){if(n&&n.once)return x7(t,e,r,n,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)v7(t,e[o],r,n,i);return null}return r=Aj(r),t&&t[Rg]?t.O(e,r,jg(n)?!!n.capture:!!n,i):b7(t,e,r,!1,n,i)}function b7(t,e,r,n,i,o){if(!e)throw Error("Invalid event type");var s=jg(i)?!!i.capture:!!i,a=Ej(t);if(a||(t[wj]=a=new O1(t)),r=a.add(e,r,n,s,o),r.proxy)return r;if(n=ASe(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)ySe||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(w7(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function ASe(){function t(r){return e.call(t.src,t.listener,r)}const e=CSe;return t}function x7(t,e,r,n,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)x7(t,e[o],r,n,i);return null}return r=Aj(r),t&&t[Rg]?t.P(e,r,jg(n)?!!n.capture:!!n,i):b7(t,e,r,!0,n,i)}function _7(t,e,r,n,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)_7(t,e[o],r,n,i);else n=jg(n)?!!n.capture:!!n,r=Aj(r),t&&t[Rg]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],r=OT(o,r,n,i),-1<r&&(k1(o[r]),Array.prototype.splice.call(o,r,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ej(t))&&(e=t.g[e.toString()],t=-1,e&&(t=OT(e,r,n,i)),(r=-1<t?e[t]:null)&&Sj(r))}function Sj(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Rg])kT(e.i,t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(w7(r),n):e.addListener&&e.removeListener&&e.removeListener(n),(r=Ej(e))?(kT(r,t),r.h==0&&(r.src=null,e[wj]=null)):k1(t)}}}function w7(t){return t in kA?kA[t]:kA[t]="on"+t}function CSe(t,e){if(t.fa)t=!0;else{e=new zm(e,this);var r=t.listener,n=t.la||t.src;t.ia&&Sj(t),t=r.call(n,e)}return t}function Ej(t){return t=t[wj],t instanceof O1?t:null}var OA="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aj(t){return typeof t=="function"?t:(t[OA]||(t[OA]=function(e){return t.handleEvent(e)}),t[OA])}function jr(){al.call(this),this.i=new O1(this),this.S=this,this.J=null}$r(jr,al);jr.prototype[Rg]=!0;jr.prototype.removeEventListener=function(t,e,r,n){_7(this,t,e,r,n)};function Kr(t,e){var r,n=t.J;if(n)for(r=[];n;n=n.J)r.push(n);if(t=t.S,n=e.type||e,typeof e=="string")e=new dn(e,t);else if(e instanceof dn)e.target=e.target||t;else{var i=e;e=new dn(n,t),g7(e,i)}if(i=!0,r)for(var o=r.length-1;0<=o;o--){var s=e.g=r[o];i=Qv(s,n,!0,e)&&i}if(s=e.g=t,i=Qv(s,n,!0,e)&&i,i=Qv(s,n,!1,e)&&i,r)for(o=0;o<r.length;o++)s=e.g=r[o],i=Qv(s,n,!1,e)&&i}jr.prototype.N=function(){if(jr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)k1(r[n]);delete t.g[e],t.h--}}this.J=null};jr.prototype.O=function(t,e,r,n){return this.i.add(String(t),e,!1,r,n)};jr.prototype.P=function(t,e,r,n){return this.i.add(String(t),e,!0,r,n)};function Qv(t,e,r,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==r){var a=s.listener,l=s.la||s.src;s.ia&&kT(t.i,s),i=a.call(l,n)!==!1&&i}}return i&&!n.defaultPrevented}var Cj=Se.JSON.stringify;class PSe{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function TSe(){var t=Pj;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ISe{constructor(){this.h=this.g=null}add(e,r){const n=S7.get();n.set(e,r),this.h?this.h.next=n:this.g=n,this.h=n}}var S7=new PSe(()=>new NSe,t=>t.reset());class NSe{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function kSe(t){var e=1;t=t.split(":");const r=[];for(;0<e&&t.length;)r.push(t.shift()),e--;return t.length&&r.push(t.join(":")),r}function OSe(t){Se.setTimeout(()=>{throw t},0)}let Gm,qm=!1,Pj=new ISe,E7=()=>{const t=Se.Promise.resolve(void 0);Gm=()=>{t.then(jSe)}};var jSe=()=>{for(var t;t=TSe();){try{t.h.call(t.g)}catch(r){OSe(r)}var e=S7;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qm=!1};function j1(t,e){jr.call(this),this.h=t||1,this.g=e||Se,this.j=fn(this.qb,this),this.l=Date.now()}$r(j1,jr);oe=j1.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kr(this,"tick"),this.ga&&(Tj(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Tj(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){j1.$.N.call(this),Tj(this),delete this.g};function Ij(t,e,r){if(typeof t=="function")r&&(t=fn(t,r));else if(t&&typeof t.handleEvent=="function")t=fn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Se.setTimeout(t,e||0)}function A7(t){t.g=Ij(()=>{t.g=null,t.i&&(t.i=!1,A7(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class RSe extends al{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:A7(this)}N(){super.N(),this.g&&(Se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hm(t){al.call(this),this.h=t,this.g={}}$r(Hm,al);var ZL=[];function C7(t,e,r,n){Array.isArray(r)||(r&&(ZL[0]=r.toString()),r=ZL);for(var i=0;i<r.length;i++){var o=v7(e,r[i],n||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function P7(t){_j(t.g,function(e,r){this.g.hasOwnProperty(r)&&Sj(e)},t),t.g={}}Hm.prototype.N=function(){Hm.$.N.call(this),P7(this)};Hm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function R1(){this.g=!0}R1.prototype.Ea=function(){this.g=!1};function $Se(t,e,r,n,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var f=c[0];c=c[1];var d=f.split("_");s=2<=d.length&&d[1]=="type"?s+(f+"="+c+"&"):s+(f+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+`
`+r+`
`+s})}function DSe(t,e,r,n,i,o,s){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+`
`+r+`
`+o+" "+s})}function zu(t,e,r,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+FSe(t,r)+(n?" "+n:"")})}function MSe(t,e){t.info(function(){return"TIMEOUT: "+e})}R1.prototype.info=function(){};function FSe(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var n=r[t];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Cj(r)}catch{return e}}var zc={},e3=null;function $1(){return e3=e3||new jr}zc.Ta="serverreachability";function T7(t){dn.call(this,zc.Ta,t)}$r(T7,dn);function Km(t){const e=$1();Kr(e,new T7(e))}zc.STAT_EVENT="statevent";function I7(t,e){dn.call(this,zc.STAT_EVENT,t),this.stat=e}$r(I7,dn);function An(t){const e=$1();Kr(e,new I7(e,t))}zc.Ua="timingevent";function N7(t,e){dn.call(this,zc.Ua,t),this.size=e}$r(N7,dn);function $g(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Se.setTimeout(function(){t()},e)}var D1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},k7={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nj(){}Nj.prototype.h=null;function t3(t){return t.h||(t.h=t.i())}function O7(){}var Dg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kj(){dn.call(this,"d")}$r(kj,dn);function Oj(){dn.call(this,"c")}$r(Oj,dn);var jT;function M1(){}$r(M1,Nj);M1.prototype.g=function(){return new XMLHttpRequest};M1.prototype.i=function(){return{}};jT=new M1;function Mg(t,e,r,n){this.l=t,this.j=e,this.m=r,this.W=n||1,this.U=new Hm(this),this.P=LSe,t=TT?125:void 0,this.V=new j1(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new j7}function j7(){this.i=null,this.g="",this.h=!1}var LSe=45e3,R7={},RT={};oe=Mg.prototype;oe.setTimeout=function(t){this.P=t};function $T(t,e,r){t.L=1,t.A=L1(Is(e)),t.u=r,t.S=!0,$7(t,null)}function $7(t,e){t.G=Date.now(),Fg(t),t.B=Is(t.A);var r=t.B,n=t.W;Array.isArray(n)||(n=[String(n)]),W7(r.i,"t",n),t.o=0,r=t.l.J,t.h=new j7,t.g=uK(t.l,r?e:null,!t.u),0<t.O&&(t.M=new RSe(fn(t.Pa,t,t.g),t.O)),C7(t.U,t.g,"readystatechange",t.nb),e=t.I?y7(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Km(),$Se(t.j,t.v,t.B,t.m,t.W,t.u)}oe.nb=function(t){t=t.target;const e=this.M;e&&Do(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const f=Do(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>f)&&(f!=3||TT||this.g&&(this.h.h||this.g.ja()||o3(this.g)))){this.J||f!=4||e==7||(e==8||0>=d?Km(3):Km(2)),F1(this);var r=this.g.da();this.ca=r;t:if(D7(this)){var n=o3(this.g);t="";var i=n.length,o=Do(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bl(this),Gp(this);var s="";break t}this.h.i=new Se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:o&&e==i-1});n.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=r==200,DSe(this.j,this.v,this.B,this.m,this.W,f,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wm(a)){var c=a;break t}}c=null}if(r=c)zu(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DT(this,r);else{this.i=!1,this.s=3,An(12),Bl(this),Gp(this);break e}}this.S?(M7(this,f,s),TT&&this.i&&f==3&&(C7(this.U,this.V,"tick",this.mb),this.V.start())):(zu(this.j,this.m,s,null),DT(this,s)),f==4&&Bl(this),this.i&&!this.J&&(f==4?sK(this.l,this):(this.i=!1,Fg(this)))}else sEe(this.g),r==400&&0<s.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),Bl(this),Gp(this)}}}catch{}finally{}};function D7(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function M7(t,e,r){let n=!0,i;for(;!t.J&&t.o<r.length;)if(i=BSe(t,r),i==RT){e==4&&(t.s=4,An(14),n=!1),zu(t.j,t.m,null,"[Incomplete Response]");break}else if(i==R7){t.s=4,An(15),zu(t.j,t.m,r,"[Invalid Chunk]"),n=!1;break}else zu(t.j,t.m,i,null),DT(t,i);D7(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||r.length!=0||t.h.h||(t.s=1,An(16),n=!1),t.i=t.i&&n,n?0<r.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Fj(e),e.M=!0,An(11))):(zu(t.j,t.m,r,"[Invalid Chunked Response]"),Bl(t),Gp(t))}oe.mb=function(){if(this.g){var t=Do(this.g),e=this.g.ja();this.o<e.length&&(F1(this),M7(this,t,e),this.i&&t!=4&&Fg(this))}};function BSe(t,e){var r=t.o,n=e.indexOf(`
`,r);return n==-1?RT:(r=Number(e.substring(r,n)),isNaN(r)?R7:(n+=1,n+r>e.length?RT:(e=e.slice(n,n+r),t.o=n+r,e)))}oe.cancel=function(){this.J=!0,Bl(this)};function Fg(t){t.Y=Date.now()+t.P,F7(t,t.P)}function F7(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=$g(fn(t.lb,t),e)}function F1(t){t.C&&(Se.clearTimeout(t.C),t.C=null)}oe.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(MSe(this.j,this.B),this.L!=2&&(Km(),An(17)),Bl(this),this.s=2,Gp(this)):F7(this,this.Y-t)};function Gp(t){t.l.H==0||t.J||sK(t.l,t)}function Bl(t){F1(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Tj(t.V),P7(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function DT(t,e){try{var r=t.l;if(r.H!=0&&(r.g==t||MT(r.i,t))){if(!t.K&&MT(r.i,t)&&r.H==3){try{var n=r.Ja.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var i=n;if(i[0]==0){e:if(!r.u){if(r.g)if(r.g.G+3e3<t.G)r_(r),W1(r);else break e;Mj(r),An(18)}}else r.Fa=i[1],0<r.Fa-r.V&&37500>i[2]&&r.G&&r.A==0&&!r.v&&(r.v=$g(fn(r.ib,r),6e3));if(1>=q7(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Ul(r,11)}else if((t.K||r.g==t)&&r_(r),!Wm(e))for(i=r.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(r.V=c[0],c=c[1],r.H==2)if(c[0]=="c"){r.K=c[1],r.pa=c[2];const f=c[3];f!=null&&(r.ra=f,r.l.info("VER="+r.ra));const d=c[4];d!=null&&(r.Ga=d,r.l.info("SVER="+r.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(n=1.5*h,r.L=n,r.l.info("backChannelRequestTimeoutMs_="+n)),n=r;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=n.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(jj(o,o.h),o.h=null))}if(n.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(n.Da=y,Nt(n.I,n.F,y))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-t.G,r.l.info("Handshake RTT: "+r.S+"ms")),n=r;var s=t;if(n.wa=cK(n,n.J?n.pa:null,n.Y),s.K){H7(n.i,s);var a=s,l=n.L;l&&a.setTimeout(l),a.C&&(F1(a),Fg(a)),n.g=s}else iK(n);0<r.j.length&&z1(r)}else c[0]!="stop"&&c[0]!="close"||Ul(r,7);else r.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ul(r,7):Dj(r):c[0]!="noop"&&r.h&&r.h.Aa(c),r.A=0)}}Km(4)}catch{}}function USe(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(I1(t)){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e}e=[],r=0;for(n in t)e[r++]=t[n];return e}function VSe(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(I1(t)||typeof t=="string"){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const n in t)e[r++]=n;return e}}}function L7(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(I1(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var r=VSe(t),n=USe(t),i=n.length,o=0;o<i;o++)e.call(void 0,n[o],r&&r[o],t)}var B7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WSe(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var o=t[r].substring(0,n);i=t[r].substring(n+1)}else o=t[r];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function yc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof yc){this.h=t.h,e_(this,t.j),this.s=t.s,this.g=t.g,t_(this,t.m),this.l=t.l;var e=t.i,r=new Qm;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),r3(this,r),this.o=t.o}else t&&(e=String(t).match(B7))?(this.h=!1,e_(this,e[1]||"",!0),this.s=pp(e[2]||""),this.g=pp(e[3]||"",!0),t_(this,e[4]),this.l=pp(e[5]||"",!0),r3(this,e[6]||"",!0),this.o=pp(e[7]||"")):(this.h=!1,this.i=new Qm(null,this.h))}yc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(mp(e,n3,!0),":");var r=this.g;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(mp(e,n3,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(mp(r,r.charAt(0)=="/"?qSe:GSe,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.o)&&t.push("#",mp(r,KSe)),t.join("")};function Is(t){return new yc(t)}function e_(t,e,r){t.j=r?pp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function t_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function r3(t,e,r){e instanceof Qm?(t.i=e,QSe(t.i,t.h)):(r||(e=mp(e,HSe)),t.i=new Qm(e,t.h))}function Nt(t,e,r){t.i.set(e,r)}function L1(t){return Nt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function mp(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,zSe),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zSe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var n3=/[#\/\?@]/g,GSe=/[#\?:]/g,qSe=/[#\?]/g,HSe=/[#\?@]/g,KSe=/#/g;function Qm(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ll(t){t.g||(t.g=new Map,t.h=0,t.i&&WSe(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}oe=Qm.prototype;oe.add=function(t,e){ll(this),this.i=null,t=Jd(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function U7(t,e){ll(t),e=Jd(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function V7(t,e){return ll(t),e=Jd(t,e),t.g.has(e)}oe.forEach=function(t,e){ll(this),this.g.forEach(function(r,n){r.forEach(function(i){t.call(e,i,n,this)},this)},this)};oe.ta=function(){ll(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let n=0;n<e.length;n++){const i=t[n];for(let o=0;o<i.length;o++)r.push(e[n])}return r};oe.Z=function(t){ll(this);let e=[];if(typeof t=="string")V7(this,t)&&(e=e.concat(this.g.get(Jd(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e};oe.set=function(t,e){return ll(this),this.i=null,t=Jd(this,t),V7(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function W7(t,e,r){U7(t,e),0<r.length&&(t.i=null,t.g.set(Jd(t,e),bj(r)),t.h+=r.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var n=e[r];const o=encodeURIComponent(String(n)),s=this.Z(n);for(n=0;n<s.length;n++){var i=o;s[n]!==""&&(i+="="+encodeURIComponent(String(s[n]))),t.push(i)}}return this.i=t.join("&")};function Jd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function QSe(t,e){e&&!t.j&&(ll(t),t.i=null,t.g.forEach(function(r,n){var i=n.toLowerCase();n!=i&&(U7(this,n),W7(this,i,r))},t)),t.j=e}var YSe=class{constructor(t,e){this.g=t,this.map=e}};function z7(t){this.l=t||XSe,Se.PerformanceNavigationTiming?(t=Se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Se.g&&Se.g.Ka&&Se.g.Ka()&&Se.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XSe=10;function G7(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function q7(t){return t.h?1:t.g?t.g.size:0}function MT(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jj(t,e){t.g?t.g.add(e):t.h=e}function H7(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}z7.prototype.cancel=function(){if(this.i=K7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function K7(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.F);return e}return bj(t.i)}var JSe=class{stringify(t){return Se.JSON.stringify(t,void 0)}parse(t){return Se.JSON.parse(t,void 0)}};function ZSe(){this.g=new JSe}function eEe(t,e,r){const n=r||"";try{L7(t,function(i,o){let s=i;jg(i)&&(s=Cj(i)),e.push(n+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(n+"type="+encodeURIComponent("_badmap")),i}}function tEe(t,e){const r=new R1;if(Se.Image){const n=new Image;n.onload=Kv(Yv,r,n,"TestLoadImage: loaded",!0,e),n.onerror=Kv(Yv,r,n,"TestLoadImage: error",!1,e),n.onabort=Kv(Yv,r,n,"TestLoadImage: abort",!1,e),n.ontimeout=Kv(Yv,r,n,"TestLoadImage: timeout",!1,e),Se.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function Yv(t,e,r,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch{}}function B1(t){this.l=t.ec||null,this.j=t.ob||!1}$r(B1,Nj);B1.prototype.g=function(){return new U1(this.l,this.j)};B1.prototype.i=function(t){return function(){return t}}({});function U1(t,e){jr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Rj,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$r(U1,jr);var Rj=0;oe=U1.prototype;oe.open=function(t,e){if(this.readyState!=Rj)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ym(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lg(this)),this.readyState=Rj};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ym(this)),this.g&&(this.readyState=3,Ym(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Q7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Q7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Lg(this):Ym(this),this.readyState==3&&Q7(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,Lg(this))};oe.Ya=function(t){this.g&&(this.response=t,Lg(this))};oe.ka=function(){this.g&&Lg(this)};function Lg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ym(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function Ym(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(U1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var rEe=Se.JSON.parse;function Qt(t){jr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Y7,this.L=this.M=!1}$r(Qt,jr);var Y7="",nEe=/^https?$/i,iEe=["POST","PUT"];oe=Qt.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jT.g(),this.C=this.u?t3(this.u):t3(jT),this.g.onreadystatechange=fn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){i3(this,o);return}if(t=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)r.set(i,n[i]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(const o of n.keys())r.set(o,n.get(o));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(r.keys()).find(o=>o.toLowerCase()=="content-type"),i=Se.FormData&&t instanceof Se.FormData,!(0<=d7(iEe,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of r)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z7(this),0<this.B&&((this.L=oEe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fn(this.ua,this)):this.A=Ij(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){i3(this,o)}};function oEe(t){return ud&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof vj<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))};function i3(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,X7(t),V1(t)}function X7(t){t.F||(t.F=!0,Kr(t,"complete"),Kr(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kr(this,"complete"),Kr(this,"abort"),V1(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),V1(this,!0)),Qt.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?J7(this):this.kb())};oe.kb=function(){J7(this)};function J7(t){if(t.h&&typeof vj<"u"&&(!t.C[1]||Do(t)!=4||t.da()!=2)){if(t.v&&Do(t)==4)Ij(t.La,0,t);else if(Kr(t,"readystatechange"),Do(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var n;if(n=s===0){var i=String(t.I).match(B7)[1]||null;!i&&Se.self&&Se.self.location&&(i=Se.self.location.protocol.slice(0,-1)),n=!nEe.test(i?i.toLowerCase():"")}r=n}if(r)Kr(t,"complete"),Kr(t,"success");else{t.m=6;try{var o=2<Do(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",X7(t)}}finally{V1(t)}}}}function V1(t,e){if(t.g){Z7(t);const r=t.g,n=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Kr(t,"ready");try{r.onreadystatechange=n}catch{}}}function Z7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Se.clearTimeout(t.A),t.A=null)}oe.isActive=function(){return!!this.g};function Do(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<Do(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),rEe(e)}};function o3(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Y7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function sEe(t){const e={};t=(t.g&&2<=Do(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let n=0;n<t.length;n++){if(Wm(t[n]))continue;var r=kSe(t[n]);const i=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();const o=e[i]||[];e[i]=o,o.push(r)}ESe(e,function(n){return n.join(", ")})}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function eK(t){let e="";return _j(t,function(r,n){e+=n,e+=":",e+=r,e+=`\r
`}),e}function $j(t,e,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=eK(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):Nt(t,e,r))}function Fh(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function tK(t){this.Ga=0,this.j=[],this.l=new R1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fh("baseRetryDelayMs",5e3,t),this.hb=Fh("retryDelaySeedMs",1e4,t),this.eb=Fh("forwardChannelMaxRetries",2,t),this.xa=Fh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new z7(t&&t.concurrentRequestLimit),this.Ja=new ZSe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}oe=tK.prototype;oe.ra=8;oe.H=1;function Dj(t){if(rK(t),t.H==3){var e=t.W++,r=Is(t.I);if(Nt(r,"SID",t.K),Nt(r,"RID",e),Nt(r,"TYPE","terminate"),Bg(t,r),e=new Mg(t,t.l,e),e.L=2,e.A=L1(Is(r)),r=!1,Se.navigator&&Se.navigator.sendBeacon)try{r=Se.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&Se.Image&&(new Image().src=e.A,r=!0),r||(e.g=uK(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Fg(e)}lK(t)}function W1(t){t.g&&(Fj(t),t.g.cancel(),t.g=null)}function rK(t){W1(t),t.u&&(Se.clearTimeout(t.u),t.u=null),r_(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Se.clearTimeout(t.m),t.m=null)}function z1(t){if(!G7(t.i)&&!t.m){t.m=!0;var e=t.Na;Gm||E7(),qm||(Gm(),qm=!0),Pj.add(e,t),t.C=0}}function aEe(t,e){return q7(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$g(fn(t.Na,t,e),aK(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Mg(this,this.l,t);let o=this.s;if(this.U&&(o?(o=y7(o),g7(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){t:{var n=this.j[r];if("__data__"in n.map&&(n=n.map.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=r;break e}if(e===4096||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=nK(this,i,e),r=Is(this.I),Nt(r,"RID",t),Nt(r,"CVER",22),this.F&&Nt(r,"X-HTTP-Session-Id",this.F),Bg(this,r),o&&(this.O?e="headers="+encodeURIComponent(String(eK(o)))+"&"+e:this.o&&$j(r,this.o,o)),jj(this.i,i),this.bb&&Nt(r,"TYPE","init"),this.P?(Nt(r,"$req",e),Nt(r,"SID","null"),i.aa=!0,$T(i,r,null)):$T(i,r,e),this.H=2}}else this.H==3&&(t?s3(this,t):this.j.length==0||G7(this.i)||s3(this))};function s3(t,e){var r;e?r=e.m:r=t.W++;const n=Is(t.I);Nt(n,"SID",t.K),Nt(n,"RID",r),Nt(n,"AID",t.V),Bg(t,n),t.o&&t.s&&$j(n,t.o,t.s),r=new Mg(t,t.l,r,t.C+1),t.o===null&&(r.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nK(t,r,1e3),r.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jj(t.i,r),$T(r,n,e)}function Bg(t,e){t.na&&_j(t.na,function(r,n){Nt(e,n,r)}),t.h&&L7({},function(r,n){Nt(e,n,r)})}function nK(t,e,r){r=Math.min(t.j.length,r);var n=t.h?fn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+r];o==-1?0<r?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<r;l++){let c=i[l].g;const f=i[l].map;if(c-=o,0>c)o=Math.max(0,i[l].g-100),a=!1;else try{eEe(f,s,"req"+c+"_")}catch{n&&n(f)}}if(a){n=s.join("&");break e}}}return t=t.j.splice(0,r),e.F=t,n}function iK(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Gm||E7(),qm||(Gm(),qm=!0),Pj.add(e,t),t.A=0}}function Mj(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$g(fn(t.Ma,t),aK(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,oK(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$g(fn(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,An(10),W1(this),oK(this))};function Fj(t){t.B!=null&&(Se.clearTimeout(t.B),t.B=null)}function oK(t){t.g=new Mg(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Is(t.wa);Nt(e,"RID","rpc"),Nt(e,"SID",t.K),Nt(e,"AID",t.V),Nt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Nt(e,"TO",t.qa),Nt(e,"TYPE","xmlhttp"),Bg(t,e),t.o&&t.s&&$j(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var r=t.g;t=t.pa,r.L=1,r.A=L1(Is(e)),r.u=null,r.S=!0,$7(r,t)}oe.ib=function(){this.v!=null&&(this.v=null,W1(this),Mj(this),An(19))};function r_(t){t.v!=null&&(Se.clearTimeout(t.v),t.v=null)}function sK(t,e){var r=null;if(t.g==e){r_(t),Fj(t),t.g=null;var n=2}else if(MT(t.i,e))r=e.F,H7(t.i,e),n=1;else return;if(t.H!=0){if(e.i)if(n==1){r=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;n=$1(),Kr(n,new N7(n,r)),z1(t)}else iK(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(n==1&&aEe(t,e)||n==2&&Mj(t)))switch(r&&0<r.length&&(e=t.i,e.i=e.i.concat(r)),i){case 1:Ul(t,5);break;case 4:Ul(t,10);break;case 3:Ul(t,6);break;default:Ul(t,2)}}}function aK(t,e){let r=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(r*=2),r*e}function Ul(t,e){if(t.l.info("Error code "+e),e==2){var r=null;t.h&&(r=null);var n=fn(t.pb,t);r||(r=new yc("//www.google.com/images/cleardot.gif"),Se.location&&Se.location.protocol=="http"||e_(r,"https"),L1(r)),tEe(r.toString(),n)}else An(2);t.H=0,t.h&&t.h.za(e),lK(t),rK(t)}oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),An(2)):(this.l.info("Failed to ping google.com"),An(1))};function lK(t){if(t.H=0,t.ma=[],t.h){const e=K7(t.i);(e.length!=0||t.j.length!=0)&&(YL(t.ma,e),YL(t.ma,t.j),t.i.i.length=0,bj(t.j),t.j.length=0),t.h.ya()}}function cK(t,e,r){var n=r instanceof yc?Is(r):new yc(r);if(n.g!="")e&&(n.g=e+"."+n.g),t_(n,n.m);else{var i=Se.location;n=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new yc(null);n&&e_(o,n),e&&(o.g=e),i&&t_(o,i),r&&(o.l=r),n=o}return r=t.F,e=t.Da,r&&e&&Nt(n,r,e),Nt(n,"VER",t.ra),Bg(t,n),n}function uK(t,e,r){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Qt(new B1({ob:r})):new Qt(t.va),e.Oa(t.J),e}oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function fK(){}oe=fK.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.isActive=function(){return!0};oe.Va=function(){};function n_(){if(ud&&!(10<=Number(xSe)))throw Error("Environmental error: no available transport.")}n_.prototype.g=function(t,e){return new li(t,e)};function li(t,e){jr.call(this),this.g=new tK(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wm(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Zd(this)}$r(li,jr);li.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,r=this.h||void 0;An(0),t.Y=e,t.na=r||{},t.G=t.aa,t.I=cK(t,null,t.Y),z1(t)};li.prototype.close=function(){Dj(this.g)};li.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.v&&(r={},r.__data__=Cj(t),t=r);e.j.push(new YSe(e.fb++,t)),e.H==3&&z1(e)};li.prototype.N=function(){this.g.h=null,delete this.j,Dj(this.g),delete this.g,li.$.N.call(this)};function dK(t){kj.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}$r(dK,kj);function hK(){Oj.call(this),this.status=1}$r(hK,Oj);function Zd(t){this.g=t}$r(Zd,fK);Zd.prototype.Ba=function(){Kr(this.g,"a")};Zd.prototype.Aa=function(t){Kr(this.g,new dK(t))};Zd.prototype.za=function(t){Kr(this.g,new hK)};Zd.prototype.ya=function(){Kr(this.g,"b")};function lEe(){this.blockSize=-1}function mo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}$r(mo,lEe);mo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jA(t,e,r){r||(r=0);var n=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)n[i]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;e=t.g[0],r=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^r&(i^o))+n[0]+3614090360&4294967295;e=r+(s<<7&4294967295|s>>>25),s=o+(i^e&(r^i))+n[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(r^o&(e^r))+n[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=r+(e^i&(o^e))+n[3]+3250441966&4294967295,r=i+(s<<22&4294967295|s>>>10),s=e+(o^r&(i^o))+n[4]+4118548399&4294967295,e=r+(s<<7&4294967295|s>>>25),s=o+(i^e&(r^i))+n[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(r^o&(e^r))+n[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=r+(e^i&(o^e))+n[7]+4249261313&4294967295,r=i+(s<<22&4294967295|s>>>10),s=e+(o^r&(i^o))+n[8]+1770035416&4294967295,e=r+(s<<7&4294967295|s>>>25),s=o+(i^e&(r^i))+n[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(r^o&(e^r))+n[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=r+(e^i&(o^e))+n[11]+2304563134&4294967295,r=i+(s<<22&4294967295|s>>>10),s=e+(o^r&(i^o))+n[12]+1804603682&4294967295,e=r+(s<<7&4294967295|s>>>25),s=o+(i^e&(r^i))+n[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(r^o&(e^r))+n[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=r+(e^i&(o^e))+n[15]+1236535329&4294967295,r=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(r^i))+n[1]+4129170786&4294967295,e=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(e^r))+n[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^r&(o^e))+n[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^e&(i^o))+n[0]+3921069994&4294967295,r=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(r^i))+n[5]+3593408605&4294967295,e=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(e^r))+n[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^r&(o^e))+n[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^e&(i^o))+n[4]+3889429448&4294967295,r=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(r^i))+n[9]+568446438&4294967295,e=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(e^r))+n[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^r&(o^e))+n[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^e&(i^o))+n[8]+1163531501&4294967295,r=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(r^i))+n[13]+2850285829&4294967295,e=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(e^r))+n[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^r&(o^e))+n[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^e&(i^o))+n[12]+2368359562&4294967295,r=i+(s<<20&4294967295|s>>>12),s=e+(r^i^o)+n[5]+4294588738&4294967295,e=r+(s<<4&4294967295|s>>>28),s=o+(e^r^i)+n[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^r)+n[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=r+(i^o^e)+n[14]+4259657740&4294967295,r=i+(s<<23&4294967295|s>>>9),s=e+(r^i^o)+n[1]+2763975236&4294967295,e=r+(s<<4&4294967295|s>>>28),s=o+(e^r^i)+n[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^r)+n[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=r+(i^o^e)+n[10]+3200236656&4294967295,r=i+(s<<23&4294967295|s>>>9),s=e+(r^i^o)+n[13]+681279174&4294967295,e=r+(s<<4&4294967295|s>>>28),s=o+(e^r^i)+n[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^r)+n[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=r+(i^o^e)+n[6]+76029189&4294967295,r=i+(s<<23&4294967295|s>>>9),s=e+(r^i^o)+n[9]+3654602809&4294967295,e=r+(s<<4&4294967295|s>>>28),s=o+(e^r^i)+n[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^r)+n[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=r+(i^o^e)+n[2]+3299628645&4294967295,r=i+(s<<23&4294967295|s>>>9),s=e+(i^(r|~o))+n[0]+4096336452&4294967295,e=r+(s<<6&4294967295|s>>>26),s=o+(r^(e|~i))+n[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~r))+n[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~e))+n[5]+4237533241&4294967295,r=i+(s<<21&4294967295|s>>>11),s=e+(i^(r|~o))+n[12]+1700485571&4294967295,e=r+(s<<6&4294967295|s>>>26),s=o+(r^(e|~i))+n[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~r))+n[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~e))+n[1]+2240044497&4294967295,r=i+(s<<21&4294967295|s>>>11),s=e+(i^(r|~o))+n[8]+1873313359&4294967295,e=r+(s<<6&4294967295|s>>>26),s=o+(r^(e|~i))+n[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~r))+n[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~e))+n[13]+1309151649&4294967295,r=i+(s<<21&4294967295|s>>>11),s=e+(i^(r|~o))+n[4]+4149444226&4294967295,e=r+(s<<6&4294967295|s>>>26),s=o+(r^(e|~i))+n[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~r))+n[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~e))+n[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}mo.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var r=e-this.blockSize,n=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=r;)jA(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(n[i++]=t.charCodeAt(o++),i==this.blockSize){jA(this,n),i=0;break}}else for(;o<e;)if(n[i++]=t[o++],i==this.blockSize){jA(this,n),i=0;break}}this.h=i,this.i+=e};mo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var r=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=r&255,r/=256;for(this.j(t),t=Array(16),e=r=0;4>e;++e)for(var n=0;32>n;n+=8)t[r++]=this.g[e]>>>n&255;return t};function ft(t,e){this.h=e;for(var r=[],n=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;n&&o==e||(r[i]=o,n=!1)}this.g=r}var cEe={};function Lj(t){return-128<=t&&128>t?gSe(t,function(e){return new ft([e|0],0>e?-1:0)}):new ft([t|0],0>t?-1:0)}function Mo(t){if(isNaN(t)||!isFinite(t))return mf;if(0>t)return Wr(Mo(-t));for(var e=[],r=1,n=0;t>=r;n++)e[n]=t/r|0,r*=FT;return new ft(e,0)}function pK(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Wr(pK(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Mo(Math.pow(e,8)),n=mf,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Mo(Math.pow(e,o)),n=n.R(o).add(Mo(s))):(n=n.R(r),n=n.add(Mo(s)))}return n}var FT=4294967296,mf=Lj(0),LT=Lj(1),a3=Lj(16777216);oe=ft.prototype;oe.ea=function(){if(Ci(this))return-Wr(this).ea();for(var t=0,e=1,r=0;r<this.g.length;r++){var n=this.D(r);t+=(0<=n?n:FT+n)*e,e*=FT}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ms(this))return"0";if(Ci(this))return"-"+Wr(this).toString(t);for(var e=Mo(Math.pow(t,6)),r=this,n="";;){var i=o_(r,e).g;r=i_(r,i.R(e));var o=((0<r.g.length?r.g[0]:r.h)>>>0).toString(t);if(r=i,ms(r))return o+n;for(;6>o.length;)o="0"+o;n=o+n}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ms(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ci(t){return t.h==-1}oe.X=function(t){return t=i_(this,t),Ci(t)?-1:ms(t)?0:1};function Wr(t){for(var e=t.g.length,r=[],n=0;n<e;n++)r[n]=~t.g[n];return new ft(r,~t.h).add(LT)}oe.abs=function(){return Ci(this)?Wr(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0,i=0;i<=e;i++){var o=n+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);n=s>>>16,o&=65535,s&=65535,r[i]=s<<16|o}return new ft(r,r[r.length-1]&-2147483648?-1:0)};function i_(t,e){return t.add(Wr(e))}oe.R=function(t){if(ms(this)||ms(t))return mf;if(Ci(this))return Ci(t)?Wr(this).R(Wr(t)):Wr(Wr(this).R(t));if(Ci(t))return Wr(this.R(Wr(t)));if(0>this.X(a3)&&0>t.X(a3))return Mo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,r=[],n=0;n<2*e;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<t.g.length;i++){var o=this.D(n)>>>16,s=this.D(n)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;r[2*n+2*i]+=s*l,Xv(r,2*n+2*i),r[2*n+2*i+1]+=o*l,Xv(r,2*n+2*i+1),r[2*n+2*i+1]+=s*a,Xv(r,2*n+2*i+1),r[2*n+2*i+2]+=o*a,Xv(r,2*n+2*i+2)}for(n=0;n<e;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=e;n<2*e;n++)r[n]=0;return new ft(r,0)};function Xv(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Lh(t,e){this.g=t,this.h=e}function o_(t,e){if(ms(e))throw Error("division by zero");if(ms(t))return new Lh(mf,mf);if(Ci(t))return e=o_(Wr(t),e),new Lh(Wr(e.g),Wr(e.h));if(Ci(e))return e=o_(t,Wr(e)),new Lh(Wr(e.g),e.h);if(30<t.g.length){if(Ci(t)||Ci(e))throw Error("slowDivide_ only works with positive integers.");for(var r=LT,n=e;0>=n.X(t);)r=l3(r),n=l3(n);var i=au(r,1),o=au(n,1);for(n=au(n,2),r=au(r,2);!ms(n);){var s=o.add(n);0>=s.X(t)&&(i=i.add(r),o=s),n=au(n,1),r=au(r,1)}return e=i_(t,i.R(e)),new Lh(i,e)}for(i=mf;0<=t.X(e);){for(r=Math.max(1,Math.floor(t.ea()/e.ea())),n=Math.ceil(Math.log(r)/Math.LN2),n=48>=n?1:Math.pow(2,n-48),o=Mo(r),s=o.R(e);Ci(s)||0<s.X(t);)r-=n,o=Mo(r),s=o.R(e);ms(o)&&(o=LT),i=i.add(o),t=i_(t,s)}return new Lh(i,t)}oe.gb=function(t){return o_(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)&t.D(n);return new ft(r,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)|t.D(n);return new ft(r,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.D(n)^t.D(n);return new ft(r,this.h^t.h)};function l3(t){for(var e=t.g.length+1,r=[],n=0;n<e;n++)r[n]=t.D(n)<<1|t.D(n-1)>>>31;return new ft(r,t.h)}function au(t,e){var r=e>>5;e%=32;for(var n=t.g.length-r,i=[],o=0;o<n;o++)i[o]=0<e?t.D(o+r)>>>e|t.D(o+r+1)<<32-e:t.D(o+r);return new ft(i,t.h)}n_.prototype.createWebChannel=n_.prototype.g;li.prototype.send=li.prototype.u;li.prototype.open=li.prototype.m;li.prototype.close=li.prototype.close;D1.NO_ERROR=0;D1.TIMEOUT=8;D1.HTTP_ERROR=6;k7.COMPLETE="complete";O7.EventType=Dg;Dg.OPEN="a";Dg.CLOSE="b";Dg.ERROR="c";Dg.MESSAGE="d";jr.prototype.listen=jr.prototype.O;Qt.prototype.listenOnce=Qt.prototype.P;Qt.prototype.getLastError=Qt.prototype.Sa;Qt.prototype.getLastErrorCode=Qt.prototype.Ia;Qt.prototype.getStatus=Qt.prototype.da;Qt.prototype.getResponseJson=Qt.prototype.Wa;Qt.prototype.getResponseText=Qt.prototype.ja;Qt.prototype.send=Qt.prototype.ha;Qt.prototype.setWithCredentials=Qt.prototype.Oa;mo.prototype.digest=mo.prototype.l;mo.prototype.reset=mo.prototype.reset;mo.prototype.update=mo.prototype.j;ft.prototype.add=ft.prototype.add;ft.prototype.multiply=ft.prototype.R;ft.prototype.modulo=ft.prototype.gb;ft.prototype.compare=ft.prototype.X;ft.prototype.toNumber=ft.prototype.ea;ft.prototype.toString=ft.prototype.toString;ft.prototype.getBits=ft.prototype.D;ft.fromNumber=Mo;ft.fromString=pK;var uEe=function(){return new n_},fEe=function(){return $1()},RA=D1,dEe=k7,hEe=zc,c3={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jv=O7,pEe=Qt,mEe=mo,yf=ft;const u3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new mk("@firebase/firestore");function Bh(){return jc.logLevel}function ie(t,...e){if(jc.logLevel<=Ye.DEBUG){const r=e.map(Bj);jc.debug(`Firestore (${eh}): ${t}`,...r)}}function Qo(t,...e){if(jc.logLevel<=Ye.ERROR){const r=e.map(Bj);jc.error(`Firestore (${eh}): ${t}`,...r)}}function fd(t,...e){if(jc.logLevel<=Ye.WARN){const r=e.map(Bj);jc.warn(`Firestore (${eh}): ${t}`,...r)}}function Bj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${eh}) INTERNAL ASSERTION FAILED: `+t;throw Qo(e),new Error(e)}function At(t,e){t||we()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Lc{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(an.UNAUTHENTICATED))}shutdown(){}}class gEe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class vEe{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let o=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xs)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(At(typeof n.accessToken=="string"),new mK(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new an(e)}}class bEe{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xEe{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new bEe(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _Ee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wEe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const n=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(At(typeof r.token=="string"),this.R=r.token,new _Ee(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SEe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=SEe(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%e.length))}return n}}function ot(t,e){return t<e?-1:t>e?1:0}function dd(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new pe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new pe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new pe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pr.fromMillis(Date.now())}static fromDate(e){return pr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new pr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new pr(0,0))}static max(){return new Ae(new pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,r,n){r===void 0?r=0:r>e.length&&we(),n===void 0?n=e.length-r:n>e.length-r&&we(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Xm.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Xm?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=e.get(i),s=r.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Rt extends Xm{construct(e,r,n){return new Rt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new pe(K.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Rt(r)}static emptyPath(){return new Rt([])}}const EEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends Xm{construct(e,r,n){return new zr(e,r,n)}static isValidIdentifier(e){return EEe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new pe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new pe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(n+=a,i++):(o(),i++)}if(o(),s)throw new pe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(r)}static emptyPath(){return new zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Rt.fromString(e))}static fromName(e){return new ve(Rt.fromString(e).popFirst(5))}static empty(){return new ve(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Rt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Rt(e.slice()))}}function AEe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(n===1e9?new pr(r+1,0):new pr(r,n));return new Ja(i,ve.empty(),e)}function CEe(t){return new Ja(t.readTime,t.key,-1)}class Ja{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ja(Ae.min(),ve.empty(),-1)}static max(){return new Ja(Ae.max(),ve.empty(),-1)}}function PEe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ve.comparator(t.documentKey,e.documentKey),r!==0?r:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TEe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IEe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==TEe)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new H((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof H?r:H.resolve(r)}catch(r){return H.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):H.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):H.reject(r)}static resolve(e){return new H((r,n)=>{r(e)})}static reject(e){return new H((r,n)=>{n(e)})}static waitFor(e){return new H((r,n)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&r()},l=>n(l))}),s=!0,o===i&&r()})}static or(e){let r=H.resolve(!1);for(const n of e)r=r.next(i=>i?H.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new H((n,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;r(e[c]).next(f=>{s[c]=f,++a,a===o&&n(s)},f=>i(f))}})}static doWhile(e,r){return new H((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new xs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new qp(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=Vj(n.target.error);this.V.reject(new qp(e,i))}}static open(e,r,n,i){try{return new Uj(r,e.transaction(i,n))}catch(o){throw new qp(r,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new kEe(r)}}class Vl{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Vl.S(xm())===12.2&&Qo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ie("SimpleDb","Removing database:",e),jl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!wW())return!1;if(Vl.C())return!0;const e=xm(),r=Vl.S(e),n=0<r&&r<10,i=Vl.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const r=e.match(/Android ([\d.]+)/i),n=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(ie("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;r(s)},i.onblocked=()=>{n(new qp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?n(new pe(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new pe(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new qp(e,s))},i.onupgradeneeded=o=>{ie("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{ie("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=r=>this.B(r)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const o=r==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=Uj.open(this.db,e,o?"readonly":"readwrite",n),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),H.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(ie("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class NEe{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return jl(this.k.delete())}}class qp extends pe{constructor(e,r){super(K.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Vg(t){return t.name==="IndexedDbTransactionError"}class kEe{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(ie("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),jl(n)}add(e){return ie("SimpleDb","ADD",this.store.name,e,e),jl(this.store.add(e))}get(e){return jl(this.store.get(e)).next(r=>(r===void 0&&(r=null),ie("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ie("SimpleDb","DELETE",this.store.name,e),jl(this.store.delete(e))}count(){return ie("SimpleDb","COUNT",this.store.name),jl(this.store.count())}W(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(n.range);return new H((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(n),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new H((i,o)=>{n.onerror=s=>{o(s.target.error)},n.onsuccess=s=>{i(s.target.result)}})}H(e,r){ie("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.J=!1;const i=this.cursor(n);return this.G(i,(o,s,a)=>a.delete())}Y(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.G(i,r)}Z(e){const r=this.cursor({});return new H((n,i)=>{r.onerror=o=>{const s=Vj(o.target.error);i(s)},r.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():n()}):n()}})}G(e,r){const n=[];return new H((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new NEe(a),c=r(a.primaryKey,a.value,l);if(c instanceof H){const f=c.catch(d=>(l.done(),H.reject(d)));n.push(f)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>H.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function jl(t){return new H((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=Vj(n.target.error);r(i)}})}let f3=!1;function Vj(t){const e=Vl.S(xm());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return f3||(f3=!0,setTimeout(()=>{throw n},0)),n}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.se(n),this.oe=n=>r.writeSequenceNumber(n))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Wj._e=-1;function G1(t){return t==null}function s_(t){return t===0&&1/t==-1/0}function OEe(t){return typeof t=="number"&&Number.isInteger(t)&&!s_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function th(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function gK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,r){this.comparator=e,this.root=r||Br.EMPTY}insert(e,r){return new Wt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zv(this.root,e,this.comparator,!0)}}class Zv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??Br.RED,this.left=i??Br.EMPTY,this.right=o??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new Br(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Br.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1;Br.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,r,n,i,o){return this}insert(e,r,n){return new Br(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new h3(this.data.getIterator())}getIteratorFrom(e){return new h3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Qr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Qr(this.comparator);return r.data=e,r}}class h3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new so([])}unionWith(e){let r=new Qr(zr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new so(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return dd(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vK("Invalid base64 string: "+o):o}}(e);return new mn(r)}static fromUint8Array(e){const r=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new mn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const jEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(t){if(At(!!t),typeof t=="string"){let e=0;const r=jEe.exec(t);if(At(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:rr(t.seconds),nanos:rr(t.nanos)}}function rr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rc(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Gj(t){const e=t.mapValue.fields.__previous_value__;return zj(e)?Gj(e):e}function Jm(t){const e=Za(t.mapValue.fields.__local_write_time__.timestampValue);return new pr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class REe{constructor(e,r,n,i,o,s,a,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Zm{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Zm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $c(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zj(t)?4:$Ee(t)?9007199254740991:10:we()}function Yo(t,e){if(t===e)return!0;const r=$c(t);if(r!==$c(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jm(t).isEqual(Jm(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Za(i.timestampValue),a=Za(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Rc(i.bytesValue).isEqual(Rc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return rr(i.geoPointValue.latitude)===rr(o.geoPointValue.latitude)&&rr(i.geoPointValue.longitude)===rr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return rr(i.integerValue)===rr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=rr(i.doubleValue),a=rr(o.doubleValue);return s===a?s_(s)===s_(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return dd(t.arrayValue.values||[],e.arrayValue.values||[],Yo);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(d3(s)!==d3(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Yo(s[l],a[l])))return!1;return!0}(t,e);default:return we()}}function ey(t,e){return(t.values||[]).find(r=>Yo(r,e))!==void 0}function hd(t,e){if(t===e)return 0;const r=$c(t),n=$c(e);if(r!==n)return ot(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=rr(o.integerValue||o.doubleValue),l=rr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return p3(t.timestampValue,e.timestampValue);case 4:return p3(Jm(t),Jm(e));case 5:return ot(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Rc(o),l=Rc(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=ot(a[c],l[c]);if(f!==0)return f}return ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ot(rr(o.latitude),rr(s.latitude));return a!==0?a:ot(rr(o.longitude),rr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const f=hd(a[c],l[c]);if(f)return f}return ot(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===e0.mapValue&&s===e0.mapValue)return 0;if(o===e0.mapValue)return 1;if(s===e0.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let d=0;d<l.length&&d<f.length;++d){const h=ot(l[d],f[d]);if(h!==0)return h;const p=hd(a[l[d]],c[f[d]]);if(p!==0)return p}return ot(l.length,f.length)}(t.mapValue,e.mapValue);default:throw we()}}function p3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const r=Za(t),n=Za(e),i=ot(r.seconds,n.seconds);return i!==0?i:ot(r.nanos,n.nanos)}function pd(t){return BT(t)}function BT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Za(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Rc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ve.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=BT(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${BT(r.fields[s])}`;return i+"}"}(t.mapValue):we()}function UT(t){return!!t&&"integerValue"in t}function qj(t){return!!t&&"arrayValue"in t}function m3(t){return!!t&&"nullValue"in t}function y3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nb(t){return!!t&&"mapValue"in t}function Hp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return th(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Hp(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Hp(t.arrayValue.values[r]);return e}return Object.assign({},t)}function $Ee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!nb(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hp(r)}setAll(e){let r=zr.emptyPath(),n={},i=[];e.forEach((s,a)=>{if(!r.isImmediateParentOf(a)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=a.popLast()}s?n[a.lastSegment()]=Hp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());nb(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Yo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];nb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){th(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new Pi(Hp(this.value))}}function bK(t){const e=[];return th(t.fields,(r,n)=>{const i=new zr([r]);if(nb(n)){const o=bK(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new so(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,r,n,i,o,s,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new cn(e,0,Ae.min(),Ae.min(),Ae.min(),Pi.empty(),0)}static newFoundDocument(e,r,n,i){return new cn(e,1,r,Ae.min(),n,i,0)}static newNoDocument(e,r){return new cn(e,2,r,Ae.min(),Ae.min(),Pi.empty(),0)}static newUnknownDocument(e,r){return new cn(e,3,r,Ae.min(),Ae.min(),Pi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,r){this.position=e,this.inclusive=r}}function g3(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?n=ve.comparator(ve.fromName(s.referenceValue),r.key):n=hd(s,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function v3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Yo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,r="asc"){this.field=e,this.dir=r}}function DEe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{}class fr extends xK{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new FEe(e,r,n):r==="array-contains"?new UEe(e,n):r==="in"?new VEe(e,n):r==="not-in"?new WEe(e,n):r==="array-contains-any"?new zEe(e,n):new fr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new LEe(e,n):new BEe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(hd(r,this.value)):r!==null&&$c(this.value)===$c(r)&&this.matchesComparison(hd(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xo extends xK{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new Xo(e,r)}matches(e){return _K(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function _K(t){return t.op==="and"}function wK(t){return MEe(t)&&_K(t)}function MEe(t){for(const e of t.filters)if(e instanceof Xo)return!1;return!0}function VT(t){if(t instanceof fr)return t.field.canonicalString()+t.op.toString()+pd(t.value);if(wK(t))return t.filters.map(e=>VT(e)).join(",");{const e=t.filters.map(r=>VT(r)).join(",");return`${t.op}(${e})`}}function SK(t,e){return t instanceof fr?function(n,i){return i instanceof fr&&n.op===i.op&&n.field.isEqual(i.field)&&Yo(n.value,i.value)}(t,e):t instanceof Xo?function(n,i){return i instanceof Xo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,s,a)=>o&&SK(s,i.filters[a]),!0):!1}(t,e):void we()}function EK(t){return t instanceof fr?function(r){return`${r.field.canonicalString()} ${r.op} ${pd(r.value)}`}(t):t instanceof Xo?function(r){return r.op.toString()+" {"+r.getFilters().map(EK).join(" ,")+"}"}(t):"Filter"}class FEe extends fr{constructor(e,r,n){super(e,r,n),this.key=ve.fromName(n.referenceValue)}matches(e){const r=ve.comparator(e.key,this.key);return this.matchesComparison(r)}}class LEe extends fr{constructor(e,r){super(e,"in",r),this.keys=AK("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class BEe extends fr{constructor(e,r){super(e,"not-in",r),this.keys=AK("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function AK(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ve.fromName(n.referenceValue))}class UEe extends fr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return qj(r)&&ey(r.arrayValue,this.value)}}class VEe extends fr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ey(this.value.arrayValue,r)}}class WEe extends fr{constructor(e,r){super(e,"not-in",r)}matches(e){if(ey(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!ey(this.value.arrayValue,r)}}class zEe extends fr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!qj(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>ey(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GEe{constructor(e,r=null,n=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function b3(t,e=null,r=[],n=[],i=null,o=null,s=null){return new GEe(t,e,r,n,i,o,s)}function Hj(t){const e=Pe(t);if(e.ce===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>VT(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),G1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>pd(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>pd(n)).join(",")),e.ce=r}return e.ce}function Kj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!DEe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!SK(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v3(t.startAt,e.startAt)&&v3(t.endAt,e.endAt)}function WT(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,r=null,n=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function qEe(t,e,r,n,i,o,s,a){return new q1(t,e,r,n,i,o,s,a)}function CK(t){return new q1(t)}function x3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HEe(t){return t.collectionGroup!==null}function Kp(t){const e=Pe(t);if(e.le===null){e.le=[];const r=new Set;for(const o of e.explicitOrderBy)e.le.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qr(zr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.le.push(new l_(o,n))}),r.has(zr.keyField().canonicalString())||e.le.push(new l_(zr.keyField(),n))}return e.le}function Wo(t){const e=Pe(t);return e.he||(e.he=KEe(e,Kp(t))),e.he}function KEe(t,e){if(t.limitType==="F")return b3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new l_(i.field,o)});const r=t.endAt?new a_(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new a_(t.startAt.position,t.startAt.inclusive):null;return b3(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function zT(t,e,r){return new q1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function H1(t,e){return Kj(Wo(t),Wo(e))&&t.limitType===e.limitType}function PK(t){return`${Hj(Wo(t))}|lt:${t.limitType}`}function Su(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>EK(i)).join(", ")}]`),G1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>pd(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>pd(i)).join(",")),`Target(${n})`}(Wo(t))}; limitType=${t.limitType})`}function K1(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ve.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of Kp(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,a,l){const c=g3(s,a,l);return s.inclusive?c<=0:c<0}(n.startAt,Kp(n),i)||n.endAt&&!function(s,a,l){const c=g3(s,a,l);return s.inclusive?c>=0:c>0}(n.endAt,Kp(n),i))}(t,e)}function QEe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TK(t){return(e,r)=>{let n=!1;for(const i of Kp(t)){const o=YEe(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function YEe(t,e,r){const n=t.field.isKeyField()?ve.comparator(e.key,r.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?hd(l,c):we()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){th(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return gK(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XEe=new Wt(ve.comparator);function Ns(){return XEe}const IK=new Wt(ve.comparator);function yp(...t){let e=IK;for(const r of t)e=e.insert(r.key,r);return e}function NK(t){let e=IK;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Wl(){return Qp()}function kK(){return Qp()}function Qp(){return new rh(t=>t.toString(),(t,e)=>t.isEqual(e))}const JEe=new Wt(ve.comparator),ZEe=new Qr(ve.comparator);function We(...t){let e=ZEe;for(const r of t)e=e.add(r);return e}const eAe=new Qr(ot);function tAe(){return eAe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s_(e)?"-0":e}}function jK(t){return{integerValue:""+t}}function rAe(t,e){return OEe(e)?jK(e):OK(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this._=void 0}}function nAe(t,e,r){return t instanceof c_?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zj(o)&&(o=Gj(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(r,e):t instanceof ty?$K(t,e):t instanceof ry?DK(t,e):function(i,o){const s=RK(i,o),a=_3(s)+_3(i.Ie);return UT(s)&&UT(i.Ie)?jK(a):OK(i.serializer,a)}(t,e)}function iAe(t,e,r){return t instanceof ty?$K(t,e):t instanceof ry?DK(t,e):r}function RK(t,e){return t instanceof u_?function(n){return UT(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class c_ extends Q1{}class ty extends Q1{constructor(e){super(),this.elements=e}}function $K(t,e){const r=MK(e);for(const n of t.elements)r.some(i=>Yo(i,n))||r.push(n);return{arrayValue:{values:r}}}class ry extends Q1{constructor(e){super(),this.elements=e}}function DK(t,e){let r=MK(e);for(const n of t.elements)r=r.filter(i=>!Yo(i,n));return{arrayValue:{values:r}}}class u_ extends Q1{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function _3(t){return rr(t.integerValue||t.doubleValue)}function MK(t){return qj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oAe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof ty&&i instanceof ty||n instanceof ry&&i instanceof ry?dd(n.elements,i.elements,Yo):n instanceof u_&&i instanceof u_?Yo(n.Ie,i.Ie):n instanceof c_&&i instanceof c_}(t.transform,e.transform)}class sAe{constructor(e,r){this.version=e,this.transformResults=r}}class zo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new zo}static exists(e){return new zo(void 0,e)}static updateTime(e){return new zo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ib(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Y1{}function FK(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qj(t.key,zo.none()):new Wg(t.key,t.data,zo.none());{const r=t.data,n=Pi.empty();let i=new Qr(zr.comparator);for(let o of e.fields)if(!i.has(o)){let s=r.field(o);s===null&&o.length>1&&(o=o.popLast(),s=r.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new Gc(t.key,n,new so(i.toArray()),zo.none())}}function aAe(t,e,r){t instanceof Wg?function(i,o,s){const a=i.value.clone(),l=S3(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,r):t instanceof Gc?function(i,o,s){if(!ib(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=S3(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(LK(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function Yp(t,e,r,n){return t instanceof Wg?function(o,s,a,l){if(!ib(o.precondition,s))return a;const c=o.value.clone(),f=E3(o.fieldTransforms,l,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Gc?function(o,s,a,l){if(!ib(o.precondition,s))return a;const c=E3(o.fieldTransforms,l,s),f=s.data;return f.setAll(LK(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(o,s,a){return ib(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,r)}function lAe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=RK(n.transform,i||null);o!=null&&(r===null&&(r=Pi.empty()),r.set(n.field,o))}return r||null}function w3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&dd(n,i,(o,s)=>oAe(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wg extends Y1{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gc extends Y1{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LK(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function S3(t,e,r){const n=new Map;At(t.length===r.length);for(let i=0;i<r.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);n.set(o.field,iAe(s,a,r[i]))}return n}function E3(t,e,r){const n=new Map;for(const i of t){const o=i.transform,s=r.data.field(i.field);n.set(i.field,nAe(o,s,e))}return n}class Qj extends Y1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cAe extends Y1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uAe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&aAe(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Yp(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Yp(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=kK();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=r.has(i.key)?null:a;const l=FK(s,a);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ae.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),We())}isEqual(e){return this.batchId===e.batchId&&dd(this.mutations,e.mutations,(r,n)=>w3(r,n))&&dd(this.baseMutations,e.baseMutations,(r,n)=>w3(r,n))}}class Yj{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){At(e.mutations.length===n.length);let i=function(){return JEe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new Yj(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fAe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dAe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,He;function hAe(t){switch(t){default:return we();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function BK(t){if(t===void 0)return Qo("GRPC error has no .code"),K.UNKNOWN;switch(t){case tr.OK:return K.OK;case tr.CANCELLED:return K.CANCELLED;case tr.UNKNOWN:return K.UNKNOWN;case tr.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case tr.INTERNAL:return K.INTERNAL;case tr.UNAVAILABLE:return K.UNAVAILABLE;case tr.UNAUTHENTICATED:return K.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case tr.NOT_FOUND:return K.NOT_FOUND;case tr.ALREADY_EXISTS:return K.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return K.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case tr.ABORTED:return K.ABORTED;case tr.OUT_OF_RANGE:return K.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return K.UNIMPLEMENTED;case tr.DATA_LOSS:return K.DATA_LOSS;default:return we()}}(He=tr||(tr={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pAe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mAe=new yf([4294967295,4294967295],0);function A3(t){const e=pAe().encode(t),r=new mEe;return r.update(e),new Uint8Array(r.digest())}function C3(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new yf([r,n],0),new yf([i,o],0)]}class Xj{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new gp(`Invalid padding: ${r}`);if(n<0)throw new gp(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new gp(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new gp(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=yf.fromNumber(this.Te)}de(e,r,n){let i=e.add(r.multiply(yf.fromNumber(n)));return i.compare(mAe)===1&&(i=new yf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const r=A3(e),[n,i]=C3(r);for(let o=0;o<this.hashCount;o++){const s=this.de(n,i,o);if(!this.Ae(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Xj(o,i,r);return n.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const r=A3(e),[n,i]=C3(r);for(let o=0;o<this.hashCount;o++){const s=this.de(n,i,o);this.Re(s)}}Re(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class gp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,zg.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new X1(Ae.min(),i,new Wt(ot),Ns(),We())}}class zg{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new zg(n,r,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,r,n,i){this.Ve=e,this.removedTargetIds=r,this.key=n,this.me=i}}class UK{constructor(e,r){this.targetId=e,this.fe=r}}class VK{constructor(e,r,n=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class P3{constructor(){this.ge=0,this.pe=I3(),this.ye=mn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=We(),r=We(),n=We();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:we()}}),new zg(this.ye,this.we,e,r,n)}Fe(){this.Se=!1,this.pe=I3()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,At(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yAe{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ns(),this.Qe=T3(),this.Ke=new Wt(ot)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const n=this.ze(r);switch(e.state){case 0:this.je(r)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(r);break;case 3:this.je(r)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),n.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((n,i)=>{this.je(i)&&r(i)})}Je(e){const r=e.targetId,n=e.fe.count,i=this.Ye(r);if(i){const o=i.target;if(WT(o))if(n===0){const s=new ve(o.path);this.We(r,s,cn.newNoDocument(s,Ae.min()))}else At(n===1);else{const s=this.Ze(r);if(s!==n){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,c)}}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let s,a;try{s=Rc(n).toUint8Array()}catch(l){if(l instanceof vK)return fd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Xj(s,i,o)}catch(l){return fd(l instanceof gp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,r,n){return r.fe.count===n-this.rt(e,r.targetId)?0:2}rt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(r,o,null),i++)}),i}it(e){const r=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&WT(a.target)){const l=new ve(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,cn.newNoDocument(l,e))}o.De&&(r.set(s,o.ve()),o.Fe())}});let n=We();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new X1(e,r,this.Ke,this.qe,n);return this.qe=Ns(),this.Qe=T3(),this.Ke=new Wt(ot),i}Ue(e,r){if(!this.je(e))return;const n=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,n),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,n){if(!this.je(e))return;const i=this.ze(e);this.st(e,r)?i.Me(r,1):i.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),n&&(this.qe=this.qe.insert(r,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new P3,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new Qr(ot),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=this.Ye(e)!==null;return r||ie("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new P3),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function T3(){return new Wt(ve.comparator)}function I3(){return new Wt(ve.comparator)}const gAe={asc:"ASCENDING",desc:"DESCENDING"},vAe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bAe={and:"AND",or:"OR"};class xAe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function GT(t,e){return t.useProto3Json||G1(e)?e:{value:e}}function f_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WK(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _Ae(t,e){return f_(t,e.toTimestamp())}function Go(t){return At(!!t),Ae.fromTimestamp(function(r){const n=Za(r);return new pr(n.seconds,n.nanos)}(t))}function Jj(t,e){return qT(t,e).canonicalString()}function qT(t,e){const r=function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function zK(t){const e=Rt.fromString(t);return At(QK(e)),e}function HT(t,e){return Jj(t.databaseId,e.path)}function $A(t,e){const r=zK(e);if(r.get(1)!==t.databaseId.projectId)throw new pe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new pe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ve(qK(r))}function GK(t,e){return Jj(t.databaseId,e)}function wAe(t){const e=zK(t);return e.length===4?Rt.emptyPath():qK(e)}function KT(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qK(t){return At(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function N3(t,e,r){return{name:HT(t,e),fields:r.value.mapValue.fields}}function SAe(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(At(f===void 0||typeof f=="string"),mn.fromBase64String(f||"")):(At(f===void 0||f instanceof Uint8Array),mn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const f=c.code===void 0?K.UNKNOWN:BK(c.code);return new pe(f,c.message||"")}(s);r=new VK(n,i,o,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=$A(t,n.document.name),o=Go(n.document.updateTime),s=n.document.createTime?Go(n.document.createTime):Ae.min(),a=new Pi({mapValue:{fields:n.document.fields}}),l=cn.newFoundDocument(i,o,s,a),c=n.targetIds||[],f=n.removedTargetIds||[];r=new ob(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=$A(t,n.document),o=n.readTime?Go(n.readTime):Ae.min(),s=cn.newNoDocument(i,o),a=n.removedTargetIds||[];r=new ob([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=$A(t,n.document),o=n.removedTargetIds||[];r=new ob([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new dAe(i,o),a=n.targetId;r=new UK(a,s)}}return r}function EAe(t,e){let r;if(e instanceof Wg)r={update:N3(t,e.key,e.value)};else if(e instanceof Qj)r={delete:HT(t,e.key)};else if(e instanceof Gc)r={update:N3(t,e.key,e.data),updateMask:jAe(e.fieldMask)};else{if(!(e instanceof cAe))return we();r={verify:HT(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,s){const a=s.transform;if(a instanceof c_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ty)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ry)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof u_)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw we()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_Ae(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(t,e.precondition)),r}function AAe(t,e){return t&&t.length>0?(At(e!==void 0),t.map(r=>function(i,o){let s=i.updateTime?Go(i.updateTime):Go(o);return s.isEqual(Ae.min())&&(s=Go(o)),new sAe(s,i.transformResults||[])}(r,e))):[]}function CAe(t,e){return{documents:[GK(t,e.path)]}}function PAe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=GK(t,i);const o=function(c){if(c.length!==0)return KK(Xo.create(c,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(f=>function(h){return{field:Eu(h.field),direction:NAe(h.dir)}}(f))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const a=GT(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:r,parent:i}}function TAe(t){let e=wAe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){At(n===1);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];r.where&&(o=function(d){const h=HK(d);return h instanceof Xo&&wK(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(h=>function(m){return new l_(Au(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let a=null;r.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,G1(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new a_(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new a_(p,h)}(r.endAt)),qEe(e,i,s,o,a,"F",l,c)}function IAe(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function HK(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Au(r.unaryFilter.field);return fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Au(r.unaryFilter.field);return fr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Au(r.unaryFilter.field);return fr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Au(r.unaryFilter.field);return fr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(r){return fr.create(Au(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Xo.create(r.compositeFilter.filters.map(n=>HK(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(r.compositeFilter.op))}(t):we()}function NAe(t){return gAe[t]}function kAe(t){return vAe[t]}function OAe(t){return bAe[t]}function Eu(t){return{fieldPath:t.canonicalString()}}function Au(t){return zr.fromServerFormat(t.fieldPath)}function KK(t){return t instanceof fr?function(r){if(r.op==="=="){if(y3(r.value))return{unaryFilter:{field:Eu(r.field),op:"IS_NAN"}};if(m3(r.value))return{unaryFilter:{field:Eu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(y3(r.value))return{unaryFilter:{field:Eu(r.field),op:"IS_NOT_NAN"}};if(m3(r.value))return{unaryFilter:{field:Eu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(r.field),op:kAe(r.op),value:r.value}}}(t):t instanceof Xo?function(r){const n=r.getFilters().map(i=>KK(i));return n.length===1?n[0]:{compositeFilter:{op:OAe(r.op),filters:n}}}(t):we()}function jAe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function QK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,r,n,i,o=Ae.min(),s=Ae.min(),a=mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RAe{constructor(e){this.ct=e}}function $Ae(t){const e=TAe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DAe{constructor(){this._n=new MAe}addToCollectionParentIndex(e,r){return this._n.add(r),H.resolve()}getCollectionParents(e,r){return H.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return H.resolve()}deleteFieldIndex(e,r){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,r){return H.resolve()}getDocumentsMatchingTarget(e,r){return H.resolve(null)}getIndexType(e,r){return H.resolve(0)}getFieldIndexes(e,r){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,r){return H.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,r){return H.resolve(Ja.min())}updateCollectionGroup(e,r,n){return H.resolve()}updateIndexEntries(e,r){return H.resolve()}}class MAe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Qr(Rt.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Qr(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new md(0)}static Bn(){return new md(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FAe{constructor(){this.changes=new rh(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?H.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LAe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BAe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Yp(n.mutation,i,so.empty(),pr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,We()).next(()=>n))}getLocalViewOfDocuments(e,r,n=We()){const i=Wl();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let s=yp();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Wl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,We()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{r.set(s,a)})})}computeViews(e,r,n,i){let o=Ns();const s=Qp(),a=function(){return Qp()}();return r.forEach((l,c)=>{const f=n.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Gc)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),Yp(f.mutation,c,f.mutation.getFieldMask(),pr.now())):s.set(c.key,so.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,f)=>s.set(c,f)),r.forEach((c,f)=>{var d;return a.set(c,new LAe(f,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,r){const n=Qp();let i=new Wt((s,a)=>s-a),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let f=n.get(l)||so.empty();f=a.applyToLocalView(c,f),n.set(l,f);const d=(i.get(a.batchId)||We()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,d=kK();f.forEach(h=>{if(!o.has(h)){const p=FK(r.get(h),n.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return H.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):HEe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):H.resolve(Wl());let a=-1,l=o;return s.next(c=>H.forEach(c,(f,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(f)?H.resolve():this.remoteDocumentCache.getEntry(e,f).next(h=>{l=l.insert(f,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,We())).next(f=>({batchId:a,changes:NK(f)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ve(r)).next(n=>{let i=yp();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let s=yp();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{const c=function(d,h){return new q1(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(f=>{f.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(s=>{o.forEach((l,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,cn.newInvalidDocument(f)))});let a=yp();return s.forEach((l,c)=>{const f=o.get(l);f!==void 0&&Yp(f.mutation,c,so.empty(),pr.now()),K1(r,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UAe{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return H.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Go(i.createTime)}}(r)),H.resolve()}getNamedQuery(e,r){return H.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,function(i){return{name:i.name,query:$Ae(i.bundledQuery),readTime:Go(i.readTime)}}(r)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VAe{constructor(){this.overlays=new Wt(ve.comparator),this.hr=new Map}getOverlay(e,r){return H.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Wl();return H.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.ht(e,r,o)}),H.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.hr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),H.resolve()}getOverlaysForCollection(e,r,n){const i=Wl(),o=r.length+1,s=new ve(r.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>n&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Wt((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let f=o.get(c.largestBatchId);f===null&&(f=Wl(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Wl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return H.resolve(a)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(n.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new fAe(r,n));let o=this.hr.get(r);o===void 0&&(o=We(),this.hr.set(r,o)),this.hr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.Pr=new Qr(Pr.Ir),this.Tr=new Qr(Pr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const n=new Pr(e,r);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Ar(new Pr(e,r))}Rr(e,r){e.forEach(n=>this.removeReference(n,r))}Vr(e){const r=new ve(new Rt([])),n=new Pr(r,e),i=new Pr(r,e+1),o=[];return this.Tr.forEachInRange([n,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new ve(new Rt([])),n=new Pr(r,e),i=new Pr(r,e+1);let o=We();return this.Tr.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(e){const r=new Pr(e,0),n=this.Pr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Pr{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return ve.comparator(e.key,r.key)||ot(e.pr,r.pr)}static Er(e,r){return ot(e.pr,r.pr)||ve.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WAe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Qr(Pr.Ir)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new uAe(o,r,n,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Pr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,r){return H.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.br(n),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Pr(r,0),i=new Pr(r,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,i],s=>{const a=this.Sr(s.pr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Qr(ot);return r.forEach(i=>{const o=new Pr(i,0),s=new Pr(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{n=n.add(a.pr)})}),H.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;ve.isDocumentKey(o)||(o=o.child(""));const s=new Pr(new ve(o),0);let a=new Qr(ot);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},s),H.resolve(this.Dr(a))}Dr(e){const r=[];return e.forEach(n=>{const i=this.Sr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){At(this.Cr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.wr;return H.forEach(r.mutations,i=>{const o=new Pr(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=n})}Mn(e){}containsKey(e,r){const n=new Pr(r,0),i=this.wr.firstAfterOrEqual(n);return H.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Cr(e,r){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zAe{constructor(e){this.vr=e,this.docs=function(){return new Wt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,s=this.vr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return H.resolve(n?n.document.mutableCopy():cn.newInvalidDocument(r))}getEntries(e,r){let n=Ns();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():cn.newInvalidDocument(i))}),H.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=Ns();const s=r.path,a=new ve(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||PEe(CEe(f),n)<=0||(i.has(f.key)||K1(r,f))&&(o=o.insert(f.key,f.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,r,n,i){we()}Fr(e,r){return H.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new GAe(this)}getSize(e){return H.resolve(this.size)}}class GAe extends FAe{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.ar.addEntry(e,i)):this.ar.removeEntry(n)}),H.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qAe{constructor(e){this.persistence=e,this.Mr=new rh(r=>Hj(r),Kj),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Zj,this.targetCount=0,this.Br=md.Nn()}forEachTarget(e,r){return this.Mr.forEach((n,i)=>r(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Or&&(this.Or=r),H.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Br=new md(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,H.resolve()}updateTargetData(e,r){return this.qn(r),H.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,r){const n=this.Mr.get(r)||null;return H.resolve(n)}addMatchingKeys(e,r,n){return this.Nr.dr(r,n),H.resolve()}removeMatchingKeys(e,r,n){this.Nr.Rr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),H.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Nr.gr(r);return H.resolve(n)}containsKey(e,r){return H.resolve(this.Nr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HAe{constructor(e,r){this.Lr={},this.overlays={},this.kr=new Wj(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new qAe(this),this.indexManager=new DAe,this.remoteDocumentCache=function(i){return new zAe(i)}(n=>this.referenceDelegate.Kr(n)),this.serializer=new RAe(r),this.$r=new UAe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new VAe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Lr[e.toKey()];return n||(n=new WAe(r,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,n){ie("MemoryPersistence","Starting transaction:",e);const i=new KAe(this.kr.next());return this.referenceDelegate.Ur(),n(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,r){return H.or(Object.values(this.Lr).map(n=>()=>n.containsKey(e,r)))}}class KAe extends IEe{constructor(e){super(),this.currentSequenceNumber=e}}class eR{constructor(e){this.persistence=e,this.zr=new Zj,this.jr=null}static Hr(e){return new eR(e)}get Jr(){if(this.jr)return this.jr;throw we()}addReference(e,r,n){return this.zr.addReference(n,r),this.Jr.delete(n.toString()),H.resolve()}removeReference(e,r,n){return this.zr.removeReference(n,r),this.Jr.add(n.toString()),H.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),H.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(i=>this.Jr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,n=>{const i=ve.fromPath(n);return this.Yr(e,i).next(o=>{o||r.removeEntry(i,Ae.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(n=>{n?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return H.or([()=>H.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.qi=n,this.Qi=i}static Ki(e,r){let n=We(),i=We();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tR(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QAe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YAe{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return sre()?8:Vl.v(xm())>0?6:4}()}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ji(e,r).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,r,i,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new QAe;return this.Ji(e,r,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,r,s,a.size)})}).next(()=>o.result)}Yi(e,r,n,i){return n.documentReadCount<this.Wi?(Bh()<=Ye.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Su(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(Bh()<=Ye.DEBUG&&ie("QueryEngine","Query:",Su(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Gi*i?(Bh()<=Ye.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Su(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wo(r))):H.resolve())}ji(e,r){if(x3(r))return H.resolve(null);let n=Wo(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=zT(r,null,"F"),n=Wo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const s=We(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Zi(r,a);return this.Xi(r,c,s,l.readTime)?this.ji(e,zT(r,null,"F")):this.es(e,c,r,l)}))})))}Hi(e,r,n,i){return x3(r)||i.isEqual(Ae.min())?H.resolve(null):this.zi.getDocuments(e,n).next(o=>{const s=this.Zi(r,o);return this.Xi(r,s,n,i)?H.resolve(null):(Bh()<=Ye.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Su(r)),this.es(e,s,r,AEe(i,-1)).next(a=>a))})}Zi(e,r){let n=new Qr(TK(e));return r.forEach((i,o)=>{K1(e,o)&&(n=n.add(o))}),n}Xi(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,r,n){return Bh()<=Ye.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Su(r)),this.zi.getDocumentsMatchingQuery(e,r,Ja.min(),n)}es(e,r,n,i){return this.zi.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XAe{constructor(e,r,n,i){this.persistence=e,this.ts=r,this.serializer=i,this.ns=new Wt(ot),this.rs=new rh(o=>Hj(o),Kj),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BAe(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function JAe(t,e,r,n){return new XAe(t,e,r,n)}async function YK(t,e){const r=Pe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r._s(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],a=[];let l=We();for(const c of i){s.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of o){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}function ZAe(t,e){const r=Pe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const d=c.batch,h=d.keys();let p=H.resolve();return h.forEach(m=>{p=p.next(()=>f.getEntry(l,m)).next(y=>{const v=c.docVersions.get(m);At(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),f.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=We();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function XK(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function eCe(t,e){const r=Pe(t),n=e.snapshotVersion;let i=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=r.os.newChangeBuffer({trackRemovals:!0});i=r.ns;const a=[];e.targetChanges.forEach((f,d)=>{const h=i.get(d);if(!h)return;a.push(r.Qr.removeMatchingKeys(o,f.removedDocuments,d).next(()=>r.Qr.addMatchingKeys(o,f.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(mn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,n)),i=i.insert(d,p),function(y,v,b){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,f)&&a.push(r.Qr.updateTargetData(o,p))});let l=Ns(),c=We();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(tCe(o,s,e.documentUpdates).next(f=>{l=f.cs,c=f.ls})),!n.isEqual(Ae.min())){const f=r.Qr.getLastRemoteSnapshotVersion(o).next(d=>r.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(f)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(r.ns=i,o))}function tCe(t,e,r){let n=We(),i=We();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let s=Ns();return r.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:s,ls:i}})}function rCe(t,e){const r=Pe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function nCe(t,e){const r=Pe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Qr.getTargetData(n,e).next(o=>o?(i=o,H.resolve(i)):r.Qr.allocateTargetId(n).next(s=>(i=new Sa(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Qr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.ns.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.ns=r.ns.insert(n.targetId,n),r.rs.set(e,n.targetId)),n})}async function QT(t,e,r){const n=Pe(t),i=n.ns.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Vg(s))throw s;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.ns=n.ns.remove(e),n.rs.delete(i.target)}function k3(t,e,r){const n=Pe(t);let i=Ae.min(),o=We();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,f){const d=Pe(l),h=d.rs.get(f);return h!==void 0?H.resolve(d.ns.get(h)):d.Qr.getTargetData(c,f)}(n,s,Wo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>n.ts.getDocumentsMatchingQuery(s,e,r?i:Ae.min(),r?o:We())).next(a=>(iCe(n,QEe(e),a),{documents:a,hs:o})))}function iCe(t,e,r){let n=t.ss.get(e)||Ae.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.ss.set(e,n)}class O3{constructor(){this.activeTargetIds=tAe()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oCe{constructor(){this.no=new O3,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,n){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new O3,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sCe{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0=null;function DA(){return t0===null?t0=function(){return 268435456+Math.round(2147483648*Math.random())}():t0++,"0x"+t0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aCe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lCe{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class cCe extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+r.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(r,n,i,o,s){const a=DA(),l=this.bo(r,n.toUriEncodedString());ie("RestConnection",`Sending RPC '${r}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,o,s),this.Co(r,l,c,i).then(f=>(ie("RestConnection",`Received RPC '${r}' ${a}: `,f),f),f=>{throw fd("RestConnection",`RPC '${r}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}vo(r,n,i,o,s,a){return this.So(r,n,i,o,s)}Do(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eh}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>r[s]=o),i&&i.headers.forEach((o,s)=>r[s]=o)}bo(r,n){const i=aCe[r];return`${this.fo}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,r,n,i){const o=DA();return new Promise((s,a)=>{const l=new pEe;l.setWithCredentials(!0),l.listenOnce(dEe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case RA.NO_ERROR:const f=l.getResponseJson();ie(nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case RA.TIMEOUT:ie(nn,`RPC '${e}' ${o} timed out`),a(new pe(K.DEADLINE_EXCEEDED,"Request time out"));break;case RA.HTTP_ERROR:const d=l.getStatus();if(ie(nn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(b)>=0?b:K.UNKNOWN}(p.status);a(new pe(m,p.message))}else a(new pe(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new pe(K.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ie(nn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ie(nn,`RPC '${e}' ${o} sending request:`,i),l.send(r,"POST",c,n,15)})}Fo(e,r,n){const i=DA(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uEe(),a=fEe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=o.join("");ie(nn,`Creating RPC '${e}' stream ${i}: ${f}`,l);const d=s.createWebChannel(f,l);let h=!1,p=!1;const m=new lCe({lo:v=>{p?ie(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ie(nn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ie(nn,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},ho:()=>d.close()}),y=(v,b,g)=>{v.listen(b,x=>{try{g(x)}catch(S){setTimeout(()=>{throw S},0)}})};return y(d,Jv.EventType.OPEN,()=>{p||ie(nn,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Jv.EventType.CLOSE,()=>{p||(p=!0,ie(nn,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(d,Jv.EventType.ERROR,v=>{p||(p=!0,fd(nn,`RPC '${e}' stream ${i} transport errored:`,v),m.Vo(new pe(K.UNAVAILABLE,"The operation could not be completed")))}),y(d,Jv.EventType.MESSAGE,v=>{var b;if(!p){const g=v.data[0];At(!!g);const x=g,S=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(S){ie(nn,`RPC '${e}' stream ${i} received error:`,S);const w=S.status;let _=function(T){const P=tr[T];if(P!==void 0)return BK(P)}(w),A=S.message;_===void 0&&(_=K.INTERNAL,A="Unknown error status: "+w+" with message "+S.message),p=!0,m.Vo(new pe(_,A)),d.close()}else ie(nn,`RPC '${e}' stream ${i} received:`,g),m.mo(g)}}),y(a,hEe.STAT_EVENT,v=>{v.stat===c3.PROXY?ie(nn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===c3.NOPROXY&&ie(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function MA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){return new xAe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,r,n=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=r,this.Mo=n,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const r=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),i=Math.max(0,r-n);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e,r,n,i,o,s,a,l){this.oi=e,this.$o=n,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new JK(e,r)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,r){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():r&&r.code===K.RESOURCE_EXHAUSTED?(Qo(r.toString()),Qo("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):r&&r.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(r)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Wo===r&&this.o_(n,i)},n=>{e(()=>{const i=new pe(K.UNKNOWN,"Fetching auth token failed: "+n.message);return this.__(i)})})}o_(e,r){const n=this.s_(this.Wo);this.stream=this.a_(e,r),this.stream.Po(()=>{n(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{n(()=>this.__(i))}),this.stream.onMessage(i=>{n(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return r=>{this.oi.enqueueAndForget(()=>this.Wo===e?r():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uCe extends ZK{constructor(e,r,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}a_(e,r){return this.connection.Fo("Listen",e,r)}onMessage(e){this.jo.reset();const r=SAe(this.serializer,e),n=function(o){if(!("targetChange"in o))return Ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?Go(s.readTime):Ae.min()}(e);return this.listener.u_(r,n)}c_(e){const r={};r.database=KT(this.serializer),r.addTarget=function(o,s){let a;const l=s.target;if(a=WT(l)?{documents:CAe(o,l)}:{query:PAe(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=WK(o,s.resumeToken);const c=GT(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ae.min())>0){a.readTime=f_(o,s.snapshotVersion.toTimestamp());const c=GT(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const n=IAe(this.serializer,e);n&&(r.labels=n),this.t_(r)}l_(e){const r={};r.database=KT(this.serializer),r.removeTarget=e,this.t_(r)}}class fCe extends ZK{constructor(e,r,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,r){return this.connection.Fo("Write",e,r)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const r=AAe(e.writeResults,e.commitTime),n=Go(e.commitTime);return this.listener.T_(n,r)}return At(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=KT(this.serializer),this.t_(e)}I_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>EAe(this.serializer,n))};this.t_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dCe extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new pe(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,qT(r,n),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(K.UNKNOWN,o.toString())})}vo(e,r,n,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,qT(r,n),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(K.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class hCe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Qo(r),this.g_=!1):ie("OnlineStateTracker",r)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pCe{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{n.enqueueAndForget(async()=>{qc(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Pe(l);c.v_.add(4),await Gg(c),c.x_.set("Unknown"),c.v_.delete(4),await Z1(c)}(this))})}),this.x_=new hCe(n,i)}}async function Z1(t){if(qc(t))for(const e of t.F_)await e(!0)}async function Gg(t){for(const e of t.F_)await e(!1)}function eQ(t,e){const r=Pe(t);r.C_.has(e.targetId)||(r.C_.set(e.targetId,e),iR(r)?nR(r):nh(r).Jo()&&rR(r,e))}function tQ(t,e){const r=Pe(t),n=nh(r);r.C_.delete(e),n.Jo()&&rQ(r,e),r.C_.size===0&&(n.Jo()?n.Xo():qc(r)&&r.x_.set("Unknown"))}function rR(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}nh(t).c_(e)}function rQ(t,e){t.O_.Oe(e),nh(t).l_(e)}function nR(t){t.O_=new yAe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),nh(t).start(),t.x_.p_()}function iR(t){return qc(t)&&!nh(t).Ho()&&t.C_.size>0}function qc(t){return Pe(t).v_.size===0}function nQ(t){t.O_=void 0}async function mCe(t){t.C_.forEach((e,r)=>{rR(t,e)})}async function yCe(t,e){nQ(t),iR(t)?(t.x_.S_(e),nR(t)):t.x_.set("Unknown")}async function gCe(t,e,r){if(t.x_.set("Online"),e instanceof VK&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(n){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await d_(t,n)}else if(e instanceof ob?t.O_.$e(e):e instanceof UK?t.O_.Je(e):t.O_.Ge(e),!r.isEqual(Ae.min()))try{const n=await XK(t.localStore);r.compareTo(n)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.C_.get(c);f&&o.C_.set(c,f.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const f=o.C_.get(l);if(!f)return;o.C_.set(l,f.withResumeToken(mn.EMPTY_BYTE_STRING,f.snapshotVersion)),rQ(o,l);const d=new Sa(f.target,l,c,f.sequenceNumber);rR(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){ie("RemoteStore","Failed to raise snapshot:",n),await d_(t,n)}}async function d_(t,e,r){if(!Vg(e))throw e;t.v_.add(1),await Gg(t),t.x_.set("Offline"),r||(r=()=>XK(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await r(),t.v_.delete(1),await Z1(t)})}function iQ(t,e){return e().catch(r=>d_(t,r,e))}async function eS(t){const e=Pe(t),r=el(e);let n=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;vCe(e);)try{const i=await rCe(e.localStore,n);if(i===null){e.D_.length===0&&r.Xo();break}n=i.batchId,bCe(e,i)}catch(i){await d_(e,i)}oQ(e)&&sQ(e)}function vCe(t){return qc(t)&&t.D_.length<10}function bCe(t,e){t.D_.push(e);const r=el(t);r.Jo()&&r.P_&&r.I_(e.mutations)}function oQ(t){return qc(t)&&!el(t).Ho()&&t.D_.length>0}function sQ(t){el(t).start()}async function xCe(t){el(t).d_()}async function _Ce(t){const e=el(t);for(const r of t.D_)e.I_(r.mutations)}async function wCe(t,e,r){const n=t.D_.shift(),i=Yj.from(n,e,r);await iQ(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await eS(t)}async function SCe(t,e){e&&el(t).P_&&await async function(n,i){if(function(s){return hAe(s)&&s!==K.ABORTED}(i.code)){const o=n.D_.shift();el(n).Zo(),await iQ(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await eS(n)}}(t,e),oQ(t)&&sQ(t)}async function R3(t,e){const r=Pe(t);r.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const n=qc(r);r.v_.add(3),await Gg(r),n&&r.x_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.v_.delete(3),await Z1(r)}async function ECe(t,e){const r=Pe(t);e?(r.v_.delete(2),await Z1(r)):e||(r.v_.add(2),await Gg(r),r.x_.set("Unknown"))}function nh(t){return t.N_||(t.N_=function(r,n,i){const o=Pe(r);return o.R_(),new uCe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:mCe.bind(null,t),To:yCe.bind(null,t),u_:gCe.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),iR(t)?nR(t):t.x_.set("Unknown")):(await t.N_.stop(),nQ(t))})),t.N_}function el(t){return t.B_||(t.B_=function(r,n,i){const o=Pe(r);return o.R_(),new fCe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:xCe.bind(null,t),To:SCe.bind(null,t),E_:_Ce.bind(null,t),T_:wCe.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await eS(t)):(await t.B_.stop(),t.D_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const s=Date.now()+n,a=new oR(e,r,s,i,o);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sR(t,e){if(Qo("AsyncQueue",`${e}: ${t}`),Vg(t))return new pe(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ve.comparator(r.key,n.key):(r,n)=>ve.comparator(r.key,n.key),this.keyedMap=yp(),this.sortedSet=new Wt(this.comparator)}static emptySet(e){return new gf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof gf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new gf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.L_=new Wt(ve.comparator)}track(e){const r=e.doc.key,n=this.L_.get(r);n?e.type!==0&&n.type===3?this.L_=this.L_.insert(r,e):e.type===3&&n.type!==1?this.L_=this.L_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.L_=this.L_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.L_=this.L_.remove(r):e.type===1&&n.type===2?this.L_=this.L_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):we():this.L_=this.L_.insert(r,e)}k_(){const e=[];return this.L_.inorderTraversal((r,n)=>{e.push(n)}),e}}class yd{constructor(e,r,n,i,o,s,a,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,o){const s=[];return r.forEach(a=>{s.push({type:0,doc:a})}),new yd(e,r,gf.emptySet(r),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&H1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ACe{constructor(){this.q_=void 0,this.Q_=[]}}class CCe{constructor(){this.queries=new rh(e=>PK(e),H1),this.onlineState="Unknown",this.K_=new Set}}async function PCe(t,e){const r=Pe(t),n=e.query;let i=!1,o=r.queries.get(n);if(o||(i=!0,o=new ACe),i)try{o.q_=await r.onListen(n)}catch(s){const a=sR(s,`Initialization of query '${Su(e.query)}' failed`);return void e.onError(a)}r.queries.set(n,o),o.Q_.push(e),e.U_(r.onlineState),o.q_&&e.W_(o.q_)&&aR(r)}async function TCe(t,e){const r=Pe(t),n=e.query;let i=!1;const o=r.queries.get(n);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return r.queries.delete(n),r.onUnlisten(n)}function ICe(t,e){const r=Pe(t);let n=!1;for(const i of e){const o=i.query,s=r.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(n=!0);s.q_=i}}n&&aR(r)}function NCe(t,e,r){const n=Pe(t),i=n.queries.get(e);if(i)for(const o of i.Q_)o.onError(r);n.queries.delete(e)}function aR(t){t.K_.forEach(e=>{e.next()})}class kCe{constructor(e,r,n){this.query=e,this.G_=r,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new yd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.z_?this.H_(e)&&(this.G_.next(e),r=!0):this.J_(e,this.onlineState)&&(this.Y_(e),r=!0),this.j_=e,r}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let r=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),r=!0),r}J_(e,r){if(!e.fromCache)return!0;const n=r!=="Offline";return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const r=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Y_(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e){this.key=e}}class lQ{constructor(e){this.key=e}}class OCe{constructor(e,r){this.query=e,this.oa=r,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=We(),this.mutatedKeys=We(),this.ua=TK(e),this.ca=new gf(this.ua)}get la(){return this.oa}ha(e,r){const n=r?r.Pa:new $3,i=r?r.ca:this.ca;let o=r?r.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,d)=>{const h=i.get(f),p=K1(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(n.track({type:3,doc:p}),v=!0):this.Ia(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.ua(p,l)>0||c&&this.ua(p,c)<0)&&(a=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(p?(s=s.add(p),o=y?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),n.track({type:1,doc:f})}return{ca:s,Pa:n,Xi:a,mutatedKeys:o}}Ia(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((f,d)=>function(p,m){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return y(p)-y(m)}(f.type,d.type)||this.ua(f.doc,d.doc)),this.Ta(n),i=i!=null&&i;const a=r&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,c=l!==this._a;return this._a=l,s.length!==0||c?{snapshot:new yd(this.query,e.ca,o,s,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new $3,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(r=>this.oa=this.oa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.oa=this.oa.delete(r)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=We(),this.ca.forEach(n=>{this.Aa(n.key)&&(this.aa=this.aa.add(n.key))});const r=[];return e.forEach(n=>{this.aa.has(n)||r.push(new lQ(n))}),this.aa.forEach(n=>{e.has(n)||r.push(new aQ(n))}),r}Ra(e){this.oa=e.hs,this.aa=We();const r=this.ha(e.documents);return this.applyChanges(r,!0)}Va(){return yd.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class jCe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class RCe{constructor(e){this.key=e,this.ma=!1}}class $Ce{constructor(e,r,n,i,o,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new rh(a=>PK(a),H1),this.pa=new Map,this.ya=new Set,this.wa=new Wt(ve.comparator),this.Sa=new Map,this.ba=new Zj,this.Da={},this.Ca=new Map,this.va=md.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function DCe(t,e){const r=qCe(t);let n,i;const o=r.ga.get(e);if(o)n=o.targetId,r.sharedClientState.addLocalQueryTarget(n),i=o.view.Va();else{const s=await nCe(r.localStore,Wo(e)),a=r.sharedClientState.addLocalQueryTarget(s.targetId);n=s.targetId,i=await MCe(r,e,n,a==="current",s.resumeToken),r.isPrimaryClient&&eQ(r.remoteStore,s)}return i}async function MCe(t,e,r,n,i){t.Ma=(d,h,p)=>async function(y,v,b,g){let x=v.view.ha(b);x.Xi&&(x=await k3(y.localStore,v.query,!1).then(({documents:A})=>v.view.ha(A,x)));const S=g&&g.targetChanges.get(v.targetId),w=g&&g.targetMismatches.get(v.targetId)!=null,_=v.view.applyChanges(x,y.isPrimaryClient,S,w);return M3(y,v.targetId,_.da),_.snapshot}(t,d,h,p);const o=await k3(t.localStore,e,!0),s=new OCe(e,o.hs),a=s.ha(o.documents),l=zg.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);M3(t,r,c.da);const f=new jCe(e,r,s);return t.ga.set(e,f),t.pa.has(r)?t.pa.get(r).push(e):t.pa.set(r,[e]),c.snapshot}async function FCe(t,e){const r=Pe(t),n=r.ga.get(e),i=r.pa.get(n.targetId);if(i.length>1)return r.pa.set(n.targetId,i.filter(o=>!H1(o,e))),void r.ga.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await QT(r.localStore,n.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(n.targetId),tQ(r.remoteStore,n.targetId),YT(r,n.targetId)}).catch(Ug)):(YT(r,n.targetId),await QT(r.localStore,n.targetId,!0))}async function LCe(t,e,r){const n=HCe(t);try{const i=await function(s,a){const l=Pe(s),c=pr.now(),f=a.reduce((p,m)=>p.add(m.key),We());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ns(),y=We();return l.os.getEntries(p,f).next(v=>{m=v,m.forEach((b,g)=>{g.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{d=v;const b=[];for(const g of a){const x=lAe(g,d.get(g.key).overlayedDocument);x!=null&&b.push(new Gc(g.key,x,bK(x.value.mapValue),zo.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,a)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:NK(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Da[s.currentUser.toKey()];c||(c=new Wt(ot)),c=c.insert(a,l),s.Da[s.currentUser.toKey()]=c}(n,i.batchId,r),await qg(n,i.changes),await eS(n.remoteStore)}catch(i){const o=sR(i,"Failed to persist write");r.reject(o)}}async function cQ(t,e){const r=Pe(t);try{const n=await eCe(r.localStore,e);e.targetChanges.forEach((i,o)=>{const s=r.Sa.get(o);s&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?At(s.ma):i.removedDocuments.size>0&&(At(s.ma),s.ma=!1))}),await qg(r,n,e)}catch(n){await Ug(n)}}function D3(t,e,r){const n=Pe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Pe(s);l.onlineState=a;let c=!1;l.queries.forEach((f,d)=>{for(const h of d.Q_)h.U_(a)&&(c=!0)}),c&&aR(l)}(n.eventManager,e),i.length&&n.fa.u_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function BCe(t,e,r){const n=Pe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Sa.get(e),o=i&&i.key;if(o){let s=new Wt(ve.comparator);s=s.insert(o,cn.newNoDocument(o,Ae.min()));const a=We().add(o),l=new X1(Ae.min(),new Map,new Wt(ot),s,a);await cQ(n,l),n.wa=n.wa.remove(o),n.Sa.delete(e),lR(n)}else await QT(n.localStore,e,!1).then(()=>YT(n,e,r)).catch(Ug)}async function UCe(t,e){const r=Pe(t),n=e.batch.batchId;try{const i=await ZAe(r.localStore,e);fQ(r,n,null),uQ(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await qg(r,i)}catch(i){await Ug(i)}}async function VCe(t,e,r){const n=Pe(t);try{const i=await function(s,a){const l=Pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(At(d!==null),f=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(n.localStore,e);fQ(n,e,r),uQ(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await qg(n,i)}catch(i){await Ug(i)}}function uQ(t,e){(t.Ca.get(e)||[]).forEach(r=>{r.resolve()}),t.Ca.delete(e)}function fQ(t,e,r){const n=Pe(t);let i=n.Da[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Da[n.currentUser.toKey()]=i}}function YT(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.pa.get(e))t.ga.delete(n),r&&t.fa.xa(n,r);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(n=>{t.ba.containsKey(n)||dQ(t,n)})}function dQ(t,e){t.ya.delete(e.path.canonicalString());const r=t.wa.get(e);r!==null&&(tQ(t.remoteStore,r),t.wa=t.wa.remove(e),t.Sa.delete(r),lR(t))}function M3(t,e,r){for(const n of r)n instanceof aQ?(t.ba.addReference(n.key,e),WCe(t,n)):n instanceof lQ?(ie("SyncEngine","Document no longer in limbo: "+n.key),t.ba.removeReference(n.key,e),t.ba.containsKey(n.key)||dQ(t,n.key)):we()}function WCe(t,e){const r=e.key,n=r.path.canonicalString();t.wa.get(r)||t.ya.has(n)||(ie("SyncEngine","New document in limbo: "+r),t.ya.add(n),lR(t))}function lR(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const r=new ve(Rt.fromString(e)),n=t.va.next();t.Sa.set(n,new RCe(r)),t.wa=t.wa.insert(r,n),eQ(t.remoteStore,new Sa(Wo(CK(r.path)),n,"TargetPurposeLimboResolution",Wj._e))}}async function qg(t,e,r){const n=Pe(t),i=[],o=[],s=[];n.ga.isEmpty()||(n.ga.forEach((a,l)=>{s.push(n.Ma(l,e,r).then(c=>{if((c||r)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const f=tR.Ki(l.targetId,c);o.push(f)}}))}),await Promise.all(s),n.fa.u_(i),await async function(l,c){const f=Pe(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>H.forEach(c,h=>H.forEach(h.qi,p=>f.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>H.forEach(h.Qi,p=>f.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Vg(d))throw d;ie("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=f.ns.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);f.ns=f.ns.insert(h,y)}}}(n.localStore,o))}async function zCe(t,e){const r=Pe(t);if(!r.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const n=await YK(r.localStore,e);r.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new pe(K.CANCELLED,s))})}),o.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await qg(r,n.us)}}function GCe(t,e){const r=Pe(t),n=r.Sa.get(e);if(n&&n.ma)return We().add(n.key);{let i=We();const o=r.pa.get(e);if(!o)return i;for(const s of o){const a=r.ga.get(s);i=i.unionWith(a.view.la)}return i}}function qCe(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GCe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BCe.bind(null,e),e.fa.u_=ICe.bind(null,e.eventManager),e.fa.xa=NCe.bind(null,e.eventManager),e}function HCe(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UCe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VCe.bind(null,e),e}class F3{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=J1(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return JAe(this.persistence,new YAe,e.initialUser,this.serializer)}createPersistence(e){return new HAe(eR.Hr,this.serializer)}createSharedClientState(e){return new oCe}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class KCe{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>D3(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=zCe.bind(null,this.syncEngine),await ECe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CCe}()}createDatastore(e){const r=J1(e.databaseInfo.databaseId),n=function(o){return new cCe(o)}(e.databaseInfo);return function(o,s,a,l){return new dCe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,s,a){return new pCe(n,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,r=>D3(this.syncEngine,r,0),function(){return j3.D()?new j3:new sCe}())}createSyncEngine(e,r){return function(i,o,s,a,l,c,f){const d=new $Ce(i,o,s,a,l,c);return f&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e;await async function(n){const i=Pe(n);ie("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Gg(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QCe{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Qo("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YCe{constructor(e,r,n,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=yK.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async o=>{ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pe(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=sR(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function FA(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await YK(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function L3(t,e){t.asyncQueue.verifyOperationInProgress();const r=await JCe(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>R3(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>R3(e.remoteStore,i)),t._onlineComponents=e}function XCe(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function JCe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await FA(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!XCe(r))throw r;fd("Error using user provided cache. Falling back to memory cache: "+r),await FA(t,new F3)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await FA(t,new F3);return t._offlineComponents}async function hQ(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await L3(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await L3(t,new KCe))),t._onlineComponents}function ZCe(t){return hQ(t).then(e=>e.syncEngine)}async function ePe(t){const e=await hQ(t),r=e.eventManager;return r.onListen=DCe.bind(null,e.syncEngine),r.onUnlisten=FCe.bind(null,e.syncEngine),r}function tPe(t,e,r={}){const n=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const f=new QCe({next:h=>{s.enqueueAndForget(()=>TCe(o,d)),h.fromCache&&l.source==="server"?c.reject(new pe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new kCe(a,f,{includeMetadataChanges:!0,Z_:!0});return PCe(o,d)}(await ePe(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mQ(t,e,r){if(!r)throw new pe(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rPe(t,e,r,n){if(e===!0&&n===!0)throw new pe(K.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function U3(t){if(!ve.isDocumentKey(t))throw new pe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V3(t){if(ve.isDocumentKey(t))throw new pe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cR(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function gd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=cR(t);throw new pe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rPe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pQ((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tS{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new pe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W3(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new yEe;switch(n.type){case"firstParty":return new xEe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new pe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=B3.get(r);n&&(ie("ComponentProvider","Removing Datastore"),B3.delete(r),n.terminate())}(this),Promise.resolve()}}function nPe(t,e,r,n={}){var i;const o=(t=gd(t,tS))._getSettings(),s=`${e}:${r}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&fd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=an.MOCK_USER;else{a=pk(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new pe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(c)}t._authCredentials=new gEe(new mK(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new rS(this.firestore,e,this._query)}}class Ri{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}}class La extends rS{constructor(e,r,n){super(e,r,CK(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new ve(e))}withConverter(e){return new La(this.firestore,e,this._path)}}function iPe(t,e,...r){if(t=Xr(t),mQ("collection","path",e),t instanceof tS){const n=Rt.fromString(e,...r);return V3(n),new La(t,null,n)}{if(!(t instanceof Ri||t instanceof La))throw new pe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Rt.fromString(e,...r));return V3(n),new La(t.firestore,null,n)}}function uR(t,e,...r){if(t=Xr(t),arguments.length===1&&(e=yK.newId()),mQ("doc","path",e),t instanceof tS){const n=Rt.fromString(e,...r);return U3(n),new Ri(t,null,new ve(n))}{if(!(t instanceof Ri||t instanceof La))throw new pe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Rt.fromString(e,...r));return U3(n),new Ri(t.firestore,t instanceof La?t.converter:null,new ve(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oPe{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new JK(this,"async_queue_retry"),this._u=()=>{const r=MA();r&&ie("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const e=MA();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const r=MA();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const r=new xs;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Vg(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const r=this.Xa.then(()=>(this.iu=!0,e().catch(n=>{this.ru=n,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(n);throw Qo("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.iu=!1,n))));return this.Xa=r,r}enqueueAfterDelay(e,r,n){this.au(),this.ou.indexOf(e)>-1&&(r=0);const i=oR.createAndSchedule(this,e,r,n,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&we()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const r of this.nu)if(r.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.nu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const r=this.nu.indexOf(e);this.nu.splice(r,1)}}class nS extends tS{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=function(){return new oPe}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gQ(this),this._firestoreClient.terminate()}}function sPe(t,e){const r=typeof t=="object"?t:bk(),n=typeof t=="string"?t:e||"(default)",i=gk(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=hk("firestore");o&&nPe(i,...o)}return i}function yQ(t){return t._firestoreClient||gQ(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gQ(t){var e,r,n;const i=t._freezeSettings(),o=function(a,l,c,f){return new REe(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,pQ(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new YCe(t._authCredentials,t._appCheckCredentials,t._queue,o),!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vd(mn.fromBase64String(e))}catch(r){throw new pe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new vd(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new pe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new pe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new pe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aPe=/^__.*__$/;class lPe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Gc(e,this.data,this.fieldMask,r,this.fieldTransforms):new Wg(e,this.data,r,this.fieldTransforms)}}function bQ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class hR{constructor(e,r,n,i,o,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new hR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Au({path:n,Vu:!1});return i.mu(e),i}fu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Au({path:n,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return h_(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(bQ(this.du)&&aPe.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class cPe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||J1(e)}Su(e,r,n,i=!1){return new hR({du:e,methodName:r,wu:n,path:zr.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uPe(t){const e=t._freezeSettings(),r=J1(t._databaseId);return new cPe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function fPe(t,e,r,n,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,r,i);SQ("Data must be an object, but it was:",s,n);const a=_Q(n,s);let l,c;if(o.merge)l=new so(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const d of o.mergeFields){const h=dPe(e,d,r);if(!s.contains(h))throw new pe(K.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);pPe(f,h)||f.push(h)}l=new so(f),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new lPe(new Pi(a),l,c)}function xQ(t,e){if(wQ(t=Xr(t)))return SQ("Unsupported field value:",e,t),_Q(t,e);if(t instanceof vQ)return function(n,i){if(!bQ(i.du))throw i.pu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(n,i){const o=[];let s=0;for(const a of n){let l=xQ(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Xr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rAe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=pr.fromDate(n);return{timestampValue:f_(i.serializer,o)}}if(n instanceof pr){const o=new pr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:f_(i.serializer,o)}}if(n instanceof dR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vd)return{bytesValue:WK(i.serializer,n._byteString)};if(n instanceof Ri){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Jj(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.pu(`Unsupported field value: ${cR(n)}`)}(t,e)}function _Q(t,e){const r={};return gK(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):th(t,(n,i)=>{const o=xQ(i,e.Ru(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function wQ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pr||t instanceof dR||t instanceof vd||t instanceof Ri||t instanceof vQ)}function SQ(t,e,r){if(!wQ(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=cR(r);throw n==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+n)}}function dPe(t,e,r){if((e=Xr(e))instanceof fR)return e._internalPath;if(typeof e=="string")return EQ(t,e);throw h_("Field path arguments must be of type string or ",t,!1,void 0,r)}const hPe=new RegExp("[~\\*/\\[\\]]");function EQ(t,e,r){if(e.search(hPe)>=0)throw h_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new fR(...e.split("."))._internalPath}catch{throw h_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function h_(t,e,r,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new pe(K.INVALID_ARGUMENT,a+t+l)}function pPe(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mPe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(CQ("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class mPe extends AQ{data(){return super.data()}}function CQ(t,e){return typeof e=="string"?EQ(t,e):e instanceof fR?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yPe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gPe{convertValue(e,r="none"){switch($c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Rc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw we()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return th(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertGeoPoint(e){return new dR(rr(e.latitude),rr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Gj(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Jm(e));default:return null}}convertTimestamp(e){const r=Za(e);return new pr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Rt.fromString(e);At(QK(n));const i=new Zm(n.get(1),n.get(3)),o=new ve(n.popFirst(5));return i.isEqual(r)||Qo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vPe(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bPe extends AQ{constructor(e,r,n,i,o,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new sb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(CQ("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class sb extends bPe{data(e={}){return super.data(e)}}class xPe{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new r0(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new sb(this._firestore,this._userDataWriter,n.key,n,new r0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new pe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new sb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new r0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new sb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new r0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:_Pe(a.type),doc:l,oldIndex:c,newIndex:f}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function _Pe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class wPe extends gPe{constructor(e){super(),this.firestore=e}convertBytes(e){return new vd(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ri(this.firestore,null,r)}}function SPe(t){t=gd(t,rS);const e=gd(t.firestore,nS),r=yQ(e),n=new wPe(e);return yPe(t._query),tPe(r,t._query).then(i=>new xPe(e,n,t,i))}function PQ(t,e,r){t=gd(t,Ri);const n=gd(t.firestore,nS),i=vPe(t.converter,e,r);return TQ(n,[fPe(uPe(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,zo.none())])}function EPe(t){return TQ(gd(t.firestore,nS),[new Qj(t._key,zo.none())])}function TQ(t,e){return function(n,i){const o=new xs;return n.asyncQueue.enqueueAndForget(async()=>LCe(await ZCe(n),i,o)),o.promise}(yQ(t),e)}(function(e,r=!0){(function(i){eh=i})(vk),Gf(new Ac("firestore",(n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),a=new nS(new vEe(n.getProvider("auth-internal")),new wEe(n.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zm(c.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:r},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Uo(u3,"4.4.1",e),Uo(u3,"4.4.1","esm2017")})();const iS=sPe(vO),APe=async()=>await SPe(iPe(iS,"players")).then(e=>e.docs.map(r=>r.data())).catch(console.log),XT=async t=>{const e={...t,id:hs(),createdAt:new Date().getTime(),updatedAt:new Date().getTime()};return await PQ(uR(iS,"players",e.id),e),e},CPe=async(t,e)=>{const r={...e,updatedAt:new Date().getTime()};return await PQ(uR(iS,"players",r.id),r),r},PPe=async t=>(await EPe(uR(iS,"players",t)),!0);function TPe({onSelect:t,...e}){const[r,n]=E.useState(""),i=E.useCallback(()=>{n(hs())},[]);return u.jsxs(Jn,{title:"選擇玩家",...e,children:[u.jsx(je,{onClick:i,color:"secondary",children:"刷新列表"}),u.jsx("div",{className:"mt-4",children:u.jsx(IQ,{onClickPlayer:t},r)})]})}const IQ=({onClickPlayer:t,onClickClone:e,onClickDelete:r})=>{const{value:n,loading:i}=Kye(APe),o=E.useCallback(l=>{if(!t||!n)return;const c=l.currentTarget.getAttribute("data-id");if(!c)return;const f=n.find(d=>d.id===c);f&&t(c,f)},[t,n]),s=E.useCallback(l=>{if(!e||!n)return;const c=l.currentTarget.getAttribute("data-id");if(!c)return;const f=n.find(p=>p.id===c);if(!f)return;const{id:d,...h}=f;e(h)},[e,n]),a=E.useCallback(l=>{if(!r)return;const c=l.currentTarget.getAttribute("data-id");c&&r(c)},[r]);return u.jsxs(u.Fragment,{children:[i&&u.jsx("div",{className:"w-32 text-center mx-auto my-8",children:u.jsx(OO,{})}),!i&&(n==null?void 0:n.length)===0&&u.jsx("div",{className:"text-gray-500 text-center py-4",children:u.jsx("span",{children:"沒有已儲存的玩家"})}),u.jsx("div",{className:`grid grid-cols-1 gap-2 ${e||r?"":"md:grid-cols-2"}`,children:!i&&(n==null?void 0:n.map(l=>u.jsxs("div",{className:"text-left flex items-center gap-x-2",children:[u.jsx("div",{className:"flex-1 cursor-pointer",onClick:o,"data-id":l.id,children:u.jsx(pq,{player:l})}),e&&u.jsx("div",{className:"shrink-0",children:u.jsx(je,{color:"primary",variant:"text",onClick:s,"data-id":l.id,children:"複製"})}),r&&u.jsx("div",{className:"shrink-0",children:u.jsx(je,{color:"danger",variant:"text",onClick:a,"data-id":l.id,children:"刪除"})})]},l.id)))})]})};function IPe(){const[t,e]=E.useState(),[r,n]=E.useState("1"),[i,o]=To(!1),s=E.useCallback(()=>o(!1),[o]),a=E.useCallback(()=>{e(void 0),o(!0)},[o]),l=E.useCallback((h,p)=>{e(p),o(!0)},[o]),c=E.useCallback(h=>{XT({...h,name:h.name+"(複製)"}).then(()=>{n(hs())})},[]),f=E.useCallback(h=>{confirm("確定要刪除玩家嗎？")&&PPe(h).then(()=>{n(hs())})},[]),d=E.useCallback(h=>h.id?CPe(h.id,h).then(()=>{n(hs()),o(!1)}):XT(h).then(()=>{n(hs()),o(!1)}),[o]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"container mx-auto max-w-screen-sm space-y-4 py-16",children:[u.jsx("div",{className:"shrink-0",children:u.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{children:u.jsx("h1",{className:"text-4xl",children:"玩家"})}),u.jsx("div",{children:u.jsx(je,{onClick:a,children:"新增"})})]}),u.jsx(IQ,{onClickPlayer:l,onClickClone:c,onClickDelete:f},r)]}),u.jsx(Jn,{title:"新增／修改玩家",open:i,onClose:s,children:u.jsx("div",{className:"container space-y-6",children:u.jsx(f7,{onSubmit:d,defaultValue:t})})})]})}const NPe={0:"東",1:"南",2:"西",3:"北"};function kPe({playerIndex:t,...e}){return u.jsx("span",{...e,children:NPe[t]})}const OPe={0:{title:"",name:"玩家A",color:"#6700cf"},1:{title:"",name:"玩家B",color:"#00b5de"},2:{title:"",name:"玩家C",color:"#e3277b"},3:{title:"",name:"玩家D",color:"#03ada5"}},jPe=`${new Date().toISOString().substring(0,10)} 對局`;function RPe(){const t=Ez(),[,e]=Vte(),{getValues:r,control:n}=Kd({defaultValues:{name:jPe,startingScore:"25000",isManganRoundUp:"1",yakuMax:"12",yakumanMax:"13"}}),i=Ya({name:"startingScore",control:n}),[o,s]=E.useState(OPe),[a,l]=E.useState(),[c,f]=To(!1),d=E.useCallback(_=>{const A=_.currentTarget.getAttribute("data-player-index");if(!A)return;const C=o[A];l({index:A,player:C}),f(!0)},[o,f]),h=E.useCallback(async _=>{a&&(s(A=>({...A,[a.index]:{...A[a.index],..._}})),f(!1))},[a,f]),p=E.useCallback(()=>{f(!1)},[f]),[m,y]=E.useState(),v=E.useCallback(_=>{_.preventDefault(),y("choose")},[]),b=E.useCallback(()=>{y(null)},[]),g=E.useCallback((_,A)=>{m==="choose"&&(l(C=>C?{...C,player:A}:void 0),y(null))},[m]),x=E.useCallback(_=>{const A=_.currentTarget;if(!A)return;const C=A.getAttribute("data-player-index");if(!C)return;const T=C==="0"?"1":C==="1"?"2":"3";s(P=>({...P,[C]:P[T],[T]:P[C]}))},[]),[{loading:S},w]=Zw(async()=>{const{name:_,...A}=r(),C=await Promise.all(Object.values(o).map(N=>N.id||N.name==="玩家A"||N.name==="玩家B"||N.name==="玩家C"||N.name==="玩家D"?Promise.resolve(N):XT(N))),T={code:jye(),name:_,remark:"",createdAt:new Date().toISOString(),createdBy:"Dicky",updatedAt:new Date().toISOString(),updatedBy:"Dicky",setting:A,players:{0:C[0],1:C[1],2:C[2],3:C[3]},activeResultDetail:null},P=await t.push("matches",T),I=parseInt(A.startingScore),O={matchId:P.key,code:Dx(T.code,1,0),roundCount:1,extendedRoundCount:0,cumulatedThousands:0,nextRoundCumulatedThousands:0,resultType:0,nextRoundType:0,playerResults:{0:{beforeScore:I,afterScore:I,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},1:{beforeScore:I,afterScore:I,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},2:{beforeScore:I,afterScore:I,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}},3:{beforeScore:I,afterScore:I,type:0,scoreChanges:[],prevScoreChanges:[],detail:{han:1,fu:30,yakumanCount:0,dora:0,redDora:0,innerDora:0,yakus:[],raw:{},isRevealed:!1,isRiichied:!1}}},doras:[]};await t.push("matchRounds",O),e(`/v1/match/${O.matchId}/obs`)},[t,r,o,e]);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"container mx-auto max-w-screen-sm",children:u.jsxs("div",{className:"min-h-screen flex flex-col py-16 gap-y-4",children:[u.jsx("div",{className:"shrink-0",children:u.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"space-y-12",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-4xl",children:"對局"}),u.jsx(wn,{label:"對局名稱",children:u.jsx(Mn,{name:"name",control:n,rules:{required:!0},render:({field:_})=>u.jsx("div",{className:"text-xl",children:u.jsx(_a,{..._})})})}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsx(wn,{label:"起始點數",children:u.jsx(Mn,{name:"startingScore",control:n,rules:{required:!0},render:({field:_})=>u.jsxs(cs,{..._,children:[u.jsx("option",{value:"25000",children:"25000"}),u.jsx("option",{value:"30000",children:"30000"}),u.jsx("option",{value:"35000",children:"35000"}),u.jsx("option",{value:"50000",children:"50000"}),u.jsx("option",{value:"100000",children:"100000"})]})})}),u.jsx(wn,{label:"滿貫切上",children:u.jsx(Mn,{name:"isManganRoundUp",control:n,rules:{required:!0},render:({field:_})=>u.jsxs(cs,{..._,children:[u.jsx("option",{value:"0",children:"不切上"}),u.jsx("option",{value:"1",children:"切上 (3翻70符 & 4翻40符 = 滿貫)"})]})})}),u.jsx(wn,{label:"累積翻數上限",children:u.jsx(Mn,{name:"yakuMax",control:n,rules:{required:!0},render:({field:_})=>u.jsxs(cs,{..._,children:[u.jsx("option",{value:"12",children:"三倍滿 (12翻)"}),u.jsx("option",{value:"13",children:"累計役滿 (13翻)"})]})})}),u.jsx(wn,{label:"役滿上限",children:u.jsx(Mn,{name:"yakumanMax",control:n,rules:{required:!0},render:({field:_})=>u.jsxs(cs,{..._,children:[u.jsx("option",{value:"13",children:"單役滿"}),u.jsx("option",{value:"26",children:"兩倍役滿"}),u.jsx("option",{value:"39",children:"三倍役滿"}),u.jsx("option",{value:"130",children:"無上限"})]})})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-4xl",children:"玩家"}),u.jsx("div",{children:["0","1","2","3"].map(_=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-x-4",children:[u.jsx("div",{className:"shrink-0",children:u.jsx("div",{className:"h-14 w-14 border-4 rounded border-black text-[40px] flex items-center justify-center pb-1",children:u.jsx(kPe,{playerIndex:_})})}),u.jsx("div",{className:"flex-1 text-[48px] cursor-pointer hover:scale-105","data-player-index":_,onClick:d,children:u.jsx(Qa,{player:o[_],score:i})})]},_),_!=="3"&&u.jsx("div",{className:"text-center",children:u.jsx(je,{variant:"icon",color:"secondary",type:"button","data-player-index":_,onClick:x,children:u.jsx("i",{className:"bi bi-arrow-down-up"})})})]}))})]})]})}),u.jsx("div",{className:"shrink-0 space-y-4",children:u.jsx(je,{size:"xlarge",className:"w-full",onClick:w,loading:S,type:"submit",children:"開始對局"})})]})}),u.jsx(Jn,{title:u.jsxs("div",{className:"space-x-4",children:[u.jsx("span",{children:"修改玩家"}),u.jsxs("a",{href:"#",className:"text-xs underline font-normal text-teal-600 hover:text-teal-500 align-middle",onClick:v,children:[u.jsx("i",{className:"bi bi-search"}),"搜尋玩家"]})]}),open:c,onClose:p,children:u.jsxs("div",{className:"container space-y-6",children:[!!(a!=null&&a.player.id)&&u.jsxs("div",{className:"py-2 px-3 bg-yellow-200 text-yellow-800 rounded",children:["注意：在這裡的修改不會儲存到玩家列表的資料庫。假如你想保留這些修改，請在"," ",u.jsxs("a",{href:"/players",target:"_blank",className:"text-teal-600 underline",children:["玩家列表 ",u.jsx("i",{className:"bi bi-box-arrow-up-right"})]})," ","中修改。"]}),u.jsx(f7,{onSubmit:h,defaultValue:a==null?void 0:a.player})]})}),u.jsx(TPe,{open:m==="choose",onSelect:g,onClose:b})]})}function $Pe({team:t,onClickEdit:e,children:r,...n}){const i=E.useCallback(()=>{e==null||e(t)},[e,t]);return u.jsxs("div",{className:"flex-1 flex items-center gap-x-2 rounded p-2 text-white",style:{background:t.color??"#115e59"},...n,children:[u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"text-2xl",children:t.name??"(無名稱)"})}),e&&u.jsx("div",{className:"shrink-0",children:u.jsx(je,{variant:"icon",color:"inverted",type:"button",onClick:i,children:u.jsx("i",{className:"bi bi-pencil"})})})]})}function DPe(){const{data:t,update:e,push:r}=Zr("teams"),n=E.useMemo(()=>Object.entries(t??{}).reverse().map(([b,g])=>({...g,_id:b})),[t]),[i,o]=To(!1),{register:s,reset:a,handleSubmit:l,control:c}=Kd({defaultValues:{_id:void 0,name:"新的隊伍",color:"#000000"}}),f=Ya({control:c}),d=E.useMemo(()=>({name:"隊員名字",title:f.name??"",color:f.color??"#000000"}),[f.color,f.name]),h=E.useRef(null),p=E.useCallback(()=>o(!1),[o]),m=E.useCallback(()=>{a({_id:"",name:"新的隊伍",color:"#000000"}),o(!0)},[a,o]),y=E.useCallback(b=>{a({...b}),o(!0)},[a,o]),v=E.useMemo(()=>l(b=>{b._id?e({[b._id]:b}):r(b),o(!1)}),[l,r,o,e]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"container mx-auto max-w-screen-sm space-y-4 py-16",children:[u.jsx("div",{className:"shrink-0",children:u.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{children:u.jsx("h1",{className:"text-4xl",children:"隊伍"})}),u.jsx("div",{children:u.jsx(je,{onClick:m,children:"新增"})})]}),u.jsx("div",{className:"space-y-2",children:n.map(b=>u.jsx($Pe,{team:b,onClickEdit:y},b._id))})]}),u.jsx(Jn,{title:"新增／修改隊伍",open:i,onClose:p,children:u.jsx("div",{className:"container",children:u.jsxs("form",{ref:h,onSubmit:v,children:[u.jsx("input",{type:"hidden",...s("_id")}),u.jsxs("div",{children:[u.jsx(wn,{className:"mb-6",label:"名字",children:u.jsx(Mn,{name:"name",control:c,rules:{required:!0},render:({field:b})=>u.jsx(_a,{...b})})}),u.jsx(wn,{className:"mb-6",label:"顏色（務必選能看清楚白字的深色）",children:u.jsx(Mn,{name:"color",control:c,rules:{required:!0},render:({field:b})=>u.jsx(HH,{...b})})})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"mb-2",children:"預覽"}),u.jsx("div",{className:"text-[4rem] px-4 pt-6 pb-1 bg-gray-800 text-white relative",children:u.jsx(Qa,{player:d,score:25e3})})]}),u.jsxs("div",{className:"flex gap-x-2",children:[u.jsx("div",{className:"flex-1",children:u.jsx(je,{className:"w-full",color:"secondary",type:"button",onClick:p,children:"取消"})}),u.jsx("div",{className:"flex-1",children:u.jsx(je,{className:"w-full",type:"submit",children:"儲存"})})]})]})})})]})}function MPe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?u.jsx(u.Fragment,{children:"讀取中…"}):u.jsx(qG,{params:r})}function FPe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),{match:r,matchRounds:n,matchCurrentRound:i}=rs((e==null?void 0:e.matchId)??"");return!r||!i?u.jsx("div",{children:"對局讀取失敗。"}):u.jsx("div",{children:u.jsx("div",{className:"container mx-auto my-8 px-8 space-y-6",children:u.jsx(Tg,{players:r.players,matchRounds:n,className:"w-full table-auto"})})})}function LPe(){const{data:t}=Zr("matches"),e=E.useMemo(()=>Object.entries(t??{}).reverse().map(([r,n])=>({...n,_id:r})),[t]);return u.jsxs("div",{className:"container mx-auto max-w-screen-sm space-y-4 py-16",children:[u.jsx("div",{className:"shrink-0",children:u.jsx("a",{href:"/",className:"underline",children:"< 回上一頁"})}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{children:u.jsx("h1",{className:"text-4xl",children:"對局"})})}),u.jsxs("table",{className:"data-table w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"對局"}),u.jsx("th",{children:"東家"}),u.jsx("th",{children:"南家"}),u.jsx("th",{children:"西家"}),u.jsx("th",{children:"北家"})]})}),u.jsx("tbody",{children:e.map(r=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("a",{href:`/v1/match/${r._id}`,target:"_blank",children:r.name})}),u.jsx("td",{children:r.players[0].name}),u.jsx("td",{children:r.players[1].name}),u.jsx("td",{children:r.players[2].name}),u.jsx("td",{children:r.players[3].name})]},r._id))})]})]})}function BPe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),{match:r,matchCurrentRound:n}=rs((e==null?void 0:e.matchId)??"");return!r||!n?u.jsx("div",{children:"對局讀取失敗。"}):u.jsx("div",{children:u.jsx("div",{className:"container mx-auto my-8 px-8 space-y-6"})})}function UPe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),{match:r,matchRounds:n,matchCurrentRound:i}=rs((e==null?void 0:e.matchId)??""),[o,s]=E.useState(0);return E.useEffect(()=>{const l=setInterval(()=>{s(c=>1-c)},8e3);return()=>{clearInterval(l)}},[]),!r||!i?u.jsx("div",{children:"對局讀取失敗。"}):u.jsxs("div",{children:[u.jsx("div",{className:o===0?"block":"hidden",children:u.jsx(Tg,{players:r.players,matchRounds:n,className:"w-full table-auto"})}),u.jsx("div",{className:o===1?"block":"hidden"})]})}function VPe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?u.jsx(u.Fragment,{children:"讀取中…"}):u.jsx(RH,{params:r})}const n0=({teamPlayer:t})=>{const e=E.useMemo(()=>kO(t.color),[t.color]);return u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("table",{className:"w-full",children:u.jsxs("tbody",{children:[u.jsxs("tr",{style:{background:t.color},children:[u.jsx("td",{className:"w-[8mm] h-[8mm]"}),u.jsx("td",{className:"w-[2mm] border-r border-white"}),u.jsx("td",{}),u.jsx("td",{className:"w-[2mm] border-l border-white"}),u.jsx("td",{className:"w-[8mm] h-[8mm]"})]}),u.jsxs("tr",{style:{background:t.color},children:[u.jsx("td",{className:"h-[2mm] border-b border-white"}),u.jsx("td",{}),u.jsx("td",{}),u.jsx("td",{}),u.jsx("td",{className:"h-[2mm] border-b border-white"})]}),u.jsxs("tr",{style:{background:`linear-gradient(180deg, ${t.color}, ${e})`},children:[u.jsx("td",{}),u.jsx("td",{}),u.jsx("td",{className:"w-[150mm] h-[40mm]"}),u.jsx("td",{}),u.jsx("td",{})]}),u.jsxs("tr",{style:{background:e},children:[u.jsx("td",{className:"h-[2mm] border-t border-white"}),u.jsx("td",{}),u.jsx("td",{}),u.jsx("td",{}),u.jsx("td",{className:"h-[2mm] border-t border-white"})]}),u.jsxs("tr",{style:{background:e},children:[u.jsx("td",{className:"w-[8mm] h-[8mm]"}),u.jsx("td",{className:"w-[2mm] border-r border-white"}),u.jsx("td",{}),u.jsx("td",{className:"w-[2mm] border-l border-white"}),u.jsx("td",{className:"w-[8mm] h-[8mm]"})]})]})}),u.jsx("div",{className:"absolute left-[0] top-[2.5mm] w-[55mm] h-[55mm] bg-contain opacity-50",style:{backgroundImage:`url(${t.teamLogoImageUrl+"?w=500&h=500"})`}}),u.jsxs("div",{className:"absolute top-[10mm] bottom-[10mm] left-[25mm] right-[12mm] flex flex-col items-center justify-center",children:[u.jsx("p",{className:"text-[13mm] text-white leading-none font-semibold mb-[3mm]",style:{textShadow:"0px 0px 3px #333333B0, 0px 0px 6px #333333B0"},children:t.playerName}),u.jsx("p",{className:"text-[13mm] text-white leading-none font-semibold",style:{textShadow:"0px 0px 3px #333333B0, 0px 0px 6px #333333B0"},children:t.playerNickname})]})]})},WPe=()=>{const{matchId:t}=zte(),{data:e}=Ko({queryKey:["matches",t],queryFn:({queryKey:r})=>NO(r[1]),enabled:!!t});return e?u.jsxs("div",{className:"pt-16",children:[u.jsxs("div",{className:"w-[170mm] mx-auto mb-8 print:hidden",children:[u.jsx("p",{children:"右鍵「列印」，設定如下："}),u.jsxs("ul",{children:[u.jsxs("li",{children:["紙張大小：",u.jsx("strong",{children:"A4"})]}),u.jsxs("li",{children:["邊界：",u.jsx("strong",{children:"無邊界"})]}),u.jsxs("li",{children:["選項：",u.jsx("strong",{children:"打勾「背景圖片」"})]})]})]}),u.jsx("div",{className:"w-[170mm] h-[60mm] mx-auto",children:u.jsx(n0,{teamPlayer:e==null?void 0:e.playerEast})}),u.jsx("div",{className:"w-[170mm] h-[60mm] mx-auto",children:u.jsx(n0,{teamPlayer:e==null?void 0:e.playerSouth})}),u.jsx("div",{className:"w-[170mm] h-[60mm] mx-auto",children:u.jsx(n0,{teamPlayer:e==null?void 0:e.playerWest})}),u.jsx("div",{className:"w-[170mm] h-[60mm] mx-auto",children:u.jsx(n0,{teamPlayer:e==null?void 0:e.playerNorth})})]}):u.jsx(u.Fragment,{})},NQ=({params:{matchId:t}})=>{const{match:e,matchRounds:r}=rs(t),n=E.useMemo(()=>Object.entries(r??{}).filter(([,i])=>!!i.resultDetail).map(([i,o])=>({id:i,...o}))??[],[r]);return!e||!r?u.jsx(u.Fragment,{}):u.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-8",children:[u.jsx("h1",{className:"text-4xl text-center",children:e.name}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h4",{className:"text-3xl",children:[u.jsx("i",{className:"bi bi-bar-chart-steps"})," 分數"," ",u.jsx("span",{className:"text-sm",children:"( 立=立直, 和=和牌, 統=出統, 摸=自摸, 聽=聽牌 )"})]}),u.jsx(Tg,{players:e.players,matchRounds:r??{},className:"w-full table-auto"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h4",{className:"text-3xl",children:[u.jsx("i",{className:"bi bi-clock-history"})," 和牌記錄"]}),u.jsxs("table",{className:"data-table w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"局數"}),u.jsx("th",{children:"玩家"}),u.jsx("th",{children:"分數"}),u.jsx("th",{children:"役種"})]})}),u.jsx("tbody",{children:n.map(i=>u.jsxs("tr",{className:"odd:bg-neutral-200",children:[u.jsx("td",{className:"text-center py-1",children:u.jsx(ps,{roundCount:i.roundCount,extendedRoundCount:i.extendedRoundCount})}),u.jsx("td",{className:"text-center py-1",style:{background:e.players[i.resultDetail.winnerPlayerIndex].color},children:e.players[i.resultDetail.winnerPlayerIndex].name}),u.jsx("td",{className:"text-center py-1 text-xl",children:u.jsx(Lt,{value:i.playerResults[i.resultDetail.winnerPlayerIndex].afterScore-i.playerResults[i.resultDetail.winnerPlayerIndex].beforeScore,positiveClassName:"text-green-600",negativeClassName:"text-red-600",signed:!0,hideZero:!0})}),u.jsxs("td",{className:"text-center py-1",children:[u.jsx("p",{children:i.resultDetail.yakus.map(({label:o})=>o).join(" ")}),u.jsx("p",{children:u.jsx(Fx,{han:i.resultDetail.han,fu:i.resultDetail.fu,yakumanCount:i.resultDetail.yakumanCount,isManganRoundUp:e.setting.isManganRoundUp==="1"})})]})]},i.id))})]})]})]})};function zPe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?u.jsx(u.Fragment,{children:"讀取中…"}):u.jsx(NQ,{params:r})}function kQ({params:{matchId:t}}){const{match:e,matchRounds:r,matchCurrentRound:n}=rs(t),[i,o]=E.useState(!1),[s,a]=E.useState(!1),l=E.useCallback(()=>{if(!e||!r)return;const c={_id:t,...zG(Object.values(r))};a(!0),fetch(`https://hkleague2024.hkmahjong.org/api/match/${c._id}/result`,{method:"PATCH",body:JSON.stringify(c),headers:{Accept:"application/json"}}).then(()=>{o(!0),a(!1),alert("上傳完畢，請在資料庫上查看。")})},[e,t,r]);return!e||!n?u.jsx("div",{children:"對局讀取失敗。"}):u.jsx("div",{children:u.jsxs("div",{className:"container mx-auto my-8 px-8 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h6",{className:"text-center text-sm",children:t}),u.jsx("h3",{className:"text-2xl text-center",children:e.name})]}),u.jsx(Tg,{players:e.players,matchRounds:r,className:"w-full table-auto"}),u.jsxs("div",{className:"text-center",children:[!i&&u.jsx(je,{disabled:s,onClick:l,children:s?"上傳中…":"上傳成績"}),i&&u.jsx("a",{href:`https://hkmjbs.sanity.studio/structure/general-list-matches-past;${t}`,children:u.jsx(je,{color:"secondary",children:"在資料庫上查看"})})]})]})})}const GPe=({queryKey:t})=>NO(t[1],t[2]),pR=(t,e)=>Ko({queryKey:["matches",t,e],queryFn:GPe,enabled:!!t}),qPe=({initialMinutes:t})=>{const[e,r]=E.useState(0),[n,i]=E.useMemo(()=>[Math.floor(e/60).toString().padStart(2,"0"),(e%60).toString().padStart(2,"0")],[e]);return E.useEffect(()=>{r(t*60)},[t]),QG(()=>{r(o=>o-1)},e>0?1e3:null),e<=0?u.jsx("span",{className:"text-[.5em]",children:"比賽即將開始"}):u.jsxs("span",{children:[n,":",i]})},OQ=({params:{matchId:t}})=>{const{data:e}=pR(t),r=E.useMemo(()=>e?[e[e._order[0]],e[e._order[1]],e[e._order[2]],e[e._order[3]]]:[],[e]),n=Mx("startAt"),i=Mx("m"),o=E.useMemo(()=>{if(i)return parseInt(i);try{const[s,a]=n.split(":").map(f=>parseInt(f)),l=new Date;l.setHours(s),l.setMinutes(a);const c=new Date;return Math.max(0,(l.getTime()-c.getTime())/6e4)}catch{return 15}},[i,n]);return u.jsxs("div",{className:"fixed inset-0 text-white flex flex-col justify-center items-center",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},children:[u.jsxs("div",{className:"w-[80vw]",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("img",{src:"/images/tournament-long-logo.png",className:"w-[50%]",alt:""}),u.jsx("div",{children:u.jsx("img",{src:"/images/logo-hkma.webp",className:"w-[12vw]",alt:""})})]}),u.jsxs("div",{className:"flex justify-between items-center mb-[10vh]",children:[u.jsxs("div",{style:{paddingBottom:"25vh"},children:[u.jsx("p",{className:"text-left text-[80px] leading-3",children:"下一場賽事"}),u.jsx("p",{className:"text-left text-[120px] scale-[200%] origin-top-left font-numeric",children:u.jsx(qPe,{initialMinutes:o})})]}),u.jsx("div",{className:"grid grid-cols-2 gap-[2vw]",children:r.map(s=>u.jsx("img",{className:"w-[16vw] aspect-square",src:s.teamLogoImageUrl+"?w=500&h=500"}))})]})]}),u.jsxs("div",{className:"fixed bottom-[5vh] left-[10vw]",children:[u.jsx("div",{children:u.jsx("img",{src:"/images/homepage-qr.png",className:"w-[8vw]",alt:""})}),u.jsxs("p",{className:"text-[32px]",children:["聯賽官網: ",u.jsx("u",{children:"https://hkleague2024.hkmahjong.org/"})]})]})]})};function HPe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?u.jsx(u.Fragment,{children:"讀取中…"}):u.jsx(OQ,{params:r})}function KPe(){return u.jsx("div",{className:"fixed inset-0 text-white flex flex-col justify-center items-center",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},children:u.jsxs("div",{className:"w-[80vw]",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("img",{src:"/images/tournament-long-logo.png",className:"w-[50%]",alt:""}),u.jsx("div",{children:u.jsx("img",{src:"/images/logo-hkma.webp",className:"w-[12vw]",alt:""})})]}),u.jsxs("div",{className:"flex flex-col justify-center items-center h-[70vh]",children:[u.jsx("p",{className:"text-[100px] text-center",children:"今天賽事已結束，感謝各位收看！"}),u.jsx("div",{className:"text-center mt-[5vh]",children:u.jsx("img",{src:"/images/homepage-qr.png",className:"w-[12vw] mx-auto",alt:""})}),u.jsx("p",{className:"text-[48px] text-center",children:u.jsx("u",{children:"https://hkleague2024.hkmahjong.org/"})}),u.jsx("p",{className:"text-[48px] text-center",children:"賽程、賽事重溫、隊伍介紹、新手教程"})]})]})})}var jQ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,n(a)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(jQ);var QPe=jQ.exports;const Cr=st(QPe),z3=({teamPlayer:t,team:e,fadeIn:r,fadeOut:n,delay:i})=>{const o=kO(e.color);return u.jsxs("div",{className:Cr("relative aspect-[18/25] rounded-[1em] overflow-hidden",{"mi-team-player-in":r,"mi-team-player-out":n}),style:{background:`linear-gradient(180deg, ${e.color}, ${o})`,animationDelay:i+"s"},children:[u.jsx("div",{className:"absolute inset-0",style:{background:`url(${e.teamLogoImageUrl+"?w=500&h=500&auto=format"})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",opacity:.2}}),u.jsx("img",{className:"relative z-10 block mx-auto w-full",src:t.playerPortraitImageUrl+"?h=500&w=360&auto=format&fit=crop&crop=top",alt:t.playerName}),u.jsx("div",{className:"absolute z-20 bottom-0 left-0 right-0 text-center py-[0.25em]",style:{background:"linear-gradient(to top, #00000090 80%, transparent"},children:u.jsxs("div",{children:[u.jsx("p",{className:"text-[1.5em] leading-[1em] font-semibold",children:t.playerNickname}),u.jsx("p",{className:"text-[0.8em]",children:t.playerName})]})})]},t.playerName)},YPe=({slide:t,status:e,subslide:r})=>{var n,i,o,s,a,l,c,f,d,h,p,m,y,v,b,g,x,S,w,_,A;return t.type==="teams"?u.jsxs("div",{className:"absolute px-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[u.jsx("div",{className:"flex-1"}),u.jsx("div",{className:"flex-[2] grid grid-cols-4 items-center",children:t.teams.map((C,T)=>u.jsxs("div",{className:Cr("relative h-full overflow-hidden",{"mi-teams-in":e===0,"mi-teams-out":e>0}),style:{animationDelay:e===0?T*.25+"s":"0s"},children:[u.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`linear-gradient(to bottom, transparent, ${C.color})`,opacity:.5}},C.teamId),u.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`url(${C.teamLogoImageUrl+"?w=800&h=800&auto=format"})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:.05}}),u.jsxs("div",{className:Cr("absolute inset-0",{"mi-teams-team-out":e>=0&&r>0}),children:[u.jsx("img",{src:C.teamLogoImageUrl+"?w=800&h=800&auto=format",className:"aspect-square w-full",alt:""}),u.jsx("h3",{className:"text-[1.5em] font-semibold text-center",children:C.teamName}),u.jsx("h3",{className:"text-[1em] font-semibold text-center",children:C.teamSecondaryName})]}),u.jsxs("div",{className:Cr("absolute inset-0 opacity-0",{"mi-teams-player-in":e>=0&&r>=1,"mi-teams-player-out":e>0}),style:{animationDelay:e===0?T*.25+"s":"0s"},children:[u.jsx("img",{src:C.playerPortraitImageUrl+"?w=360&h=500&auto=format",className:"aspect-[18/25] w-full",alt:""}),u.jsxs("div",{className:"font-semibold text-center",children:[u.jsx("p",{className:"text-[1em]",children:C.playerNickname}),u.jsx("p",{className:"text-[.8em]",children:C.playerName})]})]})]},C.teamId))})]}):t.type==="team"?u.jsxs("div",{className:"absolute py-16 px-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[u.jsx("div",{className:Cr("absolute inset-0 -z-10",{"mi-team-colorBackground-in":e===0,"mi-team-colorBackground-out":e>0}),style:{background:`linear-gradient(to bottom, transparent 60%, ${t.team.color})`,opacity:.5}}),u.jsx("div",{className:Cr("absolute inset-0 -z-10",{"mi-team-logoBackground-in":e===0,"mi-team-logoBackground-out":e>0}),style:{background:`url(${t.team.teamLogoImageUrl+"?w=800&h=800&auto=format"})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:.125}}),u.jsxs("div",{className:Cr("text-right mb-[.5em]",{"mi-team-team-in":e===0,"mi-team-team-out":e>0}),children:[u.jsxs("div",{className:"flex-1 flex gap-x-[1.5em] items-center justify-end",children:[u.jsxs("div",{className:"text-left space-y-[.5em]",children:[u.jsxs("div",{className:"flex justify-start gap-x-[1em]",children:[u.jsx("p",{children:"隊伍積分"}),u.jsx("p",{children:u.jsx("span",{className:"font-numeric",children:En((n=t.team.teamStatistic)==null?void 0:n.point)})})]}),u.jsxs("div",{className:"flex justify-start gap-x-[1em]",children:[u.jsx("p",{children:"隊伍排名"}),u.jsx("p",{children:u.jsx("span",{className:"font-numeric",children:Ka((i=t.team.teamStatistic)==null?void 0:i.ranking)})})]})]}),u.jsx("img",{src:t.team.teamLogoImageUrl+"?w=512&h=512&auto=format",alt:t.team.teamFullname,className:"aspect-square",style:{width:256,height:256}})]}),u.jsx("h3",{className:"inline-block font-semibold text-right text-[1.5em]",children:t.team.teamFullname})]}),u.jsxs("div",{className:"flex-[2] relative",children:[u.jsx("div",{className:"absolute inset-0 grid grid-cols-4 items-center gap-16",style:{opacity:e===0&&r>=0&&r<1?1:0},children:t.teamPlayers.map((C,T)=>u.jsx(z3,{team:t.team,teamPlayer:C,fadeIn:e===0&&r<=0,fadeOut:e===0&&r>0,delay:(r<=0?1.7:0)+T*.25},C.playerName))}),u.jsxs("div",{className:"absolute inset-0 grid grid-cols-4 items-center gap-16",style:{opacity:e>=0&&e<1&&r>=1&&r<2?1:0},children:[u.jsx(z3,{team:t.team,teamPlayer:t.team,fadeIn:e===0&&r===1,fadeOut:e>0,delay:0}),u.jsx("div",{className:"col-span-3",children:u.jsxs("div",{className:Cr({"mi-team-activePlayerStat-in":e===0&&r===1,"mi-team-activePlayerStat-out":e>0}),children:[u.jsxs("div",{className:"flex justify-between mb-[1em]",children:[u.jsxs("p",{className:"text-[2em] flex items-center",children:[u.jsx("span",{children:"個人總分"}),u.jsx("span",{className:"font-numeric",children:En((o=t.team.playerStatistic)==null?void 0:o.point)}),u.jsxs("span",{className:"ml-4 font-numeric text-[.75em] min-w-[2.5em] text-right text-cyan-400",children:[((s=t.team.playerStatistic)==null?void 0:s.pointRanking)??"-","名"]})]}),u.jsxs("p",{className:"text-[2em]",children:["半莊數"," ",u.jsx("span",{className:"font-numeric",children:((a=t.team.playerStatistic)==null?void 0:a.matchCount)??"-"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-[2em] text-[1.5em]",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"text-[.9em]",children:"四位迴避率"}),u.jsxs("p",{className:"flex items-center",children:[u.jsx("span",{className:"font-numeric",children:Ws((l=t.team.playerStatistic)==null?void 0:l.nonFourthP)}),u.jsxs("span",{className:"font-numeric ml-2 text-[.75em] min-w-[2.5em] text-right text-cyan-400",children:[" ",((c=t.team.playerStatistic)==null?void 0:c.nonFourthPRanking)??"-","名"]})]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"text-[.9em]",children:"連對率"}),u.jsxs("p",{className:"flex items-center",children:[u.jsx("span",{className:"font-numeric",children:Ws((f=t.team.playerStatistic)==null?void 0:f.firstAndSecondP)}),u.jsxs("span",{className:"font-numeric ml-2 text-[.75em] min-w-[2.5em] text-right text-cyan-400",children:[" ",((d=t.team.playerStatistic)==null?void 0:d.firstAndSecondPRanking)??"-","名"]})]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"text-[.9em]",children:"立直率"}),u.jsxs("p",{className:"flex items-center",children:[u.jsx("span",{className:"font-numeric",children:Ws((h=t.team.playerStatistic)==null?void 0:h.riichiP)}),u.jsxs("span",{className:"font-numeric ml-2 text-[.75em] min-w-[2.5em] text-right text-cyan-400",children:[" ",((p=t.team.playerStatistic)==null?void 0:p.riichiPRanking)??"-","名"]})]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"text-[.9em]",children:"和了率"}),u.jsxs("p",{className:"flex items-center",children:[u.jsx("span",{className:"font-numeric",children:Ws((m=t.team.playerStatistic)==null?void 0:m.ronP)}),u.jsxs("span",{className:"font-numeric ml-2 text-[.75em] min-w-[2.5em] text-right text-cyan-400",children:[" ",((y=t.team.playerStatistic)==null?void 0:y.ronPRanking)??"-","名"]})]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"text-[.9em]",children:"銃和率"}),u.jsxs("p",{className:"flex items-center",children:[u.jsx("span",{className:"font-numeric",children:Ws((v=t.team.playerStatistic)==null?void 0:v.chuckP)}),u.jsxs("span",{className:"font-numeric ml-2 text-[.75em] min-w-[2.5em] text-right text-cyan-400",children:[" ",((b=t.team.playerStatistic)==null?void 0:b.chuckPRanking)??"-","名"]})]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("p",{className:"text-[.9em]",children:"副露率"}),u.jsxs("p",{className:"flex items-center",children:[u.jsx("span",{className:"font-numeric",children:Ws((g=t.team.playerStatistic)==null?void 0:g.revealP)}),u.jsxs("span",{className:"font-numeric ml-2 text-[.75em] min-w-[2.5em] text-right text-cyan-400",children:[" ",((x=t.team.playerStatistic)==null?void 0:x.revealPRanking)??"-","名"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-[2em] text-[1.5em] mt-[.8em]",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("p",{className:"text-[.9em]",children:"和了平均打點"}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-numeric",children:Ws((S=t.team.playerStatistic)==null?void 0:S.ronPureScoreAvg)}),u.jsxs("p",{className:"font-numeric text-[.75em] min-w-[2.5em] text-cyan-400 -mt-4",children:[((w=t.team.playerStatistic)==null?void 0:w.ronPureScoreAvgRanking)??"-","名"]})]})]}),u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("p",{className:"text-[.9em]",children:"銃和平均打點"}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-numeric",children:Ws((_=t.team.playerStatistic)==null?void 0:_.chuckPureScoreAvg)}),u.jsxs("p",{className:"font-numeric text-[.75em] min-w-[2.5em] text-cyan-400 -mt-4",children:[((A=t.team.playerStatistic)==null?void 0:A.chuckPureScoreAvgRanking)??"-","名"]})]})]})]})]})})]})]})]}):u.jsx(u.Fragment,{})},RQ=({params:{matchId:t}})=>{const{data:e}=pR(t,!0),r=E.useMemo(()=>e?[e==null?void 0:e.playerEast.teamId,e==null?void 0:e.playerSouth.teamId,e==null?void 0:e.playerWest.teamId,e==null?void 0:e.playerNorth.teamId]:null,[e]),{data:n}=Ko({queryKey:["match",t,"groupedPlayers"],queryFn:()=>vye(r,e==null?void 0:e.tournament._id),enabled:!!e&&!!r}),i=E.useMemo(()=>!e||!n?[{type:"empty",_id:"empty",subslide:0}]:[{type:"empty",_id:"empty",subslide:0},{type:"teams",_id:"teams",teams:[e.playerEast,e.playerSouth,e.playerWest,e.playerNorth],subslide:1},{_id:"team_playerEast",type:"team",team:e.playerEast,teamPlayers:n[e.playerEast.teamId],subslide:2},{_id:"team_playerSouth",type:"team",team:e.playerSouth,teamPlayers:n[e.playerSouth.teamId],subslide:2},{_id:"team_playerWest",type:"team",team:e.playerWest,teamPlayers:n[e.playerWest.teamId],subslide:2},{_id:"team_playerNorth",type:"team",team:e.playerNorth,teamPlayers:n[e.playerNorth.teamId],subslide:2}],[e,n]),[o,s]=E.useState(0),[a,l]=E.useState(0),[c,f]=E.useState(!1),d=E.useCallback(()=>{if(c)return;const h=i[o];if(!h){s(1);return}h.type==="empty"?s(p=>p+1):a>=h.subslide-1?(s(p=>p+.5),f(!0),setTimeout(()=>{s(p=>Math.ceil(p)),l(0),f(!1)},1200)):(l(p=>p+.5),f(!0),setTimeout(()=>{l(p=>Math.ceil(p)),f(!1)},1200))},[c,o,i,a]);return!e||!n?u.jsx(u.Fragment,{}):u.jsxs("div",{className:"match-introduction fixed inset-0 text-white text-[36px]",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},onClick:d,children:[u.jsx("div",{className:"absolute py-16 px-24 inset-0",children:u.jsxs("div",{className:"flex gap-x-[0.25em] mi-title-in",children:[u.jsx("div",{children:u.jsx("img",{src:e.tournament.logoUrl+"?w=280&h=280&auto=format",alt:e.tournament.name,style:{width:"3.5em",height:"3.5em",marginTop:"0.15em"}})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-[1.25em] leading-[1em]",children:e.tournament.name}),u.jsx("h1",{className:"text-[2em] leading-[1.2em] font-semibold",children:e.nameAlt})]})]})}),i.map((h,p)=>u.jsx(YPe,{slide:h,status:o-p,subslide:a},h._id))]})},i0=({player:t})=>u.jsx("div",{className:"relative w-full h-full border-[.5em]",style:{borderColor:t.color},children:u.jsxs("div",{className:"absolute top-0 left-0 flex gap-x-8 pr-1 rounded-br-lg text-[1.5em] font-semibold text-white",style:{backgroundColor:t.color},children:[u.jsxs("p",{children:[t.name," (",t.nickname,")"]}),u.jsx("p",{children:t.currentStatus.afterScore})]})}),$Q=({params:{matchId:t}})=>{const{match:e,matchCurrentRound:r}=rs(t),n=E.useMemo(()=>{if(!e||!r)return[];const i=[{ranking:1,point:50},{ranking:2,point:10},{ranking:3,point:-10},{ranking:4,point:-30}],o=Object.entries(r.playerResults).map(([s,a])=>({playerIndex:s,score:a.afterScore})).sort((s,a)=>a.score-s.score).map((s,a)=>({playerIndex:s.playerIndex,...i[a],point:(s.score-3e4)/1e3+i[a].point})).reduce((s,a)=>(s[a.playerIndex]={point:a.point,ranking:a.ranking},s),{});return["0","1","2","3"].map(s=>({...e.players[s],color:e.players[s].color,currentStatus:{...r.playerResults[s],isEast:ti(s,r.roundCount),...o[s]}}))},[e,r]);return!e||n.length===0?u.jsx(u.Fragment,{}):u.jsxs("div",{className:"fixed inset-0 grid grid-cols-8",children:[u.jsx("div",{className:"col-span-5",children:u.jsx(i0,{player:n[0]})}),u.jsx("div",{className:"col-span-1"}),u.jsx("div",{className:"col-span-2"}),u.jsx("div",{className:"col-span-5",children:u.jsx(i0,{player:n[1]})}),u.jsx("div",{className:"col-span-1"}),u.jsx("div",{className:"col-span-1"}),u.jsx("div",{className:"col-span-1"}),u.jsx("div",{className:"col-span-5",children:u.jsx(i0,{player:n[2]})}),u.jsx("div",{className:"col-span-3 row-span-2"}),u.jsx("div",{className:"col-span-5",children:u.jsx(i0,{player:n[3]})})]})};function XPe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?u.jsx(u.Fragment,{children:"讀取中…"}):u.jsx($Q,{params:r})}function JPe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?u.jsx(u.Fragment,{children:"讀取中…"}):u.jsx(kQ,{params:r})}function DQ(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=DQ(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ct(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=DQ(t))&&(n&&(n+=" "),n+=e);return n}var ZPe=Array.isArray,zn=ZPe,eTe=typeof Rl=="object"&&Rl&&Rl.Object===Object&&Rl,MQ=eTe,tTe=MQ,rTe=typeof self=="object"&&self&&self.Object===Object&&self,nTe=tTe||rTe||Function("return this")(),ns=nTe,iTe=ns,oTe=iTe.Symbol,Hg=oTe,G3=Hg,FQ=Object.prototype,sTe=FQ.hasOwnProperty,aTe=FQ.toString,Uh=G3?G3.toStringTag:void 0;function lTe(t){var e=sTe.call(t,Uh),r=t[Uh];try{t[Uh]=void 0;var n=!0}catch{}var i=aTe.call(t);return n&&(e?t[Uh]=r:delete t[Uh]),i}var cTe=lTe,uTe=Object.prototype,fTe=uTe.toString;function dTe(t){return fTe.call(t)}var hTe=dTe,q3=Hg,pTe=cTe,mTe=hTe,yTe="[object Null]",gTe="[object Undefined]",H3=q3?q3.toStringTag:void 0;function vTe(t){return t==null?t===void 0?gTe:yTe:H3&&H3 in Object(t)?pTe(t):mTe(t)}var Fs=vTe;function bTe(t){return t!=null&&typeof t=="object"}var Ls=bTe,xTe=Fs,_Te=Ls,wTe="[object Symbol]";function STe(t){return typeof t=="symbol"||_Te(t)&&xTe(t)==wTe}var ih=STe,ETe=zn,ATe=ih,CTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PTe=/^\w*$/;function TTe(t,e){if(ETe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||ATe(t)?!0:PTe.test(t)||!CTe.test(t)||e!=null&&t in Object(e)}var mR=TTe;function ITe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var cl=ITe;const oh=st(cl);var NTe=Fs,kTe=cl,OTe="[object AsyncFunction]",jTe="[object Function]",RTe="[object GeneratorFunction]",$Te="[object Proxy]";function DTe(t){if(!kTe(t))return!1;var e=NTe(t);return e==jTe||e==RTe||e==OTe||e==$Te}var yR=DTe;const Me=st(yR);var MTe=ns,FTe=MTe["__core-js_shared__"],LTe=FTe,LA=LTe,K3=function(){var t=/[^.]+$/.exec(LA&&LA.keys&&LA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function BTe(t){return!!K3&&K3 in t}var UTe=BTe,VTe=Function.prototype,WTe=VTe.toString;function zTe(t){if(t!=null){try{return WTe.call(t)}catch{}try{return t+""}catch{}}return""}var LQ=zTe,GTe=yR,qTe=UTe,HTe=cl,KTe=LQ,QTe=/[\\^$.*+?()[\]{}|]/g,YTe=/^\[object .+?Constructor\]$/,XTe=Function.prototype,JTe=Object.prototype,ZTe=XTe.toString,eIe=JTe.hasOwnProperty,tIe=RegExp("^"+ZTe.call(eIe).replace(QTe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rIe(t){if(!HTe(t)||qTe(t))return!1;var e=GTe(t)?tIe:YTe;return e.test(KTe(t))}var nIe=rIe;function iIe(t,e){return t==null?void 0:t[e]}var oIe=iIe,sIe=nIe,aIe=oIe;function lIe(t,e){var r=aIe(t,e);return sIe(r)?r:void 0}var Hc=lIe,cIe=Hc,uIe=cIe(Object,"create"),oS=uIe,Q3=oS;function fIe(){this.__data__=Q3?Q3(null):{},this.size=0}var dIe=fIe;function hIe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var pIe=hIe,mIe=oS,yIe="__lodash_hash_undefined__",gIe=Object.prototype,vIe=gIe.hasOwnProperty;function bIe(t){var e=this.__data__;if(mIe){var r=e[t];return r===yIe?void 0:r}return vIe.call(e,t)?e[t]:void 0}var xIe=bIe,_Ie=oS,wIe=Object.prototype,SIe=wIe.hasOwnProperty;function EIe(t){var e=this.__data__;return _Ie?e[t]!==void 0:SIe.call(e,t)}var AIe=EIe,CIe=oS,PIe="__lodash_hash_undefined__";function TIe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=CIe&&e===void 0?PIe:e,this}var IIe=TIe,NIe=dIe,kIe=pIe,OIe=xIe,jIe=AIe,RIe=IIe;function sh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}sh.prototype.clear=NIe;sh.prototype.delete=kIe;sh.prototype.get=OIe;sh.prototype.has=jIe;sh.prototype.set=RIe;var $Ie=sh;function DIe(){this.__data__=[],this.size=0}var MIe=DIe;function FIe(t,e){return t===e||t!==t&&e!==e}var gR=FIe,LIe=gR;function BIe(t,e){for(var r=t.length;r--;)if(LIe(t[r][0],e))return r;return-1}var sS=BIe,UIe=sS,VIe=Array.prototype,WIe=VIe.splice;function zIe(t){var e=this.__data__,r=UIe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():WIe.call(e,r,1),--this.size,!0}var GIe=zIe,qIe=sS;function HIe(t){var e=this.__data__,r=qIe(e,t);return r<0?void 0:e[r][1]}var KIe=HIe,QIe=sS;function YIe(t){return QIe(this.__data__,t)>-1}var XIe=YIe,JIe=sS;function ZIe(t,e){var r=this.__data__,n=JIe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var eNe=ZIe,tNe=MIe,rNe=GIe,nNe=KIe,iNe=XIe,oNe=eNe;function ah(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ah.prototype.clear=tNe;ah.prototype.delete=rNe;ah.prototype.get=nNe;ah.prototype.has=iNe;ah.prototype.set=oNe;var aS=ah,sNe=Hc,aNe=ns,lNe=sNe(aNe,"Map"),vR=lNe,Y3=$Ie,cNe=aS,uNe=vR;function fNe(){this.size=0,this.__data__={hash:new Y3,map:new(uNe||cNe),string:new Y3}}var dNe=fNe;function hNe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var pNe=hNe,mNe=pNe;function yNe(t,e){var r=t.__data__;return mNe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var lS=yNe,gNe=lS;function vNe(t){var e=gNe(this,t).delete(t);return this.size-=e?1:0,e}var bNe=vNe,xNe=lS;function _Ne(t){return xNe(this,t).get(t)}var wNe=_Ne,SNe=lS;function ENe(t){return SNe(this,t).has(t)}var ANe=ENe,CNe=lS;function PNe(t,e){var r=CNe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var TNe=PNe,INe=dNe,NNe=bNe,kNe=wNe,ONe=ANe,jNe=TNe;function lh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}lh.prototype.clear=INe;lh.prototype.delete=NNe;lh.prototype.get=kNe;lh.prototype.has=ONe;lh.prototype.set=jNe;var bR=lh,BQ=bR,RNe="Expected a function";function xR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(RNe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(xR.Cache||BQ),r}xR.Cache=BQ;var $Ne=xR,DNe=$Ne,MNe=500;function FNe(t){var e=DNe(t,function(n){return r.size===MNe&&r.clear(),n}),r=e.cache;return e}var LNe=FNe,BNe=LNe,UNe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VNe=/\\(\\)?/g,WNe=BNe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(UNe,function(r,n,i,o){e.push(i?o.replace(VNe,"$1"):n||r)}),e}),zNe=WNe;function GNe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var _R=GNe,X3=Hg,qNe=_R,HNe=zn,KNe=ih,QNe=1/0,J3=X3?X3.prototype:void 0,Z3=J3?J3.toString:void 0;function UQ(t){if(typeof t=="string")return t;if(HNe(t))return qNe(t,UQ)+"";if(KNe(t))return Z3?Z3.call(t):"";var e=t+"";return e=="0"&&1/t==-QNe?"-0":e}var YNe=UQ,XNe=YNe;function JNe(t){return t==null?"":XNe(t)}var VQ=JNe,ZNe=zn,eke=mR,tke=zNe,rke=VQ;function nke(t,e){return ZNe(t)?t:eke(t,e)?[t]:tke(rke(t))}var WQ=nke,ike=ih,oke=1/0;function ske(t){if(typeof t=="string"||ike(t))return t;var e=t+"";return e=="0"&&1/t==-oke?"-0":e}var cS=ske,ake=WQ,lke=cS;function cke(t,e){e=ake(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[lke(e[r++])];return r&&r==n?t:void 0}var wR=cke,uke=wR;function fke(t,e,r){var n=t==null?void 0:uke(t,e);return n===void 0?r:n}var zQ=fke;const $i=st(zQ);function dke(t){return t==null}var hke=dke;const Xe=st(hke);var pke=Fs,mke=zn,yke=Ls,gke="[object String]";function vke(t){return typeof t=="string"||!mke(t)&&yke(t)&&pke(t)==gke}var bke=vke;const Kg=st(bke);var xke=Fs,_ke=Ls,wke="[object Number]";function Ske(t){return typeof t=="number"||_ke(t)&&xke(t)==wke}var GQ=Ske;const Eke=st(GQ);var Ake=GQ;function Cke(t){return Ake(t)&&t!=+t}var Pke=Cke;const Qg=st(Pke);var ao=function(e){return e===0?0:e>0?1:-1},zl=function(e){return Kg(e)&&e.indexOf("%")===e.length-1},ne=function(e){return Eke(e)&&!Qg(e)},hr=function(e){return ne(e)||Kg(e)},Tke=0,Yg=function(e){var r=++Tke;return"".concat(e||"").concat(r)},bd=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(e)&&!Kg(e))return n;var o;if(zl(e)){var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return Qg(o)&&(o=n),i&&o>r&&(o=r),o},Ks=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Ike=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Zi=function(e,r){return ne(e)&&ne(r)?function(n){return e+n*(r-e)}:function(){return r}};function p_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):$i(n,e))===r})}function vf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function JT(t){"@babel/helpers - typeof";return JT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JT(t)}var Nke=["viewBox","children"],kke=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eB=["points","pathLength"],BA={svg:Nke,polygon:eB,polyline:eB},SR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],m_=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),!oh(n))return null;var i={};return Object.keys(n).forEach(function(o){SR.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},Oke=function(e,r,n){return function(i){return e(r,n,i),null}},y_=function(e,r,n){if(!oh(e)||JT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];SR.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Oke(s,r,n))}),i},jke=["children"],Rke=["children"];function tB(t,e){if(t==null)return{};var r=$ke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $ke(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ZT(t){"@babel/helpers - typeof";return ZT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZT(t)}var rB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},_s=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},nB=null,UA=null,ER=function t(e){if(e===nB&&Array.isArray(UA))return UA;var r=[];return E.Children.forEach(e,function(n){Xe(n)||(zx.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),UA=r,nB=e,r};function Di(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return _s(i)}):n=[_s(e)],ER(t).forEach(function(i){var o=$i(i,"type.displayName")||$i(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function No(t,e){var r=Di(t,e);return r&&r[0]}var iB=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ne(n)||n<=0||!ne(i)||i<=0)},Dke=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mke=function(e){return e&&e.type&&Kg(e.type)&&Dke.indexOf(e.type)>=0},Fke=function(e){return e&&ZT(e)==="object"&&"cx"in e&&"cy"in e&&"r"in e},Lke=function(e,r,n,i){var o,s=(o=BA==null?void 0:BA[i])!==null&&o!==void 0?o:[];return!Me(e)&&(i&&s.includes(r)||kke.includes(r))||n&&SR.includes(r)},qe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(E.isValidElement(e)&&(i=e.props),!oh(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Lke((a=i)===null||a===void 0?void 0:a[s],s,r,n)&&(o[s]=i[s])}),o},qQ=function t(e,r){if(e===r)return!0;var n=E.Children.count(e);if(n!==E.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oB(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!oB(o,s))return!1}return!0},oB=function(e,r){if(Xe(e)&&Xe(r))return!0;if(!Xe(e)&&!Xe(r)){var n=e.props||{},i=n.children,o=tB(n,jke),s=r.props||{},a=s.children,l=tB(s,Rke);return i&&a?vf(o,l)&&qQ(i,a):!i&&!a?vf(o,l):!1}return!1},sB=function(e,r){var n=[],i={};return ER(e).forEach(function(o,s){if(Mke(o))n.push(o);else if(o){var a=_s(o.type),l=r[a]||{},c=l.handler,f=l.once;if(c&&(!f||!i[a])){var d=c(o,a,s);n.push(d),i[a]=!0}}}),n},Bke=function(e){var r=e&&e.type;return r&&rB[r]?rB[r]:null},Uke=function(e,r){return ER(r).indexOf(e)},Vke=["children","width","height","viewBox","className","style","title","desc"];function eI(){return eI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eI.apply(this,arguments)}function Wke(t,e){if(t==null)return{};var r=zke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zke(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function tI(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=Wke(t,Vke),f=i||{width:r,height:n,x:0,y:0},d=ct("recharts-surface",o);return k.createElement("svg",eI({},qe(c,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),k.createElement("title",null,a),k.createElement("desc",null,l),e)}var Gke=["children","className"];function rI(){return rI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rI.apply(this,arguments)}function qke(t,e){if(t==null)return{};var r=Hke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hke(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Jt=k.forwardRef(function(t,e){var r=t.children,n=t.className,i=qke(t,Gke),o=ct("recharts-layer",n);return k.createElement("g",rI({className:o},qe(i,!0),{ref:e}),r)}),gc=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function Kke(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}var Qke=Kke,Yke=Qke;function Xke(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:Yke(t,e,r)}var Jke=Xke,Zke="\\ud800-\\udfff",eOe="\\u0300-\\u036f",tOe="\\ufe20-\\ufe2f",rOe="\\u20d0-\\u20ff",nOe=eOe+tOe+rOe,iOe="\\ufe0e\\ufe0f",oOe="\\u200d",sOe=RegExp("["+oOe+Zke+nOe+iOe+"]");function aOe(t){return sOe.test(t)}var HQ=aOe;function lOe(t){return t.split("")}var cOe=lOe,KQ="\\ud800-\\udfff",uOe="\\u0300-\\u036f",fOe="\\ufe20-\\ufe2f",dOe="\\u20d0-\\u20ff",hOe=uOe+fOe+dOe,pOe="\\ufe0e\\ufe0f",mOe="["+KQ+"]",nI="["+hOe+"]",iI="\\ud83c[\\udffb-\\udfff]",yOe="(?:"+nI+"|"+iI+")",QQ="[^"+KQ+"]",YQ="(?:\\ud83c[\\udde6-\\uddff]){2}",XQ="[\\ud800-\\udbff][\\udc00-\\udfff]",gOe="\\u200d",JQ=yOe+"?",ZQ="["+pOe+"]?",vOe="(?:"+gOe+"(?:"+[QQ,YQ,XQ].join("|")+")"+ZQ+JQ+")*",bOe=ZQ+JQ+vOe,xOe="(?:"+[QQ+nI+"?",nI,YQ,XQ,mOe].join("|")+")",_Oe=RegExp(iI+"(?="+iI+")|"+xOe+bOe,"g");function wOe(t){return t.match(_Oe)||[]}var SOe=wOe,EOe=cOe,AOe=HQ,COe=SOe;function POe(t){return AOe(t)?COe(t):EOe(t)}var TOe=POe,IOe=Jke,NOe=HQ,kOe=TOe,OOe=VQ;function jOe(t){return function(e){e=OOe(e);var r=NOe(e)?kOe(e):void 0,n=r?r[0]:e.charAt(0),i=r?IOe(r,1).join(""):e.slice(1);return n[t]()+i}}var ROe=jOe,$Oe=ROe,DOe=$Oe("toUpperCase"),MOe=DOe;const uS=st(MOe);function wt(t){return function(){return t}}const eY=Math.cos,g_=Math.sin,go=Math.sqrt,v_=Math.PI,fS=2*v_,oI=Math.PI,sI=2*oI,Nl=1e-6,FOe=sI-Nl;function tY(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function LOe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return tY;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class BOe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?tY:LOe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=n-e,c=i-r,f=s-e,d=a-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Nl)if(!(Math.abs(d*l-c*f)>Nl)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,m=i-a,y=l*l+c*c,v=p*p+m*m,b=Math.sqrt(y),g=Math.sqrt(h),x=o*Math.tan((oI-Math.acos((y+h-v)/(2*b*g)))/2),S=x/g,w=x/b;Math.abs(S-1)>Nl&&this._append`L${e+S*f},${r+S*d}`,this._append`A${o},${o},0,0,${+(d*p>f*m)},${this._x1=e+w*l},${this._y1=r+w*c}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),c=e+a,f=r+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Nl||Math.abs(this._y1-f)>Nl)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%sI+sI),h>FOe?this._append`A${n},${n},0,1,${d},${e-a},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>Nl&&this._append`A${n},${n},0,${+(h>=oI)},${d},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function AR(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new BOe(e)}function CR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rY(t){this._context=t}rY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dS(t){return new rY(t)}function nY(t){return t[0]}function iY(t){return t[1]}function oY(t,e){var r=wt(!0),n=null,i=dS,o=null,s=AR(a);t=typeof t=="function"?t:t===void 0?nY:wt(t),e=typeof e=="function"?e:e===void 0?iY:wt(e);function a(l){var c,f=(l=CR(l)).length,d,h=!1,p;for(n==null&&(o=i(p=s())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,c,l),+e(d,c,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:wt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:wt(+l),a):e},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:wt(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),a):n},a}function o0(t,e,r){var n=null,i=wt(!0),o=null,s=dS,a=null,l=AR(c);t=typeof t=="function"?t:t===void 0?nY:wt(+t),e=typeof e=="function"?e:wt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?iY:wt(+r);function c(d){var h,p,m,y=(d=CR(d)).length,v,b=!1,g,x=new Array(y),S=new Array(y);for(o==null&&(a=s(g=l())),h=0;h<=y;++h){if(!(h<y&&i(v=d[h],h,d))===b)if(b=!b)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=h-1;m>=p;--m)a.point(x[m],S[m]);a.lineEnd(),a.areaEnd()}b&&(x[h]=+t(v,h,d),S[h]=+e(v,h,d),a.point(n?+n(v,h,d):x[h],r?+r(v,h,d):S[h]))}if(g)return a=null,g+""||null}function f(){return oY().defined(i).curve(s).context(o)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:wt(+d),n=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:wt(+d),c):t},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:wt(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:wt(+d),r=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:wt(+d),c):e},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:wt(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(r)},c.lineX1=function(){return f().x(n).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:wt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),c):s},c.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),c):o},c}class sY{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function UOe(t){return new sY(t,!0)}function VOe(t){return new sY(t,!1)}const PR={draw(t,e){const r=go(e/v_);t.moveTo(r,0),t.arc(0,0,r,0,fS)}},WOe={draw(t,e){const r=go(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},aY=go(1/3),zOe=aY*2,GOe={draw(t,e){const r=go(e/zOe),n=r*aY;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},qOe={draw(t,e){const r=go(e),n=-r/2;t.rect(n,n,r,r)}},HOe=.8908130915292852,lY=g_(v_/10)/g_(7*v_/10),KOe=g_(fS/10)*lY,QOe=-eY(fS/10)*lY,YOe={draw(t,e){const r=go(e*HOe),n=KOe*r,i=QOe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const s=fS*o/5,a=eY(s),l=g_(s);t.lineTo(l*r,-a*r),t.lineTo(a*n-l*i,l*n+a*i)}t.closePath()}},VA=go(3),XOe={draw(t,e){const r=-go(e/(VA*3));t.moveTo(0,r*2),t.lineTo(-VA*r,-r),t.lineTo(VA*r,-r),t.closePath()}},mi=-.5,yi=go(3)/2,aI=1/go(12),JOe=(aI/2+1)*3,ZOe={draw(t,e){const r=go(e/JOe),n=r/2,i=r*aI,o=n,s=r*aI+r,a=-o,l=s;t.moveTo(n,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(mi*n-yi*i,yi*n+mi*i),t.lineTo(mi*o-yi*s,yi*o+mi*s),t.lineTo(mi*a-yi*l,yi*a+mi*l),t.lineTo(mi*n+yi*i,mi*i-yi*n),t.lineTo(mi*o+yi*s,mi*s-yi*o),t.lineTo(mi*a+yi*l,mi*l-yi*a),t.closePath()}};function eje(t,e){let r=null,n=AR(i);t=typeof t=="function"?t:wt(t||PR),e=typeof e=="function"?e:wt(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:wt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:wt(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function b_(){}function x_(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function cY(t){this._context=t}cY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:x_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:x_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tje(t){return new cY(t)}function uY(t){this._context=t}uY.prototype={areaStart:b_,areaEnd:b_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:x_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rje(t){return new uY(t)}function fY(t){this._context=t}fY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:x_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nje(t){return new fY(t)}function dY(t){this._context=t}dY.prototype={areaStart:b_,areaEnd:b_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ije(t){return new dY(t)}function aB(t){return t<0?-1:1}function lB(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(aB(o)+aB(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function cB(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function WA(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-n)/3;t._context.bezierCurveTo(n+a,i+a*e,o-a,s-a*r,o,s)}function __(t){this._context=t}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:WA(this,this._t0,cB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,WA(this,cB(this,r=lB(this,t,e)),r);break;default:WA(this,this._t0,r=lB(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function hY(t){this._context=new pY(t)}(hY.prototype=Object.create(__.prototype)).point=function(t,e){__.prototype.point.call(this,e,t)};function pY(t){this._context=t}pY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function oje(t){return new __(t)}function sje(t){return new hY(t)}function mY(t){this._context=t}mY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=uB(t),i=uB(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uB(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function aje(t){return new mY(t)}function hS(t,e){this._context=t,this._t=e}hS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function lje(t){return new hS(t,.5)}function cje(t){return new hS(t,0)}function uje(t){return new hS(t,1)}function xd(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,a=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function lI(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function fje(t,e){return t[e]}function dje(t){const e=[];return e.key=t,e}function hje(){var t=wt([]),e=lI,r=xd,n=fje;function i(o){var s=Array.from(t.apply(this,arguments),dje),a,l=s.length,c=-1,f;for(const d of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(d,s[a].key,c,o)]).data=d;for(a=0,f=CR(e(s));a<l;++a)s[f[a]].index=a;return r(s,f),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:wt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:wt(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?lI:typeof o=="function"?o:wt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??xd,i):r},i}function pje(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}xd(t,e)}}function mje(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=t[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}xd(t,e)}}function yje(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,l=0,c=0;a<s;++a){for(var f=t[e[a]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,m=0;m<a;++m){var y=t[e[m]],v=y[n][1]||0,b=y[n-1][1]||0;p+=v-b}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,xd(t,e)}}function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}var gje=["type","size","sizeType"];function cI(){return cI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cI.apply(this,arguments)}function fB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(r),!0).forEach(function(n){vje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vje(t,e,r){return e=bje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bje(t){var e=xje(t,"string");return ny(e)==="symbol"?e:String(e)}function xje(t,e){if(ny(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ny(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _je(t,e){if(t==null)return{};var r=wje(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wje(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var yY={symbolCircle:PR,symbolCross:WOe,symbolDiamond:GOe,symbolSquare:qOe,symbolStar:YOe,symbolTriangle:XOe,symbolWye:ZOe},Sje=Math.PI/180,Eje=function(e){var r="symbol".concat(uS(e));return yY[r]||PR},Aje=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Sje;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Cje=function(e,r){yY["symbol".concat(uS(e))]=r},TR=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=_je(e,gje),c=dB(dB({},l),{},{type:n,size:o,sizeType:a}),f=function(){var v=Eje(n),b=eje().type(v).size(Aje(o,a,n));return b()},d=c.className,h=c.cx,p=c.cy,m=qe(c,!0);return h===+h&&p===+p&&o===+o?k.createElement("path",cI({},m,{className:ct("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};TR.registerSymbol=Cje;function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function uI(){return uI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uI.apply(this,arguments)}function hB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pje(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(r),!0).forEach(function(n){iy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gY(n.key),n)}}function Ije(t,e,r){return e&&pB(t.prototype,e),r&&pB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fI(t,e)}function fI(t,e){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fI(t,e)}function kje(t){var e=Rje();return function(){var n=w_(t),i;if(e){var o=w_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Oje(this,i)}}function Oje(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jje(t)}function jje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w_(t){return w_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w_(t)}function iy(t,e,r){return e=gY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gY(t){var e=$je(t,"string");return _d(e)==="symbol"?e:String(e)}function $je(t,e){if(_d(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gi=32,IR=function(t){Nje(r,t);var e=kje(r);function r(){return Tje(this,r),e.apply(this,arguments)}return Ije(r,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,s=gi/2,a=gi/6,l=gi/3,c=i.inactive?o:i.color;if(i.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:s,x2:gi,y2:s,className:"recharts-legend-icon"});if(i.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(gi,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(i.type==="rect")return k.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(gi/8,"h").concat(gi,"v").concat(gi*3/4,"h").concat(-gi,"z"),className:"recharts-legend-icon"});if(k.isValidElement(i.legendIcon)){var f=Pje({},i);return delete f.legendIcon,k.cloneElement(i.legendIcon,f)}return k.createElement(TR,{fill:c,cx:s,cy:s,size:gi,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,s=o.payload,a=o.iconSize,l=o.layout,c=o.formatter,f=o.inactiveColor,d={x:0,y:0,width:gi,height:gi},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,y){var v,b=m.formatter||c,g=ct((v={"recharts-legend-item":!0},iy(v,"legend-item-".concat(y),!0),iy(v,"inactive",m.inactive),v));if(m.type==="none")return null;var x=Me(m.value)?null:m.value;gc(!Me(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=m.inactive?f:m.color;return k.createElement("li",uI({className:g,style:h,key:"legend-item-".concat(y)},y_(i.props,m,y)),k.createElement(tI,{width:a,height:a,viewBox:d,style:p},i.renderIcon(m)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(x,m,y):x))})}},{key:"render",value:function(){var i=this.props,o=i.payload,s=i.layout,a=i.align;if(!o||!o.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),r}(E.PureComponent);iy(IR,"displayName","Legend");iy(IR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Dje=aS;function Mje(){this.__data__=new Dje,this.size=0}var Fje=Mje;function Lje(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Bje=Lje;function Uje(t){return this.__data__.get(t)}var Vje=Uje;function Wje(t){return this.__data__.has(t)}var zje=Wje,Gje=aS,qje=vR,Hje=bR,Kje=200;function Qje(t,e){var r=this.__data__;if(r instanceof Gje){var n=r.__data__;if(!qje||n.length<Kje-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Hje(n)}return r.set(t,e),this.size=r.size,this}var Yje=Qje,Xje=aS,Jje=Fje,Zje=Bje,eRe=Vje,tRe=zje,rRe=Yje;function ch(t){var e=this.__data__=new Xje(t);this.size=e.size}ch.prototype.clear=Jje;ch.prototype.delete=Zje;ch.prototype.get=eRe;ch.prototype.has=tRe;ch.prototype.set=rRe;var vY=ch,nRe="__lodash_hash_undefined__";function iRe(t){return this.__data__.set(t,nRe),this}var oRe=iRe;function sRe(t){return this.__data__.has(t)}var aRe=sRe,lRe=bR,cRe=oRe,uRe=aRe;function S_(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new lRe;++e<r;)this.add(t[e])}S_.prototype.add=S_.prototype.push=cRe;S_.prototype.has=uRe;var bY=S_;function fRe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var xY=fRe;function dRe(t,e){return t.has(e)}var _Y=dRe,hRe=bY,pRe=xY,mRe=_Y,yRe=1,gRe=2;function vRe(t,e,r,n,i,o){var s=r&yRe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),f=o.get(e);if(c&&f)return c==e&&f==t;var d=-1,h=!0,p=r&gRe?new hRe:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var m=t[d],y=e[d];if(n)var v=s?n(y,m,d,e,t,o):n(m,y,d,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!pRe(e,function(b,g){if(!mRe(p,g)&&(m===b||i(m,b,r,n,o)))return p.push(g)})){h=!1;break}}else if(!(m===y||i(m,y,r,n,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var wY=vRe,bRe=ns,xRe=bRe.Uint8Array,_Re=xRe;function wRe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var SRe=wRe;function ERe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var NR=ERe,mB=Hg,yB=_Re,ARe=gR,CRe=wY,PRe=SRe,TRe=NR,IRe=1,NRe=2,kRe="[object Boolean]",ORe="[object Date]",jRe="[object Error]",RRe="[object Map]",$Re="[object Number]",DRe="[object RegExp]",MRe="[object Set]",FRe="[object String]",LRe="[object Symbol]",BRe="[object ArrayBuffer]",URe="[object DataView]",gB=mB?mB.prototype:void 0,zA=gB?gB.valueOf:void 0;function VRe(t,e,r,n,i,o,s){switch(r){case URe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case BRe:return!(t.byteLength!=e.byteLength||!o(new yB(t),new yB(e)));case kRe:case ORe:case $Re:return ARe(+t,+e);case jRe:return t.name==e.name&&t.message==e.message;case DRe:case FRe:return t==e+"";case RRe:var a=PRe;case MRe:var l=n&IRe;if(a||(a=TRe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=NRe,s.set(t,e);var f=CRe(a(t),a(e),n,i,o,s);return s.delete(t),f;case LRe:if(zA)return zA.call(t)==zA.call(e)}return!1}var WRe=VRe;function zRe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var SY=zRe,GRe=SY,qRe=zn;function HRe(t,e,r){var n=e(t);return qRe(t)?n:GRe(n,r(t))}var KRe=HRe;function QRe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}var YRe=QRe;function XRe(){return[]}var JRe=XRe,ZRe=YRe,e2e=JRe,t2e=Object.prototype,r2e=t2e.propertyIsEnumerable,vB=Object.getOwnPropertySymbols,n2e=vB?function(t){return t==null?[]:(t=Object(t),ZRe(vB(t),function(e){return r2e.call(t,e)}))}:e2e,i2e=n2e;function o2e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var s2e=o2e,a2e=Fs,l2e=Ls,c2e="[object Arguments]";function u2e(t){return l2e(t)&&a2e(t)==c2e}var f2e=u2e,bB=f2e,d2e=Ls,EY=Object.prototype,h2e=EY.hasOwnProperty,p2e=EY.propertyIsEnumerable,m2e=bB(function(){return arguments}())?bB:function(t){return d2e(t)&&h2e.call(t,"callee")&&!p2e.call(t,"callee")},kR=m2e,E_={exports:{}};function y2e(){return!1}var g2e=y2e;E_.exports;(function(t,e){var r=ns,n=g2e,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?r.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;t.exports=c})(E_,E_.exports);var AY=E_.exports,v2e=9007199254740991,b2e=/^(?:0|[1-9]\d*)$/;function x2e(t,e){var r=typeof t;return e=e??v2e,!!e&&(r=="number"||r!="symbol"&&b2e.test(t))&&t>-1&&t%1==0&&t<e}var OR=x2e,_2e=9007199254740991;function w2e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_2e}var jR=w2e,S2e=Fs,E2e=jR,A2e=Ls,C2e="[object Arguments]",P2e="[object Array]",T2e="[object Boolean]",I2e="[object Date]",N2e="[object Error]",k2e="[object Function]",O2e="[object Map]",j2e="[object Number]",R2e="[object Object]",$2e="[object RegExp]",D2e="[object Set]",M2e="[object String]",F2e="[object WeakMap]",L2e="[object ArrayBuffer]",B2e="[object DataView]",U2e="[object Float32Array]",V2e="[object Float64Array]",W2e="[object Int8Array]",z2e="[object Int16Array]",G2e="[object Int32Array]",q2e="[object Uint8Array]",H2e="[object Uint8ClampedArray]",K2e="[object Uint16Array]",Q2e="[object Uint32Array]",Tt={};Tt[U2e]=Tt[V2e]=Tt[W2e]=Tt[z2e]=Tt[G2e]=Tt[q2e]=Tt[H2e]=Tt[K2e]=Tt[Q2e]=!0;Tt[C2e]=Tt[P2e]=Tt[L2e]=Tt[T2e]=Tt[B2e]=Tt[I2e]=Tt[N2e]=Tt[k2e]=Tt[O2e]=Tt[j2e]=Tt[R2e]=Tt[$2e]=Tt[D2e]=Tt[M2e]=Tt[F2e]=!1;function Y2e(t){return A2e(t)&&E2e(t.length)&&!!Tt[S2e(t)]}var X2e=Y2e;function J2e(t){return function(e){return t(e)}}var CY=J2e,A_={exports:{}};A_.exports;(function(t,e){var r=MQ,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(A_,A_.exports);var Z2e=A_.exports,e$e=X2e,t$e=CY,xB=Z2e,_B=xB&&xB.isTypedArray,r$e=_B?t$e(_B):e$e,PY=r$e,n$e=s2e,i$e=kR,o$e=zn,s$e=AY,a$e=OR,l$e=PY,c$e=Object.prototype,u$e=c$e.hasOwnProperty;function f$e(t,e){var r=o$e(t),n=!r&&i$e(t),i=!r&&!n&&s$e(t),o=!r&&!n&&!i&&l$e(t),s=r||n||i||o,a=s?n$e(t.length,String):[],l=a.length;for(var c in t)(e||u$e.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||a$e(c,l)))&&a.push(c);return a}var d$e=f$e,h$e=Object.prototype;function p$e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||h$e;return t===r}var m$e=p$e;function y$e(t,e){return function(r){return t(e(r))}}var TY=y$e,g$e=TY,v$e=g$e(Object.keys,Object),b$e=v$e,x$e=m$e,_$e=b$e,w$e=Object.prototype,S$e=w$e.hasOwnProperty;function E$e(t){if(!x$e(t))return _$e(t);var e=[];for(var r in Object(t))S$e.call(t,r)&&r!="constructor"&&e.push(r);return e}var A$e=E$e,C$e=yR,P$e=jR;function T$e(t){return t!=null&&P$e(t.length)&&!C$e(t)}var Xg=T$e,I$e=d$e,N$e=A$e,k$e=Xg;function O$e(t){return k$e(t)?I$e(t):N$e(t)}var pS=O$e,j$e=KRe,R$e=i2e,$$e=pS;function D$e(t){return j$e(t,$$e,R$e)}var M$e=D$e,wB=M$e,F$e=1,L$e=Object.prototype,B$e=L$e.hasOwnProperty;function U$e(t,e,r,n,i,o){var s=r&F$e,a=wB(t),l=a.length,c=wB(e),f=c.length;if(l!=f&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:B$e.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var v=s;++d<l;){h=a[d];var b=t[h],g=e[h];if(n)var x=s?n(g,b,h,e,t,o):n(b,g,h,t,e,o);if(!(x===void 0?b===g||i(b,g,r,n,o):x)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(y=!1)}return o.delete(t),o.delete(e),y}var V$e=U$e,W$e=Hc,z$e=ns,G$e=W$e(z$e,"DataView"),q$e=G$e,H$e=Hc,K$e=ns,Q$e=H$e(K$e,"Promise"),Y$e=Q$e,X$e=Hc,J$e=ns,Z$e=X$e(J$e,"Set"),IY=Z$e,eDe=Hc,tDe=ns,rDe=eDe(tDe,"WeakMap"),nDe=rDe,dI=q$e,hI=vR,pI=Y$e,mI=IY,yI=nDe,NY=Fs,uh=LQ,SB="[object Map]",iDe="[object Object]",EB="[object Promise]",AB="[object Set]",CB="[object WeakMap]",PB="[object DataView]",oDe=uh(dI),sDe=uh(hI),aDe=uh(pI),lDe=uh(mI),cDe=uh(yI),kl=NY;(dI&&kl(new dI(new ArrayBuffer(1)))!=PB||hI&&kl(new hI)!=SB||pI&&kl(pI.resolve())!=EB||mI&&kl(new mI)!=AB||yI&&kl(new yI)!=CB)&&(kl=function(t){var e=NY(t),r=e==iDe?t.constructor:void 0,n=r?uh(r):"";if(n)switch(n){case oDe:return PB;case sDe:return SB;case aDe:return EB;case lDe:return AB;case cDe:return CB}return e});var uDe=kl,GA=vY,fDe=wY,dDe=WRe,hDe=V$e,TB=uDe,IB=zn,NB=AY,pDe=PY,mDe=1,kB="[object Arguments]",OB="[object Array]",s0="[object Object]",yDe=Object.prototype,jB=yDe.hasOwnProperty;function gDe(t,e,r,n,i,o){var s=IB(t),a=IB(e),l=s?OB:TB(t),c=a?OB:TB(e);l=l==kB?s0:l,c=c==kB?s0:c;var f=l==s0,d=c==s0,h=l==c;if(h&&NB(t)){if(!NB(e))return!1;s=!0,f=!1}if(h&&!f)return o||(o=new GA),s||pDe(t)?fDe(t,e,r,n,i,o):dDe(t,e,l,r,n,i,o);if(!(r&mDe)){var p=f&&jB.call(t,"__wrapped__"),m=d&&jB.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,v=m?e.value():e;return o||(o=new GA),i(y,v,r,n,o)}}return h?(o||(o=new GA),hDe(t,e,r,n,i,o)):!1}var vDe=gDe,bDe=vDe,RB=Ls;function kY(t,e,r,n,i){return t===e?!0:t==null||e==null||!RB(t)&&!RB(e)?t!==t&&e!==e:bDe(t,e,r,n,kY,i)}var RR=kY,xDe=vY,_De=RR,wDe=1,SDe=2;function EDe(t,e,r,n){var i=r.length,o=i,s=!n;if(t==null)return!o;for(t=Object(t);i--;){var a=r[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=r[i];var l=a[0],c=t[l],f=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new xDe;if(n)var h=n(c,f,l,t,e,d);if(!(h===void 0?_De(f,c,wDe|SDe,n,d):h))return!1}}return!0}var ADe=EDe,CDe=cl;function PDe(t){return t===t&&!CDe(t)}var OY=PDe,TDe=OY,IDe=pS;function NDe(t){for(var e=IDe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,TDe(i)]}return e}var kDe=NDe;function ODe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var jY=ODe,jDe=ADe,RDe=kDe,$De=jY;function DDe(t){var e=RDe(t);return e.length==1&&e[0][2]?$De(e[0][0],e[0][1]):function(r){return r===t||jDe(r,t,e)}}var MDe=DDe;function FDe(t,e){return t!=null&&e in Object(t)}var LDe=FDe,BDe=WQ,UDe=kR,VDe=zn,WDe=OR,zDe=jR,GDe=cS;function qDe(t,e,r){e=BDe(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var s=GDe(e[n]);if(!(o=t!=null&&r(t,s)))break;t=t[s]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&zDe(i)&&WDe(s,i)&&(VDe(t)||UDe(t)))}var HDe=qDe,KDe=LDe,QDe=HDe;function YDe(t,e){return t!=null&&QDe(t,e,KDe)}var XDe=YDe,JDe=RR,ZDe=zQ,eMe=XDe,tMe=mR,rMe=OY,nMe=jY,iMe=cS,oMe=1,sMe=2;function aMe(t,e){return tMe(t)&&rMe(e)?nMe(iMe(t),e):function(r){var n=ZDe(r,t);return n===void 0&&n===e?eMe(r,t):JDe(e,n,oMe|sMe)}}var lMe=aMe;function cMe(t){return t}var fh=cMe;function uMe(t){return function(e){return e==null?void 0:e[t]}}var fMe=uMe,dMe=wR;function hMe(t){return function(e){return dMe(e,t)}}var pMe=hMe,mMe=fMe,yMe=pMe,gMe=mR,vMe=cS;function bMe(t){return gMe(t)?mMe(vMe(t)):yMe(t)}var xMe=bMe,_Me=MDe,wMe=lMe,SMe=fh,EMe=zn,AMe=xMe;function CMe(t){return typeof t=="function"?t:t==null?SMe:typeof t=="object"?EMe(t)?wMe(t[0],t[1]):_Me(t):AMe(t)}var ul=CMe;function PMe(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var RY=PMe;function TMe(t){return t!==t}var IMe=TMe;function NMe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var kMe=NMe,OMe=RY,jMe=IMe,RMe=kMe;function $Me(t,e,r){return e===e?RMe(t,e,r):OMe(t,jMe,r)}var DMe=$Me,MMe=DMe;function FMe(t,e){var r=t==null?0:t.length;return!!r&&MMe(t,e,0)>-1}var LMe=FMe;function BMe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var UMe=BMe;function VMe(){}var WMe=VMe,qA=IY,zMe=WMe,GMe=NR,qMe=1/0,HMe=qA&&1/GMe(new qA([,-0]))[1]==qMe?function(t){return new qA(t)}:zMe,KMe=HMe,QMe=bY,YMe=LMe,XMe=UMe,JMe=_Y,ZMe=KMe,eFe=NR,tFe=200;function rFe(t,e,r){var n=-1,i=YMe,o=t.length,s=!0,a=[],l=a;if(r)s=!1,i=XMe;else if(o>=tFe){var c=e?null:ZMe(t);if(c)return eFe(c);s=!1,i=JMe,l=new QMe}else l=e?[]:a;e:for(;++n<o;){var f=t[n],d=e?e(f):f;if(f=r||f!==0?f:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(f)}else i(l,d,r)||(l!==a&&l.push(d),a.push(f))}return a}var nFe=rFe,iFe=ul,oFe=nFe;function sFe(t,e){return t&&t.length?oFe(t,iFe(e)):[]}var aFe=sFe;const $B=st(aFe);function $Y(t,e,r){return e===!0?$B(t,r):Me(e)?$B(t,e):t}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}var lFe=["ref"];function DB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(r),!0).forEach(function(n){mS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MY(n.key),n)}}function uFe(t,e,r){return e&&MB(t.prototype,e),r&&MB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gI(t,e)}function gI(t,e){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gI(t,e)}function dFe(t){var e=pFe();return function(){var n=C_(t),i;if(e){var o=C_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return hFe(this,i)}}function hFe(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DY(t)}function DY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C_(t){return C_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C_(t)}function mS(t,e,r){return e=MY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MY(t){var e=mFe(t,"string");return wd(e)==="symbol"?e:String(e)}function mFe(t,e){if(wd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yFe(t,e){if(t==null)return{};var r=gFe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gFe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function vFe(t){return t.value}function bFe(t,e){if(k.isValidElement(t))return k.cloneElement(t,e);if(typeof t=="function")return k.createElement(t,e);e.ref;var r=yFe(e,lFe);return k.createElement(IR,r)}var FB=1,oy=function(t){fFe(r,t);var e=dFe(r);function r(){var n;cFe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o)),mS(DY(n),"lastBoundingBox",{width:-1,height:-1}),n}return uFe(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var o=this.wrapperNode.getBoundingClientRect();(Math.abs(o.width-this.lastBoundingBox.width)>FB||Math.abs(o.height-this.lastBoundingBox.height)>FB)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,i&&i(o))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var o=this.props,s=o.layout,a=o.align,l=o.verticalAlign,c=o.margin,f=o.chartWidth,d=o.chartHeight,h,p;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(a==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();h={left:((f||0)-m.width)/2}}else h=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();p={top:((d||0)-y.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return yl(yl({},h),p)}},{key:"render",value:function(){var i=this,o=this.props,s=o.content,a=o.width,l=o.height,c=o.wrapperStyle,f=o.payloadUniqBy,d=o.payload,h=yl(yl({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return k.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){i.wrapperNode=m}},bFe(s,yl(yl({},this.props),{},{payload:$Y(d,f,vFe)})))}}],[{key:"getWithHeight",value:function(i,o){var s=i.props.layout;return s==="vertical"&&ne(i.props.height)?{height:i.props.height}:s==="horizontal"?{width:i.props.width||o}:null}}]),r}(E.PureComponent);mS(oy,"displayName","Legend");mS(oy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LB=Hg,xFe=kR,_Fe=zn,BB=LB?LB.isConcatSpreadable:void 0;function wFe(t){return _Fe(t)||xFe(t)||!!(BB&&t&&t[BB])}var SFe=wFe,EFe=SY,AFe=SFe;function FY(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=AFe),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?FY(a,e-1,r,n,i):EFe(i,a):n||(i[i.length]=a)}return i}var LY=FY;function CFe(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++i];if(r(o[l],l,o)===!1)break}return e}}var PFe=CFe,TFe=PFe,IFe=TFe(),NFe=IFe,kFe=NFe,OFe=pS;function jFe(t,e){return t&&kFe(t,e,OFe)}var BY=jFe,RFe=Xg;function $Fe(t,e){return function(r,n){if(r==null)return r;if(!RFe(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Object(r);(e?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var DFe=$Fe,MFe=BY,FFe=DFe,LFe=FFe(MFe),$R=LFe,BFe=$R,UFe=Xg;function VFe(t,e){var r=-1,n=UFe(t)?Array(t.length):[];return BFe(t,function(i,o,s){n[++r]=e(i,o,s)}),n}var UY=VFe;function WFe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var zFe=WFe,UB=ih;function GFe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,o=UB(t),s=e!==void 0,a=e===null,l=e===e,c=UB(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||n&&s&&l||!r&&l||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!l)return-1}return 0}var qFe=GFe,HFe=qFe;function KFe(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var l=HFe(i[n],o[n]);if(l){if(n>=a)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var QFe=KFe,HA=_R,YFe=wR,XFe=ul,JFe=UY,ZFe=zFe,eLe=CY,tLe=QFe,rLe=fh,nLe=zn;function iLe(t,e,r){e.length?e=HA(e,function(o){return nLe(o)?function(s){return YFe(s,o.length===1?o[0]:o)}:o}):e=[rLe];var n=-1;e=HA(e,eLe(XFe));var i=JFe(t,function(o,s,a){var l=HA(e,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return ZFe(i,function(o,s){return tLe(o,s,r)})}var oLe=iLe;function sLe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var aLe=sLe,lLe=aLe,VB=Math.max;function cLe(t,e,r){return e=VB(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=VB(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),lLe(t,this,a)}}var uLe=cLe;function fLe(t){return function(){return t}}var dLe=fLe,hLe=Hc,pLe=function(){try{var t=hLe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),VY=pLe,mLe=dLe,WB=VY,yLe=fh,gLe=WB?function(t,e){return WB(t,"toString",{configurable:!0,enumerable:!1,value:mLe(e),writable:!0})}:yLe,vLe=gLe,bLe=800,xLe=16,_Le=Date.now;function wLe(t){var e=0,r=0;return function(){var n=_Le(),i=xLe-(n-r);if(r=n,i>0){if(++e>=bLe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var SLe=wLe,ELe=vLe,ALe=SLe,CLe=ALe(ELe),PLe=CLe,TLe=fh,ILe=uLe,NLe=PLe;function kLe(t,e){return NLe(ILe(t,e,TLe),t+"")}var OLe=kLe,jLe=gR,RLe=Xg,$Le=OR,DLe=cl;function MLe(t,e,r){if(!DLe(r))return!1;var n=typeof e;return(n=="number"?RLe(r)&&$Le(e,r.length):n=="string"&&e in r)?jLe(r[e],t):!1}var yS=MLe,FLe=LY,LLe=oLe,BLe=OLe,zB=yS,ULe=BLe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&zB(t,e[0],e[1])?e=[]:r>2&&zB(e[0],e[1],e[2])&&(e=[e[0]]),LLe(t,FLe(e,1),[])}),VLe=ULe;const DR=st(VLe);function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function WLe(t,e){return HLe(t)||qLe(t,e)||GLe(t,e)||zLe()}function zLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GLe(t,e){if(t){if(typeof t=="string")return GB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GB(t,e)}}function GB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function HLe(t){if(Array.isArray(t))return t}function qB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(r),!0).forEach(function(n){KLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KLe(t,e,r){return e=QLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QLe(t){var e=YLe(t,"string");return sy(e)==="symbol"?e:String(e)}function YLe(t,e){if(sy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(sy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XLe(t){return Array.isArray(t)&&hr(t[0])&&hr(t[1])?t.join(" ~ "):t}var JLe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,f=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,v=e.labelFormatter,b=function(){if(f&&f.length){var T={padding:0,margin:0},P=(h?DR(f,h):f).map(function(I,O){if(I.type==="none")return null;var N=KA({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},a),R=I.formatter||d||XLe,L=I.value,U=I.name,V=L,j=U;if(R&&V!=null&&j!=null){var F=R(L,U,I,O,f);if(Array.isArray(F)){var z=WLe(F,2);V=z[0],j=z[1]}else V=F}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:N},hr(j)?k.createElement("span",{className:"recharts-tooltip-item-name"},j):null,hr(j)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},V),k.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},g=KA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),x=KA({margin:0},c),S=!Xe(y),w=S?y:"",_=ct("recharts-default-tooltip",p),A=ct("recharts-tooltip-label",m);return S&&v&&f!==void 0&&f!==null&&(w=v(y,f)),k.createElement("div",{className:_,style:g},k.createElement("p",{className:A,style:x},k.isValidElement(w)?w:"".concat(w)),b())},WY={exports:{}},ZLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e3e=ZLe,t3e=e3e;function zY(){}function GY(){}GY.resetWarningCache=zY;var r3e=function(){function t(n,i,o,s,a,l){if(l!==t3e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:GY,resetWarningCache:zY};return r.PropTypes=r,r};WY.exports=r3e();var n3e=WY.exports;const Te=st(n3e);var i3e=Object.getOwnPropertyNames,o3e=Object.getOwnPropertySymbols,s3e=Object.prototype.hasOwnProperty;function HB(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function a0(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,s=o.get(r),a=o.get(n);if(s&&a)return s===n&&a===r;o.set(r,n),o.set(n,r);var l=t(r,n,i);return o.delete(r),o.delete(n),l}}function KB(t){return i3e(t).concat(o3e(t))}var qY=Object.hasOwn||function(t,e){return s3e.call(t,e)};function dh(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var HY="_owner",QB=Object.getOwnPropertyDescriptor,YB=Object.keys;function a3e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function l3e(t,e){return dh(t.getTime(),e.getTime())}function XB(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var l=e.entries(),c=!1,f=0;(a=l.next())&&!a.done;){var d=s.value,h=d[0],p=d[1],m=a.value,y=m[0],v=m[1];!c&&!n[f]&&(c=r.equals(h,y,o,f,t,e,r)&&r.equals(p,v,h,y,t,e,r))&&(n[f]=!0),f++}if(!c)return!1;o++}return!0}function c3e(t,e,r){var n=YB(t),i=n.length;if(YB(e).length!==i)return!1;for(var o;i-- >0;)if(o=n[i],o===HY&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!qY(e,o)||!r.equals(t[o],e[o],o,o,t,e,r))return!1;return!0}function Vh(t,e,r){var n=KB(t),i=n.length;if(KB(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=n[i],o===HY&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!qY(e,o)||!r.equals(t[o],e[o],o,o,t,e,r)||(s=QB(t,o),a=QB(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function u3e(t,e){return dh(t.valueOf(),e.valueOf())}function f3e(t,e){return t.source===e.source&&t.flags===e.flags}function JB(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),o,s;(o=i.next())&&!o.done;){for(var a=e.values(),l=!1,c=0;(s=a.next())&&!s.done;)!l&&!n[c]&&(l=r.equals(o.value,s.value,o.value,s.value,t,e,r))&&(n[c]=!0),c++;if(!l)return!1}return!0}function d3e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var h3e="[object Arguments]",p3e="[object Boolean]",m3e="[object Date]",y3e="[object Map]",g3e="[object Number]",v3e="[object Object]",b3e="[object RegExp]",x3e="[object Set]",_3e="[object String]",w3e=Array.isArray,ZB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,e4=Object.assign,S3e=Object.prototype.toString.call.bind(Object.prototype.toString);function E3e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,a=t.areSetsEqual,l=t.areTypedArraysEqual;return function(f,d,h){if(f===d)return!0;if(f==null||d==null||typeof f!="object"||typeof d!="object")return f!==f&&d!==d;var p=f.constructor;if(p!==d.constructor)return!1;if(p===Object)return i(f,d,h);if(w3e(f))return e(f,d,h);if(ZB!=null&&ZB(f))return l(f,d,h);if(p===Date)return r(f,d,h);if(p===RegExp)return s(f,d,h);if(p===Map)return n(f,d,h);if(p===Set)return a(f,d,h);var m=S3e(f);return m===m3e?r(f,d,h):m===b3e?s(f,d,h):m===y3e?n(f,d,h):m===x3e?a(f,d,h):m===v3e?typeof f.then!="function"&&typeof d.then!="function"&&i(f,d,h):m===h3e?i(f,d,h):m===p3e||m===g3e||m===_3e?o(f,d,h):!1}}function A3e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Vh:a3e,areDatesEqual:l3e,areMapsEqual:n?HB(XB,Vh):XB,areObjectsEqual:n?Vh:c3e,arePrimitiveWrappersEqual:u3e,areRegExpsEqual:f3e,areSetsEqual:n?HB(JB,Vh):JB,areTypedArraysEqual:n?Vh:d3e};if(r&&(i=e4({},i,r(i))),e){var o=a0(i.areArraysEqual),s=a0(i.areMapsEqual),a=a0(i.areObjectsEqual),l=a0(i.areSetsEqual);i=e4({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function C3e(t){return function(e,r,n,i,o,s,a){return t(e,r,a)}}function P3e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(l,c){var f=n(),d=f.cache,h=d===void 0?e?new WeakMap:void 0:d,p=f.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return r(l,c,s)}}var T3e=fl();fl({strict:!0});fl({circular:!0});fl({circular:!0,strict:!0});fl({createInternalComparator:function(){return dh}});fl({strict:!0,createInternalComparator:function(){return dh}});fl({circular:!0,createInternalComparator:function(){return dh}});fl({circular:!0,createInternalComparator:function(){return dh},strict:!0});function fl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=A3e(t),l=E3e(a),c=n?n(l):C3e(l);return P3e({circular:r,comparator:l,createState:i,equals:c,strict:s})}function I3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function t4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):I3e(i)};requestAnimationFrame(n)}function vI(t){"@babel/helpers - typeof";return vI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vI(t)}function N3e(t){return R3e(t)||j3e(t)||O3e(t)||k3e()}function k3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3e(t,e){if(t){if(typeof t=="string")return r4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r4(t,e)}}function r4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R3e(t){if(Array.isArray(t))return t}function $3e(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,a=N3e(s),l=a[0],c=a.slice(1);if(typeof l=="number"){t4(i.bind(null,c),l);return}i(l),t4(i.bind(null,c));return}vI(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function n4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(r),!0).forEach(function(n){P_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P_(t,e,r){return e=D3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D3e(t){var e=M3e(t,"string");return ay(e)==="symbol"?e:String(e)}function M3e(t,e){if(ay(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ay(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F3e=["Webkit","Moz","O","ms"],L3e=["-webkit-","-moz-","-o-","-ms-"],B3e=["transform","transformOrigin","transition"],U3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},V3e=function(e){return e},W3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},z3e=function(e,r){if(B3e.indexOf(e)===-1)return P_({},e,Number.isNaN(r)?0:r);var n=e==="transition",i=e.replace(/(\w)/,function(s){return s.toUpperCase()}),o=r;return F3e.reduce(function(s,a,l){return n&&(o=r.replace(/(transform|transform-origin)/gim,"".concat(L3e[l],"$1"))),Sd(Sd({},s),{},P_({},a+i,o))},{})},Xp=function(e,r){return Object.keys(r).reduce(function(n,i){return Sd(Sd({},n),{},P_({},i,e(i,r[i])))},{})},MR=function(e){return Object.keys(e).reduce(function(r,n){return Sd(Sd({},r),z3e(n,r[n]))},e)},i4=function(e,r,n){return e.map(function(i){return"".concat(W3e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function G3e(t,e){return K3e(t)||H3e(t,e)||KY(t,e)||q3e()}function q3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function K3e(t){if(Array.isArray(t))return t}function Q3e(t){return J3e(t)||X3e(t)||KY(t)||Y3e()}function Y3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KY(t,e){if(t){if(typeof t=="string")return bI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bI(t,e)}}function X3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J3e(t){if(Array.isArray(t))return bI(t)}function bI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var T_=1e-4,QY=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},YY=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},o4=function(e,r){return function(n){var i=QY(e,r);return YY(i,n)}},Z3e=function(e,r){return function(n){var i=QY(e,r),o=[].concat(Q3e(i.map(function(s,a){return s*a}).slice(1)),[0]);return YY(o,n)}},s4=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=G3e(c,4);i=f[0],o=f[1],s=f[2],a=f[3]}}}var d=o4(i,s),h=o4(o,a),p=Z3e(i,s),m=function(b){return b>1?1:b<0?0:b},y=function(b){for(var g=b>1?1:b,x=g,S=0;S<8;++S){var w=d(x)-g,_=p(x);if(Math.abs(w-g)<T_||_<T_)return h(x);x=m(x-w/_)}return h(x)};return y.isStepper=!1,y},eBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(f,d,h){var p=-(f-d)*n,m=h*o,y=h+(p-m)*a/1e3,v=h*a/1e3+f;return Math.abs(v-d)<T_&&Math.abs(y)<T_?[d,0]:[v,y]};return l.isStepper=!0,l.dt=a,l},tBe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return s4(i);case"spring":return eBe();default:if(i.split("(")[0]==="cubic-bezier")return s4(i)}return typeof i=="function"?i:null};function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function a4(t){return iBe(t)||nBe(t)||XY(t)||rBe()}function rBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iBe(t){if(Array.isArray(t))return _I(t)}function l4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(r),!0).forEach(function(n){xI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xI(t,e,r){return e=oBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oBe(t){var e=sBe(t,"string");return ly(e)==="symbol"?e:String(e)}function sBe(t,e){if(ly(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ly(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aBe(t,e){return uBe(t)||cBe(t,e)||XY(t,e)||lBe()}function lBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XY(t,e){if(t){if(typeof t=="string")return _I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(t,e)}}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function uBe(t){if(Array.isArray(t))return t}var I_=function(e,r,n){return e+(r-e)*n},wI=function(e){var r=e.from,n=e.to;return r!==n},fBe=function t(e,r,n){var i=Xp(function(o,s){if(wI(s)){var a=e(s.from,s.to,s.velocity),l=aBe(a,2),c=l[0],f=l[1];return Fr(Fr({},s),{},{from:c,velocity:f})}return s},r);return n<1?Xp(function(o,s){return wI(s)?Fr(Fr({},s),{},{velocity:I_(s.velocity,i[o].velocity,n),from:I_(s.from,i[o].from,n)}):s},r):t(e,i,n-1)};const dBe=function(t,e,r,n,i){var o=U3e(t,e),s=o.reduce(function(v,b){return Fr(Fr({},v),{},xI({},b,[t[b],e[b]]))},{}),a=o.reduce(function(v,b){return Fr(Fr({},v),{},xI({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return Xp(function(b,g){return g.from},a)},p=function(){return!Object.values(a).filter(wI).length},m=function(b){c||(c=b);var g=b-c,x=g/r.dt;a=fBe(r,a,x),i(Fr(Fr(Fr({},t),e),h())),c=b,p()||(l=requestAnimationFrame(d))},y=function(b){f||(f=b);var g=(b-f)/n,x=Xp(function(w,_){return I_.apply(void 0,a4(_).concat([r(g)]))},s);if(i(Fr(Fr(Fr({},t),e),x)),g<1)l=requestAnimationFrame(d);else{var S=Xp(function(w,_){return I_.apply(void 0,a4(_).concat([r(1)]))},s);i(Fr(Fr(Fr({},t),e),S))}};return d=r.isStepper?m:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}var hBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pBe(t,e){if(t==null)return{};var r=mBe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mBe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function QA(t){return bBe(t)||vBe(t)||gBe(t)||yBe()}function yBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gBe(t,e){if(t){if(typeof t=="string")return SI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SI(t,e)}}function vBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bBe(t){if(Array.isArray(t))return SI(t)}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(r),!0).forEach(function(n){vp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vp(t,e,r){return e=JY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JY(n.key),n)}}function _Be(t,e,r){return e&&u4(t.prototype,e),r&&u4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JY(t){var e=wBe(t,"string");return Ed(e)==="symbol"?e:String(e)}function wBe(t,e){if(Ed(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EI(t,e)}function EI(t,e){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EI(t,e)}function EBe(t){var e=ABe();return function(){var n=N_(t),i;if(e){var o=N_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return AI(this,i)}}function AI(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CI(t)}function CI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ABe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N_(t){return N_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N_(t)}var ks=function(t){SBe(r,t);var e=EBe(r);function r(n,i){var o;xBe(this,r),o=e.call(this,n,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,f=s.to,d=s.steps,h=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(CI(o)),o.changeStyle=o.changeStyle.bind(CI(o)),!a||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:f}),AI(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof h=="function")return o.state={style:c},AI(o);o.state={style:l?vp({},l,c):c}}else o.state={style:{}};return o}return _Be(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,f=o.to,d=o.from,h=this.state.style;if(a){if(!s){var p={style:l?vp({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(T3e(i.to,f)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||c?d:i.to;if(this.state&&h){var v={style:l?vp({},l,y):y};(l&&[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(Gi(Gi({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,f=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=dBe(s,a,tBe(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,f,m,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(y,v,b){if(b===0)return y;var g=v.duration,x=v.easing,S=x===void 0?"ease":x,w=v.style,_=v.properties,A=v.onAnimationEnd,C=b>0?s[b-1]:v,T=_||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(QA(y),[o.runJSAnimation.bind(o,{from:C.style,to:w,duration:g,easing:S}),g]);var P=i4(T,g,S),I=Gi(Gi(Gi({},C.style),w),{},{transition:P});return[].concat(QA(y),[I,g,A]).filter(V3e)};return this.manager.start([l].concat(QA(s.reduce(p,[f,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$3e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=a?vp({},a,l):l,v=i4(Object.keys(y),s,c);m.start([f,o,Gi(Gi({},y),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=pBe(i,hBe),c=E.Children.count(o),f=MR(this.state.style);if(typeof o=="function")return o(f);if(!a||c===0||s<=0)return o;var d=function(p){var m=p.props,y=m.style,v=y===void 0?{}:y,b=m.className,g=E.cloneElement(p,Gi(Gi({},l),{},{style:Gi(Gi({},v),f),className:b}));return g};return c===1?d(E.Children.only(o)):k.createElement("div",null,E.Children.map(o,function(h){return d(h)}))}}]),r}(E.PureComponent);ks.displayName="Animate";ks.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ks.propTypes={from:Te.oneOfType([Te.object,Te.string]),to:Te.oneOfType([Te.object,Te.string]),attributeName:Te.string,duration:Te.number,begin:Te.number,easing:Te.oneOfType([Te.string,Te.func]),steps:Te.arrayOf(Te.shape({duration:Te.number.isRequired,style:Te.object.isRequired,easing:Te.oneOfType([Te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Te.func]),properties:Te.arrayOf("string"),onAnimationEnd:Te.func})),children:Te.oneOfType([Te.node,Te.func]),isActive:Te.bool,canBegin:Te.bool,onAnimationEnd:Te.func,shouldReAnimate:Te.bool,onAnimationStart:Te.func,onAnimationReStart:Te.func};Number.isFinite===void 0&&(Number.isFinite=function(t){return typeof t=="number"&&isFinite(t)});Te.object,Te.object,Te.object,Te.element;Te.object,Te.object,Te.object,Te.oneOfType([Te.array,Te.element]),Te.any;function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function l0(t,e,r){return e=CBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CBe(t){var e=PBe(t,"string");return cy(e)==="symbol"?e:String(e)}function PBe(t,e){if(cy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wh="recharts-tooltip-wrapper",TBe={visibility:"hidden"};function IBe(t){var e,r=t.coordinate,n=t.translateX,i=t.translateY;return ct(Wh,(e={},l0(e,"".concat(Wh,"-right"),ne(n)&&r&&ne(r.x)&&n>=r.x),l0(e,"".concat(Wh,"-left"),ne(n)&&r&&ne(r.x)&&n<r.x),l0(e,"".concat(Wh,"-bottom"),ne(i)&&r&&ne(r.y)&&i>=r.y),l0(e,"".concat(Wh,"-top"),ne(i)&&r&&ne(r.y)&&i<r.y),e))}function f4(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&ne(o[n]))return o[n];var f=r[n]-a-i,d=r[n]+i;if(e[n])return s[n]?f:d;if(s[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var m=d+a,y=l[n]+c;return m>y?Math.max(f,l[n]):Math.max(d,l[n])}function NBe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return MR({transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")})}function kBe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,f,d;return s.height>0&&s.width>0&&r?(f=f4({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=f4({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=NBe({translateX:f,translateY:d,useTranslate3d:a})):c=TBe,{cssProperties:c,cssClasses:IBe({translateX:f,translateY:d,coordinate:r})}}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function d4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(r),!0).forEach(function(n){lb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZY(n.key),n)}}function jBe(t,e,r){return e&&h4(t.prototype,e),r&&h4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PI(t,e)}function PI(t,e){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PI(t,e)}function $Be(t){var e=MBe();return function(){var n=k_(t),i;if(e){var o=k_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return DBe(this,i)}}function DBe(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ab(t)}function ab(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k_(t){return k_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k_(t)}function lb(t,e,r){return e=ZY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZY(t){var e=FBe(t,"string");return Ad(e)==="symbol"?e:String(e)}function FBe(t,e){if(Ad(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ad(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p4=1,LBe=function(t){RBe(r,t);var e=$Be(r);function r(){var n;OBe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o)),lb(ab(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lb(ab(n),"lastBoundingBox",{width:-1,height:-1}),lb(ab(n),"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,f,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&f!==void 0?f:0}})}}),n}return jBe(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>p4||Math.abs(i.height-this.lastBoundingBox.height)>p4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,o=this.props,s=o.active,a=o.allowEscapeViewBox,l=o.animationDuration,c=o.animationEasing,f=o.children,d=o.coordinate,h=o.hasPayload,p=o.isAnimationActive,m=o.offset,y=o.position,v=o.reverseDirection,b=o.useTranslate3d,g=o.viewBox,x=o.wrapperStyle,S=kBe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:v,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:b,viewBox:g}),w=S.cssClasses,_=S.cssProperties,A=YA(YA(YA({},p&&s&&MR({transition:"transform ".concat(l,"ms ").concat(c)})),_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},x);return k.createElement("div",{tabIndex:-1,role:"dialog",className:w,style:A,ref:function(T){i.wrapperNode=T}},f)}}]),r}(E.PureComponent),BBe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ws={isSsr:BBe(),get:function(e){return ws[e]},set:function(e,r){if(typeof e=="string")ws[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){ws[i]=e[i]})}}};function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function m4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(r),!0).forEach(function(n){FR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eX(n.key),n)}}function VBe(t,e,r){return e&&g4(t.prototype,e),r&&g4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TI(t,e)}function TI(t,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TI(t,e)}function zBe(t){var e=HBe();return function(){var n=O_(t),i;if(e){var o=O_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return GBe(this,i)}}function GBe(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qBe(t)}function qBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O_(t){return O_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O_(t)}function FR(t,e,r){return e=eX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eX(t){var e=KBe(t,"string");return Cd(e)==="symbol"?e:String(e)}function KBe(t,e){if(Cd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QBe(t){return t.dataKey}function YBe(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(JLe,e)}var Gu=function(t){WBe(r,t);var e=zBe(r);function r(){return UBe(this,r),e.apply(this,arguments)}return VBe(r,[{key:"render",value:function(){var i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,f=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,y=i.payloadUniqBy,v=i.position,b=i.reverseDirection,g=i.useTranslate3d,x=i.viewBox,S=i.wrapperStyle,w=m??[];d&&w.length&&(w=$Y(m.filter(function(A){return A.value!=null}),y,QBe));var _=w.length>0;return k.createElement(LBe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:f,hasPayload:_,offset:p,position:v,reverseDirection:b,useTranslate3d:g,viewBox:x,wrapperStyle:S},YBe(c,y4(y4({},this.props),{},{payload:w})))}}]),r}(E.PureComponent);FR(Gu,"displayName","Tooltip");FR(Gu,"defaultProps",{allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ws.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var XBe=ns,JBe=function(){return XBe.Date.now()},ZBe=JBe,e4e=/\s/;function t4e(t){for(var e=t.length;e--&&e4e.test(t.charAt(e)););return e}var r4e=t4e,n4e=r4e,i4e=/^\s+/;function o4e(t){return t&&t.slice(0,n4e(t)+1).replace(i4e,"")}var s4e=o4e,a4e=s4e,v4=cl,l4e=ih,b4=NaN,c4e=/^[-+]0x[0-9a-f]+$/i,u4e=/^0b[01]+$/i,f4e=/^0o[0-7]+$/i,d4e=parseInt;function h4e(t){if(typeof t=="number")return t;if(l4e(t))return b4;if(v4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=v4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=a4e(t);var r=u4e.test(t);return r||f4e.test(t)?d4e(t.slice(2),r?2:8):c4e.test(t)?b4:+t}var tX=h4e,p4e=cl,XA=ZBe,x4=tX,m4e="Expected a function",y4e=Math.max,g4e=Math.min;function v4e(t,e,r){var n,i,o,s,a,l,c=0,f=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(m4e);e=x4(e)||0,p4e(r)&&(f=!!r.leading,d="maxWait"in r,o=d?y4e(x4(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h);function p(_){var A=n,C=i;return n=i=void 0,c=_,s=t.apply(C,A),s}function m(_){return c=_,a=setTimeout(b,e),f?p(_):s}function y(_){var A=_-l,C=_-c,T=e-A;return d?g4e(T,o-C):T}function v(_){var A=_-l,C=_-c;return l===void 0||A>=e||A<0||d&&C>=o}function b(){var _=XA();if(v(_))return g(_);a=setTimeout(b,y(_))}function g(_){return a=void 0,h&&n?p(_):(n=i=void 0,s)}function x(){a!==void 0&&clearTimeout(a),c=0,n=l=i=a=void 0}function S(){return a===void 0?s:g(XA())}function w(){var _=XA(),A=v(_);if(n=arguments,i=this,l=_,A){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(b,e),p(l)}return a===void 0&&(a=setTimeout(b,e)),s}return w.cancel=x,w.flush=S,w}var b4e=v4e,x4e=b4e,_4e=cl,w4e="Expected a function";function S4e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(w4e);return _4e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),x4e(t,e,{leading:n,maxWait:e,trailing:i})}var E4e=S4e;const rX=st(E4e);function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function _4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(r),!0).forEach(function(n){A4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A4e(t,e,r){return e=C4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4e(t){var e=P4e(t,"string");return uy(e)==="symbol"?e:String(e)}function P4e(t,e){if(uy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T4e(t,e){return O4e(t)||k4e(t,e)||N4e(t,e)||I4e()}function I4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4e(t,e){if(t){if(typeof t=="string")return w4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w4(t,e)}}function w4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function O4e(t){if(Array.isArray(t))return t}var nX=E.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,f=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,y=m===void 0?0:m,v=t.id,b=t.className,g=t.onResize,x=t.style,S=x===void 0?{}:x,w=E.useRef(null),_=E.useRef();_.current=g,E.useImperativeHandle(e,function(){return Object.assign(w.current,{get current(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current}})});var A=E.useState({containerWidth:i.width,containerHeight:i.height}),C=T4e(A,2),T=C[0],P=C[1],I=E.useCallback(function(N,R){P(function(L){var U=Math.round(N),V=Math.round(R);return L.containerWidth===U&&L.containerHeight===V?L:{containerWidth:U,containerHeight:V}})},[]);E.useEffect(function(){var N=function(F){var z,le=F[0].contentRect,re=le.width,be=le.height;I(re,be),(z=_.current)===null||z===void 0||z.call(_,re,be)};y>0&&(N=rX(N,y,{trailing:!0,leading:!1}));var R=new ResizeObserver(N),L=w.current.getBoundingClientRect(),U=L.width,V=L.height;return I(U,V),R.observe(w.current),function(){R.disconnect()}},[I,y]);var O=E.useMemo(function(){var N=T.containerWidth,R=T.containerHeight;if(N<0||R<0)return null;gc(zl(s)||zl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),gc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=zl(s)?N:s,U=zl(l)?R:l;r&&r>0&&(L?U=L/r:U&&(L=U*r),h&&U>h&&(U=h)),gc(L>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,U,s,l,f,d,r);var V=!Array.isArray(p)&&zx.isElement(p)&&_s(p.type).endsWith("Chart");return k.Children.map(p,function(j){return zx.isElement(j)?E.cloneElement(j,c0({width:L,height:U},V?{style:c0({height:"100%",width:"100%",maxHeight:U,maxWidth:L},j.props.style)}:{})):j})},[r,p,l,h,d,f,T,s]);return k.createElement("div",{id:v?"".concat(v):void 0,className:ct("recharts-responsive-container",b),style:c0(c0({},S),{},{width:s,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},O)}),iX=function(e){return null};iX.displayName="Cell";function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function S4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function II(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(r),!0).forEach(function(n){j4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j4e(t,e,r){return e=R4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R4e(t){var e=$4e(t,"string");return fy(e)==="symbol"?e:String(e)}function $4e(t,e){if(fy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lu={widthCache:{},cacheCount:0},D4e=2e3,M4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},E4="recharts_measurement_span";function F4e(t){var e=II({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Jp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ws.isSsr)return{width:0,height:0};var n=F4e(r),i=JSON.stringify({text:e,copyStyle:n});if(lu.widthCache[i])return lu.widthCache[i];try{var o=document.getElementById(E4);o||(o=document.createElement("span"),o.setAttribute("id",E4),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=II(II({},M4e),n);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return lu.widthCache[i]=l,++lu.cacheCount>D4e&&(lu.cacheCount=0,lu.widthCache={}),l}catch{return{width:0,height:0}}},L4e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function j_(t,e){return W4e(t)||V4e(t,e)||U4e(t,e)||B4e()}function B4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U4e(t,e){if(t){if(typeof t=="string")return A4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A4(t,e)}}function A4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function W4e(t){if(Array.isArray(t))return t}function z4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q4e(n.key),n)}}function G4e(t,e,r){return e&&C4(t.prototype,e),r&&C4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q4e(t){var e=H4e(t,"string");return dy(e)==="symbol"?e:String(e)}function H4e(t,e){if(dy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K4e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Q4e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Y4e=Object.keys(oX),qu="NaN";function X4e(t,e){return t*oX[e]}var u0=function(){function t(e,r){z4e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!K4e.test(r)&&(this.num=NaN,this.unit=""),Y4e.includes(r)&&(this.num=X4e(e,r),this.unit="px")}return G4e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Q4e.exec(r))!==null&&n!==void 0?n:[],o=j_(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}]),t}();function sX(t){if(t.includes(qu))return qu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=P4.exec(e))!==null&&r!==void 0?r:[],i=j_(n,4),o=i[1],s=i[2],a=i[3],l=u0.parse(o??""),c=u0.parse(a??""),f=s==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return qu;e=e.replace(P4,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=T4.exec(e))!==null&&d!==void 0?d:[],p=j_(h,4),m=p[1],y=p[2],v=p[3],b=u0.parse(m??""),g=u0.parse(v??""),x=y==="+"?b.add(g):b.subtract(g);if(x.isNaN())return qu;e=e.replace(T4,x.toString())}return e}var I4=/\(([^()]*)\)/;function J4e(t){for(var e=t;e.includes("(");){var r=I4.exec(e),n=j_(r,2),i=n[1];e=e.replace(I4,sX(i))}return e}function Z4e(t){var e=t.replace(/\s+/g,"");return e=J4e(e),e=sX(e),e}function eUe(t){try{return Z4e(t)}catch{return qu}}function JA(t){var e=eUe(t.slice(5,-1));return e===qu?"":e}var tUe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rUe=["dx","dy","angle","className","breakAll"];function NI(){return NI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NI.apply(this,arguments)}function N4(t,e){if(t==null)return{};var r=nUe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nUe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function k4(t,e){return aUe(t)||sUe(t,e)||oUe(t,e)||iUe()}function iUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oUe(t,e){if(t){if(typeof t=="string")return O4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O4(t,e)}}function O4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function aUe(t){if(Array.isArray(t))return t}var aX=/[ \f\n\r\t\v\u2028\u2029]+/,lX=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Xe(r)||(n?o=r.toString().split(""):o=r.toString().split(aX));var s=o.map(function(l){return{word:l,width:Jp(l,i).width}}),a=n?0:Jp(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},lUe=function(e,r,n,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,f=ne(s),d=a,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(U,V){var j=V.word,F=V.width,z=U[U.length-1];if(z&&(i==null||o||z.width+F+n<Number(i)))z.words.push(j),z.width+=F+n;else{var le={words:[j],width:F};U.push(le)}return U},[])},p=h(r),m=function(L){return L.reduce(function(U,V){return U.width>V.width?U:V})};if(!f)return p;for(var y="…",v=function(L){var U=d.slice(0,L),V=lX({breakAll:c,style:l,children:U+y}).wordsWithComputedWidth,j=h(V),F=j.length>s||m(j).width>Number(i);return[F,j]},b=0,g=d.length-1,x=0,S;b<=g&&x<=d.length-1;){var w=Math.floor((b+g)/2),_=w-1,A=v(_),C=k4(A,2),T=C[0],P=C[1],I=v(w),O=k4(I,1),N=O[0];if(!T&&!N&&(b=w+1),T&&N&&(g=w-1),!T&&N){S=P;break}x++}return S||p},j4=function(e){var r=Xe(e)?[]:e.toString().split(aX);return[{words:r}]},cUe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((r||n)&&!ws.isSsr){var l,c,f=lX({breakAll:s,children:i,style:o});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return j4(i);return lUe({breakAll:s,children:i,maxLines:a,style:o},l,c,r,n)}return j4(i)},R4="#808080",R_=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,f=e.scaleToFit,d=f===void 0?!1:f,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,y=m===void 0?"end":m,v=e.fill,b=v===void 0?R4:v,g=N4(e,tUe),x=E.useMemo(function(){return cUe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),S=g.dx,w=g.dy,_=g.angle,A=g.className,C=g.breakAll,T=N4(g,rUe);if(!hr(n)||!hr(o))return null;var P=n+(ne(S)?S:0),I=o+(ne(w)?w:0),O;switch(y){case"start":O=JA("calc(".concat(c,")"));break;case"middle":O=JA("calc(".concat((x.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:O=JA("calc(".concat(x.length-1," * -").concat(a,")"));break}var N=[];if(d){var R=x[0].width,L=g.width;N.push("scale(".concat((ne(L)?L/R:1)/R,")"))}return _&&N.push("rotate(".concat(_,", ").concat(P,", ").concat(I,")")),N.length&&(T.transform=N.join(" ")),k.createElement("text",NI({},qe(T,!0),{x:P,y:I,className:ct("recharts-text",A),textAnchor:p,fill:b.includes("url")?R4:b}),x.map(function(U,V){var j=U.words.join(C?"":" ");return k.createElement("tspan",{x:P,dy:V===0?O:a,key:j},j)}))};function Ba(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uUe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LR(t){let e,r,n;t.length!==2?(e=Ba,r=(a,l)=>Ba(t(a),l),n=(a,l)=>t(a)-l):(e=t===Ba||t===uUe?t:fUe,r=t,n=t);function i(a,l,c=0,f=a.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;r(a[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(a,l,c=0,f=a.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;r(a[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function s(a,l,c=0,f=a.length){const d=i(a,l,c,f-1);return d>c&&n(a[d-1],l)>-n(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function fUe(){return 0}function cX(t){return t===null?NaN:+t}function*dUe(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const hUe=LR(Ba),Jg=hUe.right;LR(cX).center;class $4 extends Map{constructor(e,r=yUe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(D4(this,e))}has(e){return super.has(D4(this,e))}set(e,r){return super.set(pUe(this,e),r)}delete(e){return super.delete(mUe(this,e))}}function D4({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function pUe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function mUe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function yUe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gUe(t=Ba){if(t===Ba)return uX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function uX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vUe=Math.sqrt(50),bUe=Math.sqrt(10),xUe=Math.sqrt(2);function $_(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=vUe?10:o>=bUe?5:o>=xUe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=r&&r<2?$_(t,e,r*2):[a,l,c]}function kI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?$_(e,t,r):$_(t,e,r);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(n)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function OI(t,e,r){return e=+e,t=+t,r=+r,$_(t,e,r)[2]}function jI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?OI(e,t,r):OI(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function M4(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function F4(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function fX(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?uX:gUe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*d/l+h)),m=Math.min(n,Math.floor(e+(l-c)*d/l+h));fX(t,e,p,m,i)}const o=t[e];let s=r,a=n;for(zh(t,r,e),i(t[n],o)>0&&zh(t,r,n);s<a;){for(zh(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[r],o)===0?zh(t,r,a):(++a,zh(t,a,n)),a<=e&&(r=a+1),e<=a&&(n=a-1)}return t}function zh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function _Ue(t,e,r){if(t=Float64Array.from(dUe(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return F4(t);if(e>=1)return M4(t);var n,i=(n-1)*e,o=Math.floor(i),s=M4(fX(t,o).subarray(0,o+1)),a=F4(t.subarray(o+1));return s+(a-s)*(i-o)}}function wUe(t,e,r=cX){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),s=+r(t[o],o,t),a=+r(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function SUe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const RI=Symbol("implicit");function BR(){var t=new $4,e=[],r=[],n=RI;function i(o){let s=t.get(o);if(s===void 0){if(n!==RI)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new $4;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return BR(e,r).unknown(n)},Vi.apply(i,arguments),i}function hy(){var t=BR().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,a=!1,l=0,c=0,f=.5;delete t.unknown;function d(){var h=e().length,p=i<n,m=p?i:n,y=p?n:i;o=(y-m)/Math.max(1,h-l+c*2),a&&(o=Math.floor(o)),m+=(y-m-o*(h-l))*f,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var v=SUe(h).map(function(b){return m+o*b});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},t.copy=function(){return hy(e(),[n,i]).round(a).paddingInner(l).paddingOuter(c).align(f)},Vi.apply(d(),arguments)}function dX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dX(e())},t}function Zp(){return dX(hy.apply(null,arguments).paddingInner(1))}function UR(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function hX(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Zg(){}var py=.7,D_=1/py,bf="\\s*([+-]?\\d+)\\s*",my="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EUe=/^#([0-9a-f]{3,8})$/,AUe=new RegExp(`^rgb\\(${bf},${bf},${bf}\\)$`),CUe=new RegExp(`^rgb\\(${qo},${qo},${qo}\\)$`),PUe=new RegExp(`^rgba\\(${bf},${bf},${bf},${my}\\)$`),TUe=new RegExp(`^rgba\\(${qo},${qo},${qo},${my}\\)$`),IUe=new RegExp(`^hsl\\(${my},${qo},${qo}\\)$`),NUe=new RegExp(`^hsla\\(${my},${qo},${qo},${my}\\)$`),L4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UR(Zg,yy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:B4,formatHex:B4,formatHex8:kUe,formatHsl:OUe,formatRgb:U4,toString:U4});function B4(){return this.rgb().formatHex()}function kUe(){return this.rgb().formatHex8()}function OUe(){return pX(this).formatHsl()}function U4(){return this.rgb().formatRgb()}function yy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=EUe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?V4(e):r===3?new Bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?f0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?f0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AUe.exec(t))?new Bn(e[1],e[2],e[3],1):(e=CUe.exec(t))?new Bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=PUe.exec(t))?f0(e[1],e[2],e[3],e[4]):(e=TUe.exec(t))?f0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IUe.exec(t))?G4(e[1],e[2]/100,e[3]/100,1):(e=NUe.exec(t))?G4(e[1],e[2]/100,e[3]/100,e[4]):L4.hasOwnProperty(t)?V4(L4[t]):t==="transparent"?new Bn(NaN,NaN,NaN,0):null}function V4(t){return new Bn(t>>16&255,t>>8&255,t&255,1)}function f0(t,e,r,n){return n<=0&&(t=e=r=NaN),new Bn(t,e,r,n)}function jUe(t){return t instanceof Zg||(t=yy(t)),t?(t=t.rgb(),new Bn(t.r,t.g,t.b,t.opacity)):new Bn}function $I(t,e,r,n){return arguments.length===1?jUe(t):new Bn(t,e,r,n??1)}function Bn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}UR(Bn,$I,hX(Zg,{brighter(t){return t=t==null?D_:Math.pow(D_,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?py:Math.pow(py,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bn(vc(this.r),vc(this.g),vc(this.b),M_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:W4,formatHex:W4,formatHex8:RUe,formatRgb:z4,toString:z4}));function W4(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function RUe(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function z4(){const t=M_(this.opacity);return`${t===1?"rgb(":"rgba("}${vc(this.r)}, ${vc(this.g)}, ${vc(this.b)}${t===1?")":`, ${t})`}`}function M_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=vc(t),(t<16?"0":"")+t.toString(16)}function G4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ro(t,e,r,n)}function pX(t){if(t instanceof ro)return new ro(t.h,t.s,t.l,t.opacity);if(t instanceof Zg||(t=yy(t)),!t)return new ro;if(t instanceof ro)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-e)/a+2:s=(e-r)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ro(s,a,l,t.opacity)}function $Ue(t,e,r,n){return arguments.length===1?pX(t):new ro(t,e,r,n??1)}function ro(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}UR(ro,$Ue,hX(Zg,{brighter(t){return t=t==null?D_:Math.pow(D_,t),new ro(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?py:Math.pow(py,t),new ro(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Bn(ZA(t>=240?t-240:t+120,i,n),ZA(t,i,n),ZA(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ro(q4(this.h),d0(this.s),d0(this.l),M_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=M_(this.opacity);return`${t===1?"hsl(":"hsla("}${q4(this.h)}, ${d0(this.s)*100}%, ${d0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function q4(t){return t=(t||0)%360,t<0?t+360:t}function d0(t){return Math.max(0,Math.min(1,t||0))}function ZA(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const VR=t=>()=>t;function DUe(t,e){return function(r){return t+r*e}}function MUe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function FUe(t){return(t=+t)==1?mX:function(e,r){return r-e?MUe(e,r,t):VR(isNaN(e)?r:e)}}function mX(t,e){var r=e-t;return r?DUe(t,r):VR(isNaN(t)?e:t)}const H4=function t(e){var r=FUe(e);function n(i,o){var s=r((i=$I(i)).r,(o=$I(o)).r),a=r(i.g,o.g),l=r(i.b,o.b),c=mX(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=l(f),i.opacity=c(f),i+""}}return n.gamma=t,n}(1);function LUe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function BUe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function UUe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=hh(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function VUe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function F_(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function WUe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=hh(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var DI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eC=new RegExp(DI.source,"g");function zUe(t){return function(){return t}}function GUe(t){return function(e){return t(e)+""}}function qUe(t,e){var r=DI.lastIndex=eC.lastIndex=0,n,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(n=DI.exec(t))&&(i=eC.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:F_(n,i)})),r=eC.lastIndex;return r<e.length&&(o=e.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?GUe(l[0].x):zUe(e):(e=l.length,function(c){for(var f=0,d;f<e;++f)a[(d=l[f]).i]=d.x(c);return a.join("")})}function hh(t,e){var r=typeof e,n;return e==null||r==="boolean"?VR(e):(r==="number"?F_:r==="string"?(n=yy(e))?(e=n,H4):qUe:e instanceof yy?H4:e instanceof Date?VUe:BUe(e)?LUe:Array.isArray(e)?UUe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?WUe:F_)(t,e)}function WR(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function HUe(t,e){e===void 0&&(e=t,t=hh);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function KUe(t){return function(){return t}}function L_(t){return+t}var K4=[0,1];function Cn(t){return t}function MI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:KUe(isNaN(e)?NaN:.5)}function QUe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function YUe(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=MI(i,n),o=r(s,o)):(n=MI(n,i),o=r(o,s)),function(a){return o(n(a))}}function XUe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=MI(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(a){var l=Jg(t,a,1,n)-1;return o[l](i[l](a))}}function ev(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gS(){var t=K4,e=K4,r=hh,n,i,o,s=Cn,a,l,c;function f(){var h=Math.min(t.length,e.length);return s!==Cn&&(s=QUe(t[0],t[h-1])),a=h>2?XUe:YUe,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(n),e,r)))(n(s(h)))}return d.invert=function(h){return s(i((c||(c=a(e,t.map(n),F_)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,L_),f()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=WR,f()},d.clamp=function(h){return arguments.length?(s=h?!0:Cn,f()):s!==Cn},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return n=h,i=p,f()}}function zR(){return gS()(Cn,Cn)}function JUe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function B_(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Pd(t){return t=B_(Math.abs(t)),t?t[1]:NaN}function ZUe(t,e){return function(r,n){for(var i=r.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function eVe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var tVe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gy(t){if(!(e=tVe.exec(t)))throw new Error("invalid format: "+t);var e;return new GR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gy.prototype=GR.prototype;function GR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rVe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var yX;function nVe(t,e){var r=B_(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(yX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+B_(t,Math.max(0,e+o-1))[0]}function Q4(t,e){var r=B_(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Y4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:JUe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Q4(t*100,e),r:Q4,s:nVe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function X4(t){return t}var J4=Array.prototype.map,Z4=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function iVe(t){var e=t.grouping===void 0||t.thousands===void 0?X4:ZUe(J4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?X4:eVe(J4.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=gy(d);var h=d.fill,p=d.align,m=d.sign,y=d.symbol,v=d.zero,b=d.width,g=d.comma,x=d.precision,S=d.trim,w=d.type;w==="n"?(g=!0,w="g"):Y4[w]||(x===void 0&&(x=12),S=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=y==="$"?r:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=y==="$"?n:/[%p]/.test(w)?s:"",C=Y4[w],T=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function P(I){var O=_,N=A,R,L,U;if(w==="c")N=C(I)+N,I="";else{I=+I;var V=I<0||1/I<0;if(I=isNaN(I)?l:C(Math.abs(I),x),S&&(I=rVe(I)),V&&+I==0&&m!=="+"&&(V=!1),O=(V?m==="("?m:a:m==="-"||m==="("?"":m)+O,N=(w==="s"?Z4[8+yX/3]:"")+N+(V&&m==="("?")":""),T){for(R=-1,L=I.length;++R<L;)if(U=I.charCodeAt(R),48>U||U>57){N=(U===46?i+I.slice(R+1):I.slice(R))+N,I=I.slice(0,R);break}}}g&&!v&&(I=e(I,1/0));var j=O.length+I.length+N.length,F=j<b?new Array(b-j+1).join(h):"";switch(g&&v&&(I=e(F+I,F.length?b-N.length:1/0),F=""),p){case"<":I=O+I+N+F;break;case"=":I=O+F+I+N;break;case"^":I=F.slice(0,j=F.length>>1)+O+I+N+F.slice(j);break;default:I=F+O+I+N;break}return o(I)}return P.toString=function(){return d+""},P}function f(d,h){var p=c((d=gy(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Pd(h)/3)))*3,y=Math.pow(10,-m),v=Z4[8+m/3];return function(b){return p(y*b)+v}}return{format:c,formatPrefix:f}}var h0,qR,gX;oVe({thousands:",",grouping:[3],currency:["$",""]});function oVe(t){return h0=iVe(t),qR=h0.format,gX=h0.formatPrefix,h0}function sVe(t){return Math.max(0,-Pd(Math.abs(t)))}function aVe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pd(e)/3)))*3-Pd(Math.abs(t)))}function lVe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pd(e)-Pd(t))+1}function vX(t,e,r,n){var i=jI(t,e,r),o;switch(n=gy(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=aVe(i,s))&&(n.precision=o),gX(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=lVe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=sVe(i))&&(n.precision=o-(n.type==="%")*2);break}}return qR(n)}function dl(t){var e=t.domain;return t.ticks=function(r){var n=e();return kI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return vX(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],a=n[o],l,c,f=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);f-- >0;){if(c=OI(s,a,r),c===l)return n[i]=s,n[o]=a,e(n);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function U_(){var t=zR();return t.copy=function(){return ev(t,U_())},Vi.apply(t,arguments),dl(t)}function bX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,L_),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return bX(t).unknown(e)},t=arguments.length?Array.from(t,L_):[0,1],dl(r)}function xX(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function eU(t){return Math.log(t)}function tU(t){return Math.exp(t)}function cVe(t){return-Math.log(-t)}function uVe(t){return-Math.exp(-t)}function fVe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dVe(t){return t===10?fVe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hVe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rU(t){return(e,r)=>-t(-e,r)}function HR(t){const e=t(eU,tU),r=e.domain;let n=10,i,o;function s(){return i=hVe(n),o=dVe(n),r()[0]<0?(i=rU(i),o=rU(o),t(cVe,uVe)):t(eU,tU),e}return e.base=function(a){return arguments.length?(n=+a,s()):n},e.domain=function(a){return arguments.length?(r(a),s()):r()},e.ticks=a=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=i(c),p=i(f),m,y;const v=a==null?10:+a;let b=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(y=h<0?m/o(-h):m*o(h),!(y<c)){if(y>f)break;b.push(y)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(y=h>0?m/o(-h):m*o(h),!(y<c)){if(y>f)break;b.push(y)}b.length*2<v&&(b=kI(c,f,v))}else b=kI(h,p,Math.min(p-h,v)).map(o);return d?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=gy(l)).precision==null&&(l.trim=!0),l=qR(l)),a===1/0)return l;const c=Math.max(1,n*a/e.ticks().length);return f=>{let d=f/o(Math.round(i(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},e.nice=()=>r(xX(r(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function _X(){const t=HR(gS()).domain([1,10]);return t.copy=()=>ev(t,_X()).base(t.base()),Vi.apply(t,arguments),t}function nU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function iU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KR(t){var e=1,r=t(nU(e),iU(e));return r.constant=function(n){return arguments.length?t(nU(e=+n),iU(e)):e},dl(r)}function wX(){var t=KR(gS());return t.copy=function(){return ev(t,wX()).constant(t.constant())},Vi.apply(t,arguments)}function oU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pVe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mVe(t){return t<0?-t*t:t*t}function QR(t){var e=t(Cn,Cn),r=1;function n(){return r===1?t(Cn,Cn):r===.5?t(pVe,mVe):t(oU(r),oU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},dl(e)}function YR(){var t=QR(gS());return t.copy=function(){return ev(t,YR()).exponent(t.exponent())},Vi.apply(t,arguments),t}function yVe(){return YR.apply(null,arguments).exponent(.5)}function sU(t){return Math.sign(t)*t*t}function gVe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function SX(){var t=zR(),e=[0,1],r=!1,n;function i(o){var s=gVe(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(sU(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,L_)).map(sU)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return SX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vi.apply(i,arguments),dl(i)}function EX(){var t=[],e=[],r=[],n;function i(){var s=0,a=Math.max(1,e.length);for(r=new Array(a-1);++s<a;)r[s-1]=wUe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:e[Jg(r,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ba),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return EX().domain(t).range(e).unknown(n)},Vi.apply(o,arguments)}function AX(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Jg(n,l,0,r)]:o}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return AX().domain([t,e]).range(i).unknown(o)},Vi.apply(dl(s),arguments)}function CX(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[Jg(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return CX().domain(t).range(e).unknown(r)},Vi.apply(i,arguments)}const tC=new Date,rC=new Date;function yr(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>yr(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(tC.setTime(+o),rC.setTime(+s),t(tC),t(rC),Math.floor(r(tC,rC))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const V_=yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);V_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):V_);V_.range;const ys=1e3,ki=ys*60,gs=ki*60,Os=gs*24,XR=Os*7,aU=Os*30,nC=Os*365,ql=yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getUTCSeconds());ql.range;const JR=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getMinutes());JR.range;const ZR=yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getUTCMinutes());ZR.range;const e2=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys-t.getMinutes()*ki)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getHours());e2.range;const t2=yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCHours());t2.range;const tv=yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ki)/Os,t=>t.getDate()-1);tv.range;const vS=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>t.getUTCDate()-1);vS.range;const PX=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>Math.floor(t/Os));PX.range;function Kc(t){return yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ki)/XR)}const bS=Kc(0),W_=Kc(1),vVe=Kc(2),bVe=Kc(3),Td=Kc(4),xVe=Kc(5),_Ve=Kc(6);bS.range;W_.range;vVe.range;bVe.range;Td.range;xVe.range;_Ve.range;function Qc(t){return yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/XR)}const xS=Qc(0),z_=Qc(1),wVe=Qc(2),SVe=Qc(3),Id=Qc(4),EVe=Qc(5),AVe=Qc(6);xS.range;z_.range;wVe.range;SVe.range;Id.range;EVe.range;AVe.range;const r2=yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());r2.range;const n2=yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());n2.range;const js=yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());js.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});js.range;const Rs=yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Rs.range;function TX(t,e,r,n,i,o){const s=[[ql,1,ys],[ql,5,5*ys],[ql,15,15*ys],[ql,30,30*ys],[o,1,ki],[o,5,5*ki],[o,15,15*ki],[o,30,30*ki],[i,1,gs],[i,3,3*gs],[i,6,6*gs],[i,12,12*gs],[n,1,Os],[n,2,2*Os],[r,1,XR],[e,1,aU],[e,3,3*aU],[t,1,nC]];function a(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,d){const h=Math.abs(f-c)/d,p=LR(([,,v])=>v).right(s,h);if(p===s.length)return t.every(jI(c/nC,f/nC,d));if(p===0)return V_.every(Math.max(jI(c,f,d),1));const[m,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(y)}return[a,l]}const[CVe,PVe]=TX(Rs,n2,xS,PX,t2,ZR),[TVe,IVe]=TX(js,r2,bS,tv,e2,JR);function iC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function NVe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=qh(i),f=Hh(i),d=qh(o),h=Hh(o),p=qh(s),m=Hh(s),y=qh(a),v=Hh(a),b=qh(l),g=Hh(l),x={a:V,A:j,b:F,B:z,c:null,d:hU,e:hU,f:ZVe,g:c5e,G:f5e,H:YVe,I:XVe,j:JVe,L:IX,m:e5e,M:t5e,p:le,q:re,Q:yU,s:gU,S:r5e,u:n5e,U:i5e,V:o5e,w:s5e,W:a5e,x:null,X:null,y:l5e,Y:u5e,Z:d5e,"%":mU},S={a:be,A:at,b:nt,B:zt,c:null,d:pU,e:pU,f:y5e,g:C5e,G:T5e,H:h5e,I:p5e,j:m5e,L:kX,m:g5e,M:v5e,p:pt,q:Zt,Q:yU,s:gU,S:b5e,u:x5e,U:_5e,V:w5e,w:S5e,W:E5e,x:null,X:null,y:A5e,Y:P5e,Z:I5e,"%":mU},w={a:P,A:I,b:O,B:N,c:R,d:fU,e:fU,f:qVe,g:uU,G:cU,H:dU,I:dU,j:VVe,L:GVe,m:UVe,M:WVe,p:T,q:BVe,Q:KVe,s:QVe,S:zVe,u:$Ve,U:DVe,V:MVe,w:RVe,W:FVe,x:L,X:U,y:uU,Y:cU,Z:LVe,"%":HVe};x.x=_(r,x),x.X=_(n,x),x.c=_(e,x),S.x=_(r,S),S.X=_(n,S),S.c=_(e,S);function _(te,xe){return function(Ee){var q=[],Ze=-1,ke=0,vt=te.length,Dt,en,Gn;for(Ee instanceof Date||(Ee=new Date(+Ee));++Ze<vt;)te.charCodeAt(Ze)===37&&(q.push(te.slice(ke,Ze)),(en=lU[Dt=te.charAt(++Ze)])!=null?Dt=te.charAt(++Ze):en=Dt==="e"?" ":"0",(Gn=xe[Dt])&&(Dt=Gn(Ee,en)),q.push(Dt),ke=Ze+1);return q.push(te.slice(ke,Ze)),q.join("")}}function A(te,xe){return function(Ee){var q=Gh(1900,void 0,1),Ze=C(q,te,Ee+="",0),ke,vt;if(Ze!=Ee.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(xe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ke=oC(Gh(q.y,0,1)),vt=ke.getUTCDay(),ke=vt>4||vt===0?z_.ceil(ke):z_(ke),ke=vS.offset(ke,(q.V-1)*7),q.y=ke.getUTCFullYear(),q.m=ke.getUTCMonth(),q.d=ke.getUTCDate()+(q.w+6)%7):(ke=iC(Gh(q.y,0,1)),vt=ke.getDay(),ke=vt>4||vt===0?W_.ceil(ke):W_(ke),ke=tv.offset(ke,(q.V-1)*7),q.y=ke.getFullYear(),q.m=ke.getMonth(),q.d=ke.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),vt="Z"in q?oC(Gh(q.y,0,1)).getUTCDay():iC(Gh(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(vt+5)%7:q.w+q.U*7-(vt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,oC(q)):iC(q)}}function C(te,xe,Ee,q){for(var Ze=0,ke=xe.length,vt=Ee.length,Dt,en;Ze<ke;){if(q>=vt)return-1;if(Dt=xe.charCodeAt(Ze++),Dt===37){if(Dt=xe.charAt(Ze++),en=w[Dt in lU?xe.charAt(Ze++):Dt],!en||(q=en(te,Ee,q))<0)return-1}else if(Dt!=Ee.charCodeAt(q++))return-1}return q}function T(te,xe,Ee){var q=c.exec(xe.slice(Ee));return q?(te.p=f.get(q[0].toLowerCase()),Ee+q[0].length):-1}function P(te,xe,Ee){var q=p.exec(xe.slice(Ee));return q?(te.w=m.get(q[0].toLowerCase()),Ee+q[0].length):-1}function I(te,xe,Ee){var q=d.exec(xe.slice(Ee));return q?(te.w=h.get(q[0].toLowerCase()),Ee+q[0].length):-1}function O(te,xe,Ee){var q=b.exec(xe.slice(Ee));return q?(te.m=g.get(q[0].toLowerCase()),Ee+q[0].length):-1}function N(te,xe,Ee){var q=y.exec(xe.slice(Ee));return q?(te.m=v.get(q[0].toLowerCase()),Ee+q[0].length):-1}function R(te,xe,Ee){return C(te,e,xe,Ee)}function L(te,xe,Ee){return C(te,r,xe,Ee)}function U(te,xe,Ee){return C(te,n,xe,Ee)}function V(te){return s[te.getDay()]}function j(te){return o[te.getDay()]}function F(te){return l[te.getMonth()]}function z(te){return a[te.getMonth()]}function le(te){return i[+(te.getHours()>=12)]}function re(te){return 1+~~(te.getMonth()/3)}function be(te){return s[te.getUTCDay()]}function at(te){return o[te.getUTCDay()]}function nt(te){return l[te.getUTCMonth()]}function zt(te){return a[te.getUTCMonth()]}function pt(te){return i[+(te.getUTCHours()>=12)]}function Zt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var xe=_(te+="",x);return xe.toString=function(){return te},xe},parse:function(te){var xe=A(te+="",!1);return xe.toString=function(){return te},xe},utcFormat:function(te){var xe=_(te+="",S);return xe.toString=function(){return te},xe},utcParse:function(te){var xe=A(te+="",!0);return xe.toString=function(){return te},xe}}}var lU={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,kVe=/^%/,OVe=/[\\^$*+?|[\]().{}]/g;function rt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function jVe(t){return t.replace(OVe,"\\$&")}function qh(t){return new RegExp("^(?:"+t.map(jVe).join("|")+")","i")}function Hh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function RVe(t,e,r){var n=Dr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function $Ve(t,e,r){var n=Dr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function DVe(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function MVe(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function FVe(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function cU(t,e,r){var n=Dr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function uU(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LVe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BVe(t,e,r){var n=Dr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function UVe(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function fU(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function VVe(t,e,r){var n=Dr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function dU(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function WVe(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function zVe(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function GVe(t,e,r){var n=Dr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function qVe(t,e,r){var n=Dr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function HVe(t,e,r){var n=kVe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function KVe(t,e,r){var n=Dr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function QVe(t,e,r){var n=Dr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function hU(t,e){return rt(t.getDate(),e,2)}function YVe(t,e){return rt(t.getHours(),e,2)}function XVe(t,e){return rt(t.getHours()%12||12,e,2)}function JVe(t,e){return rt(1+tv.count(js(t),t),e,3)}function IX(t,e){return rt(t.getMilliseconds(),e,3)}function ZVe(t,e){return IX(t,e)+"000"}function e5e(t,e){return rt(t.getMonth()+1,e,2)}function t5e(t,e){return rt(t.getMinutes(),e,2)}function r5e(t,e){return rt(t.getSeconds(),e,2)}function n5e(t){var e=t.getDay();return e===0?7:e}function i5e(t,e){return rt(bS.count(js(t)-1,t),e,2)}function NX(t){var e=t.getDay();return e>=4||e===0?Td(t):Td.ceil(t)}function o5e(t,e){return t=NX(t),rt(Td.count(js(t),t)+(js(t).getDay()===4),e,2)}function s5e(t){return t.getDay()}function a5e(t,e){return rt(W_.count(js(t)-1,t),e,2)}function l5e(t,e){return rt(t.getFullYear()%100,e,2)}function c5e(t,e){return t=NX(t),rt(t.getFullYear()%100,e,2)}function u5e(t,e){return rt(t.getFullYear()%1e4,e,4)}function f5e(t,e){var r=t.getDay();return t=r>=4||r===0?Td(t):Td.ceil(t),rt(t.getFullYear()%1e4,e,4)}function d5e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function pU(t,e){return rt(t.getUTCDate(),e,2)}function h5e(t,e){return rt(t.getUTCHours(),e,2)}function p5e(t,e){return rt(t.getUTCHours()%12||12,e,2)}function m5e(t,e){return rt(1+vS.count(Rs(t),t),e,3)}function kX(t,e){return rt(t.getUTCMilliseconds(),e,3)}function y5e(t,e){return kX(t,e)+"000"}function g5e(t,e){return rt(t.getUTCMonth()+1,e,2)}function v5e(t,e){return rt(t.getUTCMinutes(),e,2)}function b5e(t,e){return rt(t.getUTCSeconds(),e,2)}function x5e(t){var e=t.getUTCDay();return e===0?7:e}function _5e(t,e){return rt(xS.count(Rs(t)-1,t),e,2)}function OX(t){var e=t.getUTCDay();return e>=4||e===0?Id(t):Id.ceil(t)}function w5e(t,e){return t=OX(t),rt(Id.count(Rs(t),t)+(Rs(t).getUTCDay()===4),e,2)}function S5e(t){return t.getUTCDay()}function E5e(t,e){return rt(z_.count(Rs(t)-1,t),e,2)}function A5e(t,e){return rt(t.getUTCFullYear()%100,e,2)}function C5e(t,e){return t=OX(t),rt(t.getUTCFullYear()%100,e,2)}function P5e(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function T5e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Id(t):Id.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function I5e(){return"+0000"}function mU(){return"%"}function yU(t){return+t}function gU(t){return Math.floor(+t/1e3)}var cu,jX,RX;N5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function N5e(t){return cu=NVe(t),jX=cu.format,cu.parse,RX=cu.utcFormat,cu.utcParse,cu}function k5e(t){return new Date(t)}function O5e(t){return t instanceof Date?+t:+new Date(+t)}function i2(t,e,r,n,i,o,s,a,l,c){var f=zR(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),y=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),g=c("%b %d"),x=c("%B"),S=c("%Y");function w(_){return(l(_)<_?p:a(_)<_?m:s(_)<_?y:o(_)<_?v:n(_)<_?i(_)<_?b:g:r(_)<_?x:S)(_)}return f.invert=function(_){return new Date(d(_))},f.domain=function(_){return arguments.length?h(Array.from(_,O5e)):h().map(k5e)},f.ticks=function(_){var A=h();return t(A[0],A[A.length-1],_??10)},f.tickFormat=function(_,A){return A==null?w:c(A)},f.nice=function(_){var A=h();return(!_||typeof _.range!="function")&&(_=e(A[0],A[A.length-1],_??10)),_?h(xX(A,_)):f},f.copy=function(){return ev(f,i2(t,e,r,n,i,o,s,a,l,c))},f}function j5e(){return Vi.apply(i2(TVe,IVe,js,r2,bS,tv,e2,JR,ql,jX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function R5e(){return Vi.apply(i2(CVe,PVe,Rs,n2,xS,vS,t2,ZR,ql,RX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _S(){var t=0,e=1,r,n,i,o,s=Cn,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-r)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,s=d(p,m),c):[s(0),s(1)]}}return c.range=f(hh),c.rangeRound=f(WR),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function hl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $X(){var t=dl(_S()(Cn));return t.copy=function(){return hl(t,$X())},Bs.apply(t,arguments)}function DX(){var t=HR(_S()).domain([1,10]);return t.copy=function(){return hl(t,DX()).base(t.base())},Bs.apply(t,arguments)}function MX(){var t=KR(_S());return t.copy=function(){return hl(t,MX()).constant(t.constant())},Bs.apply(t,arguments)}function o2(){var t=QR(_S());return t.copy=function(){return hl(t,o2()).exponent(t.exponent())},Bs.apply(t,arguments)}function $5e(){return o2.apply(null,arguments).exponent(.5)}function FX(){var t=[],e=Cn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Jg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ba),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>_Ue(t,o/n))},r.copy=function(){return FX(e).domain(t)},Bs.apply(r,arguments)}function wS(){var t=0,e=.5,r=1,n=1,i,o,s,a,l,c=Cn,f,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+f(y))-o)*(n*y<n*o?a:l),c(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,i=f(t=+t),o=f(e=+e),s=f(r=+r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(c=y,p):c};function m(y){return function(v){var b,g,x;return arguments.length?([b,g,x]=v,c=HUe(y,[b,g,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(hh),p.rangeRound=m(WR),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return f=y,i=y(t),o=y(e),s=y(r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,p}}function LX(){var t=dl(wS()(Cn));return t.copy=function(){return hl(t,LX())},Bs.apply(t,arguments)}function BX(){var t=HR(wS()).domain([.1,1,10]);return t.copy=function(){return hl(t,BX()).base(t.base())},Bs.apply(t,arguments)}function UX(){var t=KR(wS());return t.copy=function(){return hl(t,UX()).constant(t.constant())},Bs.apply(t,arguments)}function s2(){var t=QR(wS());return t.copy=function(){return hl(t,s2()).exponent(t.exponent())},Bs.apply(t,arguments)}function D5e(){return s2.apply(null,arguments).exponent(.5)}const vU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hy,scaleDiverging:LX,scaleDivergingLog:BX,scaleDivergingPow:s2,scaleDivergingSqrt:D5e,scaleDivergingSymlog:UX,scaleIdentity:bX,scaleImplicit:RI,scaleLinear:U_,scaleLog:_X,scaleOrdinal:BR,scalePoint:Zp,scalePow:YR,scaleQuantile:EX,scaleQuantize:AX,scaleRadial:SX,scaleSequential:$X,scaleSequentialLog:DX,scaleSequentialPow:o2,scaleSequentialQuantile:FX,scaleSequentialSqrt:$5e,scaleSequentialSymlog:MX,scaleSqrt:yVe,scaleSymlog:wX,scaleThreshold:CX,scaleTime:j5e,scaleUtc:R5e,tickFormat:vX},Symbol.toStringTag,{value:"Module"}));var M5e=ih;function F5e(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],s=e(o);if(s!=null&&(a===void 0?s===s&&!M5e(s):r(s,a)))var a=s,l=o}return l}var VX=F5e;function L5e(t,e){return t>e}var B5e=L5e,U5e=VX,V5e=B5e,W5e=fh;function z5e(t){return t&&t.length?U5e(t,W5e,V5e):void 0}var G5e=z5e;const SS=st(G5e);function q5e(t,e){return t<e}var H5e=q5e,K5e=VX,Q5e=H5e,Y5e=fh;function X5e(t){return t&&t.length?K5e(t,Y5e,Q5e):void 0}var J5e=X5e;const ES=st(J5e);var Z5e=_R,e6e=ul,t6e=UY,r6e=zn;function n6e(t,e){var r=r6e(t)?Z5e:t6e;return r(t,e6e(e))}var i6e=n6e,o6e=LY,s6e=i6e;function a6e(t,e){return o6e(s6e(t,e),1)}var l6e=a6e;const c6e=st(l6e);var u6e=RR;function f6e(t,e){return u6e(t,e)}var d6e=f6e;const AS=st(d6e);var ph=1e9,h6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l2,$t=!0,Bi="[DecimalError] ",bc=Bi+"Invalid argument: ",a2=Bi+"Exponent out of range: ",mh=Math.floor,Ol=Math.pow,p6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zn,Tr=1e7,It=7,WX=9007199254740991,G_=mh(WX/It),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*It;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(t){return Ss(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,r=e.constructor;return gt(Ss(e,new r(t),0,1),r.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return ir(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Zn))throw Error(Bi+"NaN");if(r.s<1)throw Error(Bi+(r.s?"NaN":"-Infinity"));return r.eq(Zn)?new n(0):($t=!1,e=Ss(vy(r,o),vy(t,o),o),$t=!0,gt(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qX(e,t):zX(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Bi+"NaN");return r.s?($t=!1,e=Ss(r,t,0,1).times(t),$t=!0,r.minus(e)):gt(new n(r),i)};ue.naturalExponential=ue.exp=function(){return GX(this)};ue.naturalLogarithm=ue.ln=function(){return vy(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zX(e,t):qX(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bc+t);if(e=ir(i)+1,n=i.d.length-1,r=n*It+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ue.squareRoot=ue.sqrt=function(){var t,e,r,n,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Bi+"NaN")}for(t=ir(a),$t=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Fo(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=mh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(o=n,n=o.plus(Ss(a,o,s+2)).times(.5),Fo(o.d).slice(0,s)===(e=Fo(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(e!="9999")break;s+=4}return $t=!0,gt(n,r)};ue.times=ue.mul=function(t){var e,r,n,i,o,s,a,l,c,f=this,d=f.constructor,h=f.d,p=(t=new d(t)).d;if(!f.s||!t.s)return new d(0);for(t.s*=f.s,r=f.e+t.e,l=h.length,c=p.length,l<c&&(o=h,h=p,p=o,s=l,l=c,c=s),o=[],s=l+c,n=s;n--;)o.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)a=o[i]+p[n]*h[i-n-1]+e,o[i--]=a%Tr|0,e=a/Tr|0;o[i]=(o[i]+e)%Tr|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,$t?gt(t,d.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Jo(t,0,ph),e===void 0?e=n.rounding:Jo(e,0,8),gt(r,t+ir(r)+1,e))};ue.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Dc(n,!0):(Jo(t,0,ph),e===void 0?e=i.rounding:Jo(e,0,8),n=gt(new i(n),t+1,e),r=Dc(n,!0,t+1)),r};ue.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?Dc(i):(Jo(t,0,ph),e===void 0?e=o.rounding:Jo(e,0,8),n=gt(new o(i),t+ir(i)+1,e),r=Dc(n.abs(),!1,t+ir(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return gt(new e(t),ir(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,r,n,i,o,s,a=this,l=a.constructor,c=12,f=+(t=new l(t));if(!t.s)return new l(Zn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Bi+"Infinity");return a}if(a.eq(Zn))return a;if(n=l.precision,t.eq(Zn))return gt(a,n);if(e=t.e,r=t.d.length-1,s=e>=r,o=a.s,s){if((r=f<0?-f:f)<=WX){for(i=new l(Zn),e=Math.ceil(n/It+4),$t=!1;r%2&&(i=i.times(a),xU(i.d,e)),r=mh(r/2),r!==0;)a=a.times(a),xU(a.d,e);return $t=!0,t.s<0?new l(Zn).div(i):gt(i,n)}}else if(o<0)throw Error(Bi+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,a.s=1,$t=!1,i=t.times(vy(a,n+c)),$t=!0,i=GX(i),i.s=o,i};ue.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=ir(i),n=Dc(i,r<=o.toExpNeg||r>=o.toExpPos)):(Jo(t,1,ph),e===void 0?e=o.rounding:Jo(e,0,8),i=gt(new o(i),t,e),r=ir(i),n=Dc(i,t<=r||r<=o.toExpNeg,t)),n};ue.toSignificantDigits=ue.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Jo(t,1,ph),e===void 0?e=n.rounding:Jo(e,0,8)),gt(new n(r),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ir(t),r=t.constructor;return Dc(t,e<=r.toExpNeg||e>=r.toExpPos)};function zX(t,e){var r,n,i,o,s,a,l,c,f=t.constructor,d=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),$t?gt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(n=l,o=-o,a=c.length):(n=c,i=s,a=l.length),s=Math.ceil(d/It),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Tr|0,l[o]%=Tr;for(r&&(l.unshift(r),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,$t?gt(e,d):e}function Jo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(bc+t)}function Fo(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=It-n.length,r&&(o+=ra(r)),o+=n;s=t[e],n=s+"",r=It-n.length,r&&(o+=ra(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ss=function(){function t(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%Tr|0,s=o/Tr|0;return s&&n.unshift(s),n}function e(n,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*Tr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,l,c,f,d,h,p,m,y,v,b,g,x,S,w,_,A,C,T=n.constructor,P=n.s==i.s?1:-1,I=n.d,O=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(Bi+"Division by zero");for(l=n.e-i.e,A=O.length,w=I.length,p=new T(P),m=p.d=[],c=0;O[c]==(I[c]||0);)++c;if(O[c]>(I[c]||0)&&--l,o==null?g=o=T.precision:s?g=o+(ir(n)-ir(i))+1:g=o,g<0)return new T(0);if(g=g/It+2|0,c=0,A==1)for(f=0,O=O[0],g++;(c<w||f)&&g--;c++)x=f*Tr+(I[c]||0),m[c]=x/O|0,f=x%O|0;else{for(f=Tr/(O[0]+1)|0,f>1&&(O=t(O,f),I=t(I,f),A=O.length,w=I.length),S=A,y=I.slice(0,A),v=y.length;v<A;)y[v++]=0;C=O.slice(),C.unshift(0),_=O[0],O[1]>=Tr/2&&++_;do f=0,a=e(O,y,A,v),a<0?(b=y[0],A!=v&&(b=b*Tr+(y[1]||0)),f=b/_|0,f>1?(f>=Tr&&(f=Tr-1),d=t(O,f),h=d.length,v=y.length,a=e(d,y,h,v),a==1&&(f--,r(d,A<h?C:O,h))):(f==0&&(a=f=1),d=O.slice()),h=d.length,h<v&&d.unshift(0),r(y,d,v),a==-1&&(v=y.length,a=e(O,y,A,v),a<1&&(f++,r(y,A<v?C:O,v))),v=y.length):a===0&&(f++,y=[0]),m[c++]=f,a&&y[0]?y[v++]=I[S]||0:(y=[I[S]],v=1);while((S++<w||y[0]!==void 0)&&g--)}return m[0]||m.shift(),p.e=l,gt(p,s?o+ir(p)+1:o)}}();function GX(t,e){var r,n,i,o,s,a,l=0,c=0,f=t.constructor,d=f.precision;if(ir(t)>16)throw Error(a2+ir(t));if(!t.s)return new f(Zn);for(e==null?($t=!1,a=d):a=e,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(Ol(2,c))/Math.LN10*2+5|0,a+=n,r=i=o=new f(Zn),f.precision=a;;){if(i=gt(i.times(t),a),r=r.times(++l),s=o.plus(Ss(i,r,a)),Fo(s.d).slice(0,a)===Fo(o.d).slice(0,a)){for(;c--;)o=gt(o.times(o),a);return f.precision=d,e==null?($t=!0,gt(o,d)):o}o=s}}function ir(t){for(var e=t.e*It,r=t.d[0];r>=10;r/=10)e++;return e}function sC(t,e,r){if(e>t.LN10.sd())throw $t=!0,r&&(t.precision=r),Error(Bi+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function ra(t){for(var e="";t--;)e+="0";return e}function vy(t,e){var r,n,i,o,s,a,l,c,f,d=1,h=10,p=t,m=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(Bi+(p.s?"NaN":"-Infinity"));if(p.eq(Zn))return new y(0);if(e==null?($t=!1,c=v):c=e,p.eq(10))return e==null&&($t=!0),sC(y,c);if(c+=h,y.precision=c,r=Fo(m),n=r.charAt(0),o=ir(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Fo(p.d),n=r.charAt(0),d++;o=ir(p),n>1?(p=new y("0."+r),o++):p=new y(n+"."+r.slice(1))}else return l=sC(y,c+2,v).times(o+""),p=vy(new y(n+"."+r.slice(1)),c-h).plus(l),y.precision=v,e==null?($t=!0,gt(p,v)):p;for(a=s=p=Ss(p.minus(Zn),p.plus(Zn),c),f=gt(p.times(p),c),i=3;;){if(s=gt(s.times(f),c),l=a.plus(Ss(s,new y(i),c)),Fo(l.d).slice(0,c)===Fo(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(sC(y,c+2,v).times(o+""))),a=Ss(a,new y(d),c),y.precision=v,e==null?($t=!0,gt(a,v)):a;a=l,i+=2}}function bU(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=mh(r/It),t.d=[],n=(r+1)%It,r<0&&(n+=It),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=It;n<i;)t.d.push(+e.slice(n,n+=It));e=e.slice(n),n=It-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),$t&&(t.e>G_||t.e<-G_))throw Error(a2+r)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,r){var n,i,o,s,a,l,c,f,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(n=e-s,n<0)n+=It,i=e,c=d[f=0];else{if(f=Math.ceil((n+1)/It),o=d.length,f>=o)return t;for(c=o=d[f],s=1;o>=10;o/=10)s++;n%=It,i=n-It+s}if(r!==void 0&&(o=Ol(10,s-i-1),a=c/o%10|0,l=e<0||d[f+1]!==void 0||c%o,l=r<4?(a||l)&&(r==0||r==(t.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?i>0?c/Ol(10,s-i):0:d[f-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(o=ir(t),d.length=1,e=e-o-1,d[0]=Ol(10,(It-e%It)%It),t.e=mh(-e/It)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=f,o=1,f--):(d.length=f+1,o=Ol(10,It-n),d[f]=i>0?(c/Ol(10,s-i)%Ol(10,i)|0)*o:0),l)for(;;)if(f==0){(d[0]+=o)==Tr&&(d[0]=1,++t.e);break}else{if(d[f]+=o,d[f]!=Tr)break;d[f--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if($t&&(t.e>G_||t.e<-G_))throw Error(a2+ir(t));return t}function qX(t,e){var r,n,i,o,s,a,l,c,f,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),$t?gt(e,p):e;if(l=t.d,d=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(f=s<0,f?(r=l,s=-s,a=d.length):(r=d,n=c,a=l.length),i=Math.max(Math.ceil(p/It),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,a=d.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}s=0}for(f&&(r=l,l=d,d=r,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Tr-1;--l[o],l[i]+=Tr}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,$t?gt(e,p):e):new h(0)}function Dc(t,e,r){var n,i=ir(t),o=Fo(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+ra(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ra(-i-1)+o,r&&(n=r-s)>0&&(o+=ra(n))):i>=s?(o+=ra(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+ra(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=ra(n))),t.s<0?"-"+o:o}function xU(t,e){if(t.length>e)return t.length=e,!0}function HX(t){var e,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(bc+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return bU(s,o.toString())}else if(typeof o!="string")throw Error(bc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,p6e.test(o))bU(s,o);else throw Error(bc+o)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=HX,i.config=i.set=m6e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function m6e(t){if(!t||typeof t!="object")throw Error(Bi+"Object expected");var e,r,n,i=["precision",1,ph,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(mh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(bc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bc+r+": "+n);return this}var l2=HX(h6e);Zn=new l2(1);const mt=l2;function y6e(t){return x6e(t)||b6e(t)||v6e(t)||g6e()}function g6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v6e(t,e){if(t){if(typeof t=="string")return FI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FI(t,e)}}function b6e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function x6e(t){if(Array.isArray(t))return FI(t)}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _6e=function(e){return e},KX={"@@functional/placeholder":!0},QX=function(e){return e===KX},_U=function(e){return function r(){return arguments.length===0||arguments.length===1&&QX(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},w6e=function t(e,r){return e===1?r:_U(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==KX}).length;return s>=e?r.apply(void 0,i):t(e-s,_U(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var f=i.map(function(d){return QX(d)?l.shift():d});return r.apply(void 0,y6e(f).concat(l))}))})},CS=function(e){return w6e(e.length,e)},LI=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},S6e=CS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),E6e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return _6e;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},BI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},YX=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(a,l){return a===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function A6e(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function C6e(t,e,r){for(var n=new mt(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var P6e=CS(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),T6e=CS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),I6e=CS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const PS={rangeStep:C6e,getDigitCount:A6e,interpolateNumber:P6e,uninterpolateNumber:T6e,uninterpolateTruncation:I6e};function UI(t){return O6e(t)||k6e(t)||XX(t)||N6e()}function N6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k6e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function O6e(t){if(Array.isArray(t))return VI(t)}function by(t,e){return $6e(t)||R6e(t,e)||XX(t,e)||j6e()}function j6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(t,e){if(t){if(typeof t=="string")return VI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VI(t,e)}}function VI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R6e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function $6e(t){if(Array.isArray(t))return t}function JX(t){var e=by(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function ZX(t,e,r){if(t.lte(0))return new mt(0);var n=PS.getDigitCount(t.toNumber()),i=new mt(10).pow(n),o=t.div(i),s=n!==1?.05:.1,a=new mt(Math.ceil(o.div(s).toNumber())).add(r).mul(s),l=a.mul(i);return e?l:new mt(Math.ceil(l))}function D6e(t,e,r){var n=1,i=new mt(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new mt(10).pow(PS.getDigitCount(t)-1),i=new mt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new mt(Math.floor(t)))}else t===0?i=new mt(Math.floor((e-1)/2)):r||(i=new mt(Math.floor(t)));var s=Math.floor((e-1)/2),a=E6e(S6e(function(l){return i.add(new mt(l-s).mul(n)).toNumber()}),LI);return a(0,e)}function eJ(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var o=ZX(new mt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new mt(0):(s=new mt(t).add(e).div(2),s=s.sub(new mt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new mt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>r?eJ(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,a=e>0?a:a+(r-c)),{step:o,tickMin:s.sub(new mt(a).mul(o)),tickMax:s.add(new mt(l).mul(o))})}function M6e(t){var e=by(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=JX([r,n]),l=by(a,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(UI(LI(0,i-1).map(function(){return 1/0}))):[].concat(UI(LI(0,i-1).map(function(){return-1/0})),[f]);return r>n?BI(d):d}if(c===f)return D6e(c,i,o);var h=eJ(c,f,s,o),p=h.step,m=h.tickMin,y=h.tickMax,v=PS.rangeStep(m,y.add(new mt(.1).mul(p)),p);return r>n?BI(v):v}function F6e(t,e){var r=by(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=JX([n,i]),a=by(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var f=Math.max(e,2),d=ZX(new mt(c).sub(l).div(f-1),o,0),h=[].concat(UI(PS.rangeStep(new mt(l),new mt(c).sub(new mt(.99).mul(d)),d)),[c]);return n>i?BI(h):h}var L6e=YX(M6e),B6e=YX(F6e),U6e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q_.apply(this,arguments)}function V6e(t,e){return q6e(t)||G6e(t,e)||z6e(t,e)||W6e()}function W6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z6e(t,e){if(t){if(typeof t=="string")return wU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wU(t,e)}}function wU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function q6e(t){if(Array.isArray(t))return t}function H6e(t,e){if(t==null)return{};var r=K6e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K6e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rv(t){var e=t.offset,r=t.layout,n=t.width,i=t.dataKey,o=t.data,s=t.dataPointFormatter,a=t.xAxis,l=t.yAxis,c=H6e(t,U6e),f=qe(c),d=o.map(function(h){var p=s(h,i),m=p.x,y=p.y,v=p.value,b=p.errorVal;if(!b)return null;var g=[],x,S;if(Array.isArray(b)){var w=V6e(b,2);x=w[0],S=w[1]}else x=S=b;if(r==="vertical"){var _=a.scale,A=y+e,C=A+n,T=A-n,P=_(v-x),I=_(v+S);g.push({x1:I,y1:C,x2:I,y2:T}),g.push({x1:P,y1:A,x2:I,y2:A}),g.push({x1:P,y1:C,x2:P,y2:T})}else if(r==="horizontal"){var O=l.scale,N=m+e,R=N-n,L=N+n,U=O(v-x),V=O(v+S);g.push({x1:R,y1:V,x2:L,y2:V}),g.push({x1:N,y1:U,x2:N,y2:V}),g.push({x1:R,y1:U,x2:L,y2:U})}return k.createElement(Jt,q_({className:"recharts-errorBar",key:"bar-".concat(g.map(function(j){return"".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))},f),g.map(function(j){return k.createElement("line",q_({},j,{key:"line-".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))}))});return k.createElement(Jt,{className:"recharts-errorBars"},d)}rv.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};rv.displayName="ErrorBar";function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function SU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(r),!0).forEach(function(n){Q6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q6e(t,e,r){return e=Y6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y6e(t){var e=X6e(t,"string");return xy(e)==="symbol"?e:String(e)}function X6e(t,e){if(xy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tJ=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=No(r,oy);if(!s)return null;var a;return s.props&&s.props.payload?a=s.props&&s.props.payload:o==="children"?a=(n||[]).reduce(function(l,c){var f=c.item,d=c.props,h=d.sectors||d.data||[];return l.concat(h.map(function(p){return{type:s.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):a=(n||[]).map(function(l){var c=l.item,f=c.props,d=f.dataKey,h=f.name,p=f.legendType,m=f.hide;return{inactive:m,dataKey:d,type:s.props.iconType||p||"square",color:c2(c),value:h||d,payload:c.props}}),aC(aC(aC({},s.props),oy.getWithHeight(s,i)),{},{payload:a,item:s})};function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function EU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(r),!0).forEach(function(n){xf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xf(t,e,r){return e=J6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J6e(t){var e=Z6e(t,"string");return _y(e)==="symbol"?e:String(e)}function Z6e(t,e){if(_y(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_y(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AU(t){return nWe(t)||rWe(t)||tWe(t)||eWe()}function eWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tWe(t,e){if(t){if(typeof t=="string")return WI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WI(t,e)}}function rWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nWe(t){if(Array.isArray(t))return WI(t)}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ci(t,e,r){return Xe(t)||Xe(e)?r:hr(e)?$i(t,e,r):Me(e)?e(t):r}function em(t,e,r,n){var i=c6e(t,function(a){return ci(a,e)});if(r==="number"){var o=i.filter(function(a){return ne(a)||parseFloat(a)});return o.length?[ES(o),SS(o)]:[1/0,-1/0]}var s=n?i.filter(function(a){return!Xe(a)}):i;return s.map(function(a){return hr(a)||a instanceof Date?a:""})}var iWe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var f=c>0?i[c-1].coordinate:i[a-1].coordinate,d=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(ao(d-f)!==ao(h-d)){var m=[];if(ao(h-d)===ao(l[1]-l[0])){p=h;var y=d+l[1]-l[0];m[0]=Math.min(y,(y+f)/2),m[1]=Math.max(y,(y+f)/2)}else{p=f;var v=h+l[1]-l[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var g=Math.min(f,h),x=Math.max(f,h);if(e>(g+d)/2&&e<=(x+d)/2){s=i[c].index;break}}}else for(var S=0;S<a;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<a-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===a-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},c2=function(e){var r=e,n=r.type.displayName,i=e.props,o=i.stroke,s=i.fill,a;switch(n){case"Line":a=o;break;case"Area":case"Radar":a=o&&o!=="none"?o:s;break;default:a=s;break}return a},oWe=function(e){var r=e.barSize,n=e.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var o={},s=Object.keys(i),a=0,l=s.length;a<l;a++)for(var c=i[s[a]].stackGroups,f=Object.keys(c),d=0,h=f.length;d<h;d++){var p=c[f[d]],m=p.items,y=p.cateAxisId,v=m.filter(function(x){return _s(x.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].props.barSize,g=v[0].props[y];o[g]||(o[g]=[]),o[g].push({item:v[0],stackList:v.slice(1),barSize:Xe(b)?r:b})}}return o},sWe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=bd(r,i,0,!0),f,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var y=(i-m)/2>>0,v={offset:y-c,size:0};f=s.reduce(function(S,w){var _={item:w.item,position:{offset:v.offset+v.size+c,size:h?p:w.barSize}},A=[].concat(AU(S),[_]);return v=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){A.push({item:C,position:v})}),A},d)}else{var b=bd(n,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var g=(i-2*b-(l-1)*c)/l;g>1&&(g>>=0);var x=a===+a?Math.min(g,a):g;f=s.reduce(function(S,w,_){var A=[].concat(AU(S),[{item:w.item,position:{offset:b+(g+c)*_+(g-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},d)}return f},aWe=function(e,r,n,i){var o=n.children,s=n.width,a=n.margin,l=s-(a.left||0)-(a.right||0),c=tJ({children:o,legendWidth:l});if(c){var f=i||{},d=f.width,h=f.height,p=c.align,m=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&ne(e[p]))return Ai(Ai({},e),{},xf({},p,e[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&ne(e[m]))return Ai(Ai({},e),{},xf({},m,e[m]+(h||0)))}return e},lWe=function(e,r,n){return Xe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},rJ=function(e,r,n,i,o){var s=r.props.children,a=Di(s,rv).filter(function(c){return lWe(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,f){var d=ci(f,n,0),h=Array.isArray(d)?[ES(d),SS(d)]:[d,d],p=l.reduce(function(m,y){var v=ci(f,y,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),g=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,m[0]),Math.max(g,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},cWe=function(e,r,n,i,o){var s=r.map(function(a){return rJ(e,a,n,o,i)}).filter(function(a){return!Xe(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},nJ=function(e,r,n,i,o){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&rJ(e,l,c,i)||em(e,c,n,o)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)a[c[f]]||(a[c[f]]=!0,l.push(c[f]));return l},[])},iJ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},CU=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(s=!0),l.coordinate});return o||a.push(r),s||a.push(n),a},Qs=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ao(a[0]-a[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return f.filter(function(d){return!Qg(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:o?o[d]:d,index:h,offset:c}})},lC=new WeakMap,p0=function(e,r){if(typeof r!="function")return e;lC.has(e)||lC.set(e,new WeakMap);var n=lC.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},uWe=function(e,r,n){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:hy(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:U_(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Zp(),realScaleType:"point"}:o==="category"?{scale:hy(),realScaleType:"band"}:{scale:U_(),realScaleType:"linear"};if(Kg(i)){var l="scale".concat(uS(i));return{scale:(vU[l]||Zp)(),realScaleType:vU[l]?l:"point"}}return Me(i)?{scale:i}:{scale:Zp(),realScaleType:"point"}},PU=1e-4,fWe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-PU,s=Math.max(i[0],i[1])+PU,a=e(r[0]),l=e(r[n-1]);(a<o||a>s||l<o||l>s)&&e.domain([r[0],r[n-1]])}},dWe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},hWe=function(e,r){if(!r||r.length!==2||!ne(r[0])||!ne(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!ne(e[0])||e[0]<n)&&(o[0]=n),(!ne(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},pWe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0,a=0;a<r;++a){var l=Qg(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=o,e[a][n][1]=o+l,o=e[a][n][1]):(e[a][n][0]=s,e[a][n][1]=s+l,s=e[a][n][1])}},mWe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var a=Qg(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=o,e[s][n][1]=o+a,o=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},yWe={sign:pWe,expand:pje,none:xd,silhouette:mje,wiggle:yje,positive:mWe},gWe=function(e,r,n){var i=r.map(function(a){return a.props.dataKey}),o=yWe[n],s=hje().keys(i).value(function(a,l){return+ci(a,l,0)}).order(lI).offset(o);return s(e)},vWe=function(e,r,n,i,o,s){if(!e)return null;var a=s?r.reverse():r,l={},c=a.reduce(function(d,h){var p=h.props,m=p.stackId,y=p.hide;if(y)return d;var v=h.props[n],b=d[v]||{hasStack:!1,stackGroups:{}};if(hr(m)){var g=b.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};g.items.push(h),b.hasStack=!0,b.stackGroups[m]=g}else b.stackGroups[Yg("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Ai(Ai({},d),{},xf({},v,b))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var b=p.stackGroups[v];return Ai(Ai({},y),{},xf({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:gWe(e,b.items,o)}))},m)}return Ai(Ai({},d),{},xf({},h,p))},f)},bWe=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,a=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var f=L6e(c,o,a);return e.domain([ES(f),SS(f)]),{niceTicks:f}}if(o&&i==="number"){var d=e.domain(),h=B6e(d,o,a);return{niceTicks:h}}return null},TU=function(e){var r=e.axis,n=e.ticks,i=e.bandSize,o=e.entry,s=e.index,a=e.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Xe(o[r.dataKey])){var l=p_(n,"value",o[r.dataKey]);if(l)return l.coordinate+i/2}return n[s]?n[s].coordinate+i/2:null}var c=ci(o,Xe(a)?r.dataKey:a);return Xe(c)?null:r.scale(c)},IU=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var l=ci(s,r.dataKey,r.domain[a]);return Xe(l)?null:r.scale(l)-o/2+i},xWe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},_We=function(e,r){var n=e.props.stackId;if(hr(n)){var i=r[n];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},wWe=function(e){return e.reduce(function(r,n){return[ES(n.concat([r[0]]).filter(ne)),SS(n.concat([r[1]]).filter(ne))]},[1/0,-1/0])},oJ=function(e,r,n){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,f){var d=wWe(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},NU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zI=function(e,r,n){if(Me(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ne(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(NU.test(e[0])){var o=+NU.exec(e[0])[1];i[0]=r[0]-o}else Me(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ne(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(kU.test(e[1])){var s=+kU.exec(e[1])[1];i[1]=r[1]+s}else Me(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},H_=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=DR(r,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],f=o[a-1];s=Math.min((c.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},OU=function(e,r,n){return!e||!e.length||AS(e,$i(n,"type.defaultProps.domain"))?r:e},sJ=function(e,r){var n=e.props,i=n.dataKey,o=n.name,s=n.unit,a=n.formatter,l=n.tooltipType,c=n.chartType;return Ai(Ai({},qe(e)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:c2(e),value:ci(r,i),type:l,payload:r,chartType:c})};function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function jU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jU(Object(r),!0).forEach(function(n){SWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SWe(t,e,r){return e=EWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EWe(t){var e=AWe(t,"string");return wy(e)==="symbol"?e:String(e)}function AWe(t,e){if(wy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K_=Math.PI/180,CWe=function(e){return e*180/Math.PI},qr=function(e,r,n,i){return{x:e+Math.cos(-K_*i)*n,y:r+Math.sin(-K_*i)*n}},PWe=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},TWe=function(e,r){var n=e.x,i=e.y,o=r.cx,s=r.cy,a=PWe({x:n,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(n-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:CWe(c),angleInRadian:c}},IWe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},NWe=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},$U=function(e,r){var n=e.x,i=e.y,o=TWe({x:n,y:i},r),s=o.radius,a=o.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var f=IWe(r),d=f.startAngle,h=f.endAngle,p=a,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?RU(RU({},r),{},{radius:s,angle:NWe(p,r)}):null};function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}var kWe=["offset"];function OWe(t){return DWe(t)||$We(t)||RWe(t)||jWe()}function jWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RWe(t,e){if(t){if(typeof t=="string")return GI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(t,e)}}function $We(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DWe(t){if(Array.isArray(t))return GI(t)}function GI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MWe(t,e){if(t==null)return{};var r=FWe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FWe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function DU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(r),!0).forEach(function(n){LWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LWe(t,e,r){return e=BWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BWe(t){var e=UWe(t,"string");return Sy(e)==="symbol"?e:String(e)}function UWe(t,e){if(Sy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ey.apply(this,arguments)}var VWe=function(e){var r=e.value,n=e.formatter,i=Xe(e.children)?r:e.children;return Me(n)?n(i):i},WWe=function(e,r){var n=ao(r-e),i=Math.min(Math.abs(r-e),360);return n*i},zWe=function(e,r,n){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,y=l.clockWise,v=(d+h)/2,b=WWe(p,m),g=b>=0?1:-1,x,S;i==="insideStart"?(x=p+g*s,S=y):i==="insideEnd"?(x=m-g*s,S=!y):i==="end"&&(x=m+g*s,S=y),S=b<=0?S:!S;var w=qr(c,f,v,x),_=qr(c,f,v,x+(S?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),C=Xe(e.id)?Yg("recharts-radial-line-"):e.id;return k.createElement("text",Ey({},n,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",a)}),k.createElement("defs",null,k.createElement("path",{id:C,d:A})),k.createElement("textPath",{xlinkHref:"#".concat(C)},r))},GWe=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,f=o.startAngle,d=o.endAngle,h=(f+d)/2;if(i==="outside"){var p=qr(s,a,c+n,h),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,b=qr(s,a,v,h),g=b.x,x=b.y;return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},qWe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,s=r,a=s.x,l=s.y,c=s.width,f=s.height,d=f>=0?1:-1,h=d*i,p=d>0?"end":"start",m=d>0?"start":"end",y=c>=0?1:-1,v=y*i,b=y>0?"end":"start",g=y>0?"start":"end";if(o==="top"){var x={x:a+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return sr(sr({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var S={x:a+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return sr(sr({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(o==="left"){var w={x:a-v,y:l+f/2,textAnchor:b,verticalAnchor:"middle"};return sr(sr({},w),n?{width:Math.max(w.x-n.x,0),height:f}:{})}if(o==="right"){var _={x:a+c+v,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return sr(sr({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:f}:{})}var A=n?{width:c,height:f}:{};return o==="insideLeft"?sr({x:a+v,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},A):o==="insideRight"?sr({x:a+c-v,y:l+f/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideTop"?sr({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):o==="insideBottom"?sr({x:a+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},A):o==="insideTopLeft"?sr({x:a+v,y:l+h,textAnchor:g,verticalAnchor:m},A):o==="insideTopRight"?sr({x:a+c-v,y:l+h,textAnchor:b,verticalAnchor:m},A):o==="insideBottomLeft"?sr({x:a+v,y:l+f-h,textAnchor:g,verticalAnchor:p},A):o==="insideBottomRight"?sr({x:a+c-v,y:l+f-h,textAnchor:b,verticalAnchor:p},A):oh(o)&&(ne(o.x)||zl(o.x))&&(ne(o.y)||zl(o.y))?sr({x:a+bd(o.x,c),y:l+bd(o.y,f),textAnchor:"end",verticalAnchor:"end"},A):sr({x:a+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},HWe=function(e){return"cx"in e&&ne(e.cx)};function un(t){var e=t.offset,r=e===void 0?5:e,n=MWe(t,kWe),i=sr({offset:r},n),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,f=i.className,d=f===void 0?"":f,h=i.textBreakAll;if(!o||Xe(a)&&Xe(l)&&!E.isValidElement(c)&&!Me(c))return null;if(E.isValidElement(c))return E.cloneElement(c,i);var p;if(Me(c)){if(p=E.createElement(c,i),E.isValidElement(p))return p}else p=VWe(i);var m=HWe(o),y=qe(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return zWe(i,p,y);var v=m?GWe(i):qWe(i);return k.createElement(R_,Ey({className:ct("recharts-label",d)},y,v,{breakAll:h}),p)}un.displayName="Label";var aJ=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,f=e.outerRadius,d=e.x,h=e.y,p=e.top,m=e.left,y=e.width,v=e.height,b=e.clockWise,g=e.labelViewBox;if(g)return g;if(ne(y)&&ne(v)){if(ne(d)&&ne(h))return{x:d,y:h,width:y,height:v};if(ne(p)&&ne(m))return{x:p,y:m,width:y,height:v}}return ne(d)&&ne(h)?{x:d,y:h,width:0,height:0}:ne(r)&&ne(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:f||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},KWe=function(e,r){return e?e===!0?k.createElement(un,{key:"label-implicit",viewBox:r}):hr(e)?k.createElement(un,{key:"label-implicit",viewBox:r,value:e}):E.isValidElement(e)?e.type===un?E.cloneElement(e,{key:"label-implicit",viewBox:r}):k.createElement(un,{key:"label-implicit",content:e,viewBox:r}):Me(e)?k.createElement(un,{key:"label-implicit",content:e,viewBox:r}):oh(e)?k.createElement(un,Ey({viewBox:r},e,{key:"label-implicit"})):null:null},QWe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=aJ(e),s=Di(i,un).map(function(l,c){return E.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return s;var a=KWe(e.label,r||o);return[a].concat(OWe(s))};un.parseViewBox=aJ;un.renderCallByParent=QWe;function YWe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var XWe=YWe;const JWe=st(XWe);function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}var ZWe=["valueAccessor"],e8e=["data","dataKey","clockWise","id","textBreakAll"];function t8e(t){return o8e(t)||i8e(t)||n8e(t)||r8e()}function r8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n8e(t,e){if(t){if(typeof t=="string")return qI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qI(t,e)}}function i8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o8e(t){if(Array.isArray(t))return qI(t)}function qI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q_.apply(this,arguments)}function MU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MU(Object(r),!0).forEach(function(n){s8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s8e(t,e,r){return e=a8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a8e(t){var e=l8e(t,"string");return Ay(e)==="symbol"?e:String(e)}function l8e(t,e){if(Ay(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ay(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LU(t,e){if(t==null)return{};var r=c8e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function c8e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var u8e=function(e){return Array.isArray(e.value)?JWe(e.value):e.value};function Ua(t){var e=t.valueAccessor,r=e===void 0?u8e:e,n=LU(t,ZWe),i=n.data,o=n.dataKey,s=n.clockWise,a=n.id,l=n.textBreakAll,c=LU(n,e8e);return!i||!i.length?null:k.createElement(Jt,{className:"recharts-label-list"},i.map(function(f,d){var h=Xe(o)?r(f,d):ci(f&&f.payload,o),p=Xe(a)?{}:{id:"".concat(a,"-").concat(d)};return k.createElement(un,Q_({},qe(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:un.parseViewBox(Xe(s)?f:FU(FU({},f),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Ua.displayName="LabelList";function f8e(t,e){return t?t===!0?k.createElement(Ua,{key:"labelList-implicit",data:e}):k.isValidElement(t)||Me(t)?k.createElement(Ua,{key:"labelList-implicit",data:e,content:t}):oh(t)?k.createElement(Ua,Q_({data:e},t,{key:"labelList-implicit"})):null:null}function d8e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Di(n,Ua).map(function(s,a){return E.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!r)return i;var o=f8e(t.label,e);return[o].concat(t8e(i))}Ua.renderCallByParent=d8e;function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function HI(){return HI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HI.apply(this,arguments)}function BU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(r),!0).forEach(function(n){h8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h8e(t,e,r){return e=p8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p8e(t){var e=m8e(t,"string");return Cy(e)==="symbol"?e:String(e)}function m8e(t,e){if(Cy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y8e=function(e,r){var n=ao(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},m0=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,f=l*(a?1:-1)+i,d=Math.asin(l/f)/K_,h=c?o:o+s*d,p=qr(r,n,f,h),m=qr(r,n,i,h),y=c?o-s*d:o,v=qr(r,n,f*Math.cos(d*K_),y);return{center:p,circleTangency:m,lineTangency:v,theta:d}},lJ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=y8e(s,a),c=s+l,f=qr(r,n,o,s),d=qr(r,n,o,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=qr(r,n,i,s),m=qr(r,n,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},g8e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,f=e.endAngle,d=ao(f-c),h=m0({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,y=h.theta,v=m0({cx:r,cy:n,radius:o,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=v.circleTangency,g=v.lineTangency,x=v.theta,S=l?Math.abs(c-f):Math.abs(c-f)-y-x;if(S<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):lJ({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:f});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(i>0){var _=m0({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=_.circleTangency,C=_.lineTangency,T=_.theta,P=m0({cx:r,cy:n,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=P.circleTangency,O=P.lineTangency,N=P.theta,R=l?Math.abs(c-f):Math.abs(c-f)-T-N;if(R<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},v8e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cJ=function(e){var r=UU(UU({},v8e),e),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,a=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(s<o||f===d)return null;var p=ct("recharts-sector",h),m=s-o,y=bd(a,m,0,!0),v;return y>0&&Math.abs(f-d)<360?v=g8e({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):v=lJ({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:f,endAngle:d}),k.createElement("path",HI({},qe(r,!0),{className:p,d:v,role:"img"}))};function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function KI(){return KI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KI.apply(this,arguments)}function VU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VU(Object(r),!0).forEach(function(n){b8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b8e(t,e,r){return e=x8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x8e(t){var e=_8e(t,"string");return Py(e)==="symbol"?e:String(e)}function _8e(t,e){if(Py(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Py(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zU={curveBasisClosed:rje,curveBasisOpen:nje,curveBasis:tje,curveBumpX:UOe,curveBumpY:VOe,curveLinearClosed:ije,curveLinear:dS,curveMonotoneX:oje,curveMonotoneY:sje,curveNatural:aje,curveStep:lje,curveStepAfter:uje,curveStepBefore:cje},y0=function(e){return e.x===+e.x&&e.y===+e.y},Kh=function(e){return e.x},Qh=function(e){return e.y},w8e=function(e,r){if(Me(e))return e;var n="curve".concat(uS(e));return(n==="curveMonotone"||n==="curveBump")&&r?zU["".concat(n).concat(r==="vertical"?"Y":"X")]:zU[n]||dS},S8e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,f=w8e(n,a),d=c?o.filter(function(y){return y0(y)}):o,h;if(Array.isArray(s)){var p=c?s.filter(function(y){return y0(y)}):s,m=d.map(function(y,v){return WU(WU({},y),{},{base:p[v]})});return a==="vertical"?h=o0().y(Qh).x1(Kh).x0(function(y){return y.base.x}):h=o0().x(Kh).y1(Qh).y0(function(y){return y.base.y}),h.defined(y0).curve(f),h(m)}return a==="vertical"&&ne(s)?h=o0().y(Qh).x1(Kh).x0(s):ne(s)?h=o0().x(Kh).y1(Qh).y0(s):h=oY().x(Kh).y(Qh),h.defined(y0).curve(f),h(d)},QI=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?S8e(e):i;return k.createElement("path",KI({},qe(e),m_(e),{className:ct("recharts-curve",r),d:s,ref:o}))};function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y_.apply(this,arguments)}function E8e(t,e){return T8e(t)||P8e(t,e)||C8e(t,e)||A8e()}function A8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8e(t,e){if(t){if(typeof t=="string")return GU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GU(t,e)}}function GU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function T8e(t){if(Array.isArray(t))return t}function qU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qU(Object(r),!0).forEach(function(n){I8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I8e(t,e,r){return e=N8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N8e(t){var e=k8e(t,"string");return Ty(e)==="symbol"?e:String(e)}function k8e(t,e){if(Ty(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ty(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KU=function(e,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,f;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=o[h]>s?s:o[h];f="M".concat(e,",").concat(r+a*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(r)),f+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+a*d[1])),f+="L ".concat(e+n,",").concat(r+i-a*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),f+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-a*d[3])),f+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);f="M ".concat(e,",").concat(r+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(r+a*m,`
            L `).concat(e+n,",").concat(r+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(r+i-a*m," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},O8e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,s=r.y,a=r.width,l=r.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),f=Math.max(o,o+a),d=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=f&&i>=d&&i<=h}return!1},j8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u2=function(e){var r=HU(HU({},j8e),e),n=E.useRef(),i=E.useState(-1),o=E8e(i,2),s=o[0],a=o[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&a(S)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,y=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,g=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var x=ct("recharts-rectangle",p);return g?k.createElement(ks,{canBegin:s>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:y,animationEasing:m,isActive:g},function(S){var w=S.width,_=S.height,A=S.x,C=S.y;return k.createElement(ks,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:b,easing:m},k.createElement("path",Y_({},qe(r,!0),{className:x,d:KU(A,C,w,_,h),ref:n})))}):k.createElement("path",Y_({},qe(r,!0),{className:x,d:KU(l,c,f,d,h)}))};function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YI.apply(this,arguments)}var f2=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,s=ct("recharts-dot",o);return r===+r&&n===+n&&i===+i?k.createElement("circle",YI({},qe(e),m_(e),{className:s,cx:r,cy:n,r:i})):null};function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}var R8e=["x","y","top","left","width","height","className"];function XI(){return XI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XI.apply(this,arguments)}function QU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(r),!0).forEach(function(n){D8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D8e(t,e,r){return e=M8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M8e(t){var e=F8e(t,"string");return Iy(e)==="symbol"?e:String(e)}function F8e(t,e){if(Iy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Iy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L8e(t,e){if(t==null)return{};var r=B8e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function B8e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var U8e=function(e,r,n,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},V8e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,f=e.width,d=f===void 0?0:f,h=e.height,p=h===void 0?0:h,m=e.className,y=L8e(e,R8e),v=$8e({x:n,y:o,top:a,left:c,width:d,height:p},y);return!ne(n)||!ne(o)||!ne(d)||!ne(p)||!ne(a)||!ne(c)?null:k.createElement("path",XI({},qe(v,!0),{className:ct("recharts-cross",m),d:U8e(n,o,d,p,a,c)}))},W8e=TY,z8e=W8e(Object.getPrototypeOf,Object),G8e=z8e,q8e=Fs,H8e=G8e,K8e=Ls,Q8e="[object Object]",Y8e=Function.prototype,X8e=Object.prototype,uJ=Y8e.toString,J8e=X8e.hasOwnProperty,Z8e=uJ.call(Object);function e9e(t){if(!K8e(t)||q8e(t)!=Q8e)return!1;var e=H8e(t);if(e===null)return!0;var r=J8e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&uJ.call(r)==Z8e}var t9e=e9e;const r9e=st(t9e);var n9e=Fs,i9e=Ls,o9e="[object Boolean]";function s9e(t){return t===!0||t===!1||i9e(t)&&n9e(t)==o9e}var a9e=s9e;const l9e=st(a9e);function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X_.apply(this,arguments)}function c9e(t,e){return h9e(t)||d9e(t,e)||f9e(t,e)||u9e()}function u9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f9e(t,e){if(t){if(typeof t=="string")return YU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YU(t,e)}}function YU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function h9e(t){if(Array.isArray(t))return t}function XU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(r),!0).forEach(function(n){p9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p9e(t,e,r){return e=m9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m9e(t){var e=y9e(t,"string");return Ny(e)==="symbol"?e:String(e)}function y9e(t,e){if(Ny(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ny(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZU=function(e,r,n,i,o){var s=n-i,a;return a="M ".concat(e,",").concat(r),a+="L ".concat(e+n,",").concat(r),a+="L ".concat(e+n-s/2,",").concat(r+o),a+="L ".concat(e+n-s/2-i,",").concat(r+o),a+="L ".concat(e,",").concat(r," Z"),a},g9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},v9e=function(e){var r=JU(JU({},g9e),e),n=E.useRef(),i=E.useState(-1),o=c9e(i,2),s=o[0],a=o[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&a(x)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,y=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=ct("recharts-trapezoid",p);return b?k.createElement(ks,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:y,animationEasing:m,isActive:b},function(x){var S=x.upperWidth,w=x.lowerWidth,_=x.height,A=x.x,C=x.y;return k.createElement(ks,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:m},k.createElement("path",X_({},qe(r,!0),{className:g,d:ZU(A,C,S,w,_),ref:n})))}):k.createElement("g",null,k.createElement("path",X_({},qe(r,!0),{className:g,d:ZU(l,c,f,d,h)})))},b9e=["option","shapeType","propTransformer","activeClassName","isActive"];function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function x9e(t,e){if(t==null)return{};var r=_9e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _9e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function eV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(r),!0).forEach(function(n){w9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w9e(t,e,r){return e=S9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S9e(t){var e=E9e(t,"string");return ky(e)==="symbol"?e:String(e)}function E9e(t,e){if(ky(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ky(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A9e(t,e){return J_(J_({},e),t)}function C9e(t,e){return t==="symbols"}function tV(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return k.createElement(u2,r);case"trapezoid":return k.createElement(v9e,r);case"sector":return k.createElement(cJ,r);case"symbols":if(C9e(e))return k.createElement(TR,r);break;default:return null}}function P9e(t){return E.isValidElement(t)?t.props:t}function T9e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?A9e:n,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=x9e(t,b9e),c;if(E.isValidElement(e))c=E.cloneElement(e,J_(J_({},l),P9e(e)));else if(Me(e))c=e(l);else if(r9e(e)&&!l9e(e)){var f=i(e,l);c=k.createElement(tV,{shapeType:r,elementProps:f})}else{var d=l;c=k.createElement(tV,{shapeType:r,elementProps:d})}return a?k.createElement(Jt,{className:s},c):c}function TS(t,e){return e!=null&&"trapezoids"in t.props}function IS(t,e){return e!=null&&"sectors"in t.props}function Oy(t,e){return e!=null&&"points"in t.props}function I9e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function N9e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function k9e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function O9e(t,e){var r;return TS(t,e)?r=I9e:IS(t,e)?r=N9e:Oy(t,e)&&(r=k9e),r}function j9e(t,e){var r;return TS(t,e)?r="trapezoids":IS(t,e)?r="sectors":Oy(t,e)&&(r="points"),r}function R9e(t,e){if(TS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(IS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Oy(t,e)?e.payload:{}}function $9e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=j9e(r,e),o=R9e(r,e),s=n.filter(function(l,c){var f=AS(o,l),d=r.props[i].filter(function(m){var y=O9e(r,e);return y(m,e)}),h=r.props[i].indexOf(d[d.length-1]),p=c===h;return f&&p}),a=n.indexOf(s[s.length-1]);return a}var D9e=Math.ceil,M9e=Math.max;function F9e(t,e,r,n){for(var i=-1,o=M9e(D9e((e-t)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=t,t+=r;return s}var L9e=F9e,B9e=tX,rV=1/0,U9e=17976931348623157e292;function V9e(t){if(!t)return t===0?t:0;if(t=B9e(t),t===rV||t===-rV){var e=t<0?-1:1;return e*U9e}return t===t?t:0}var fJ=V9e,W9e=L9e,z9e=yS,cC=fJ;function G9e(t){return function(e,r,n){return n&&typeof n!="number"&&z9e(e,r,n)&&(r=n=void 0),e=cC(e),r===void 0?(r=e,e=0):r=cC(r),n=n===void 0?e<r?1:-1:cC(n),W9e(e,r,n,t)}}var q9e=G9e,H9e=q9e,K9e=H9e(),Q9e=K9e;const Z_=st(Q9e);function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function nV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(r),!0).forEach(function(n){dJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dJ(t,e,r){return e=Y9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y9e(t){var e=X9e(t,"string");return jy(e)==="symbol"?e:String(e)}function X9e(t,e){if(jy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J9e=["Webkit","Moz","O","ms"],Z9e=function(e,r){if(!e)return null;var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=J9e.reduce(function(o,s){return iV(iV({},o),{},dJ({},s+n,r))},{});return i[e]=r,i};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ew.apply(this,arguments)}function oV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(r),!0).forEach(function(n){Kn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hJ(n.key),n)}}function tze(t,e,r){return e&&sV(t.prototype,e),r&&sV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JI(t,e)}function JI(t,e){return JI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JI(t,e)}function nze(t){var e=oze();return function(){var n=tw(t),i;if(e){var o=tw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return ize(this,i)}}function ize(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xo(t)}function xo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tw(t){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(t)}function Kn(t,e,r){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hJ(t){var e=sze(t,"string");return Nd(e)==="symbol"?e:String(e)}function sze(t,e){if(Nd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aze=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Zp().domain(Z_(0,l)).range([o,o+s-a]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:f}},aV=function(e){return e.changedTouches&&!!e.changedTouches.length},kd=function(t){rze(r,t);var e=nze(r);function r(n){var i;return eze(this,r),i=e.call(this,n),Kn(xo(i),"handleDrag",function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)}),Kn(xo(i),"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])}),Kn(xo(i),"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=i.props,s=o.endIndex,a=o.onDragEnd,l=o.startIndex;a==null||a({endIndex:s,startIndex:l})}),i.detachDragEndListener()}),Kn(xo(i),"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),Kn(xo(i),"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),Kn(xo(i),"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),Kn(xo(i),"handleSlideDragStart",function(o){var s=aV(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(xo(i),"startX"),endX:i.handleTravellerDragStart.bind(xo(i),"endX")},i.state={},i}return tze(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,s=i.endX,a=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,d=f.length-1,h=Math.min(o,s),p=Math.max(o,s),m=r.getIndexInRange(a,h),y=r.getIndexInRange(a,p);return{startIndex:m-m%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(i){var o=this.props,s=o.data,a=o.tickFormatter,l=o.dataKey,c=ci(s[i],l,i);return Me(a)?a(c,i):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,s=o.slideMoveStartX,a=o.startX,l=o.endX,c=this.props,f=c.x,d=c.width,h=c.travellerWidth,p=c.startIndex,m=c.endIndex,y=c.onChange,v=i.pageX-s;v>0?v=Math.min(v,f+d-h-l,f+d-h-a):v<0&&(v=Math.max(v,f-a,f-l));var b=this.getIndex({startX:a+v,endX:l+v});(b.startIndex!==p||b.endIndex!==m)&&y&&y(b),this.setState({startX:a+v,endX:l+v,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var s=aV(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,s=this.state,a=s.brushMoveStartX,l=s.movingTravellerId,c=s.endX,f=s.startX,d=this.state[l],h=this.props,p=h.x,m=h.width,y=h.travellerWidth,v=h.onChange,b=h.gap,g=h.data,x={startX:this.state.startX,endX:this.state.endX},S=i.pageX-a;S>0?S=Math.min(S,p+m-y-d):S<0&&(S=Math.max(S,p-d)),x[l]=d+S;var w=this.getIndex(x),_=w.startIndex,A=w.endIndex,C=function(){var P=g.length-1;return l==="startX"&&(c>f?_%b===0:A%b===0)||c<f&&A===P||l==="endX"&&(c>f?A%b===0:_%b===0)||c>f&&A===P};this.setState((o={},Kn(o,l,d+S),Kn(o,"brushMoveStartX",i.pageX),o),function(){v&&C()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(i,o){var s=this,a=this.state,l=a.scaleValues,c=a.startX,f=a.endX,d=this.state[o],h=l.indexOf(d);if(h!==-1){var p=h+i;if(!(p===-1||p>=l.length)){var m=l[p];o==="startX"&&m>=f||o==="endX"&&m<=c||this.setState(Kn({},o,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.fill,f=i.stroke;return k.createElement("rect",{stroke:f,fill:c,x:o,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.data,f=i.children,d=i.padding,h=E.Children.only(f);return h?k.cloneElement(h,{x:o,y:s,width:a,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(i,o){var s=this,a=this.props,l=a.y,c=a.travellerWidth,f=a.height,d=a.traveller,h=a.ariaLabel,p=a.data,m=a.startIndex,y=a.endIndex,v=Math.max(i,this.props.x),b=uC(uC({},qe(this.props)),{},{x:v,y:l,width:c,height:f}),g=h||"Min value: ".concat(p[m].name,", Max value: ").concat(p[y].name);return k.createElement(Jt,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,o))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(d,b))}},{key:"renderSlide",value:function(i,o){var s=this.props,a=s.y,l=s.height,c=s.stroke,f=s.travellerWidth,d=Math.min(i,o)+f,h=Math.max(Math.abs(o-i)-f,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:h,height:l})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,s=i.endIndex,a=i.y,l=i.height,c=i.travellerWidth,f=i.stroke,d=this.state,h=d.startX,p=d.endX,m=5,y={pointerEvents:"none",fill:f};return k.createElement(Jt,{className:"recharts-brush-texts"},k.createElement(R_,ew({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-m,y:a+l/2},y),this.getTextOfTick(o)),k.createElement(R_,ew({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+m,y:a+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.className,a=i.children,l=i.x,c=i.y,f=i.width,d=i.height,h=i.alwaysShowText,p=this.state,m=p.startX,y=p.endX,v=p.isTextActive,b=p.isSlideMoving,g=p.isTravellerMoving,x=p.isTravellerFocused;if(!o||!o.length||!ne(l)||!ne(c)||!ne(f)||!ne(d)||f<=0||d<=0)return null;var S=ct("recharts-brush",s),w=k.Children.count(a)===1,_=Z9e("userSelect","none");return k.createElement(Jt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(v||b||g||x||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,s=i.y,a=i.width,l=i.height,c=i.stroke,f=Math.floor(s+l/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:o,y:s,width:a,height:l,fill:c,stroke:"none"}),k.createElement("line",{x1:o+1,y1:f,x2:o+a-1,y2:f,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:o+1,y1:f+2,x2:o+a-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,o){var s;return k.isValidElement(i)?s=k.cloneElement(i,o):Me(i)?s=i(o):s=r.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(i,o){var s=i.data,a=i.width,l=i.x,c=i.travellerWidth,f=i.updateId,d=i.startIndex,h=i.endIndex;if(s!==o.prevData||f!==o.prevUpdateId)return uC({prevData:s,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:a},s&&s.length?aze({data:s,width:a,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(o.scale&&(a!==o.prevWidth||l!==o.prevX||c!==o.prevTravellerWidth)){o.scale.range([l,l+a-c]);var p=o.scale.domain().map(function(m){return o.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:a,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(i,o){for(var s=i.length,a=0,l=s-1;l-a>1;){var c=Math.floor((a+l)/2);i[c]>o?l=c:a=c}return o>=i[l]?l:a}}]),r}(E.PureComponent);Kn(kd,"displayName","Brush");Kn(kd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lze=$R;function cze(t,e){var r;return lze(t,function(n,i,o){return r=e(n,i,o),!r}),!!r}var uze=cze,fze=xY,dze=ul,hze=uze,pze=zn,mze=yS;function yze(t,e,r){var n=pze(t)?fze:hze;return r&&mze(t,e,r)&&(e=void 0),n(t,dze(e))}var gze=yze;const vze=st(gze);var Ho=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},lV=VY;function bze(t,e,r){e=="__proto__"&&lV?lV(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var xze=bze,_ze=xze,wze=BY,Sze=ul;function Eze(t,e){var r={};return e=Sze(e),wze(t,function(n,i,o){_ze(r,i,e(n,i,o))}),r}var Aze=Eze;const Cze=st(Aze);function Pze(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Tze=Pze,Ize=$R;function Nze(t,e){var r=!0;return Ize(t,function(n,i,o){return r=!!e(n,i,o),r}),r}var kze=Nze,Oze=Tze,jze=kze,Rze=ul,$ze=zn,Dze=yS;function Mze(t,e,r){var n=$ze(t)?Oze:jze;return r&&Dze(t,e,r)&&(e=void 0),n(t,Rze(e))}var Fze=Mze;const pJ=st(Fze);function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}var Lze=["x","y"];function ZI(){return ZI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZI.apply(this,arguments)}function cV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(r),!0).forEach(function(n){Bze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bze(t,e,r){return e=Uze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uze(t){var e=Vze(t,"string");return Ry(e)==="symbol"?e:String(e)}function Vze(t,e){if(Ry(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ry(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wze(t,e){if(t==null)return{};var r=zze(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zze(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Gze(t,e){var r=t.x,n=t.y,i=Wze(t,Lze),o="".concat(r),s=parseInt(o,10),a="".concat(n),l=parseInt(a,10),c="".concat(e.height||i.height),f=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Yh(Yh(Yh(Yh(Yh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:f,width:h,name:e.name,radius:e.radius})}function uV(t){return k.createElement(T9e,ZI({shapeType:"rectangle",propTransformer:Gze,activeClassName:"recharts-active-bar"},t))}var qze=["value","background"];function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function Hze(t,e){if(t==null)return{};var r=Kze(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kze(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rw.apply(this,arguments)}function fV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(r),!0).forEach(function(n){Ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mJ(n.key),n)}}function Yze(t,e,r){return e&&dV(t.prototype,e),r&&dV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eN(t,e)}function eN(t,e){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eN(t,e)}function Jze(t){var e=eGe();return function(){var n=nw(t),i;if(e){var o=nw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Zze(this,i)}}function Zze(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bp(t)}function bp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nw(t){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(t)}function Ea(t,e,r){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=tGe(t,"string");return Od(e)==="symbol"?e:String(e)}function tGe(t,e){if(Od(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Od(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NS=function(t){Xze(r,t);var e=Jze(r);function r(){var n;Qze(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o)),Ea(bp(n),"state",{isAnimationFinished:!1}),Ea(bp(n),"id",Yg("recharts-bar-")),Ea(bp(n),"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ea(bp(n),"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Yze(r,[{key:"renderRectanglesStatically",value:function(i){var o=this,s=this.props,a=s.shape,l=s.dataKey,c=s.activeIndex,f=s.activeBar,d=qe(this.props);return i&&i.map(function(h,p){var m=p===c,y=m?f:a,v=br(br(br({},d),h),{},{isActive:m,option:y,index:p,dataKey:l,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return k.createElement(Jt,rw({className:"recharts-bar-rectangle"},y_(o.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),k.createElement(uV,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,o=this.props,s=o.data,a=o.layout,l=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,d=o.animationEasing,h=o.animationId,p=this.state.prevData;return k.createElement(ks,{begin:c,duration:f,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,v=s.map(function(b,g){var x=p&&p[g];if(x){var S=Zi(x.x,b.x),w=Zi(x.y,b.y),_=Zi(x.width,b.width),A=Zi(x.height,b.height);return br(br({},b),{},{x:S(y),y:w(y),width:_(y),height:A(y)})}if(a==="horizontal"){var C=Zi(0,b.height),T=C(y);return br(br({},b),{},{y:b.y+b.height-T,height:T})}var P=Zi(0,b.width),I=P(y);return br(br({},b),{},{width:I})});return k.createElement(Jt,null,i.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var i=this.props,o=i.data,s=i.isAnimationActive,a=this.state.prevData;return s&&o&&o.length&&(!a||!AS(a,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var i=this,o=this.props,s=o.data,a=o.dataKey,l=o.activeIndex,c=qe(this.props.background);return s.map(function(f,d){f.value;var h=f.background,p=Hze(f,qze);if(!h)return null;var m=br(br(br(br(br({},p),{},{fill:"#eee"},h),c),y_(i.props,f,d)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:a,index:d,key:"background-bar-".concat(d),className:"recharts-bar-background-rectangle"});return k.createElement(uV,rw({option:i.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,c=s.yAxis,f=s.layout,d=s.children,h=Di(d,rv);if(!h)return null;var p=f==="vertical"?a[0].height/2:a[0].width/2,m=function(b,g){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:ci(b,g)}},y={clipPath:i?"url(#clipPath-".concat(o,")"):null};return k.createElement(Jt,y,h.map(function(v){return k.cloneElement(v,{key:"error-bar-".concat(o,"-").concat(v.props.dataKey),data:a,xAxis:l,yAxis:c,layout:f,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var i=this.props,o=i.hide,s=i.data,a=i.className,l=i.xAxis,c=i.yAxis,f=i.left,d=i.top,h=i.width,p=i.height,m=i.isAnimationActive,y=i.background,v=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,g=ct("recharts-bar",a),x=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,w=x||S,_=Xe(v)?this.id:v;return k.createElement(Jt,{className:g},x||S?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(_)},k.createElement("rect",{x:x?f:f-h/2,y:S?d:d-p/2,width:x?h:h*2,height:S?p:p*2}))):null,k.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(_,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,_),(!m||b)&&Ua.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:o.curData}:i.data!==o.curData?{curData:i.data}:null}}]),r}(E.PureComponent);Ea(NS,"displayName","Bar");Ea(NS,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!0,isAnimationActive:!ws.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ea(NS,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,f=t.dataStartIndex,d=t.displayedData,h=t.offset,p=dWe(n,r);if(!p)return null;var m=e.layout,y=r.props,v=y.dataKey,b=y.children,g=y.minPointSize,x=m==="horizontal"?s:o,S=c?x.scale.domain():null,w=xWe({numericAxis:x}),_=Di(b,iX),A=d.map(function(C,T){var P,I,O,N,R,L;if(c?P=hWe(c[f+T],S):(P=ci(C,v),Array.isArray(P)||(P=[w,P])),m==="horizontal"){var U,V=[s.scale(P[0]),s.scale(P[1])],j=V[0],F=V[1];I=IU({axis:o,ticks:a,bandSize:i,offset:p.offset,entry:C,index:T}),O=(U=F??j)!==null&&U!==void 0?U:void 0,N=p.size;var z=j-F;if(R=Number.isNaN(z)?0:z,L={x:I,y:s.y,width:N,height:s.height},Math.abs(g)>0&&Math.abs(R)<Math.abs(g)){var le=ao(R||g)*(Math.abs(g)-Math.abs(R));O-=le,R+=le}}else{var re=[o.scale(P[0]),o.scale(P[1])],be=re[0],at=re[1];if(I=be,O=IU({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:C,index:T}),N=at-be,R=p.size,L={x:o.x,y:O,width:o.width,height:R},Math.abs(g)>0&&Math.abs(N)<Math.abs(g)){var nt=ao(N||g)*(Math.abs(g)-Math.abs(N));N+=nt}}return br(br(br({},C),{},{x:I,y:O,width:N,height:R,value:c?P:P[1],payload:C,background:L},_&&_[T]&&_[T].props),{},{tooltipPayload:[sJ(r,C)],tooltipPosition:{x:I+N/2,y:O+R/2}})});return br({data:A,layout:m},h)});function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function rGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yJ(n.key),n)}}function nGe(t,e,r){return e&&hV(t.prototype,e),r&&hV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(r),!0).forEach(function(n){kS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kS(t,e,r){return e=yJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yJ(t){var e=iGe(t,"string");return $y(e)==="symbol"?e:String(e)}function iGe(t,e){if($y(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($y(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oGe=function(e,r,n,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},h=!!No(c,NS);return f.reduce(function(p,m){var y=r[m],v=y.orientation,b=y.domain,g=y.padding,x=g===void 0?{}:g,S=y.mirror,w=y.reversed,_="".concat(v).concat(S?"Mirror":""),A,C,T,P,I;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var O=b[1]-b[0],N=1/0,R=y.categoricalDomain.sort();R.forEach(function(at,nt){nt>0&&(N=Math.min((at||0)-(R[nt-1]||0),N))});var L=N/O,U=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(A=L*U/2),y.padding==="no-gap"){var V=bd(e.barCategoryGap,L*U),j=L*U/2;A=j-V-(j-V)/U*V}}i==="xAxis"?C=[n.left+(x.left||0)+(A||0),n.left+n.width-(x.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(A||0),n.top+n.height-(x.bottom||0)-(A||0)]:C=y.range,w&&(C=[C[1],C[0]]);var F=uWe(y,o,h),z=F.scale,le=F.realScaleType;z.domain(b).range(C),fWe(z);var re=bWe(z,Qi(Qi({},y),{},{realScaleType:le}));i==="xAxis"?(I=v==="top"&&!S||v==="bottom"&&S,T=n.left,P=d[_]-I*y.height):i==="yAxis"&&(I=v==="left"&&!S||v==="right"&&S,T=d[_]-I*y.width,P=n.top);var be=Qi(Qi(Qi({},y),re),{},{realScaleType:le,x:T,y:P,scale:z,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return be.bandSize=H_(be,re),!y.hide&&i==="xAxis"?d[_]+=(I?-1:1)*be.height:y.hide||(d[_]+=(I?-1:1)*be.width),Qi(Qi({},p),{},kS({},m,be))},{})},gJ=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},sGe=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return gJ({x:r,y:n},{x:i,y:o})},vJ=function(){function t(e){rGe(this,t),this.scale=e}return nGe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}]),t}();kS(vJ,"EPS",1e-4);var d2=function(e){var r=Object.keys(e).reduce(function(n,i){return Qi(Qi({},n),{},kS({},i,vJ.create(e[i])))},{});return Qi(Qi({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Cze(i,function(l,c){return r[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return pJ(i,function(o,s){return r[s].isInRange(o)})}})};function aGe(t){return(t%180+180)%180}var lGe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=aGe(i),s=o*Math.PI/180,a=Math.atan(n/r),l=s>a&&s<Math.PI-a?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)};function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){cGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cGe(t,e,r){return e=uGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uGe(t){var e=fGe(t,"string");return Dy(e)==="symbol"?e:String(e)}function fGe(t,e){if(Dy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dGe(t,e){return yGe(t)||mGe(t,e)||pGe(t,e)||hGe()}function hGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pGe(t,e){if(t){if(typeof t=="string")return gV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gV(t,e)}}function gV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function yGe(t){if(Array.isArray(t))return t}function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tN.apply(this,arguments)}var gGe=function(e,r){var n;return k.isValidElement(e)?n=k.cloneElement(e,r):Me(e)?n=e(r):n=k.createElement("line",tN({},r,{className:"recharts-reference-line-line"})),n},vGe=function(e,r,n,i,o){var s=o.viewBox,a=s.x,l=s.y,c=s.width,f=s.height,d=o.position;if(n){var h=o.y,p=o.yAxis.orientation,m=e.y.apply(h,{position:d});if(Ho(o,"discard")&&!e.y.isInRange(m))return null;var y=[{x:a+c,y:m},{x:a,y:m}];return p==="left"?y.reverse():y}if(r){var v=o.x,b=o.xAxis.orientation,g=e.x.apply(v,{position:d});if(Ho(o,"discard")&&!e.x.isInRange(g))return null;var x=[{x:g,y:l+f},{x:g,y:l}];return b==="top"?x.reverse():x}if(i){var S=o.segment,w=S.map(function(_){return e.apply(_,{position:d})});return Ho(o,"discard")&&vze(w,function(_){return!e.isInRange(_)})?null:w}return null};function h2(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxis,o=t.yAxis,s=t.shape,a=t.className,l=t.alwaysShow,c=t.clipPathId;gc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=d2({x:i.scale,y:o.scale}),d=hr(e),h=hr(r),p=n&&n.length===2,m=vGe(f,d,h,p,t);if(!m)return null;var y=dGe(m,2),v=y[0],b=v.x,g=v.y,x=y[1],S=x.x,w=x.y,_=Ho(t,"hidden")?"url(#".concat(c,")"):void 0,A=yV(yV({clipPath:_},qe(t,!0)),{},{x1:b,y1:g,x2:S,y2:w});return k.createElement(Jt,{className:ct("recharts-reference-line",a)},gGe(s,A),un.renderCallByParent(t,sGe({x1:b,y1:g,x2:S,y2:w})))}h2.displayName="ReferenceLine";h2.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rN.apply(this,arguments)}function vV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(r),!0).forEach(function(n){bGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bGe(t,e,r){return e=xGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xGe(t){var e=_Ge(t,"string");return My(e)==="symbol"?e:String(e)}function _Ge(t,e){if(My(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(My(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wGe=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,s=d2({x:i.scale,y:o.scale}),a=s.apply({x:r,y:n},{bandAware:!0});return Ho(e,"discard")&&!s.isInRange(a)?null:a};function nv(t){var e=t.x,r=t.y,n=t.r,i=t.alwaysShow,o=t.clipPathId,s=hr(e),a=hr(r);if(gc(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!a)return null;var l=wGe(t);if(!l)return null;var c=l.x,f=l.y,d=t.shape,h=t.className,p=Ho(t,"hidden")?"url(#".concat(o,")"):void 0,m=bV(bV({clipPath:p},qe(t,!0)),{},{cx:c,cy:f});return k.createElement(Jt,{className:ct("recharts-reference-dot",h)},nv.renderDot(d,m),un.renderCallByParent(t,{x:c-n,y:f-n,width:2*n,height:2*n}))}nv.displayName="ReferenceDot";nv.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};nv.renderDot=function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):Me(t)?r=t(e):r=k.createElement(f2,rN({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r};function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nN.apply(this,arguments)}function xV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _V(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(r),!0).forEach(function(n){SGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SGe(t,e,r){return e=EGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EGe(t){var e=AGe(t,"string");return Fy(e)==="symbol"?e:String(e)}function AGe(t,e){if(Fy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CGe=function(e,r,n,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,f=o.xAxis,d=o.yAxis;if(!f||!d)return null;var h=d2({x:f.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ho(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:gJ(p,m)};function iv(t){var e=t.x1,r=t.x2,n=t.y1,i=t.y2,o=t.className,s=t.alwaysShow,a=t.clipPathId;gc(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=hr(e),c=hr(r),f=hr(n),d=hr(i),h=t.shape;if(!l&&!c&&!f&&!d&&!h)return null;var p=CGe(l,c,f,d,t);if(!p&&!h)return null;var m=Ho(t,"hidden")?"url(#".concat(a,")"):void 0;return k.createElement(Jt,{className:ct("recharts-reference-area",o)},iv.renderRect(h,_V(_V({clipPath:m},qe(t,!0)),p)),un.renderCallByParent(t,p))}iv.displayName="ReferenceArea";iv.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};iv.renderRect=function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):Me(t)?r=t(e):r=k.createElement(u2,nN({},e,{className:"recharts-reference-area-rect"})),r};function bJ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function PGe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return lGe(n,r)}function TGe(t,e,r){var n=r==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:n?i:o,end:n?i+s:o+a}:{start:n?i+s:o+a,end:n?i:o}}function iw(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function IGe(t,e){return bJ(t,e+1)}function NGe(t,e,r,n,i){for(var o=(n||[]).slice(),s=e.start,a=e.end,l=0,c=1,f=s,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:bJ(n,c)};var y=l,v,b=function(){return v===void 0&&(v=r(m,y)),v},g=m.coordinate,x=l===0||iw(t,g,b,f,a);x||(l=0,f=s,c+=1),x&&(f=g+t*(b()/2+i),l+=c)},h;c<=o.length;)if(h=d(),h)return h.v;return[]}function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function wV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(r),!0).forEach(function(n){kGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kGe(t,e,r){return e=OGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OGe(t){var e=jGe(t,"string");return Ly(e)==="symbol"?e:String(e)}function jGe(t,e){if(Ly(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ly(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RGe(t,e,r,n,i){for(var o=(n||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(h){var p=o[h],m,y=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var v=t*(p.coordinate+t*y()/2-l);o[h]=p=on(on({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[h]=p=on(on({},p),{},{tickCoord:p.coordinate});var b=iw(t,p.tickCoord,y,a,l);b&&(l=p.tickCoord-t*(y()/2+i),o[h]=on(on({},p),{},{isShow:!0}))},f=s-1;f>=0;f--)c(f);return o}function $Ge(t,e,r,n,i,o){var s=(n||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var f=n[a-1],d=r(f,a-1),h=t*(f.coordinate+t*d/2-c);s[a-1]=f=on(on({},f),{},{tickCoord:h>0?f.coordinate-h*t:f.coordinate});var p=iw(t,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-t*(d/2+i),s[a-1]=on(on({},f),{},{isShow:!0}))}for(var m=o?a-1:a,y=function(g){var x=s[g],S,w=function(){return S===void 0&&(S=r(x,g)),S};if(g===0){var _=t*(x.coordinate-t*w()/2-l);s[g]=x=on(on({},x),{},{tickCoord:_<0?x.coordinate-_*t:x.coordinate})}else s[g]=x=on(on({},x),{},{tickCoord:x.coordinate});var A=iw(t,x.tickCoord,w,l,c);A&&(l=x.tickCoord+t*(w()/2+i),s[g]=on(on({},x),{},{isShow:!0}))},v=0;v<m;v++)y(v);return s}function iN(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,f=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(ne(l)||ws.isSsr)return IGe(i,typeof l=="number"&&ne(l)?l:0);var h=[],p=a==="top"||a==="bottom"?"width":"height",m=f&&p==="width"?Jp(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(x,S){var w=Me(c)?c(x.value,S):x.value;return p==="width"?PGe(Jp(w,{fontSize:e,letterSpacing:r}),m,d):Jp(w,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?ao(i[1].coordinate-i[0].coordinate):1,b=TGe(o,v,p);return l==="equidistantPreserveStart"?NGe(v,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=$Ge(v,b,y,i,s,l==="preserveStartEnd"):h=RGe(v,b,y,i,s),h.filter(function(g){return g.isShow}))}var DGe=["viewBox"],MGe=["viewBox"],FGe=["ticks"];function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hu.apply(this,arguments)}function SV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(r),!0).forEach(function(n){p2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fC(t,e){if(t==null)return{};var r=LGe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LGe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function BGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xJ(n.key),n)}}function UGe(t,e,r){return e&&EV(t.prototype,e),r&&EV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oN(t,e)}function oN(t,e){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oN(t,e)}function WGe(t){var e=qGe();return function(){var n=ow(t),i;if(e){var o=ow(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return zGe(this,i)}}function zGe(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GGe(t)}function GGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ow(t){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(t)}function p2(t,e,r){return e=xJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xJ(t){var e=HGe(t,"string");return jd(e)==="symbol"?e:String(e)}function HGe(t,e){if(jd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tm=function(t){VGe(r,t);var e=WGe(r);function r(n){var i;return BGe(this,r),i=e.call(this,n),i.state={fontSize:"",letterSpacing:""},i}return UGe(r,[{key:"shouldComponentUpdate",value:function(i,o){var s=i.viewBox,a=fC(i,DGe),l=this.props,c=l.viewBox,f=fC(l,MGe);return!vf(s,c)||!vf(a,f)||!vf(o,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var o=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var o=this.props,s=o.x,a=o.y,l=o.width,c=o.height,f=o.orientation,d=o.tickSize,h=o.mirror,p=o.tickMargin,m,y,v,b,g,x,S=h?-1:1,w=i.tickSize||d,_=ne(i.tickCoord)?i.tickCoord:i.coordinate;switch(f){case"top":m=y=i.coordinate,b=a+ +!h*c,v=b-S*w,x=v-S*p,g=_;break;case"left":v=b=i.coordinate,y=s+ +!h*l,m=y-S*w,g=m-S*p,x=_;break;case"right":v=b=i.coordinate,y=s+ +h*l,m=y+S*w,g=m+S*p,x=_;break;default:m=y=i.coordinate,b=a+ +h*c,v=b+S*w,x=v+S*p,g=_;break}return{line:{x1:m,y1:v,x2:y,y2:b},tick:{x:g,y:x}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a;switch(o){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,s=i.mirror,a="end";switch(o){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,f=i.mirror,d=i.axisLine,h=vn(vn(vn({},qe(this.props)),qe(d)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!f||c==="bottom"&&f);h=vn(vn({},h),{},{x1:o,y1:s+p*l,x2:o+a,y2:s+p*l})}else{var m=+(c==="left"&&!f||c==="right"&&f);h=vn(vn({},h),{},{x1:o+m*a,y1:s,x2:o+m*a,y2:s+l})}return k.createElement("line",Hu({},h,{className:ct("recharts-cartesian-axis-line",$i(d,"className"))}))}},{key:"renderTicks",value:function(i,o,s){var a=this,l=this.props,c=l.tickLine,f=l.stroke,d=l.tick,h=l.tickFormatter,p=l.unit,m=iN(vn(vn({},this.props),{},{ticks:i}),o,s),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=qe(this.props),g=qe(d),x=vn(vn({},b),{},{fill:"none"},qe(c)),S=m.map(function(w,_){var A=a.getTickLineCoord(w),C=A.line,T=A.tick,P=vn(vn(vn(vn({textAnchor:y,verticalAnchor:v},b),{},{stroke:"none",fill:f},g),T),{},{index:_,payload:w,visibleTicksCount:m.length,tickFormatter:h});return k.createElement(Jt,Hu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},y_(a.props,w,_)),c&&k.createElement("line",Hu({},x,C,{className:ct("recharts-cartesian-axis-tick-line",$i(c,"className"))})),d&&r.renderTickItem(d,P,"".concat(Me(h)?h(w.value,_):w.value).concat(p||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var i=this,o=this.props,s=o.axisLine,a=o.width,l=o.height,c=o.ticksGenerator,f=o.className,d=o.hide;if(d)return null;var h=this.props,p=h.ticks,m=fC(h,FGe),y=p;return Me(c)&&(y=p&&p.length>0?c(this.props):c(m)),a<=0||l<=0||!y||!y.length?null:k.createElement(Jt,{className:ct("recharts-cartesian-axis",f),ref:function(b){i.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,o,s){var a;return k.isValidElement(i)?a=k.cloneElement(i,o):Me(i)?a=i(o):a=k.createElement(R_,Hu({},o,{className:"recharts-cartesian-axis-tick-value"}),s),a}}]),r}(E.Component);p2(tm,"displayName","CartesianAxis");p2(tm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var KGe=["x1","y1","x2","y2","key"],QGe=["offset"];function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sN.apply(this,arguments)}function AV(t,e){if(t==null)return{};var r=YGe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YGe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function CV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(r),!0).forEach(function(n){m2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_J(n.key),n)}}function JGe(t,e,r){return e&&PV(t.prototype,e),r&&PV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aN(t,e)}function aN(t,e){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aN(t,e)}function eqe(t){var e=nqe();return function(){var n=sw(t),i;if(e){var o=sw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return tqe(this,i)}}function tqe(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rqe(t)}function rqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(t)}function m2(t,e,r){return e=_J(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _J(t){var e=iqe(t,"string");return Rd(e)==="symbol"?e:String(e)}function iqe(t,e){if(Rd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OS=function(t){ZGe(r,t);var e=eqe(r);function r(){return XGe(this,r),e.apply(this,arguments)}return JGe(r,[{key:"renderHorizontal",value:function(i){var o=this,s=this.props,a=s.x,l=s.width,c=s.horizontal;if(!i||!i.length)return null;var f=i.map(function(d,h){var p=Gs(Gs({},o.props),{},{x1:a,y1:d,x2:a+l,y2:d,key:"line-".concat(h),index:h});return r.renderLineItem(c,p)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}},{key:"renderVertical",value:function(i){var o=this,s=this.props,a=s.y,l=s.height,c=s.vertical;if(!i||!i.length)return null;var f=i.map(function(d,h){var p=Gs(Gs({},o.props),{},{x1:d,y1:a,x2:d,y2:a+l,key:"line-".concat(h),index:h});return r.renderLineItem(c,p)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}},{key:"renderVerticalStripes",value:function(i){var o=this.props.verticalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,l=s.x,c=s.y,f=s.width,d=s.height,h=i.map(function(m){return Math.round(m+l-l)}).sort(function(m,y){return m-y});l!==h[0]&&h.unshift(0);var p=h.map(function(m,y){var v=!h[y+1],b=v?l+f-m:h[y+1]-m;if(b<=0)return null;var g=y%o.length;return k.createElement("rect",{key:"react-".concat(y),x:m,y:c,width:b,height:d,stroke:"none",fill:o[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}},{key:"renderHorizontalStripes",value:function(i){var o=this.props.horizontalFill;if(!o||!o.length)return null;var s=this.props,a=s.fillOpacity,l=s.x,c=s.y,f=s.width,d=s.height,h=i.map(function(m){return Math.round(m+c-c)}).sort(function(m,y){return m-y});c!==h[0]&&h.unshift(0);var p=h.map(function(m,y){var v=!h[y+1],b=v?c+d-m:h[y+1]-m;if(b<=0)return null;var g=y%o.length;return k.createElement("rect",{key:"react-".concat(y),y:m,x:l,height:b,width:f,stroke:"none",fill:o[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}},{key:"renderBackground",value:function(){var i=this.props.fill;if(!i||i==="none")return null;var o=this.props,s=o.fillOpacity,a=o.x,l=o.y,c=o.width,f=o.height;return k.createElement("rect",{x:a,y:l,width:c,height:f,stroke:"none",fill:i,fillOpacity:s,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.horizontal,f=i.vertical,d=i.horizontalCoordinatesGenerator,h=i.verticalCoordinatesGenerator,p=i.xAxis,m=i.yAxis,y=i.offset,v=i.chartWidth,b=i.chartHeight,g=i.syncWithTicks,x=i.horizontalValues,S=i.verticalValues;if(!ne(a)||a<=0||!ne(l)||l<=0||!ne(o)||o!==+o||!ne(s)||s!==+s)return null;var w=this.props,_=w.horizontalPoints,A=w.verticalPoints;if((!_||!_.length)&&Me(d)){var C=x&&x.length;_=d({yAxis:m?Gs(Gs({},m),{},{ticks:C?x:m.ticks}):void 0,width:v,height:b,offset:y},C?!0:g)}if((!A||!A.length)&&Me(h)){var T=S&&S.length;A=h({xAxis:p?Gs(Gs({},p),{},{ticks:T?S:p.ticks}):void 0,width:v,height:b,offset:y},T?!0:g)}return k.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),c&&this.renderHorizontal(_),f&&this.renderVertical(A),c&&this.renderHorizontalStripes(_),f&&this.renderVerticalStripes(A))}}],[{key:"renderLineItem",value:function(i,o){var s;if(k.isValidElement(i))s=k.cloneElement(i,o);else if(Me(i))s=i(o);else{var a=o.x1,l=o.y1,c=o.x2,f=o.y2,d=o.key,h=AV(o,KGe),p=qe(h);p.offset;var m=AV(p,QGe);s=k.createElement("line",sN({},m,{x1:a,y1:l,x2:c,y2:f,fill:"none",key:d}))}return s}}]),r}(E.PureComponent);m2(OS,"displayName","CartesianGrid");m2(OS,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var oqe=["type","layout","connectNulls","ref"];function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function sqe(t,e){if(t==null)return{};var r=aqe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aqe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rm.apply(this,arguments)}function TV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(r),!0).forEach(function(n){Yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uu(t){return fqe(t)||uqe(t)||cqe(t)||lqe()}function lqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cqe(t,e){if(t){if(typeof t=="string")return lN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(t,e)}}function uqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fqe(t){if(Array.isArray(t))return lN(t)}function lN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wJ(n.key),n)}}function hqe(t,e,r){return e&&IV(t.prototype,e),r&&IV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cN(t,e)}function cN(t,e){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cN(t,e)}function mqe(t){var e=gqe();return function(){var n=aw(t),i;if(e){var o=aw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return yqe(this,i)}}function yqe(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ys(t)}function Ys(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(t)}function Yi(t,e,r){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wJ(t){var e=vqe(t,"string");return $d(e)==="symbol"?e:String(e)}function vqe(t,e){if($d(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $n=function(t){pqe(r,t);var e=mqe(r);function r(){var n;dqe(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o)),Yi(Ys(n),"state",{isAnimationFinished:!0,totalLength:0}),Yi(Ys(n),"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),Yi(Ys(n),"getStrokeDasharray",function(a,l,c){var f=c.reduce(function(g,x){return g+x});if(!f)return n.generateSimpleStrokeDasharray(l,a);for(var d=Math.floor(a/f),h=a%f,p=l-a,m=[],y=0,v=0;y<c.length;v+=c[y],++y)if(v+c[y]>h){m=[].concat(uu(c.slice(0,y)),[h-v]);break}var b=m.length%2===0?[0,p]:[p];return[].concat(uu(r.repeat(c,d)),uu(m),b).map(function(g){return"".concat(g,"px")}).join(", ")}),Yi(Ys(n),"id",Yg("recharts-line-")),Yi(Ys(n),"pathRef",function(a){n.mainCurve=a}),Yi(Ys(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Yi(Ys(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return hqe(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var i=this.getTotalLength();i!==this.state.totalLength&&this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(i,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,l=s.xAxis,c=s.yAxis,f=s.layout,d=s.children,h=Di(d,rv);if(!h)return null;var p=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:ci(v.payload,b)}},m={clipPath:i?"url(#clipPath-".concat(o,")"):null};return k.createElement(Jt,m,h.map(function(y){return k.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:l,yAxis:c,layout:f,dataPointFormatter:p})}))}},{key:"renderDots",value:function(i,o,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=qe(this.props),p=qe(c,!0),m=f.map(function(v,b){var g=Hn(Hn(Hn({key:"dot-".concat(b),r:3},h),p),{},{value:v.value,dataKey:d,cx:v.x,cy:v.y,index:b,payload:v.payload});return r.renderDotItem(c,g)}),y={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return k.createElement(Jt,rm({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(i,o,s,a){var l=this.props,c=l.type,f=l.layout,d=l.connectNulls;l.ref;var h=sqe(l,oqe),p=Hn(Hn(Hn({},qe(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:i},a),{},{type:c,layout:f,connectNulls:d});return k.createElement(QI,rm({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(i,o){var s=this,a=this.props,l=a.points,c=a.strokeDasharray,f=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,p=a.animationEasing,m=a.animationId,y=a.animateNewValues,v=a.width,b=a.height,g=this.state,x=g.prevPoints,S=g.totalLength;return k.createElement(ks,{begin:d,duration:h,isActive:f,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(x){var A=x.length/l.length,C=l.map(function(N,R){var L=Math.floor(R*A);if(x[L]){var U=x[L],V=Zi(U.x,N.x),j=Zi(U.y,N.y);return Hn(Hn({},N),{},{x:V(_),y:j(_)})}if(y){var F=Zi(v*2,N.x),z=Zi(b/2,N.y);return Hn(Hn({},N),{},{x:F(_),y:z(_)})}return Hn(Hn({},N),{},{x:N.x,y:N.y})});return s.renderCurveStatically(C,i,o)}var T=Zi(0,S),P=T(_),I;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});I=s.getStrokeDasharray(P,S,O)}else I=s.generateSimpleStrokeDasharray(S,P);return s.renderCurveStatically(l,i,o,{strokeDasharray:I})})}},{key:"renderCurve",value:function(i,o){var s=this.props,a=s.points,l=s.isAnimationActive,c=this.state,f=c.prevPoints,d=c.totalLength;return l&&a&&a.length&&(!f&&d>0||!AS(f,a))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(a,i,o)}},{key:"render",value:function(){var i,o=this.props,s=o.hide,a=o.dot,l=o.points,c=o.className,f=o.xAxis,d=o.yAxis,h=o.top,p=o.left,m=o.width,y=o.height,v=o.isAnimationActive,b=o.id;if(s||!l||!l.length)return null;var g=this.state.isAnimationFinished,x=l.length===1,S=ct("recharts-line",c),w=f&&f.allowDataOverflow,_=d&&d.allowDataOverflow,A=w||_,C=Xe(b)?this.id:b,T=(i=qe(a))!==null&&i!==void 0?i:{r:3,strokeWidth:2},P=T.r,I=P===void 0?3:P,O=T.strokeWidth,N=O===void 0?2:O,R=Fke(a)?a:{},L=R.clipDot,U=L===void 0?!0:L,V=I*2+N;return k.createElement(Jt,{className:S},w||_?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(C)},k.createElement("rect",{x:w?p:p-m/2,y:_?h:h-y/2,width:w?m:m*2,height:_?y:y*2})),!U&&k.createElement("clipPath",{id:"clipPath-dots-".concat(C)},k.createElement("rect",{x:p-V/2,y:h-V/2,width:m+V,height:y+V}))):null,!x&&this.renderCurve(A,C),this.renderErrorBar(A,C),(x||a)&&this.renderDots(A,U,C),(!v||g)&&Ua.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var s=i.length%2!==0?[].concat(uu(i),[0]):i,a=[],l=0;l<o;++l)a=[].concat(uu(a),uu(s));return a}},{key:"renderDotItem",value:function(i,o){var s;if(k.isValidElement(i))s=k.cloneElement(i,o);else if(Me(i))s=i(o);else{var a=ct("recharts-line-dot",i?i.className:"");s=k.createElement(f2,rm({},o,{className:a}))}return s}}]),r}(E.PureComponent);Yi($n,"displayName","Line");Yi($n,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ws.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Yi($n,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,f=e.layout,d=l.map(function(h,p){var m=ci(h,s);return f==="horizontal"?{x:TU({axis:r,ticks:i,bandSize:a,entry:h,index:p}),y:Xe(m)?null:n.scale(m),value:m,payload:h}:{x:Xe(m)?null:r.scale(m),y:TU({axis:n,ticks:o,bandSize:a,entry:h,index:p}),value:m,payload:h}});return Hn({points:d,layout:f},c)});var ov=function(){return null};ov.displayName="XAxis";ov.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var sv=function(){return null};sv.displayName="YAxis";sv.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var bqe=ul,xqe=Xg,_qe=pS;function wqe(t){return function(e,r,n){var i=Object(e);if(!xqe(e)){var o=bqe(r);e=_qe(e),r=function(a){return o(i[a],a,i)}}var s=t(e,r,n);return s>-1?i[o?e[s]:s]:void 0}}var Sqe=wqe,Eqe=fJ;function Aqe(t){var e=Eqe(t),r=e%1;return e===e?r?e-r:e:0}var Cqe=Aqe,Pqe=RY,Tqe=ul,Iqe=Cqe,Nqe=Math.max;function kqe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Iqe(r);return i<0&&(i=Nqe(n+i,0)),Pqe(t,Tqe(e),i)}var Oqe=kqe,jqe=Sqe,Rqe=Oqe,$qe=jqe(Rqe),Dqe=$qe;const Mqe=st(Dqe);function NV(t){return Uqe(t)||Bqe(t)||Lqe(t)||Fqe()}function Fqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lqe(t,e){if(t){if(typeof t=="string")return uN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uN(t,e)}}function Bqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uqe(t){if(Array.isArray(t))return uN(t)}function uN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fN=function(e,r,n,i,o){var s=Di(e,h2),a=Di(e,nv),l=[].concat(NV(s),NV(a)),c=Di(e,iv),f="".concat(i,"Id"),d=i[0],h=r;if(l.length&&(h=l.reduce(function(y,v){if(v.props[f]===n&&Ho(v.props,"extendDomain")&&ne(v.props[d])){var b=v.props[d];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(y,v){if(v.props[f]===n&&Ho(v.props,"extendDomain")&&ne(v.props[p])&&ne(v.props[m])){var b=v.props[p],g=v.props[m];return[Math.min(y[0],b,g),Math.max(y[1],b,g)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,v){return ne(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},SJ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function o(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)e.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},a.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,f,d,h,p,m){var y=r?r+c:c;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,g,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,h),!0;case 5:return v.fn.call(v.context,f,d,h,p),!0;case 6:return v.fn.call(v.context,f,d,h,p,m),!0}for(x=1,g=new Array(b-1);x<b;x++)g[x-1]=arguments[x];v.fn.apply(v.context,g)}else{var S=v.length,w;for(x=0;x<S;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,f);break;case 3:v[x].fn.call(v[x].context,f,d);break;case 4:v[x].fn.call(v[x].context,f,d,h);break;default:if(!g)for(w=1,g=new Array(b-1);w<b;w++)g[w-1]=arguments[w];v[x].fn.apply(v[x].context,g)}}return!0},a.prototype.on=function(c,f,d){return o(this,c,f,d,!1)},a.prototype.once=function(c,f,d){return o(this,c,f,d,!0)},a.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&s(this,p);else{for(var y=0,v=[],b=m.length;y<b;y++)(m[y].fn!==f||h&&!m[y].once||d&&m[y].context!==d)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(SJ);var Vqe=SJ.exports;const Wqe=st(Vqe);var dC=new Wqe,hC="recharts.syncMouseEvents";function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function zqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EJ(n.key),n)}}function Gqe(t,e,r){return e&&kV(t.prototype,e),r&&kV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pC(t,e,r){return e=EJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EJ(t){var e=qqe(t,"string");return By(e)==="symbol"?e:String(e)}function qqe(t,e){if(By(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(By(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hqe=function(){function t(){zqe(this,t),pC(this,"activeIndex",0),pC(this,"coordinateList",[]),pC(this,"layout","horizontal")}return Gqe(t,[{key:"setDetails",value:function(r){var n=r.coordinateList,i=n===void 0?[]:n,o=r.container,s=o===void 0?null:o,a=r.layout,l=a===void 0?null:a,c=r.offset,f=c===void 0?null:c,d=r.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=i??this.coordinateList,this.container=s??this.container,this.layout=l??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,h=s+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}]),t}();function Kqe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ne(n)&&ne(i))return!0}return!1}function Qqe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function AJ(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,s=qr(e,r,n,i),a=qr(e,r,n,o);return{points:[s,a],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function Yqe(t,e,r){var n,i,o,s;if(t==="horizontal")n=e.x,o=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,f=e.outerRadius,d=e.angle,h=qr(a,l,c,d),p=qr(a,l,f,d);n=h.x,i=h.y,o=p.x,s=p.y}else return AJ(e);return[{x:n,y:i},{x:o,y:s}]}function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function OV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OV(Object(r),!0).forEach(function(n){Xqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xqe(t,e,r){return e=Jqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jqe(t){var e=Zqe(t,"string");return Uy(e)==="symbol"?e:String(e)}function Zqe(t,e){if(Uy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eHe(t){var e=t.element,r=t.tooltipEventType,n=t.isActive,i=t.activeCoordinate,o=t.activePayload,s=t.offset,a=t.activeTooltipIndex,l=t.tooltipAxisBandSize,c=t.layout,f=t.chartName;if(!e||!e.props.cursor||!n||!i||f!=="ScatterChart"&&r!=="axis")return null;var d,h=QI;if(f==="ScatterChart")d=i,h=V8e;else if(f==="BarChart")d=Qqe(c,i,s,l),h=u2;else if(c==="radial"){var p=AJ(i),m=p.cx,y=p.cy,v=p.radius,b=p.startAngle,g=p.endAngle;d={cx:m,cy:y,startAngle:b,endAngle:g,innerRadius:v,outerRadius:v},h=cJ}else d={points:Yqe(c,i,s)},h=QI;var x=g0(g0(g0(g0({stroke:"#ccc",pointerEvents:"none"},s),d),qe(e.props.cursor)),{},{payload:o,payloadIndex:a,className:"recharts-tooltip-cursor"});return E.isValidElement(e.props.cursor)?E.cloneElement(e.props.cursor,x):E.createElement(h,x)}var tHe=["item"],rHe=["children","className","width","height","style","compact","title","desc"];function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function jV(t,e){return oHe(t)||iHe(t,e)||CJ(t,e)||nHe()}function nHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iHe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function oHe(t){if(Array.isArray(t))return t}function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ku.apply(this,arguments)}function RV(t,e){if(t==null)return{};var r=sHe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sHe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function aHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PJ(n.key),n)}}function lHe(t,e,r){return e&&$V(t.prototype,e),r&&$V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dN(t,e)}function dN(t,e){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dN(t,e)}function uHe(t){var e=dHe();return function(){var n=lw(t),i;if(e){var o=lw(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return fHe(this,i)}}function fHe(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ie(t)}function Ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(t)}function Md(t){return mHe(t)||pHe(t)||CJ(t)||hHe()}function hHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CJ(t,e){if(t){if(typeof t=="string")return hN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hN(t,e)}}function pHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mHe(t){if(Array.isArray(t))return hN(t)}function hN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(r),!0).forEach(function(n){ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ye(t,e,r){return e=PJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PJ(t){var e=yHe(t,"string");return Dd(e)==="symbol"?e:String(e)}function yHe(t,e){if(Dd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gHe={xAxis:["bottom","top"],yAxis:["left","right"]},vHe={width:"100%",height:"100%"},TJ={x:0,y:0},bHe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},xHe=function(e,r,n,i){var o=r.find(function(f){return f&&f.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return G(G(G({},i),qr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return G(G(G({},i),qr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return TJ},jS=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Md(a),Md(c)):a},[]);return s.length>0?s:e&&e.length&&ne(i)&&ne(o)?e.slice(i,o+1):[]};function IJ(t){return t==="number"?[0,"auto"]:void 0}var NJ=function(e,r,n,i){var o=e.graphicalItems,s=e.tooltipAxis,a=jS(r,e);return n<0||!o||!o.length||n>=a.length?null:o.reduce(function(l,c){var f,d=c.props.hide;if(d)return l;var h=(f=c.props.data)!==null&&f!==void 0?f:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var m=h===void 0?a:h;p=p_(m,s.dataKey,i)}else p=h&&h[n]||a[n];return p?[].concat(Md(l),[sJ(c,p)]):l},[])},MV=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},s=bHe(o,n),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,f=iWe(s,a,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=NJ(e,r,f,d),p=xHe(n,a,f,o);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},_He=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=e.layout,d=e.children,h=e.stackOffset,p=iJ(f,o);return n.reduce(function(m,y){var v,b=y.props,g=b.type,x=b.dataKey,S=b.allowDataOverflow,w=b.allowDuplicatedCategory,_=b.scale,A=b.ticks,C=b.includeHidden,T=y.props[s];if(m[T])return m;var P=jS(e.data,{graphicalItems:i.filter(function(re){return re.props[s]===T}),dataStartIndex:l,dataEndIndex:c}),I=P.length,O,N,R;Kqe(y.props.domain,S,g)&&(O=zI(y.props.domain,null,S),p&&(g==="number"||_!=="auto")&&(R=em(P,x,"category")));var L=IJ(g);if(!O||O.length===0){var U,V=(U=y.props.domain)!==null&&U!==void 0?U:L;if(x){if(O=em(P,x,g),g==="category"&&p){var j=Ike(O);w&&j?(N=O,O=Z_(0,I)):w||(O=OU(V,O,y).reduce(function(re,be){return re.indexOf(be)>=0?re:[].concat(Md(re),[be])},[]))}else if(g==="category")w?O=O.filter(function(re){return re!==""&&!Xe(re)}):O=OU(V,O,y).reduce(function(re,be){return re.indexOf(be)>=0||be===""||Xe(be)?re:[].concat(Md(re),[be])},[]);else if(g==="number"){var F=cWe(P,i.filter(function(re){return re.props[s]===T&&(C||!re.props.hide)}),x,o,f);F&&(O=F)}p&&(g==="number"||_!=="auto")&&(R=em(P,x,"category"))}else p?O=Z_(0,I):a&&a[T]&&a[T].hasStack&&g==="number"?O=h==="expand"?[0,1]:oJ(a[T].stackGroups,l,c):O=nJ(P,i.filter(function(re){return re.props[s]===T&&(C||!re.props.hide)}),g,f,!0);if(g==="number")O=fN(d,O,T,o,A),V&&(O=zI(V,O,S));else if(g==="category"&&V){var z=V,le=O.every(function(re){return z.indexOf(re)>=0});le&&(O=z)}}return G(G({},m),{},ye({},T,G(G({},y.props),{},{axisType:o,domain:O,categoricalDomain:R,duplicateDomain:N,originalDomain:(v=y.props.domain)!==null&&v!==void 0?v:L,isCategorical:p,layout:f})))},{})},wHe=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=e.layout,d=e.children,h=jS(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=iJ(f,o),y=-1;return n.reduce(function(v,b){var g=b.props[s],x=IJ("number");if(!v[g]){y++;var S;return m?S=Z_(0,p):a&&a[g]&&a[g].hasStack?(S=oJ(a[g].stackGroups,l,c),S=fN(d,S,g,o)):(S=zI(x,nJ(h,n.filter(function(w){return w.props[s]===g&&!w.props.hide}),"number",f),i.defaultProps.allowDataOverflow),S=fN(d,S,g,o)),G(G({},v),{},ye({},g,G(G({axisType:o},i.defaultProps),{},{hide:!0,orientation:$i(gHe,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:x,isCategorical:m,layout:f})))}return v},{})},SHe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=e.children,d="".concat(i,"Id"),h=Di(f,o),p={};return h&&h.length?p=_He(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=wHe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),p},EHe=function(e){var r=Ks(e),n=Qs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:DR(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:H_(r,n)}},FV=function(e){var r=e.children,n=e.defaultShowTooltip,i=No(r,kd),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},AHe=function(e){return!e||!e.length?!1:e.some(function(r){var n=_s(r&&r.type);return n&&n.indexOf("Bar")>=0})},LV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},CHe=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=No(d,kd),m=No(d,oy),y=Object.keys(l).reduce(function(w,_){var A=l[_],C=A.orientation;return!A.mirror&&!A.hide?G(G({},w),{},ye({},C,w[C]+A.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,_){var A=s[_],C=A.orientation;return!A.mirror&&!A.hide?G(G({},w),{},ye({},C,$i(w,"".concat(C))+A.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=G(G({},v),y),g=b.bottom;p&&(b.bottom+=p.props.height||kd.defaultProps.height),m&&r&&(b=aWe(b,i,n,r));var x=c-b.left-b.right,S=f-b.top-b.bottom;return G(G({brushBottom:g},b),{},{width:Math.max(x,0),height:Math.max(S,0)})},PHe=function(e){var r,n=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,s=o===void 0?"axis":o,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,f=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,p=function(v,b){var g=b.graphicalItems,x=b.stackGroups,S=b.offset,w=b.updateId,_=b.dataStartIndex,A=b.dataEndIndex,C=v.barSize,T=v.layout,P=v.barGap,I=v.barCategoryGap,O=v.maxBarSize,N=LV(T),R=N.numericAxisName,L=N.cateAxisName,U=AHe(g),V=U&&oWe({barSize:C,stackGroups:x}),j=[];return g.forEach(function(F,z){var le=jS(v.data,{graphicalItems:[F],dataStartIndex:_,dataEndIndex:A}),re=F.props,be=re.dataKey,at=re.maxBarSize,nt=F.props["".concat(R,"Id")],zt=F.props["".concat(L,"Id")],pt={},Zt=c.reduce(function(W,Z){var J,Y=b["".concat(Z.axisType,"Map")],me=F.props["".concat(Z.axisType,"Id")];Y&&Y[me]||Z.axisType==="zAxis"||kq(!1);var it=Y[me];return G(G({},W),{},(J={},ye(J,Z.axisType,it),ye(J,"".concat(Z.axisType,"Ticks"),Qs(it)),J))},pt),te=Zt[L],xe=Zt["".concat(L,"Ticks")],Ee=x&&x[nt]&&x[nt].hasStack&&_We(F,x[nt].stackGroups),q=_s(F.type).indexOf("Bar")>=0,Ze=H_(te,xe),ke=[];if(q){var vt,Dt,en=Xe(at)?O:at,Gn=(vt=(Dt=H_(te,xe,!0))!==null&&Dt!==void 0?Dt:en)!==null&&vt!==void 0?vt:0;ke=sWe({barGap:P,barCategoryGap:I,bandSize:Gn!==Ze?Gn:Ze,sizeList:V[zt],maxBarSize:en}),Gn!==Ze&&(ke=ke.map(function(W){return G(G({},W),{},{position:G(G({},W.position),{},{offset:W.position.offset-Gn/2})})}))}var $=F&&F.type&&F.type.getComposedData;if($){var B;j.push({props:G(G({},$(G(G({},Zt),{},{displayedData:le,props:v,dataKey:be,item:F,bandSize:Ze,barPosition:ke,offset:S,stackedData:Ee,layout:T,dataStartIndex:_,dataEndIndex:A}))),{},(B={key:F.key||"item-".concat(z)},ye(B,R,Zt[R]),ye(B,L,Zt[L]),ye(B,"animationId",w),B)),childIndex:Uke(F,v.children),item:F})}}),j},m=function(v,b){var g=v.props,x=v.dataStartIndex,S=v.dataEndIndex,w=v.updateId;if(!iB({props:g}))return null;var _=g.children,A=g.layout,C=g.stackOffset,T=g.data,P=g.reverseStackOrder,I=LV(A),O=I.numericAxisName,N=I.cateAxisName,R=Di(_,i),L=vWe(T,R,"".concat(O,"Id"),"".concat(N,"Id"),C,P),U=c.reduce(function(le,re){var be="".concat(re.axisType,"Map");return G(G({},le),{},ye({},be,SHe(g,G(G({},re),{},{graphicalItems:R,stackGroups:re.axisType===O&&L,dataStartIndex:x,dataEndIndex:S}))))},{}),V=CHe(G(G({},U),{},{props:g,graphicalItems:R}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(le){U[le]=d(g,U[le],V,le.replace("Map",""),n)});var j=U["".concat(N,"Map")],F=EHe(j),z=p(g,G(G({},U),{},{dataStartIndex:x,dataEndIndex:S,updateId:w,graphicalItems:R,stackGroups:L,offset:V}));return G(G({formattedGraphicalItems:z,graphicalItems:R,offset:V,stackGroups:L},F),U)};return r=function(y){cHe(b,y);var v=uHe(b);function b(g){var x,S,w;return aHe(this,b),w=v.call(this,g),ye(Ie(w),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ye(Ie(w),"accessibilityManager",new Hqe),ye(Ie(w),"handleLegendBBoxUpdate",function(_){if(_){var A=w.state,C=A.dataStartIndex,T=A.dataEndIndex,P=A.updateId;w.setState(G({legendBBox:_},m({props:w.props,dataStartIndex:C,dataEndIndex:T,updateId:P},G(G({},w.state),{},{legendBBox:_}))))}}),ye(Ie(w),"handleReceiveSyncEvent",function(_,A,C){if(w.props.syncId===_){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(A)}}),ye(Ie(w),"handleBrushChange",function(_){var A=_.startIndex,C=_.endIndex;if(A!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return G({dataStartIndex:A,dataEndIndex:C},m({props:w.props,dataStartIndex:A,dataEndIndex:C,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),ye(Ie(w),"handleMouseEnter",function(_){var A=w.getMouseInfo(_);if(A){var C=G(G({},A),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var T=w.props.onMouseEnter;Me(T)&&T(C,_)}}),ye(Ie(w),"triggeredAfterMouseMove",function(_){var A=w.getMouseInfo(_),C=A?G(G({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var T=w.props.onMouseMove;Me(T)&&T(C,_)}),ye(Ie(w),"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),ye(Ie(w),"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),ye(Ie(w),"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),ye(Ie(w),"handleMouseLeave",function(_){var A={isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var C=w.props.onMouseLeave;Me(C)&&C(A,_)}),ye(Ie(w),"handleOuterEvent",function(_){var A=Bke(_),C=$i(w.props,"".concat(A));if(A&&Me(C)){var T,P;/.*touch.*/i.test(A)?P=w.getMouseInfo(_.changedTouches[0]):P=w.getMouseInfo(_),C((T=P)!==null&&T!==void 0?T:{},_)}}),ye(Ie(w),"handleClick",function(_){var A=w.getMouseInfo(_);if(A){var C=G(G({},A),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var T=w.props.onClick;Me(T)&&T(C,_)}}),ye(Ie(w),"handleMouseDown",function(_){var A=w.props.onMouseDown;if(Me(A)){var C=w.getMouseInfo(_);A(C,_)}}),ye(Ie(w),"handleMouseUp",function(_){var A=w.props.onMouseUp;if(Me(A)){var C=w.getMouseInfo(_);A(C,_)}}),ye(Ie(w),"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),ye(Ie(w),"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),ye(Ie(w),"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),ye(Ie(w),"triggerSyncEvent",function(_){w.props.syncId!==void 0&&dC.emit(hC,w.props.syncId,_,w.eventEmitterSymbol)}),ye(Ie(w),"applySyncEvent",function(_){var A=w.props,C=A.layout,T=A.syncMethod,P=w.state.updateId,I=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(G({dataStartIndex:I,dataEndIndex:O},m({props:w.props,dataStartIndex:I,dataEndIndex:O,updateId:P},w.state)));else if(_.activeTooltipIndex!==void 0){var N=_.chartX,R=_.chartY,L=_.activeTooltipIndex,U=w.state,V=U.offset,j=U.tooltipTicks;if(!V)return;if(typeof T=="function")L=T(j,_);else if(T==="value"){L=-1;for(var F=0;F<j.length;F++)if(j[F].value===_.activeLabel){L=F;break}}var z=G(G({},V),{},{x:V.left,y:V.top}),le=Math.min(N,z.x+z.width),re=Math.min(R,z.y+z.height),be=j[L]&&j[L].value,at=NJ(w.state,w.props.data,L),nt=j[L]?{x:C==="horizontal"?j[L].coordinate:le,y:C==="horizontal"?re:j[L].coordinate}:TJ;w.setState(G(G({},_),{},{activeLabel:be,activeCoordinate:nt,activePayload:at,activeTooltipIndex:L}))}else w.setState(_)}),ye(Ie(w),"verticalCoordinatesGenerator",function(_,A){var C=_.xAxis,T=_.width,P=_.height,I=_.offset;return CU(iN(G(G(G({},tm.defaultProps),C),{},{ticks:Qs(C,!0),viewBox:{x:0,y:0,width:T,height:P}})),I.left,I.left+I.width,A)}),ye(Ie(w),"horizontalCoordinatesGenerator",function(_,A){var C=_.yAxis,T=_.width,P=_.height,I=_.offset;return CU(iN(G(G(G({},tm.defaultProps),C),{},{ticks:Qs(C,!0),viewBox:{x:0,y:0,width:T,height:P}})),I.top,I.top+I.height,A)}),ye(Ie(w),"axesTicksGenerator",function(_){return Qs(_,!0)}),ye(Ie(w),"renderCursor",function(_){var A,C=w.state,T=C.isTooltipActive,P=C.activeCoordinate,I=C.activePayload,O=C.offset,N=C.activeTooltipIndex,R=C.tooltipAxisBandSize,L=w.getTooltipEventType(),U=(A=_.props.active)!==null&&A!==void 0?A:T,V=w.props.layout,j=_.key||"_recharts-cursor";return k.createElement(eHe,{key:j,activeCoordinate:P,activePayload:I,activeTooltipIndex:N,chartName:n,element:_,isActive:U,layout:V,offset:O,tooltipAxisBandSize:R,tooltipEventType:L})}),ye(Ie(w),"renderPolarAxis",function(_,A,C){var T=$i(_,"type.axisType"),P=$i(w.state,"".concat(T,"Map")),I=P&&P[_.props["".concat(T,"Id")]];return E.cloneElement(_,G(G({},I),{},{className:T,key:_.key||"".concat(A,"-").concat(C),ticks:Qs(I,!0)}))}),ye(Ie(w),"renderXAxis",function(_,A,C){var T=w.state.xAxisMap,P=T[_.props.xAxisId];return w.renderAxis(P,_,A,C)}),ye(Ie(w),"renderYAxis",function(_,A,C){var T=w.state.yAxisMap,P=T[_.props.yAxisId];return w.renderAxis(P,_,A,C)}),ye(Ie(w),"renderGrid",function(_){var A=w.state,C=A.xAxisMap,T=A.yAxisMap,P=A.offset,I=w.props,O=I.width,N=I.height,R=Ks(C),L=Mqe(T,function(j){return pJ(j.domain,Number.isFinite)}),U=L||Ks(T),V=_.props||{};return E.cloneElement(_,{key:_.key||"grid",x:ne(V.x)?V.x:P.left,y:ne(V.y)?V.y:P.top,width:ne(V.width)?V.width:P.width,height:ne(V.height)?V.height:P.height,xAxis:R,yAxis:U,offset:P,chartWidth:O,chartHeight:N,verticalCoordinatesGenerator:V.verticalCoordinatesGenerator||w.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:V.horizontalCoordinatesGenerator||w.horizontalCoordinatesGenerator})}),ye(Ie(w),"renderPolarGrid",function(_){var A=_.props,C=A.radialLines,T=A.polarAngles,P=A.polarRadius,I=w.state,O=I.radiusAxisMap,N=I.angleAxisMap,R=Ks(O),L=Ks(N),U=L.cx,V=L.cy,j=L.innerRadius,F=L.outerRadius;return E.cloneElement(_,{polarAngles:Array.isArray(T)?T:Qs(L,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(P)?P:Qs(R,!0).map(function(z){return z.coordinate}),cx:U,cy:V,innerRadius:j,outerRadius:F,key:_.key||"polar-grid",radialLines:C})}),ye(Ie(w),"renderLegend",function(){var _=w.state.formattedGraphicalItems,A=w.props,C=A.children,T=A.width,P=A.height,I=w.props.margin||{},O=T-(I.left||0)-(I.right||0),N=tJ({children:C,formattedGraphicalItems:_,legendWidth:O,legendContent:f});if(!N)return null;var R=N.item,L=RV(N,tHe);return E.cloneElement(R,G(G({},L),{},{chartWidth:T,chartHeight:P,margin:I,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),ye(Ie(w),"renderTooltip",function(){var _,A=w.props.children,C=No(A,Gu);if(!C)return null;var T=w.state,P=T.isTooltipActive,I=T.activeCoordinate,O=T.activePayload,N=T.activeLabel,R=T.offset,L=(_=C.props.active)!==null&&_!==void 0?_:P;return E.cloneElement(C,{viewBox:G(G({},R),{},{x:R.left,y:R.top}),active:L,label:N,payload:L?O:[],coordinate:I})}),ye(Ie(w),"renderBrush",function(_){var A=w.props,C=A.margin,T=A.data,P=w.state,I=P.offset,O=P.dataStartIndex,N=P.dataEndIndex,R=P.updateId;return E.cloneElement(_,{key:_.key||"_recharts-brush",onChange:p0(w.handleBrushChange,_.props.onChange),data:T,x:ne(_.props.x)?_.props.x:I.left,y:ne(_.props.y)?_.props.y:I.top+I.height+I.brushBottom-(C.bottom||0),width:ne(_.props.width)?_.props.width:I.width,startIndex:O,endIndex:N,updateId:"brush-".concat(R)})}),ye(Ie(w),"renderReferenceElement",function(_,A,C){if(!_)return null;var T=Ie(w),P=T.clipPathId,I=w.state,O=I.xAxisMap,N=I.yAxisMap,R=I.offset,L=_.props,U=L.xAxisId,V=L.yAxisId;return E.cloneElement(_,{key:_.key||"".concat(A,"-").concat(C),xAxis:O[U],yAxis:N[V],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:P})}),ye(Ie(w),"renderActivePoints",function(_){var A=_.item,C=_.activePoint,T=_.basePoint,P=_.childIndex,I=_.isRange,O=[],N=A.props.key,R=A.item.props,L=R.activeDot,U=R.dataKey,V=G(G({index:P,dataKey:U,cx:C.x,cy:C.y,r:4,fill:c2(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value,key:"".concat(N,"-activePoint-").concat(P)},qe(L)),m_(L));return O.push(b.renderActiveDot(L,V)),T?O.push(b.renderActiveDot(L,G(G({},V),{},{cx:T.x,cy:T.y,key:"".concat(N,"-basePoint-").concat(P)}))):I&&O.push(null),O}),ye(Ie(w),"renderGraphicChild",function(_,A,C){var T=w.filterFormatItem(_,A,C);if(!T)return null;var P=w.getTooltipEventType(),I=w.state,O=I.isTooltipActive,N=I.tooltipAxis,R=I.activeTooltipIndex,L=I.activeLabel,U=w.props.children,V=No(U,Gu),j=T.props,F=j.points,z=j.isRange,le=j.baseLine,re=T.item.props,be=re.activeDot,at=re.hide,nt=re.activeBar,zt=re.activeShape,pt=!!(!at&&O&&V&&(be||nt||zt)),Zt={};P!=="axis"&&V&&V.props.trigger==="click"?Zt={onClick:p0(w.handleItemMouseEnter,_.props.onClick)}:P!=="axis"&&(Zt={onMouseLeave:p0(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:p0(w.handleItemMouseEnter,_.props.onMouseEnter)});var te=E.cloneElement(_,G(G({},T.props),Zt));function xe(Z){return typeof N.dataKey=="function"?N.dataKey(Z.payload):null}if(pt)if(R>=0){var Ee,q;if(N.dataKey&&!N.allowDuplicatedCategory){var Ze=typeof N.dataKey=="function"?xe:"payload.".concat(N.dataKey.toString());Ee=p_(F,Ze,L),q=z&&le&&p_(le,Ze,L)}else Ee=F==null?void 0:F[R],q=z&&le&&le[R];if(zt||nt){var ke=_.props.activeIndex!==void 0?_.props.activeIndex:R;return[E.cloneElement(_,G(G(G({},T.props),Zt),{},{activeIndex:ke})),null,null]}if(!Xe(Ee))return[te].concat(Md(w.renderActivePoints({item:T,activePoint:Ee,basePoint:q,childIndex:R,isRange:z})))}else{var vt,Dt=(vt=w.getItemByXY(w.state.activeCoordinate))!==null&&vt!==void 0?vt:{graphicalItem:te},en=Dt.graphicalItem,Gn=en.item,$=Gn===void 0?_:Gn,B=en.childIndex,W=G(G(G({},T.props),Zt),{},{activeIndex:B});return[E.cloneElement($,W),null,null]}return z?[te,null,null]:[te,null]}),ye(Ie(w),"renderCustomized",function(_,A,C){return E.cloneElement(_,G(G({key:"recharts-customized-".concat(C)},w.props),w.state))}),ye(Ie(w),"renderMap",{CartesianGrid:{handler:w.renderGrid,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:w.renderReferenceElement},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:w.renderXAxis},YAxis:{handler:w.renderYAxis},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=g.id)!==null&&x!==void 0?x:Yg("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=rX(w.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return lHe(b,[{key:"componentDidMount",value:function(){var x,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout})}},{key:"getSnapshotBeforeUpdate",value:function(x,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=No(this.props.children,Gu);if(x&&typeof x.props.shared=="boolean"){var S=x.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),_=L4e(w),A={chartX:Math.round(x.pageX-_.left),chartY:Math.round(x.pageY-_.top)},C=w.width/S.offsetWidth||1,T=this.inRange(A.chartX,A.chartY,C);if(!T)return null;var P=this.state,I=P.xAxisMap,O=P.yAxisMap,N=this.getTooltipEventType();if(N!=="axis"&&I&&O){var R=Ks(I).scale,L=Ks(O).scale,U=R&&R.invert?R.invert(A.chartX):null,V=L&&L.invert?L.invert(A.chartY):null;return G(G({},A),{},{xValue:U,yValue:V})}var j=MV(this.state,this.props.data,this.props.layout,T);return j?G(G({},A),j):null}},{key:"inRange",value:function(x,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,A=x/w,C=S/w;if(_==="horizontal"||_==="vertical"){var T=this.state.offset,P=A>=T.left&&A<=T.left+T.width&&C>=T.top&&C<=T.top+T.height;return P?{x:A,y:C}:null}var I=this.state,O=I.angleAxisMap,N=I.radiusAxisMap;if(O&&N){var R=Ks(O);return $U({x:A,y:C},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,S=this.getTooltipEventType(),w=No(x,Gu),_={};w&&S==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var A=m_(this.props,this.handleOuterEvent);return G(G({},A),_)}},{key:"addListener",value:function(){dC.on(hC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dC.removeListener(hC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,S,w){for(var _=this.state.formattedGraphicalItems,A=0,C=_.length;A<C;A++){var T=_[A];if(T.item===x||T.props.key===x.key||S===_s(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderAxis",value:function(x,S,w,_){var A=this.props,C=A.width,T=A.height;return k.createElement(tm,Ku({},x,{className:ct("recharts-".concat(x.axisType," ").concat(x.axisType),x.className),key:S.key||"".concat(w,"-").concat(_),viewBox:{x:0,y:0,width:C,height:T},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var x=this.clipPathId,S=this.state.offset,w=S.left,_=S.top,A=S.height,C=S.width;return k.createElement("defs",null,k.createElement("clipPath",{id:x},k.createElement("rect",{x:w,y:_,height:A,width:C})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(S,w){var _=jV(w,2),A=_[0],C=_[1];return G(G({},S),{},ye({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(S,w){var _=jV(w,2),A=_[0],C=_[1];return G(G({},S),{},ye({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(x){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[x])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(x){var S=this.state,w=S.formattedGraphicalItems,_=S.activeItem;if(w&&w.length)for(var A=0,C=w.length;A<C;A++){var T=w[A],P=T.props,I=T.item,O=_s(I.type);if(O==="Bar"){var N=(P.data||[]).find(function(V){return O8e(x,V)});if(N)return{graphicalItem:T,payload:N}}else if(O==="RadialBar"){var R=(P.data||[]).find(function(V){return $U(x,V)});if(R)return{graphicalItem:T,payload:R}}else if(TS(T,_)||IS(T,_)||Oy(T,_)){var L=$9e({graphicalItem:T,activeTooltipItem:_,itemData:I.props.data}),U=I.props.activeIndex===void 0?L:I.props.activeIndex;return{graphicalItem:G(G({},T),{},{childIndex:U}),payload:Oy(T,_)?I.props.data[L]:T.props.data[L]}}}return null}},{key:"render",value:function(){var x=this;if(!iB(this))return null;var S=this.props,w=S.children,_=S.className,A=S.width,C=S.height,T=S.style,P=S.compact,I=S.title,O=S.desc,N=RV(S,rHe),R=qe(N);if(P)return k.createElement(tI,Ku({},R,{width:A,height:C,title:I,desc:O}),this.renderClipPath(),sB(w,this.renderMap));if(this.props.accessibilityLayer){var L,U;R.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,R.role=(U=this.props.role)!==null&&U!==void 0?U:"img",R.onKeyDown=function(j){x.accessibilityManager.keyboardEvent(j)},R.onFocus=function(){x.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return k.createElement("div",Ku({className:ct("recharts-wrapper",_),style:G({position:"relative",cursor:"default",width:A,height:C},T)},V,{ref:function(F){x.container=F},role:"region"}),k.createElement(tI,Ku({},R,{width:A,height:C,title:I,desc:O,style:vHe}),this.renderClipPath(),sB(w,this.renderMap)),this.renderLegend(),this.renderTooltip())}}]),b}(E.Component),ye(r,"displayName",n),ye(r,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ye(r,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,g=y.data,x=y.children,S=y.width,w=y.height,_=y.layout,A=y.stackOffset,C=y.margin,T=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var I=FV(y);return G(G(G({},I),{},{updateId:0},m(G(G({props:y},I),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:g,prevWidth:S,prevHeight:w,prevLayout:_,prevStackOffset:A,prevMargin:C,prevChildren:x})}if(b!==v.prevDataKey||g!==v.prevData||S!==v.prevWidth||w!==v.prevHeight||_!==v.prevLayout||A!==v.prevStackOffset||!vf(C,v.prevMargin)){var O=FV(y),N={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=G(G({},MV(v,g,_)),{},{updateId:v.updateId+1}),L=G(G(G({},O),N),R);return G(G(G({},L),m(G({props:y},L),v)),{},{prevDataKey:b,prevData:g,prevWidth:S,prevHeight:w,prevLayout:_,prevStackOffset:A,prevMargin:C,prevChildren:x})}if(!qQ(x,v.prevChildren)){var U,V,j,F,z=No(x,kd),le=z&&(U=(V=z.props)===null||V===void 0?void 0:V.startIndex)!==null&&U!==void 0?U:T,re=z&&(j=(F=z.props)===null||F===void 0?void 0:F.endIndex)!==null&&j!==void 0?j:P,be=le!==T||re!==P,at=!Xe(g),nt=at&&!be?v.updateId:v.updateId+1;return G(G({updateId:nt},m(G(G({props:y},v),{},{updateId:nt,dataStartIndex:le,dataEndIndex:re}),v)),{},{prevChildren:x,dataStartIndex:le,dataEndIndex:re})}return null}),ye(r,"renderActiveDot",function(y,v){var b;return E.isValidElement(y)?b=E.cloneElement(y,v):Me(y)?b=y(v):b=k.createElement(f2,v),k.createElement(Jt,{className:"recharts-active-dot",key:v.key},b)}),r},kJ=PHe({chartName:"LineChart",GraphicalChild:$n,axisComponents:[{axisType:"xAxis",AxisComp:ov},{axisType:"yAxis",AxisComp:sv}],formatAxisMap:oGe});function OJ({teams:t}){const e=E.useMemo(()=>{const r=t[0].matchCount,n=Array(r+1).fill(void 0).map((i,o)=>({name:o%2===1?`W${Math.ceil(o/2)}`:""}));for(const i of t){n[0][i.team._id]=0;for(let o=0;o<r;o++)n[o+1][i.team._id]=i.pointHistories[o]}return n},[t]);return u.jsx(nX,{width:"100%",height:"100%",children:u.jsxs(kJ,{data:e,children:[u.jsx(OS,{strokeDasharray:"3 3"}),u.jsx(ov,{tick:{fill:"white"},dataKey:"name"}),u.jsx(sv,{tick:{fill:"white"},width:80,allowDecimals:!1,tickCount:5}),t.map(r=>u.jsx($n,{type:"linear",stroke:"#FFF",strokeWidth:10,isAnimationActive:!1,dataKey:r.team._id},r.team._id)),t.map(r=>u.jsx($n,{type:"linear",stroke:r.team.color,strokeWidth:8,isAnimationActive:!1,name:r.team.name,dataKey:r.team._id},r.team._id))]})})}const jJ=(t,e)=>t.reduce((r,n)=>{const i=typeof e=="function"?e(n):n[e];return r[i]?r[i]=[...r[i],n]:r[i]=[n],r},{}),fu="b6908027-9179-485a-8bce-822c42114371",Xh=(t,e,r,n,i,o)=>t.map(s=>({player:io(e[s.teamId],{...s,team:e[s.teamId]}),value:r(s.player.statistics),tieBreakValue:n(s.player.statistics)})).sort((s,a)=>s.value===a.value?(s.tieBreakValue-a.tieBreakValue)*(o==="asc"?1:-1):(s.value-a.value)*(i==="asc"?1:-1)).slice(0,6),THe=({value:t})=>typeof t>"u"?u.jsx(u.Fragment,{}):t>0?u.jsxs("span",{className:"text-red-500",children:[u.jsx("i",{className:"bi bi-caret-down-fill"})," ",u.jsx("span",{className:"-m-2",children:t})]}):t<0?u.jsxs("span",{className:"text-green-400",children:[u.jsx("i",{className:"bi bi-caret-up-fill"})," ",u.jsx("span",{className:"-m-2",children:Math.abs(t)})]}):u.jsxs("span",{children:[u.jsx("i",{className:"bi bi-dash"})," ",u.jsx("span",{className:"-m-2",children:"0"})]}),IHe=({slide:t,status:e,subslide:r})=>t.type==="teams"?u.jsxs("div",{className:"absolute inset-0 flex flex-col twr-team-ranking","data-active":e===0,style:{opacity:e>=0&&e<1?1:0},children:[u.jsxs("div",{className:"flex-1 flex items-center text-[0.75em] gap-6 twr-team-ranking-row",children:[u.jsx("p",{className:"flex-1 text-center",children:"排名"}),u.jsx("p",{className:"flex-[5]",children:"隊伍"}),u.jsx("p",{className:"flex-1 text-center",children:"積分"}),u.jsx("p",{className:"flex-1 text-center",children:"與前名差距"}),u.jsx("p",{className:"flex-1 text-center",children:"半莊數"})]}),t.teams.map((n,i)=>u.jsxs("div",{className:"relative flex-1 flex items-center gap-6 overflow-hidden twr-team-ranking-row",style:{background:`linear-gradient(to right, ${n.team.color}C0, transparent 105%)`,animationDelay:`${i*.05}s`},children:[u.jsx("img",{src:n.team.squareLogoImage+"?w=320&h=320",alt:n.team._id,className:"absolute left-48 opacity-10 -z-10"}),u.jsxs("p",{className:"flex-1 text-center space-x-2",children:[u.jsx("span",{children:Ka(n.ranking)}),u.jsx(THe,{value:(n.rankingHistories.at(-1)??0)-(n.rankingHistories.at(-3)??0)})]}),u.jsxs("p",{className:"flex-[5]",children:[n.team.name," ",n.team.secondaryName]}),u.jsx("p",{className:"flex-1 text-center",children:En(n.point)}),u.jsx("p",{className:"flex-1 text-center",children:i>0?(t.teams[i-1].point-n.point).toFixed(1):"-"}),u.jsxs("p",{className:"flex-1 text-center",children:[n.matchCount,u.jsx("span",{className:"text-[0.75em]",children:"/60"})]})]},n._id))]}):t.type==="chart"?u.jsxs("div",{className:"absolute inset-0 flex twr-chart gap-[1em] items-stretch","data-active":e===0,style:{opacity:e>=0&&e<1?1:0},children:[u.jsx("div",{className:"flex-[3] twr-chart-chart",children:u.jsx(OJ,{teams:t.teams})}),u.jsx("div",{className:"flex-1 flex flex-col twr-team-ranking","data-active":e===0,children:t.teams.map((n,i)=>u.jsxs("div",{className:"relative flex-1 flex items-center justify-between overflow-hidden twr-team-ranking-row px-2",style:{background:`linear-gradient(to right, ${n.team.color}C0, transparent 105%)`,animationDelay:`${i*.05}s`},children:[u.jsx("img",{src:n.team.squareLogoImage+"?w=320&h=320",alt:n.team._id,className:"absolute left-0 opacity-5 -z-10"}),u.jsx("div",{children:u.jsx("p",{children:n.team.name})}),u.jsx("div",{children:En(n.point)})]},n._id))})]}):t.type==="players"?u.jsxs("div",{className:"absolute inset-0 flex twr-player-ranking gap-[1em] items-stretch twr-player-ranking","data-active":e===0,style:{opacity:e>=0&&e<1?1:0},children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-y-[.5em]",children:[u.jsx("h4",{className:"text-[2em] font-semibold text-center leading-[1em] twr-player-ranking-row",children:"MVP"}),u.jsx("p",{className:"text-center twr-player-ranking-row",children:"積分最高選手"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.highestPointPlayers.map(({player:n,value:i,tieBreakValue:o},s)=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center twr-player-ranking-row",style:{background:`linear-gradient(to right, ${n.color}C0, transparent 105%)`,animationDelay:`${s*.05}s`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-25 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em]",children:[u.jsx("div",{className:"w-[2.2em]",children:Ka(s+1)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-[1.5em] leading-[1em]",children:n.playerNickname}),u.jsx("p",{className:"text-[.75em] leading-[1em]",children:n.playerName})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[1.5em] leading-[1em] font-numeric",children:i.toFixed(1)}),u.jsxs("p",{className:"text-[.75em] leading-[1em] opacity-80",children:["(半莊數: ",o,")"]})]})]})]},n.playerId))})]}),u.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-[1em] twr-player-ranking-row",children:[u.jsxs("div",{className:"space-y-[.5em]",children:[u.jsx("p",{className:"text-center",children:"和了率"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.highestRonPPlayers.map(({player:n,value:i})=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${n.color}20`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"leading-[1.2em]",children:n.playerNickname})}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"leading-[1.2em]",children:i.toFixed(2)})})]})]},n.playerId))})]}),u.jsxs("div",{className:"space-y-[.5em]",children:[u.jsx("p",{className:"text-center",children:"平均打點"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.highestRonPurePointPlayers.map(({player:n,value:i})=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${n.color}20`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"leading-[1.2em]",children:n.playerNickname})}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"leading-[1.2em]",children:i.toFixed(2)})})]})]},n.playerId))})]}),u.jsxs("div",{className:"space-y-[.5em]",children:[u.jsx("p",{className:"text-center",children:"銃和率"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.lowestChuckPPlayers.map(({player:n,value:i})=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${n.color}20`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"leading-[1.2em]",children:n.playerNickname})}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"leading-[1.2em]",children:i.toFixed(2)})})]})]},n.playerId))})]}),u.jsxs("div",{className:"space-y-[.5em]",children:[u.jsx("p",{className:"text-center",children:"最高得點"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.highestScoreMax.map(({player:n,value:i})=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${n.color}20`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"leading-[1.2em]",children:n.playerNickname})}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"leading-[1.2em]",children:i.toFixed(0)})})]})]},n.playerId))})]})]})]}):t.type==="heatmap"?u.jsx("div",{className:"absolute inset-0 flex gap-[1em] items-stretch twr-heatmap","data-active":e===0,style:{opacity:e>=0&&e<1?1:0},children:u.jsxs("div",{className:"flex-1 flex flex-col gap-y-[.5em]",children:[u.jsx("h4",{className:"text-[2em] font-semibold text-center leading-[1em] twr-heatmap-title",children:"點數熱力圖"}),u.jsxs("p",{className:"text-center mb-8 twr-heatmap-title",children:[u.jsx("span",{className:"bg-green-500 px-1",children:"綠色"}),"代表高分、",u.jsx("span",{className:"bg-red-500 px-1",children:"紅色"}),"代表低分"]}),u.jsxs("div",{className:"grid grid-cols-12 flex-1 text-center text-[.8em]",children:[t.teams.map((n,i)=>u.jsxs("div",{className:"h-20 twr-heatmap-cell",style:{animationDelay:i*.05+"s"},children:[u.jsx("div",{style:{background:`${n.team.color}80`},children:u.jsx("img",{src:n.team.squareLogoImage+"?w=128&h=128",alt:n.team.name,className:"h-24 w-24 my-2 inline-block"})}),u.jsx("p",{className:"py-2",style:{background:n.point>0?`rgba(23, 235, 0, ${n.point/t.highestTeamPoint})`:`rgba(235, 0, 0, ${n.point/t.lowestTeamPoint})`},children:En(n.point)})]},n.team._id)),[0,1,2,3].map(n=>t.teams.map((i,o)=>{var s,a;return u.jsx("div",{className:"flex items-center justify-center twr-heatmap-cell",style:{background:typeof((s=t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics)==null?void 0:s.point)<"u"?t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics.point>0?`rgba(23, 235, 0, ${t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics.point/t.highestPlayerPoint})`:`rgba(235, 0, 0, ${t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics.point/t.lowestPlayerPoint})`:"tranparent",animationDelay:(o+n+1)*.05+"s"},children:En((a=t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics)==null?void 0:a.point)},i.team._id)}))]})]})}):u.jsx(u.Fragment,{}),RJ=({params:{week:t}})=>{const[e,r]=E.useMemo(()=>["16/1","18/1"],[]),{data:n}=Ko({queryKey:["tournament",fu],queryFn:()=>Jw(fu).then(m=>({...m,teams:m.teams.sort((y,v)=>v.point-y.point)})),enabled:!!fu}),{data:i}=Ko({queryKey:["tournament",fu,"players"],queryFn:()=>OG(fu),enabled:!!fu}),o=E.useMemo(()=>n?n.teams.reduce((m,{team:y})=>(m[y._id]=y,m),{}):{},[n]),[s,a]=E.useState(0),[l,c]=E.useState(0),[f,d]=E.useState(!1),h=E.useMemo(()=>{var v,b;if(!n||!i)return[{type:"empty",_id:"empty",subslide:0}];const m=i.filter(g=>g.player.statistics.matchCount>0),y=i.sort((g,x)=>{var S,w;return(((S=x.player.statistics)==null?void 0:S.point)??0)-(((w=g.player.statistics)==null?void 0:w.point)??0)});return[{type:"empty",_id:"empty",subslide:0},{type:"teams",_id:"teams",teams:n.teams,subslide:1},{type:"chart",_id:"chart",teams:n.teams,subslide:1},{type:"players",_id:"players",highestPointPlayers:Xh(m,o,g=>g.point,g=>g.matchCount,"desc","asc"),highestRonPPlayers:Xh(m,o,g=>g.ronCount/g.roundCount,g=>g.roundCount,"desc","desc"),highestRonPurePointPlayers:Xh(m,o,g=>g.ronPureScoreAvg,g=>g.roundCount,"desc","desc"),lowestChuckPPlayers:Xh(m,o,g=>g.chuckCount/g.roundCount,g=>g.roundCount,"asc","desc"),highestScoreMax:Xh(m,o,g=>g.scoreMax,g=>g.roundCount,"desc","desc"),subslide:1},{type:"heatmap",_id:"heatmap",teams:n.teams,teamPlayersGroupedByTeamIds:jJ(y,g=>g.teamId),highestTeamPoint:n.teams[0].point,lowestTeamPoint:n.teams.at(-1).point,highestPlayerPoint:((v=y[0].player.statistics)==null?void 0:v.point)??0,lowestPlayerPoint:((b=y.at(-1).player.statistics)==null?void 0:b.point)??0,subslide:1}]},[i,o,n]),p=E.useCallback(()=>{if(f)return;const m=h[s];if(!m){a(1);return}m.type==="empty"?a(y=>y+1):l>=m.subslide-1?(a(y=>y+.5),d(!0),setTimeout(()=>{a(y=>Math.ceil(y)),c(0),d(!1)},1200)):(c(y=>y+.5),d(!0),setTimeout(()=>{c(y=>Math.ceil(y)),d(!1)},1200))},[f,s,h,l]);return n?u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},onClick:p,children:u.jsxs("div",{className:"absolute inset-0 tournament-weekly-report text-white text-[36px] flex py-[1em] px-[1em] gap-x-[1em]",children:[u.jsxs("div",{className:"twr-title flex flex-col justify-between items-center",children:[u.jsx("div",{children:u.jsx("img",{src:n.logoUrl+"?w=280&h=280&auto=format",alt:n.name,style:{width:"3.5em",height:"3.5em",marginTop:"0.15em"}})}),u.jsxs("p",{style:{fontSize:"3em",writingMode:"vertical-rl",textOrientation:"upright"},children:["第",u.jsx("span",{style:{writingMode:"initial",textOrientation:"initial"},children:t}),"週結算"]}),u.jsxs("p",{style:{fontSize:"1.2em",writingMode:"vertical-rl",textOrientation:"upright"},children:[u.jsx("span",{style:{writingMode:"initial",textOrientation:"initial"},children:e}),"~",u.jsx("span",{style:{writingMode:"initial",textOrientation:"initial"},children:r})]})]}),u.jsx("div",{className:"flex-1 relative",children:h.map((m,y)=>u.jsx(IHe,{slide:m,status:s-y,subslide:l},m._id))})]})}):u.jsx(u.Fragment,{})};Math.ceil((new Date().getTime()-17049888e5)/1e3/60/60/24/7).toString();const BV=()=>u.jsx(RJ,{params:{week:"2"}}),NHe=({m:t})=>{const[e,r]=E.useState(t*60),[n,i]=E.useMemo(()=>[Math.floor(e/60).toString().padStart(2,"0"),(e%60).toString().padStart(2,"0")],[e]);return E.useEffect(()=>{r(t*60)},[t]),QG(()=>{r(o=>o-1)},e>0?1e3:null),e<=0?u.jsx("span",{children:"--:--"}):u.jsxs("span",{children:[n,":",i]})},du="b6908027-9179-485a-8bce-822c42114371",Jh=(t,e,r,n,i,o)=>t.map(s=>({player:io(e[s.teamId],{...s,team:e[s.teamId]}),value:r(s.player.statistics),tieBreakValue:n(s.player.statistics)})).sort((s,a)=>s.value===a.value?(s.tieBreakValue-a.tieBreakValue)*(o==="asc"?1:-1):(s.value-a.value)*(i==="asc"?1:-1)).slice(0,6),kHe=({slide:t,status:e,subslide:r})=>t.type==="teams"?u.jsxs("div",{className:"absolute inset-0 flex flex-col twr-team-ranking","data-active":e===0,style:{opacity:e>=0&&e<1?1:0},children:[u.jsxs("div",{className:"flex-1 flex items-center text-[0.75em] gap-6 twr-team-ranking-row",children:[u.jsx("p",{className:"flex-1 text-center",children:"排名"}),u.jsx("p",{className:"flex-[5]",children:"隊伍"}),u.jsx("p",{className:"flex-1 text-center",children:"積分"}),u.jsx("p",{className:"flex-1 text-center",children:"與前名差距"}),u.jsx("p",{className:"flex-1 text-center",children:"半莊數"})]}),t.teams.map((n,i)=>u.jsxs("div",{className:"relative flex-1 flex items-center gap-6 overflow-hidden twr-team-ranking-row",style:{background:`linear-gradient(to right, ${n.team.color}C0, transparent 105%)`,animationDelay:`${i*.05}s`},children:[u.jsx("img",{src:n.team.squareLogoImage+"?w=320&h=320",alt:n.team._id,className:"absolute left-48 opacity-10 -z-10"}),u.jsx("p",{className:"flex-1 text-center space-x-2",children:u.jsx("span",{children:Ka(n.ranking)})}),u.jsxs("p",{className:"flex-[5]",children:[n.team.name," ",n.team.secondaryName]}),u.jsx("p",{className:"flex-1 text-center",children:En(n.point)}),u.jsx("p",{className:"flex-1 text-center",children:i>0?(t.teams[i-1].point-n.point).toFixed(1):"-"}),u.jsxs("p",{className:"flex-1 text-center",children:[n.matchCount,u.jsx("span",{className:"text-[0.75em]",children:"/60"})]})]},n._id))]}):t.type==="chart"?u.jsxs("div",{className:"absolute inset-0 flex twr-chart gap-[1em] items-stretch","data-active":e===0,style:{opacity:e>=0&&e<1?1:0},children:[u.jsx("div",{className:"flex-[3] twr-chart-chart",children:u.jsx(OJ,{teams:t.teams})}),u.jsx("div",{className:"flex-1 flex flex-col twr-team-ranking","data-active":e===0,children:t.teams.map((n,i)=>u.jsxs("div",{className:"relative flex-1 flex items-center justify-between overflow-hidden twr-team-ranking-row px-2",style:{background:`linear-gradient(to right, ${n.team.color}C0, transparent 105%)`,animationDelay:`${i*.05}s`},children:[u.jsx("img",{src:n.team.squareLogoImage+"?w=320&h=320",alt:n.team._id,className:"absolute left-0 opacity-5 -z-10"}),u.jsx("div",{children:u.jsx("p",{children:n.team.name})}),u.jsx("div",{children:En(n.point)})]},n._id))})]}):t.type==="players"?u.jsxs("div",{className:"absolute inset-0 flex twr-player-ranking gap-[1em] items-stretch twr-player-ranking","data-active":e===0,style:{opacity:e>=0&&e<1?1:0},children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-y-[.5em]",children:[u.jsx("h4",{className:"text-[2em] font-semibold text-center leading-[1em] twr-player-ranking-row",children:"MVP"}),u.jsx("p",{className:"text-center twr-player-ranking-row",children:"積分最高選手"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.highestPointPlayers.map(({player:n,value:i,tieBreakValue:o},s)=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center twr-player-ranking-row",style:{background:`linear-gradient(to right, ${n.color}C0, transparent 105%)`,animationDelay:`${s*.05}s`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-25 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em]",children:[u.jsx("div",{className:"w-[2.2em]",children:Ka(s+1)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-[1.5em] leading-[1em]",children:n.playerNickname}),u.jsx("p",{className:"text-[.75em] leading-[1em]",children:n.playerName})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[1.5em] leading-[1em] font-numeric",children:i.toFixed(1)}),u.jsxs("p",{className:"text-[.75em] leading-[1em] opacity-80",children:["(半莊數: ",o,")"]})]})]})]},n.playerId))})]}),u.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-[1em] twr-player-ranking-row",children:[u.jsxs("div",{className:"space-y-[.5em]",children:[u.jsx("p",{className:"text-center",children:"和了率"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.highestRonPPlayers.map(({player:n,value:i})=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${n.color}20`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"leading-[1.2em]",children:n.playerNickname})}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"leading-[1.2em]",children:i.toFixed(2)})})]})]},n.playerId))})]}),u.jsxs("div",{className:"space-y-[.5em]",children:[u.jsx("p",{className:"text-center",children:"平均打點"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.highestRonPurePointPlayers.map(({player:n,value:i})=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${n.color}20`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"leading-[1.2em]",children:n.playerNickname})}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"leading-[1.2em]",children:i.toFixed(2)})})]})]},n.playerId))})]}),u.jsxs("div",{className:"space-y-[.5em]",children:[u.jsx("p",{className:"text-center",children:"銃和率"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.lowestChuckPPlayers.map(({player:n,value:i})=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${n.color}20`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"leading-[1.2em]",children:n.playerNickname})}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"leading-[1.2em]",children:i.toFixed(2)})})]})]},n.playerId))})]}),u.jsxs("div",{className:"space-y-[.5em]",children:[u.jsx("p",{className:"text-center",children:"最高得點"}),u.jsx("div",{className:"flex-1 flex flex-col",children:t.highestScoreMax.map(({player:n,value:i})=>u.jsxs("div",{className:"relative overflow-hidden flex-1 flex flex-col items-stretch justify-center",style:{background:`${n.color}20`},children:[u.jsx("img",{src:n.teamLogoImageUrl+"?w=320&h=320",alt:n.teamName,className:"absolute left-[3em] opacity-5 -z-10"}),u.jsxs("div",{className:"flex items-center justify-between px-[.5em] gap-x-[.5em] py-[.25em]",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"leading-[1.2em]",children:n.playerNickname})}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"leading-[1.2em]",children:i.toFixed(0)})})]})]},n.playerId))})]})]})]}):t.type==="heatmap"?u.jsx("div",{className:"absolute inset-0 flex gap-[1em] items-stretch twr-heatmap","data-active":e===0,style:{opacity:e>=0&&e<1?1:0},children:u.jsxs("div",{className:"flex-1 flex flex-col gap-y-[.5em]",children:[u.jsx("h4",{className:"text-[2em] font-semibold text-center leading-[1em] twr-heatmap-title",children:"點數熱力圖"}),u.jsxs("p",{className:"text-center mb-8 twr-heatmap-title",children:[u.jsx("span",{className:"bg-green-500 px-1",children:"綠色"}),"代表高分、",u.jsx("span",{className:"bg-red-500 px-1",children:"紅色"}),"代表低分"]}),u.jsxs("div",{className:"grid grid-cols-12 flex-1 text-center text-[.8em]",children:[t.teams.map((n,i)=>u.jsxs("div",{className:"h-20 twr-heatmap-cell",style:{animationDelay:i*.05+"s"},children:[u.jsx("div",{style:{background:`${n.team.color}80`},children:u.jsx("img",{src:n.team.squareLogoImage+"?w=128&h=128",alt:n.team.name,className:"h-24 w-24 my-2 inline-block"})}),u.jsx("p",{className:"py-2",style:{background:n.point>0?`rgba(23, 235, 0, ${n.point/t.highestTeamPoint})`:`rgba(235, 0, 0, ${n.point/t.lowestTeamPoint})`},children:En(n.point)})]},n.team._id)),[0,1,2,3].map(n=>t.teams.map((i,o)=>{var s,a;return u.jsx("div",{className:"flex items-center justify-center twr-heatmap-cell",style:{background:typeof((s=t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics)==null?void 0:s.point)<"u"?t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics.point>0?`rgba(23, 235, 0, ${t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics.point/t.highestPlayerPoint})`:`rgba(235, 0, 0, ${t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics.point/t.lowestPlayerPoint})`:"tranparent",animationDelay:(o+n+1)*.05+"s"},children:En((a=t.teamPlayersGroupedByTeamIds[i.team._id][n].player.statistics)==null?void 0:a.point)},i.team._id)}))]})]})}):u.jsx(u.Fragment,{}),UV=()=>{const t=Mx("m"),e=Mx("auto"),{data:r}=Ko({queryKey:["tournament",du],queryFn:()=>Jw(du).then(p=>({...p,teams:p.teams.sort((m,y)=>y.point-m.point)})),enabled:!!du,staleTime:5*60*1e3}),{data:n}=Ko({queryKey:["tournament",du,"players"],queryFn:()=>OG(du),enabled:!!du,staleTime:5*60*1e3}),i=E.useMemo(()=>r?r.teams.reduce((p,{team:m})=>(p[m._id]=m,p),{}):{},[r]),[o,s]=E.useState(0),[a,l]=E.useState(0),[c,f]=E.useState(!1),d=E.useMemo(()=>{var v,b;if(!r||!n)return[{type:"empty",_id:"empty",subslide:0}];const p=n.filter(g=>g.player.statistics.matchCount>0),m=n.sort((g,x)=>{var S,w;return(((S=x.player.statistics)==null?void 0:S.point)??0)-(((w=g.player.statistics)==null?void 0:w.point)??0)}),y=[{type:"teams",_id:"teams",teams:r.teams,subslide:1},{type:"chart",_id:"chart",teams:r.teams,subslide:1},{type:"players",_id:"players",highestPointPlayers:Jh(p,i,g=>g.point,g=>g.matchCount,"desc","asc"),highestRonPPlayers:Jh(p,i,g=>g.ronCount/g.roundCount,g=>g.roundCount,"desc","desc"),highestRonPurePointPlayers:Jh(p,i,g=>g.ronPureScoreAvg,g=>g.roundCount,"desc","desc"),lowestChuckPPlayers:Jh(p,i,g=>g.chuckCount/g.roundCount,g=>g.roundCount,"asc","desc"),highestScoreMax:Jh(p,i,g=>g.scoreMax,g=>g.roundCount,"desc","desc"),subslide:1},{type:"heatmap",_id:"heatmap",teams:r.teams,teamPlayersGroupedByTeamIds:jJ(m,g=>g.teamId),highestTeamPoint:r.teams[0].point,lowestTeamPoint:r.teams.at(-1).point,highestPlayerPoint:((v=m[0].player.statistics)==null?void 0:v.point)??0,lowestPlayerPoint:((b=m.at(-1).player.statistics)==null?void 0:b.point)??0,subslide:1}];return e||y.unshift({type:"empty",_id:"empty",subslide:0}),y},[e,n,i,r]),h=E.useCallback(()=>{if(c)return;const p=d[o];if(!p){s(1);return}p.type==="empty"?s(m=>m+1):a>=p.subslide-1?(s(m=>m+.5),f(!0),setTimeout(()=>{s(m=>Math.ceil(m)%d.length),l(0),f(!1)},1200)):(l(m=>m+.5),f(!0),setTimeout(()=>{l(m=>Math.ceil(m)%d.length),f(!1)},1200))},[c,o,d,a]);return E.useEffect(()=>{if(e){const p=setInterval(()=>{h()},8e3);return()=>clearInterval(p)}},[e,h]),r?u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},onClick:h,children:u.jsxs("div",{className:"absolute inset-0 tournament-weekly-report text-white text-[36px] flex py-[1em] px-[1em] gap-x-[1em]",children:[u.jsxs("div",{className:"twr-title flex flex-col justify-start gap-[1em] items-center relative",children:[u.jsx("div",{children:u.jsx("img",{src:r.logoUrl+"?w=280&h=280&auto=format",alt:r.name,style:{width:"3.5em",height:"3.5em",marginTop:"0.15em"}})}),u.jsx("div",{className:"flex-1 flex flex-col justify-center pb-[3.5em]",children:u.jsx("p",{style:{fontSize:"3em",writingMode:"vertical-rl",textOrientation:"upright"},children:"現時數據"})}),t&&u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-cyan-500 text-center font-numeric text-[1.5em] pt-[.125em]",children:[u.jsx("p",{className:"text-[.56em]",children:"下一場賽事"}),u.jsx("p",{children:u.jsx(NHe,{m:parseInt(t)})})]})]}),u.jsx("div",{className:"flex-1 relative",children:d.map((p,m)=>u.jsx(kHe,{slide:p,status:o-m,subslide:a},p._id))})]})}):u.jsx(u.Fragment,{})};function OHe({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?u.jsx(u.Fragment,{children:"讀取中…"}):u.jsx(RQ,{params:r})}function jHe({players:t,rounds:e}){return u.jsx(nX,{width:"100%",height:"100%",children:u.jsxs(kJ,{data:e,children:[u.jsx(OS,{strokeDasharray:"3 3"}),u.jsx(ov,{tick:{fill:"white"},dataKey:"name"}),u.jsx(sv,{tick:{fill:"white"},width:120,allowDecimals:!1,tickCount:5}),u.jsx($n,{type:"linear",stroke:"#FFF",strokeWidth:10,isAnimationActive:!1,dataKey:"playerEast"}),u.jsx($n,{type:"linear",stroke:t.playerEast.color,strokeWidth:8,isAnimationActive:!1,name:t.playerEast.name,dataKey:"playerEast"}),u.jsx($n,{type:"linear",stroke:"#FFF",strokeWidth:10,isAnimationActive:!1,dataKey:"playerSouth"}),u.jsx($n,{type:"linear",stroke:t.playerSouth.color,strokeWidth:8,isAnimationActive:!1,name:t.playerSouth.name,dataKey:"playerSouth"}),u.jsx($n,{type:"linear",stroke:"#FFF",strokeWidth:10,isAnimationActive:!1,dataKey:"playerWest"}),u.jsx($n,{type:"linear",stroke:t.playerWest.color,strokeWidth:8,isAnimationActive:!1,name:t.playerWest.name,dataKey:"playerWest"}),u.jsx($n,{type:"linear",stroke:"#FFF",strokeWidth:10,isAnimationActive:!1,dataKey:"playerNorth"}),u.jsx($n,{type:"linear",stroke:t.playerNorth.color,strokeWidth:8,isAnimationActive:!1,name:t.playerNorth.name,dataKey:"playerNorth"})]})})}const RHe=({slide:t,status:e,subslide:r})=>t.type==="teams"?u.jsxs("div",{className:"absolute px-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[u.jsx("div",{className:"flex-1"}),u.jsx("div",{className:"flex-[2] grid grid-cols-4 items-center",children:["playerEast","playerSouth","playerWest","playerNorth"].map((n,i)=>u.jsxs("div",{className:Cr("relative h-full overflow-hidden",{"mi-teams-in":e===0,"mi-teams-out":e>0}),style:{animationDelay:e===0?i*.25+"s":"0s",filter:t.teams[n].ranking!=="1"?"grayscale(1)":"grayscale(0)"},children:[u.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`linear-gradient(to bottom, transparent, ${t.teams[n].color})`,opacity:.5}}),u.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`url(${t.teams[n].teamLogoImageUrl+"?w=800&h=800&auto=format"})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:.05}}),u.jsxs("div",{className:Cr("absolute inset-0",{"mi-teams-team-out":e>=0&&r>0}),children:[u.jsx("img",{src:t.teams[n].teamLogoImageUrl+"?w=800&h=800&auto=format",className:"aspect-square w-full",alt:""}),u.jsx("h3",{className:"text-[1.5em] font-semibold text-center",children:t.teams[n].teamName}),u.jsx("h3",{className:"text-[1em] h-[2em] font-semibold text-center",children:t.teams[n].teamSecondaryName}),u.jsxs("h3",{className:"text-[1.5em] font-semibold text-center flex justify-between px-[.5em]",children:[u.jsx("span",{children:Ka(t.teams[n].ranking)}),u.jsx("span",{children:En(t.teams[n].point)})]})]})]},n))})]}):t.type==="players"?u.jsxs("div",{className:"absolute px-24 pb-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:"flex-[3] flex flex-col items-stretch",children:[u.jsxs("div",{className:Cr("flex gap-x-[1em] pl-[1em] mb-[.5em] items-end",{"mi-teams-in":e===0,"mi-teams-out":e>0}),children:[u.jsxs("div",{className:"flex-[5] space-x-[1.5em] text-[1.1em]",children:[u.jsxs("span",{children:[u.jsx("span",{className:"text-[1.5em]",children:t.roundCount})," 總局數"]}),u.jsxs("span",{className:"opacity-80",children:["（"," ",u.jsx("span",{className:"text-[1.5em]",children:t.exhaustedRoundCount})," ","流局數 ）"]})]}),u.jsx("div",{className:"flex-1 text-right text-[.9em] font-semibold",children:"分數"}),u.jsx("div",{className:"flex-1 text-right text-[.9em] font-semibold",children:"立直次數"}),u.jsx("div",{className:"flex-1 text-right text-[.9em] font-semibold",children:"和了次數"}),u.jsx("div",{className:"flex-1 text-right text-[.9em] font-semibold",children:"放銃次數"})]}),t.teamPlayers.map((n,i)=>u.jsxs("div",{className:Cr("relative overflow-hidden flex-1",{"mi-teams-in":e===0,"mi-teams-out":e>0}),style:{animationDelay:e===0?i*.25+"s":"0s"},children:[u.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`linear-gradient(to left, transparent, ${n.color})`,opacity:.5}},n.teamName),u.jsx("div",{className:"absolute inset-0 -z-10",style:{background:`url(${n.teamLogoImageUrl+"?w=800&h=800&auto=format"})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",opacity:.05}}),u.jsxs("div",{className:Cr("absolute inset-0 flex gap-x-[1em] items-center pl-[1em]",{"mi-teams-team-out":e>=0&&r>0}),children:[u.jsxs("div",{className:"text-left flex-[5]",children:[u.jsx("h3",{className:"text-[1.5em] font-semibold",children:n.playerFullname}),u.jsx("h3",{className:"text-[.8em] font-semibold",children:n.teamFullname})]}),u.jsxs("div",{className:"flex-1 text-right",children:[u.jsx("p",{className:"text-[1.5em] leading-[1em]",children:Rv(n.result.score)}),u.jsx("p",{children:En(n.result.point)})]}),u.jsxs("div",{className:"flex-1 text-right",children:[u.jsx("span",{className:"text-[1.5em]",children:Rv(n.result.riichiCount)}),"回"]}),u.jsxs("div",{className:"flex-1 text-right",children:[u.jsx("span",{className:"text-[1.5em]",children:Rv(n.result.ronCount)}),"回"]}),u.jsxs("div",{className:"flex-1 text-right",children:[u.jsx("span",{className:"text-[1.5em]",children:Rv(n.result.chuckCount)}),"回"]})]})]},n.teamName))]})]}):t.type==="chart"?u.jsxs("div",{className:"absolute py-16 px-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:"flex-[3] flex items-stretch gap-x-[1em]",children:[u.jsx("div",{className:Cr("flex-[3]",{"mi-chart-chart-in":e===0,"mi-chart-chart-out":e>0}),children:u.jsx(jHe,{rounds:t.rounds,players:t.players})}),u.jsx("div",{className:"flex-1 flex flex-col pb-[1em]",children:[0,1,2,3].map(n=>u.jsxs("div",{className:Cr("relative overflow-hidden flex-1 pl-[.5em] flex flex-col justify-center",{"mi-chart-player-in":e===0,"mi-chart-player-out":e>0}),style:{background:`linear-gradient(to left, transparent, ${t.teamPlayers[n].color}C0)`,animationDelay:e===0?n*.25+"s":"0s"},children:[u.jsx("img",{src:t.teamPlayers[n].teamLogoImageUrl+"?w=320&h=320",alt:t.teamPlayers[n].teamId,className:"absolute left-0 opacity-10 -z-10"}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[1.5em] leading-[1em]",children:t.teamPlayers[n].playerNickname}),u.jsx("p",{className:"text-[.75em]",children:t.teamPlayers[n].teamName})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[1.5em] leading-[1em]",children:t.teamPlayers[n].result.score}),u.jsx("p",{className:"text-[.75em]",children:En(t.teamPlayers[n].result.point)})]})]})]}))})]})]}):t.type==="ranking"?u.jsxs("div",{className:"absolute py-16 px-24 inset-0 flex flex-col justify-center items-stretch",style:{opacity:e>=0&&e<1?1:0},children:[u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:Cr("flex-[5] flex flex-col",{"mi-ranking-ranking-in":e===0,"mi-ranking-ranking-out":e>0}),children:[u.jsxs("div",{className:"flex-1 flex items-center text-[0.75em] gap-6",children:[u.jsx("p",{className:"flex-1 text-center",children:"排名"}),u.jsx("p",{className:"flex-[5]",children:"隊伍"}),u.jsx("p",{className:"flex-1 text-right",children:"積分"}),u.jsx("p",{className:"flex-1 text-right",children:"與前名差距"}),u.jsx("p",{className:"flex-1 text-right",children:"半莊數"})]}),t.teams.map((n,i)=>{var o,s,a,l;return u.jsxs("div",{className:Cr("relative flex-1 flex items-center gap-6 overflow-hidden",{"mi-ranking-ranking-in":e===0,"mi-ranking-ranking-out":e>0}),style:{background:`linear-gradient(to right, ${n.team.color}C0, transparent 105%)`,animationDelay:`${i*.05}s`,opacity:n.newResult?1:.3},children:[u.jsx("img",{src:n.team.squareLogoImage+"?w=320&h=320",alt:n.team._id,className:"absolute left-0 opacity-25 -z-10"}),u.jsxs("div",{className:"absolute left-[.5em]",children:[n.ranking>i+1&&u.jsx("span",{children:u.jsx("i",{className:"bi bi-caret-up-fill text-green-500"})}),n.ranking<i+1&&u.jsx("span",{children:u.jsx("i",{className:"bi bi-caret-down-fill text-red-500"})})]}),u.jsx("p",{className:"flex-1 text-center space-x-1",children:u.jsx("span",{children:Ka(i+1)})}),u.jsxs("p",{className:"flex-[5]",children:[n.team.name," ",n.team.secondaryName]}),u.jsx("p",{className:Cr("flex-1 text-right",{"text-green-500":n.newResult&&n.newResult.point>n.point,"text-red-500":n.newResult&&n.newResult.point<n.point}),children:En(((o=n.newResult)==null?void 0:o.point)||n.point)}),u.jsx("p",{className:"flex-1 text-right",children:i>0?((((s=t.teams[i-1].newResult)==null?void 0:s.point)||t.teams[i-1].point)-(((a=n.newResult)==null?void 0:a.point)||n.point)).toFixed(1):"-"}),u.jsxs("p",{className:"flex-1 text-right",children:[((l=n.newResult)==null?void 0:l.matchCount)||n.matchCount,u.jsx("span",{className:"text-[0.75em]",children:"/60"})]})]},n._id)})]})]}):u.jsx(u.Fragment,{}),$J=({params:{matchId:t}})=>{const{match:e,matchRounds:r}=rs(t),{data:n}=pR(t),{data:i}=Ko({queryKey:["tournament",n==null?void 0:n.tournament._id],queryFn:()=>Jw(n==null?void 0:n.tournament._id).then(p=>({...p,teams:p.teams.sort((m,y)=>y.point-m.point)})),enabled:!!(n!=null&&n.tournament._id)}),o=E.useMemo(()=>{var S,w,_,A,C,T,P,I,O,N,R,L,U,V;if(!e||!r||!n||!i)return[{type:"empty",_id:"empty",subslide:0}];const p=zG(Object.values(r)),m=[{type:"empty",_id:"empty",subslide:0},{type:"teams",_id:"teams",teams:{playerEast:{...n.playerEast,point:p.result.playerEast.point,ranking:p.result.playerEast.ranking},playerSouth:{...n.playerSouth,point:p.result.playerSouth.point,ranking:p.result.playerSouth.ranking},playerWest:{...n.playerWest,point:p.result.playerWest.point,ranking:p.result.playerWest.ranking},playerNorth:{...n.playerNorth,point:p.result.playerNorth.point,ranking:p.result.playerNorth.ranking}},subslide:1}],y={playerEast:{score:((S=p.result.playerEast)==null?void 0:S.score)??25e3,point:((w=p.result.playerEast)==null?void 0:w.point)??0,ranking:((_=p.result.playerEast)==null?void 0:_.ranking)??"1",ronCount:0,riichiCount:0,chuckCount:0,scores:[25e3]},playerSouth:{score:((A=p.result.playerSouth)==null?void 0:A.score)??25e3,point:((C=p.result.playerSouth)==null?void 0:C.point)??0,ranking:((T=p.result.playerSouth)==null?void 0:T.ranking)??"1",ronCount:0,riichiCount:0,chuckCount:0,scores:[25e3]},playerWest:{score:((P=p.result.playerWest)==null?void 0:P.score)??25e3,point:((I=p.result.playerWest)==null?void 0:I.point)??0,ranking:((O=p.result.playerWest)==null?void 0:O.ranking)??"1",ronCount:0,riichiCount:0,chuckCount:0,scores:[25e3]},playerNorth:{score:((N=p.result.playerNorth)==null?void 0:N.score)??25e3,point:((R=p.result.playerNorth)==null?void 0:R.point)??0,ranking:((L=p.result.playerNorth)==null?void 0:L.ranking)??"1",ronCount:0,riichiCount:0,chuckCount:0,scores:[25e3]}};for(const j of p.rounds)y.playerEast.scores.push(j.playerEast.afterScore),y.playerSouth.scores.push(j.playerSouth.afterScore),y.playerWest.scores.push(j.playerWest.afterScore),y.playerNorth.scores.push(j.playerNorth.afterScore),j.playerEast.status==="isRiichied"&&(y.playerEast.riichiCount+=1),j.playerSouth.status==="isRiichied"&&(y.playerSouth.riichiCount+=1),j.playerWest.status==="isRiichied"&&(y.playerWest.riichiCount+=1),j.playerNorth.status==="isRiichied"&&(y.playerNorth.riichiCount+=1),(j.type==="ron"||j.type==="tsumo")&&(j.playerEast.type==="win"&&(y.playerEast.ronCount+=1),j.playerSouth.type==="win"&&(y.playerSouth.ronCount+=1),j.playerWest.type==="win"&&(y.playerWest.ronCount+=1),j.playerNorth.type==="win"&&(y.playerNorth.ronCount+=1)),j.type==="ron"&&(j.playerEast.type==="lose"&&(y.playerEast.chuckCount+=1),j.playerSouth.type==="lose"&&(y.playerSouth.chuckCount+=1),j.playerWest.type==="lose"&&(y.playerWest.chuckCount+=1),j.playerNorth.type==="lose"&&(y.playerNorth.chuckCount+=1));const v=[{...n.playerEast,result:y.playerEast},{...n.playerSouth,result:y.playerSouth},{...n.playerWest,result:y.playerWest},{...n.playerNorth,result:y.playerNorth}].sort((j,F)=>F.result.score-j.result.score);m.push({type:"players",_id:"players",teamPlayers:v,roundCount:((U=p.rounds)==null?void 0:U.length)??0,exhaustedRoundCount:((V=p.rounds)==null?void 0:V.filter(j=>j.type==="exhausted").length)??0,subslide:1});const b=p.rounds.findIndex(j=>j.code.startsWith("5."));m.push({type:"chart",_id:"chart",rounds:[{name:"東",playerEast:25e3,playerSouth:25e3,playerWest:25e3,playerNorth:25e3},...p.rounds.map((j,F)=>({name:F===b?"南":"",playerEast:j.playerEast.afterScore,playerSouth:j.playerSouth.afterScore,playerWest:j.playerWest.afterScore,playerNorth:j.playerNorth.afterScore}))],players:{playerEast:{name:n.playerEast.playerNickname,color:n.playerEast.color},playerSouth:{name:n.playerSouth.playerNickname,color:n.playerSouth.color},playerWest:{name:n.playerWest.playerNickname,color:n.playerWest.color},playerNorth:{name:n.playerNorth.playerNickname,color:n.playerNorth.color}},teamPlayers:v,subslide:1});const g=["playerEast","playerSouth","playerWest","playerNorth"],x=[...i.teams].map(j=>{for(const F of g)if(j.team._id===n[F].teamId)return{...j,newResult:{point:j.point+p.result[F].point+p.result[F].penalty,matchCount:j.matchCount+1}};return j});return m.push({_id:"ranking",type:"ranking",teams:x.sort((j,F)=>{var z,le;return(((z=F.newResult)==null?void 0:z.point)||F.point)-(((le=j.newResult)==null?void 0:le.point)||j.point)}),subslide:1}),m},[e,n,r,i]),[s,a]=E.useState(0),[l,c]=E.useState(0),[f,d]=E.useState(!1),h=E.useCallback(()=>{if(f)return;const p=o[s];if(!p){a(1);return}p.type==="empty"?a(m=>m+1):l>=p.subslide-1?(a(m=>m+.5),d(!0),setTimeout(()=>{a(m=>Math.ceil(m)),c(0),d(!1)},1200)):(c(m=>m+.5),d(!0),setTimeout(()=>{c(m=>Math.ceil(m)),d(!1)},1200))},[f,s,o,l]);return!e||!r||!n||!i?u.jsx(u.Fragment,{}):u.jsxs("div",{className:"match-introduction fixed inset-0 text-white text-[36px]",style:{background:"linear-gradient(to bottom, rgb(30, 34, 59), rgb(16, 18, 33))"},onClick:h,children:[u.jsx("div",{className:"absolute py-16 px-24 inset-0",children:u.jsxs("div",{className:"flex items-end gap-x-[0.25em] mi-title-in",children:[u.jsx("div",{children:u.jsx("img",{src:n.tournament.logoUrl+"?w=280&h=280&auto=format",alt:n.tournament.name,style:{width:"3.5em",height:"3.5em",marginTop:"0.15em"}})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-[1.25em] leading-[1em]",children:n.tournament.name}),u.jsx("h1",{className:"text-[2em] leading-[1.2em] font-semibold",children:n.nameAlt})]}),u.jsx("div",{children:u.jsx("h1",{className:"text-[2em] leading-[1.2em] font-semibold",children:"對局結果"})})]})}),o.map((p,m)=>u.jsx(RHe,{slide:p,status:s-m,subslide:l},p._id))]})};function $He({params:{obsRoomId:t}}){const{data:e}=Zr(`obs/${t}`),r=E.useMemo(()=>({matchId:e==null?void 0:e.matchId}),[e==null?void 0:e.matchId]);return!r||!r.matchId?u.jsx(u.Fragment,{children:"讀取中…"}):u.jsx($J,{params:r})}const DHe=new ipe({defaultOptions:{queries:{retry:2,refetchOnReconnect:!1,refetchOnWindowFocus:!1,refetchIntervalInBackground:!1,staleTime:1/0}}});mC.createRoot(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(cpe,{client:DHe,children:u.jsx(Uhe,{children:u.jsx(qye,{children:u.jsxs(Gte,{children:[u.jsx(et,{path:"/v1",component:Cye}),u.jsx(et,{path:"/v1/create-match",component:RPe}),u.jsx(et,{path:"/v1/match/:matchId",component:Bye}),u.jsx(et,{path:"/v1/match/:matchId/obs",component:qG}),u.jsx(et,{path:"/v1/match/:matchId/overlay",component:$Q}),u.jsx(et,{path:"/v1/match/:matchId/control",component:RH}),u.jsx(et,{path:"/v1/match/:matchId/export",component:kQ}),u.jsx(et,{path:"/v1/match/:matchId/forecast",component:OQ}),u.jsx(et,{path:"/v1/match/:matchId/introduction",component:RQ}),u.jsx(et,{path:"/v1/match/:matchId/summary",component:$J}),u.jsx(et,{path:"/v1/match/:matchId/nameplates",component:WPe}),u.jsx(et,{path:"/v1/match/:matchId/stat",component:NQ}),u.jsx(et,{path:"/v1/obs/:obsRoomId",component:MPe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/overlay",component:XPe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/control",component:VPe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/export",component:JPe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/forecast",component:HPe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/introduction",component:OHe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/summary",component:$He}),u.jsx(et,{path:"/v1/obs/:obsRoomId/weekly-summary",component:BV}),u.jsx(et,{path:"/v1/obs/:obsRoomId/realtime-summary",component:UV}),u.jsx(et,{path:"/v1/obs/:obsRoomId/end",component:KPe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/score",component:FPe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/chart",component:BPe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/carousel",component:UPe}),u.jsx(et,{path:"/v1/obs/:obsRoomId/stat",component:zPe}),u.jsx(et,{path:"/v1/players",component:IPe}),u.jsx(et,{path:"/v1/teams",component:DPe}),u.jsx(et,{path:"/v1/matches",component:LPe}),u.jsx(et,{path:"/v1/weekly-summary/",component:BV}),u.jsx(et,{path:"/v1/weekly-summary/:week",component:RJ}),u.jsx(et,{path:"/v1/realtime-summary/",component:UV})]})})})})}));Kte();export{Rl as c,st as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
