import{r as n,u as d,j as e,b as c,L as x}from"./index-XMqLaEd9.js";import{u as p}from"./useCurrentTournament-CaoX7qnU.js";import{a as j}from"./match.service-sGZICpZH.js";function t({player:s}){var r,l;return e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("div",{className:"h-10 aspect-square p-1",style:{backgroundColor:s.color.primary},children:e.jsx("img",{src:(r=s.image.logo)==null?void 0:r.default.url,className:"aspect-square",alt:""})}),e.jsx("img",{src:(l=s.image.portrait)==null?void 0:l.default.url,className:"h-10 aspect-[18/25]",alt:""}),e.jsxs("div",{children:[e.jsx("p",{children:s.name.display.third}),e.jsx("p",{className:"text-sm leading-4 opacity-50",children:s.name.display.primary})]})]})}function o(){const{data:s}=p(),[r,l]=n.useState("recent"),{data:i=[]}=d({queryKey:["v2-tournaments",s==null?void 0:s.tournament.id,"matches",r],queryFn:({queryKey:a})=>j(a[1]),enabled:!!(s!=null&&s.tournament.id)});return s?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl",children:"近期賽事"}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"對局"}),e.jsx("th",{children:"東"}),e.jsx("th",{children:"南"}),e.jsx("th",{children:"西"}),e.jsx("th",{children:"北"}),e.jsx("th",{children:"操作"})]})}),e.jsx("tbody",{children:i.map(a=>e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("p",{children:a.data.name.official.primary}),e.jsx("p",{className:"font-normal opacity-50",children:c(a.data.startAt)})]}),e.jsx("td",{children:e.jsx(t,{player:s.playersMap[a.data.players[0].id]??a.data.players[0]})}),e.jsx("td",{children:e.jsx(t,{player:s.playersMap[a.data.players[1].id]??a.data.players[1]})}),e.jsx("td",{children:e.jsx(t,{player:s.playersMap[a.data.players[2].id]??a.data.players[2]})}),e.jsx("td",{children:e.jsx(t,{player:s.playersMap[a.data.players[3].id]??a.data.players[3]})}),e.jsx("td",{children:e.jsx(x,{href:`/matches/${a.code}/edit?autoSubmit`,className:"text-success",children:"導入至直播系統"})})]},a.code))})]})]}):e.jsx(e.Fragment,{})}function y(){return e.jsx(e.Fragment,{children:e.jsx("section",{className:" mx-6 my-4",children:e.jsx(o,{})})})}export{y as default};
