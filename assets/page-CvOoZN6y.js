import{x as c,r as i,j as e,b as n,L as d}from"./index-XMqLaEd9.js";function x(){const{data:s}=c("/matches",{order:{byChild:"createdAt"},filter:{limitToLast:10}});return{rtMatches:i.useMemo(()=>Object.entries(s??{}).map(([r,t])=>({...t,databaseId:t.databaseId||r,_id:r})).sort((r,t)=>r.createdAt>t.createdAt?-1:1),[s])}}function l({player:s}){return e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("div",{className:"h-10 aspect-square p-1",style:{backgroundColor:s.color},children:e.jsx("img",{src:s.logoUrl||"null",className:"aspect-square",alt:""})}),e.jsx("img",{src:s.propicUrl||"null",className:"h-10 aspect-[18/25]",alt:""}),e.jsxs("div",{children:[e.jsx("p",{children:s.nickname}),e.jsx("p",{className:"text-sm leading-4 opacity-50",children:s.primaryName})]})]})}function h(){const{rtMatches:s=[]}=x();return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"table w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"對局"}),e.jsx("th",{className:"w-1/5",children:"東"}),e.jsx("th",{className:"w-1/5",children:"南"}),e.jsx("th",{className:"w-1/5",children:"西"}),e.jsx("th",{className:"w-1/5",children:"北"}),e.jsx("th",{children:"操作"})]})}),e.jsx("tbody",{children:s.map(a=>e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("div",{children:a.name}),e.jsx("div",{className:"font-normal opacity-50",children:n(a.createdAt)}),e.jsx("div",{className:"flex flex-wrap gap-1"})]}),e.jsx("td",{children:e.jsx(l,{player:a.players[0]})}),e.jsx("td",{children:e.jsx(l,{player:a.players[1]})}),e.jsx("td",{children:e.jsx(l,{player:a.players[2]})}),e.jsx("td",{children:e.jsx(l,{player:a.players[3]})}),e.jsx("td",{children:e.jsx(d,{href:`/matches/${a._id}/detail`,className:"text-success",children:"詳細"})})]},a.code))})]})})}function j(){return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"mx-6 my-4 space-y-4",children:[e.jsx("h2",{className:"text-2xl",children:"暫存資料庫"}),e.jsx("div",{className:"alert alert-error alert-soft text-error-content",children:"警告：暫存實料庫的數據會定時清除。請確保一場比賽結束後盡快上傳成績，否則數據很可能會丟失。"}),e.jsx(h,{})]})})}export{j as default};
