import{x as h,r as s}from"./index-XMqLaEd9.js";const g=c=>{const l={};for(let t=0;t<c.length;t+=1)l[t.toString()]=c[t];return l},i=c=>{if(c.length!==0)return c[c.length-1]},O=c=>{const{data:l,update:t}=h(`/matches/${c}`),{data:a,update:u,push:b}=h("matchRounds",{order:{byChild:"matchId"},filter:{equalTo:c}}),o=s.useMemo(()=>i(Object.values(a??{}))??void 0,[a]),p=s.useMemo(()=>Object.values((o==null?void 0:o.doras)??{}),[o]),M=s.useCallback((e,n)=>{const d=a==null?void 0:a[e];d&&u({[e]:{...d,...n}})},[a,u]),r=s.useCallback(e=>{const n=i(Object.keys(a??{}));n&&u({[n]:{...o,...e}})},[o,a,u]),y=s.useCallback(e=>{r({doras:g(e)})},[r]),C=s.useCallback(e=>{t({name:e})},[t]),k=s.useCallback(e=>{t({players:e})},[t]),m=s.useCallback(e=>{t({activeResultDetail:e})},[t]),D=s.useCallback(e=>{t({showPoints:e})},[t]),R=s.useCallback(e=>{t({hideHeader:e})},[t]),f=s.useCallback(e=>{t({hidePlayers:e})},[t]),v=s.useCallback(e=>{u({[e]:{...a==null?void 0:a[e],hasBroadcasted:!0}})},[a,u]);return{rtMatch:l,rtMatchRounds:a,rtMatchCurrentRound:o,rtMatchCurrentRoundDoras:p,setMatchName:C,setMatchPlayers:k,setMatchPointDisplay:D,setMatchHideHeaderDisplay:R,setMatchHidePlayersDisplay:f,setMatchActiveResultDetail:m,setMatchRoundHasBroadcastedToTrue:v,setCurrentRoundDoras:y,updateMatchRoundById:M,updateCurrentMatchRound:r,pushMatchRound:b}};export{O as u};
